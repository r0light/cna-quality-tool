const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c4Diagram-3d4e48cf-DSiu0N1x.js","assets/svgDrawCommon-08f97a94-BF1A9iqp.js","assets/flowDiagram-66a62f08-C_LpKD19.js","assets/flowDb-956e92f1-3GFtZdD0.js","assets/graph-BmWEU2WN.js","assets/layout-DJJMNXN5.js","assets/styles-c10674c1-CpaDVbEE.js","assets/index-3862675e-BTDg3Vp-.js","assets/clone-BDiu0VEV.js","assets/edges-e0da2a9e-DMLKjsVQ.js","assets/createText-2e5e7dd3-hkeMc7Cy.js","assets/line-B2O4ayyU.js","assets/array-BKyUJesY.js","assets/path-CbwjOpE9.js","assets/channel-DKk1-hy3.js","assets/flowDiagram-v2-96b9c2cf-BoODHkJW.js","assets/erDiagram-9861fffd-CrrUfnz5.js","assets/ganttDiagram-c361ad54-piVs6Ffq.js","assets/linear-DNJOnt1a.js","assets/init-Gi6I4Gst.js","assets/pieDiagram-8a3498a8-BYRjIZET.js","assets/arc-Z-uQIUhI.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-120e2f19-Dyc14iia.js","assets/xychartDiagram-e933f94c-COBCE17e.js","assets/requirementDiagram-deff3bca-CTZbO2EN.js","assets/sequenceDiagram-704730f1-Zrjf_a3Z.js","assets/classDiagram-70f12bd4-4uVjaKa5.js","assets/styles-9a916d00-Dq8DSokE.js","assets/classDiagram-v2-f2320105-GcnYvCWt.js","assets/stateDiagram-587899a1-BY1nzXna.js","assets/styles-6aaf32cf-C5kV_kTv.js","assets/stateDiagram-v2-d93cdb3a-Dv1LLYwZ.js","assets/journeyDiagram-49397b02-uUegzh5G.js","assets/flowchart-elk-definition-4a651766-D963swHv.js","assets/timeline-definition-85554ec2-CpBTSwpg.js","assets/mindmap-definition-fc14e90a-BWwS_qlZ.js","assets/sankeyDiagram-04a897e0-jO18-gIN.js","assets/Tableau10-B-NsZVaP.js","assets/blockDiagram-38ab4fdb-CG8V4hUB.js"])))=>i.map(i=>d[i]);
var YU=Object.defineProperty;var w3=e=>{throw TypeError(e)};var XU=(e,t,n)=>t in e?YU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pr=(e,t,n)=>XU(e,typeof t!="symbol"?t+"":t,n),LC=(e,t,n)=>t.has(e)||w3("Cannot "+n);var k=(e,t,n)=>(LC(e,t,"read from private field"),n?n.call(e):t.get(e)),Fe=(e,t,n)=>t.has(e)?w3("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),De=(e,t,n,i)=>(LC(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),ft=(e,t,n)=>(LC(e,t,"access private method"),n);var T3=(e,t,n,i)=>({set _(r){De(e,t,r,n)},get _(){return k(e,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function w2(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Qi={},og=[],Ac=()=>{},JU=()=>!1,aS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),T2=e=>e.startsWith("onUpdate:"),lo=Object.assign,A2=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},QU=Object.prototype.hasOwnProperty,Wi=(e,t)=>QU.call(e,t),Sn=Array.isArray,sg=e=>l1(e)==="[object Map]",A0=e=>l1(e)==="[object Set]",A3=e=>l1(e)==="[object Date]",$n=e=>typeof e=="function",Nr=e=>typeof e=="string",Bl=e=>typeof e=="symbol",lr=e=>e!==null&&typeof e=="object",IO=e=>(lr(e)||$n(e))&&$n(e.then)&&$n(e.catch),OO=Object.prototype.toString,l1=e=>OO.call(e),ZU=e=>l1(e).slice(8,-1),PO=e=>l1(e)==="[object Object]",k2=e=>Nr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Dm=w2(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oS=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},eH=/-(\w)/g,rl=oS(e=>e.replace(eH,(t,n)=>n?n.toUpperCase():"")),tH=/\B([A-Z])/g,lh=oS(e=>e.replace(tH,"-$1").toLowerCase()),sS=oS(e=>e.charAt(0).toUpperCase()+e.slice(1)),FC=oS(e=>e?`on${sS(e)}`:""),Kd=(e,t)=>!Object.is(e,t),rE=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},MO=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},NE=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let k3;const lS=()=>k3||(k3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cS(e){if(Sn(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Nr(i)?aH(i):cS(i);if(r)for(const a in r)t[a]=r[a]}return t}else if(Nr(e)||lr(e))return e}const nH=/;(?![^(]*\))/g,iH=/:([^]+)/,rH=/\/\*[^]*?\*\//g;function aH(e){const t={};return e.replace(rH,"").split(nH).forEach(n=>{if(n){const i=n.split(iH);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Xn(e){let t="";if(Nr(e))t=e;else if(Sn(e))for(let n=0;n<e.length;n++){const i=Xn(e[n]);i&&(t+=i+" ")}else if(lr(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function I2(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Nr(t)&&(e.class=Xn(t)),n&&(e.style=cS(n)),e}const oH="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sH=w2(oH);function NO(e){return!!e||e===""}function lH(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=c1(e[i],t[i]);return n}function c1(e,t){if(e===t)return!0;let n=A3(e),i=A3(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Bl(e),i=Bl(t),n||i)return e===t;if(n=Sn(e),i=Sn(t),n||i)return n&&i?lH(e,t):!1;if(n=lr(e),i=lr(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,a=Object.keys(t).length;if(r!==a)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!c1(e[o],t[o]))return!1}}return String(e)===String(t)}function O2(e,t){return e.findIndex(n=>c1(n,t))}const RO=e=>!!(e&&e.__v_isRef===!0),kt=e=>Nr(e)?e:e==null?"":Sn(e)||lr(e)&&(e.toString===OO||!$n(e.toString))?RO(e)?kt(e.value):JSON.stringify(e,DO,2):String(e),DO=(e,t)=>RO(t)?DO(e,t.value):sg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],a)=>(n[zC(i,a)+" =>"]=r,n),{})}:A0(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>zC(n))}:Bl(t)?zC(t):lr(t)&&!Sn(t)&&!PO(t)?String(t):t,zC=(e,t="")=>{var n;return Bl(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cs;class cH{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Cs,!t&&Cs&&(this.index=(Cs.scopes||(Cs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Cs;try{return Cs=this,t()}finally{Cs=n}}}on(){Cs=this}off(){Cs=this.parent}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function uH(){return Cs}let or;const $C=new WeakSet;class BO{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Cs&&Cs.active&&Cs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$C.has(this)&&($C.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||FO(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,I3(this),zO(this);const t=or,n=Nl;or=this,Nl=!0;try{return this.fn()}finally{$O(this),or=t,Nl=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)N2(t);this.deps=this.depsTail=void 0,I3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$C.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qw(this)&&this.run()}get dirty(){return Qw(this)}}let LO=0,Bm,Lm;function FO(e,t=!1){if(e.flags|=8,t){e.next=Lm,Lm=e;return}e.next=Bm,Bm=e}function P2(){LO++}function M2(){if(--LO>0)return;if(Lm){let t=Lm;for(Lm=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Bm;){let t=Bm;for(Bm=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function zO(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function $O(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),N2(i),dH(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function Qw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(qO(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function qO(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ry))return;e.globalVersion=ry;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Qw(e)){e.flags&=-3;return}const n=or,i=Nl;or=e,Nl=!0;try{zO(e);const r=e.fn(e._value);(t.version===0||Kd(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{or=n,Nl=i,$O(e),e.flags&=-3}}function N2(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)N2(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function dH(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Nl=!0;const UO=[];function ch(){UO.push(Nl),Nl=!1}function uh(){const e=UO.pop();Nl=e===void 0?!0:e}function I3(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=or;or=void 0;try{t()}finally{or=n}}}let ry=0,hH=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class R2{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!or||!Nl||or===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==or)n=this.activeLink=new hH(or,this),or.deps?(n.prevDep=or.depsTail,or.depsTail.nextDep=n,or.depsTail=n):or.deps=or.depsTail=n,HO(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=or.depsTail,n.nextDep=void 0,or.depsTail.nextDep=n,or.depsTail=n,or.deps===n&&(or.deps=i)}return n}trigger(t){this.version++,ry++,this.notify(t)}notify(t){P2();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{M2()}}}function HO(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)HO(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Zw=new WeakMap,wf=Symbol(""),eT=Symbol(""),ay=Symbol("");function Qa(e,t,n){if(Nl&&or){let i=Zw.get(e);i||Zw.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new R2),r.map=i,r.key=n),r.track()}}function _u(e,t,n,i,r,a){const o=Zw.get(e);if(!o){ry++;return}const s=l=>{l&&l.trigger()};if(P2(),t==="clear")o.forEach(s);else{const l=Sn(e),c=l&&k2(n);if(l&&n==="length"){const h=Number(i);o.forEach((d,p)=>{(p==="length"||p===ay||!Bl(p)&&p>=h)&&s(d)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),c&&s(o.get(ay)),t){case"add":l?c&&s(o.get("length")):(s(o.get(wf)),sg(e)&&s(o.get(eT)));break;case"delete":l||(s(o.get(wf)),sg(e)&&s(o.get(eT)));break;case"set":sg(e)&&s(o.get(wf));break}}M2()}function Op(e){const t=Si(e);return t===e?t:(Qa(t,"iterate",ay),tl(e)?t:t.map(Za))}function uS(e){return Qa(e=Si(e),"iterate",ay),e}const fH={__proto__:null,[Symbol.iterator](){return qC(this,Symbol.iterator,Za)},concat(...e){return Op(this).concat(...e.map(t=>Sn(t)?Op(t):t))},entries(){return qC(this,"entries",e=>(e[1]=Za(e[1]),e))},every(e,t){return du(this,"every",e,t,void 0,arguments)},filter(e,t){return du(this,"filter",e,t,n=>n.map(Za),arguments)},find(e,t){return du(this,"find",e,t,Za,arguments)},findIndex(e,t){return du(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return du(this,"findLast",e,t,Za,arguments)},findLastIndex(e,t){return du(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return du(this,"forEach",e,t,void 0,arguments)},includes(...e){return UC(this,"includes",e)},indexOf(...e){return UC(this,"indexOf",e)},join(e){return Op(this).join(e)},lastIndexOf(...e){return UC(this,"lastIndexOf",e)},map(e,t){return du(this,"map",e,t,void 0,arguments)},pop(){return sm(this,"pop")},push(...e){return sm(this,"push",e)},reduce(e,...t){return O3(this,"reduce",e,t)},reduceRight(e,...t){return O3(this,"reduceRight",e,t)},shift(){return sm(this,"shift")},some(e,t){return du(this,"some",e,t,void 0,arguments)},splice(...e){return sm(this,"splice",e)},toReversed(){return Op(this).toReversed()},toSorted(e){return Op(this).toSorted(e)},toSpliced(...e){return Op(this).toSpliced(...e)},unshift(...e){return sm(this,"unshift",e)},values(){return qC(this,"values",Za)}};function qC(e,t,n){const i=uS(e),r=i[t]();return i!==e&&!tl(e)&&(r._next=r.next,r.next=()=>{const a=r._next();return a.value&&(a.value=n(a.value)),a}),r}const pH=Array.prototype;function du(e,t,n,i,r,a){const o=uS(e),s=o!==e&&!tl(e),l=o[t];if(l!==pH[t]){const d=l.apply(e,a);return s?Za(d):d}let c=n;o!==e&&(s?c=function(d,p){return n.call(this,Za(d),p,e)}:n.length>2&&(c=function(d,p){return n.call(this,d,p,e)}));const h=l.call(o,c,i);return s&&r?r(h):h}function O3(e,t,n,i){const r=uS(e);let a=n;return r!==e&&(tl(e)?n.length>3&&(a=function(o,s,l){return n.call(this,o,s,l,e)}):a=function(o,s,l){return n.call(this,o,Za(s),l,e)}),r[t](a,...i)}function UC(e,t,n){const i=Si(e);Qa(i,"iterate",ay);const r=i[t](...n);return(r===-1||r===!1)&&L2(n[0])?(n[0]=Si(n[0]),i[t](...n)):r}function sm(e,t,n=[]){ch(),P2();const i=Si(e)[t].apply(e,n);return M2(),uh(),i}const gH=w2("__proto__,__v_isRef,__isVue"),VO=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Bl));function mH(e){Bl(e)||(e=String(e));const t=Si(this);return Qa(t,"has",e),t.hasOwnProperty(e)}class GO{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(r?a?TH:YO:a?KO:jO).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Sn(t);if(!r){let l;if(o&&(l=fH[n]))return l;if(n==="hasOwnProperty")return mH}const s=Reflect.get(t,n,io(t)?t:i);return(Bl(n)?VO.has(n):gH(n))||(r||Qa(t,"get",n),a)?s:io(s)?o&&k2(n)?s:s.value:lr(s)?r?JO(s):dS(s):s}}class WO extends GO{constructor(t=!1){super(!1,t)}set(t,n,i,r){let a=t[n];if(!this._isShallow){const l=Pf(a);if(!tl(i)&&!Pf(i)&&(a=Si(a),i=Si(i)),!Sn(t)&&io(a)&&!io(i))return l?!1:(a.value=i,!0)}const o=Sn(t)&&k2(n)?Number(n)<t.length:Wi(t,n),s=Reflect.set(t,n,i,io(t)?t:r);return t===Si(r)&&(o?Kd(i,a)&&_u(t,"set",n,i):_u(t,"add",n,i)),s}deleteProperty(t,n){const i=Wi(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&_u(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Bl(n)||!VO.has(n))&&Qa(t,"has",n),i}ownKeys(t){return Qa(t,"iterate",Sn(t)?"length":wf),Reflect.ownKeys(t)}}class yH extends GO{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const vH=new WO,bH=new yH,EH=new WO(!0);const tT=e=>e,vb=e=>Reflect.getPrototypeOf(e);function xH(e,t,n){return function(...i){const r=this.__v_raw,a=Si(r),o=sg(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...i),h=n?tT:t?nT:Za;return!t&&Qa(a,"iterate",l?eT:wf),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:s?[h(d[0]),h(d[1])]:h(d),done:p}},[Symbol.iterator](){return this}}}}function bb(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function SH(e,t){const n={get(r){const a=this.__v_raw,o=Si(a),s=Si(r);e||(Kd(r,s)&&Qa(o,"get",r),Qa(o,"get",s));const{has:l}=vb(o),c=t?tT:e?nT:Za;if(l.call(o,r))return c(a.get(r));if(l.call(o,s))return c(a.get(s));a!==o&&a.get(r)},get size(){const r=this.__v_raw;return!e&&Qa(Si(r),"iterate",wf),Reflect.get(r,"size",r)},has(r){const a=this.__v_raw,o=Si(a),s=Si(r);return e||(Kd(r,s)&&Qa(o,"has",r),Qa(o,"has",s)),r===s?a.has(r):a.has(r)||a.has(s)},forEach(r,a){const o=this,s=o.__v_raw,l=Si(s),c=t?tT:e?nT:Za;return!e&&Qa(l,"iterate",wf),s.forEach((h,d)=>r.call(a,c(h),c(d),o))}};return lo(n,e?{add:bb("add"),set:bb("set"),delete:bb("delete"),clear:bb("clear")}:{add(r){!t&&!tl(r)&&!Pf(r)&&(r=Si(r));const a=Si(this);return vb(a).has.call(a,r)||(a.add(r),_u(a,"add",r,r)),this},set(r,a){!t&&!tl(a)&&!Pf(a)&&(a=Si(a));const o=Si(this),{has:s,get:l}=vb(o);let c=s.call(o,r);c||(r=Si(r),c=s.call(o,r));const h=l.call(o,r);return o.set(r,a),c?Kd(a,h)&&_u(o,"set",r,a):_u(o,"add",r,a),this},delete(r){const a=Si(this),{has:o,get:s}=vb(a);let l=o.call(a,r);l||(r=Si(r),l=o.call(a,r)),s&&s.call(a,r);const c=a.delete(r);return l&&_u(a,"delete",r,void 0),c},clear(){const r=Si(this),a=r.size!==0,o=r.clear();return a&&_u(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=xH(r,e,t)}),n}function D2(e,t){const n=SH(e,t);return(i,r,a)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Wi(n,r)&&r in i?n:i,r,a)}const _H={get:D2(!1,!1)},CH={get:D2(!1,!0)},wH={get:D2(!0,!1)};const jO=new WeakMap,KO=new WeakMap,YO=new WeakMap,TH=new WeakMap;function AH(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kH(e){return e.__v_skip||!Object.isExtensible(e)?0:AH(ZU(e))}function dS(e){return Pf(e)?e:B2(e,!1,vH,_H,jO)}function XO(e){return B2(e,!1,EH,CH,KO)}function JO(e){return B2(e,!0,bH,wH,YO)}function B2(e,t,n,i,r){if(!lr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=r.get(e);if(a)return a;const o=kH(e);if(o===0)return e;const s=new Proxy(e,o===2?i:n);return r.set(e,s),s}function lg(e){return Pf(e)?lg(e.__v_raw):!!(e&&e.__v_isReactive)}function Pf(e){return!!(e&&e.__v_isReadonly)}function tl(e){return!!(e&&e.__v_isShallow)}function L2(e){return e?!!e.__v_raw:!1}function Si(e){const t=e&&e.__v_raw;return t?Si(t):e}function IH(e){return!Wi(e,"__v_skip")&&Object.isExtensible(e)&&MO(e,"__v_skip",!0),e}const Za=e=>lr(e)?dS(e):e,nT=e=>lr(e)?JO(e):e;function io(e){return e?e.__v_isRef===!0:!1}function ln(e){return QO(e,!1)}function OH(e){return QO(e,!0)}function QO(e,t){return io(e)?e:new PH(e,t)}class PH{constructor(t,n){this.dep=new R2,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Si(t),this._value=n?t:Za(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||tl(t)||Pf(t);t=i?t:Si(t),Kd(t,n)&&(this._rawValue=t,this._value=i?t:Za(t),this.dep.trigger())}}function ci(e){return io(e)?e.value:e}const MH={get:(e,t,n)=>t==="__v_raw"?e:ci(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return io(r)&&!io(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function ZO(e){return lg(e)?e:new Proxy(e,MH)}class NH{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new R2(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ry-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&or!==this)return FO(this,!0),!0}get value(){const t=this.dep.track();return qO(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function RH(e,t,n=!1){let i,r;return $n(e)?i=e:(i=e.get,r=e.set),new NH(i,r,n)}const Eb={},RE=new WeakMap;let Gh;function DH(e,t=!1,n=Gh){if(n){let i=RE.get(n);i||RE.set(n,i=[]),i.push(e)}}function BH(e,t,n=Qi){const{immediate:i,deep:r,once:a,scheduler:o,augmentJob:s,call:l}=n,c=K=>r?K:tl(K)||r===!1||r===0?Cu(K,1):Cu(K);let h,d,p,y,S=!1,_=!1;if(io(e)?(d=()=>e.value,S=tl(e)):lg(e)?(d=()=>c(e),S=!0):Sn(e)?(_=!0,S=e.some(K=>lg(K)||tl(K)),d=()=>e.map(K=>{if(io(K))return K.value;if(lg(K))return c(K);if($n(K))return l?l(K,2):K()})):$n(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){ch();try{p()}finally{uh()}}const K=Gh;Gh=h;try{return l?l(e,3,[y]):e(y)}finally{Gh=K}}:d=Ac,t&&r){const K=d,Q=r===!0?1/0:r;d=()=>Cu(K(),Q)}const I=uH(),M=()=>{h.stop(),I&&I.active&&A2(I.effects,h)};if(a&&t){const K=t;t=(...Q)=>{K(...Q),M()}}let B=_?new Array(e.length).fill(Eb):Eb;const U=K=>{if(!(!(h.flags&1)||!h.dirty&&!K))if(t){const Q=h.run();if(r||S||(_?Q.some((H,g)=>Kd(H,B[g])):Kd(Q,B))){p&&p();const H=Gh;Gh=h;try{const g=[Q,B===Eb?void 0:_&&B[0]===Eb?[]:B,y];l?l(t,3,g):t(...g),B=Q}finally{Gh=H}}}else h.run()};return s&&s(U),h=new BO(d),h.scheduler=o?()=>o(U,!1):U,y=K=>DH(K,!1,h),p=h.onStop=()=>{const K=RE.get(h);if(K){if(l)l(K,4);else for(const Q of K)Q();RE.delete(h)}},t?i?U(!0):B=h.run():o?o(U.bind(null,!0),!0):h.run(),M.pause=h.pause.bind(h),M.resume=h.resume.bind(h),M.stop=M,M}function Cu(e,t=1/0,n){if(t<=0||!lr(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,io(e))Cu(e.value,t,n);else if(Sn(e))for(let i=0;i<e.length;i++)Cu(e[i],t,n);else if(A0(e)||sg(e))e.forEach(i=>{Cu(i,t,n)});else if(PO(e)){for(const i in e)Cu(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Cu(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function u1(e,t,n,i){try{return i?e(...i):e()}catch(r){hS(r,t,n)}}function Dc(e,t,n,i){if($n(e)){const r=u1(e,t,n,i);return r&&IO(r)&&r.catch(a=>{hS(a,t,n)}),r}if(Sn(e)){const r=[];for(let a=0;a<e.length;a++)r.push(Dc(e[a],t,n,i));return r}}function hS(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Qi;if(t){let s=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,l,c)===!1)return}s=s.parent}if(a){ch(),u1(a,null,10,[e,l,c]),uh();return}}LH(e,n,r,i,o)}function LH(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const To=[];let ic=-1;const cg=[];let Ad=null,jp=0;const eP=Promise.resolve();let DE=null;function fS(e){const t=DE||eP;return e?t.then(this?e.bind(this):e):t}function FH(e){let t=ic+1,n=To.length;for(;t<n;){const i=t+n>>>1,r=To[i],a=oy(r);a<e||a===e&&r.flags&2?t=i+1:n=i}return t}function F2(e){if(!(e.flags&1)){const t=oy(e),n=To[To.length-1];!n||!(e.flags&2)&&t>=oy(n)?To.push(e):To.splice(FH(t),0,e),e.flags|=1,tP()}}function tP(){DE||(DE=eP.then(iP))}function zH(e){Sn(e)?cg.push(...e):Ad&&e.id===-1?Ad.splice(jp+1,0,e):e.flags&1||(cg.push(e),e.flags|=1),tP()}function P3(e,t,n=ic+1){for(;n<To.length;n++){const i=To[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;To.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function nP(e){if(cg.length){const t=[...new Set(cg)].sort((n,i)=>oy(n)-oy(i));if(cg.length=0,Ad){Ad.push(...t);return}for(Ad=t,jp=0;jp<Ad.length;jp++){const n=Ad[jp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ad=null,jp=0}}const oy=e=>e.id==null?e.flags&2?-1:1/0:e.id;function iP(e){try{for(ic=0;ic<To.length;ic++){const t=To[ic];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),u1(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ic<To.length;ic++){const t=To[ic];t&&(t.flags&=-2)}ic=-1,To.length=0,nP(),DE=null,(To.length||cg.length)&&iP()}}let Ba=null,rP=null;function BE(e){const t=Ba;return Ba=e,rP=e&&e.type.__scopeId||null,t}function Mf(e,t=Ba,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&G3(-1);const a=BE(t);let o;try{o=e(...r)}finally{BE(a),i._d&&G3(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Rn(e,t){if(Ba===null)return e;const n=bS(Ba),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[a,o,s,l=Qi]=t[r];a&&($n(a)&&(a={mounted:a,updated:a}),a.deep&&Cu(o),i.push({dir:a,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function zh(e,t,n,i){const r=e.dirs,a=t&&t.dirs;for(let o=0;o<r.length;o++){const s=r[o];a&&(s.oldValue=a[o].value);let l=s.dir[i];l&&(ch(),Dc(l,n,8,[e.el,s,e,t]),uh())}}const aP=Symbol("_vte"),$H=e=>e.__isTeleport,Fm=e=>e&&(e.disabled||e.disabled===""),M3=e=>e&&(e.defer||e.defer===""),N3=e=>typeof SVGElement<"u"&&e instanceof SVGElement,R3=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,iT=(e,t)=>{const n=e&&e.to;return Nr(n)?t?t(n):null:n},oP={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,a,o,s,l,c){const{mc:h,pc:d,pbc:p,o:{insert:y,querySelector:S,createText:_,createComment:I}}=c,M=Fm(t.props);let{shapeFlag:B,children:U,dynamicChildren:K}=t;if(e==null){const Q=t.el=_(""),H=t.anchor=_("");y(Q,n,i),y(H,n,i);const g=(A,D)=>{B&16&&(r&&r.isCE&&(r.ce._teleportTarget=A),h(U,A,D,r,a,o,s,l))},T=()=>{const A=t.target=iT(t.props,S),D=sP(A,t,_,y);A&&(o!=="svg"&&N3(A)?o="svg":o!=="mathml"&&R3(A)&&(o="mathml"),M||(g(A,D),aE(t,!1)))};M&&(g(n,H),aE(t,!0)),M3(t.props)?_o(()=>{T(),t.el.__isMounted=!0},a):T()}else{if(M3(t.props)&&!e.el.__isMounted){_o(()=>{oP.process(e,t,n,i,r,a,o,s,l,c),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const Q=t.anchor=e.anchor,H=t.target=e.target,g=t.targetAnchor=e.targetAnchor,T=Fm(e.props),A=T?n:H,D=T?Q:g;if(o==="svg"||N3(H)?o="svg":(o==="mathml"||R3(H))&&(o="mathml"),K?(p(e.dynamicChildren,K,A,r,a,o,s),q2(e,t,!0)):l||d(e,t,A,D,r,a,o,s,!1),M)T?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):xb(t,n,Q,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Z=t.target=iT(t.props,S);Z&&xb(t,Z,null,c,0)}else T&&xb(t,H,g,c,1);aE(t,M)}},remove(e,t,n,{um:i,o:{remove:r}},a){const{shapeFlag:o,children:s,anchor:l,targetStart:c,targetAnchor:h,target:d,props:p}=e;if(d&&(r(c),r(h)),a&&r(l),o&16){const y=a||!Fm(p);for(let S=0;S<s.length;S++){const _=s[S];i(_,t,n,y,!!_.dynamicChildren)}}},move:xb,hydrate:qH};function xb(e,t,n,{o:{insert:i},m:r},a=2){a===0&&i(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:c,props:h}=e,d=a===2;if(d&&i(o,t,n),(!d||Fm(h))&&l&16)for(let p=0;p<c.length;p++)r(c[p],t,n,2);d&&i(s,t,n)}function qH(e,t,n,i,r,a,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:c,createText:h}},d){const p=t.target=iT(t.props,l);if(p){const y=Fm(t.props),S=p._lpa||p.firstChild;if(t.shapeFlag&16)if(y)t.anchor=d(o(e),t,s(e),n,i,r,a),t.targetStart=S,t.targetAnchor=S&&o(S);else{t.anchor=o(e);let _=S;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")t.targetStart=_;else if(_.data==="teleport anchor"){t.targetAnchor=_,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}_=o(_)}t.targetAnchor||sP(p,t,h,c),d(S&&o(S),t,p,n,i,r,a)}aE(t,y)}return t.anchor&&o(t.anchor)}const rT=oP;function aE(e,t){const n=e.ctx;if(n&&n.ut){let i,r;for(t?(i=e.el,r=e.anchor):(i=e.targetStart,r=e.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function sP(e,t,n,i){const r=t.targetStart=n(""),a=t.targetAnchor=n("");return r[aP]=a,e&&(i(r,e),i(a,e)),a}function z2(e,t){e.shapeFlag&6&&e.component?(e.transition=t,z2(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function wa(e,t){return $n(e)?lo({name:e.name},t,{setup:e}):e}function lP(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function LE(e,t,n,i,r=!1){if(Sn(e)){e.forEach((S,_)=>LE(S,t&&(Sn(t)?t[_]:t),n,i,r));return}if(ug(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&LE(e,t,n,i.component.subTree);return}const a=i.shapeFlag&4?bS(i.component):i.el,o=r?null:a,{i:s,r:l}=e,c=t&&t.r,h=s.refs===Qi?s.refs={}:s.refs,d=s.setupState,p=Si(d),y=d===Qi?()=>!1:S=>Wi(p,S);if(c!=null&&c!==l&&(Nr(c)?(h[c]=null,y(c)&&(d[c]=null)):io(c)&&(c.value=null)),$n(l))u1(l,s,12,[o,h]);else{const S=Nr(l),_=io(l);if(S||_){const I=()=>{if(e.f){const M=S?y(l)?d[l]:h[l]:l.value;r?Sn(M)&&A2(M,a):Sn(M)?M.includes(a)||M.push(a):S?(h[l]=[a],y(l)&&(d[l]=h[l])):(l.value=[a],e.k&&(h[e.k]=l.value))}else S?(h[l]=o,y(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(h[e.k]=o))};o?(I.id=-1,_o(I,n)):I()}}}lS().requestIdleCallback;lS().cancelIdleCallback;const ug=e=>!!e.type.__asyncLoader,cP=e=>e.type.__isKeepAlive;function UH(e,t){uP(e,"a",t)}function HH(e,t){uP(e,"da",t)}function uP(e,t,n=to){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(pS(t,i,n),n){let r=n.parent;for(;r&&r.parent;)cP(r.parent.vnode)&&VH(i,t,n,r),r=r.parent}}function VH(e,t,n,i){const r=pS(t,e,i,!0);dP(()=>{A2(i[t],r)},n)}function pS(e,t,n=to,i=!1){if(n){const r=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{ch();const s=d1(n),l=Dc(t,n,e,o);return s(),uh(),l});return i?r.unshift(a):r.push(a),a}}const $u=e=>(t,n=to)=>{(!cy||e==="sp")&&pS(e,(...i)=>t(...i),n)},GH=$u("bm"),zc=$u("m"),WH=$u("bu"),gS=$u("u"),jH=$u("bum"),dP=$u("um"),KH=$u("sp"),YH=$u("rtg"),XH=$u("rtc");function JH(e,t=to){pS("ec",e,t)}const QH="components";function D3(e,t){return eV(QH,e,!0,t)||e}const ZH=Symbol.for("v-ndc");function eV(e,t,n=!0,i=!1){const r=Ba||to;if(r){const a=r.type;{const s=$V(a,!1);if(s&&(s===t||s===rl(t)||s===sS(rl(t))))return a}const o=B3(r[e]||a[e],t)||B3(r.appContext[e],t);return!o&&i?a:o}}function B3(e,t){return e&&(e[t]||e[rl(t)]||e[sS(rl(t))])}function An(e,t,n,i){let r;const a=n,o=Sn(e);if(o||Nr(e)){const s=o&&lg(e);let l=!1;s&&(l=!tl(e),e=uS(e)),r=new Array(e.length);for(let c=0,h=e.length;c<h;c++)r[c]=t(l?Za(e[c]):e[c],c,void 0,a)}else if(typeof e=="number"){r=new Array(e);for(let s=0;s<e;s++)r[s]=t(s+1,s,void 0,a)}else if(lr(e))if(e[Symbol.iterator])r=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);r=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const h=s[l];r[l]=t(e[h],h,l,a)}}else r=[];return r}function tV(e,t,n={},i,r){if(Ba.ce||Ba.parent&&ug(Ba.parent)&&Ba.parent.ce)return n.name=t,ze(),Bc(Jt,null,[_i("slot",n,i)],64);let a=e[t];a&&a._c&&(a._d=!1),ze();const o=a&&hP(a(n)),s=n.key||o&&o.key,l=Bc(Jt,{key:(s&&!Bl(s)?s:`_${t}`)+""},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function hP(e){return e.some(t=>ly(t)?!(t.type===Zd||t.type===Jt&&!hP(t.children)):!0)?e:null}const aT=e=>e?NP(e)?bS(e):aT(e.parent):null,zm=lo(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>aT(e.parent),$root:e=>aT(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>pP(e),$forceUpdate:e=>e.f||(e.f=()=>{F2(e.update)}),$nextTick:e=>e.n||(e.n=fS.bind(e.proxy)),$watch:e=>SV.bind(e)}),HC=(e,t)=>e!==Qi&&!e.__isScriptSetup&&Wi(e,t),nV={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:a,accessCache:o,type:s,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return a[t]}else{if(HC(i,t))return o[t]=1,i[t];if(r!==Qi&&Wi(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&Wi(c,t))return o[t]=3,a[t];if(n!==Qi&&Wi(n,t))return o[t]=4,n[t];oT&&(o[t]=0)}}const h=zm[t];let d,p;if(h)return t==="$attrs"&&Qa(e.attrs,"get",""),h(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(n!==Qi&&Wi(n,t))return o[t]=4,n[t];if(p=l.config.globalProperties,Wi(p,t))return p[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:a}=e;return HC(r,t)?(r[t]=n,!0):i!==Qi&&Wi(i,t)?(i[t]=n,!0):Wi(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:a}},o){let s;return!!n[o]||e!==Qi&&Wi(e,o)||HC(t,o)||(s=a[0])&&Wi(s,o)||Wi(i,o)||Wi(zm,o)||Wi(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Wi(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function L3(e){return Sn(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let oT=!0;function iV(e){const t=pP(e),n=e.proxy,i=e.ctx;oT=!1,t.beforeCreate&&F3(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:o,watch:s,provide:l,inject:c,created:h,beforeMount:d,mounted:p,beforeUpdate:y,updated:S,activated:_,deactivated:I,beforeDestroy:M,beforeUnmount:B,destroyed:U,unmounted:K,render:Q,renderTracked:H,renderTriggered:g,errorCaptured:T,serverPrefetch:A,expose:D,inheritAttrs:Z,components:ie,directives:se,filters:ue}=t;if(c&&rV(c,i,null),o)for(const $ in o){const W=o[$];$n(W)&&(i[$]=W.bind(n))}if(r){const $=r.call(n,n);lr($)&&(e.data=dS($))}if(oT=!0,a)for(const $ in a){const W=a[$],J=$n(W)?W.bind(n,n):$n(W.get)?W.get.bind(n,n):Ac,G=!$n(W)&&$n(W.set)?W.set.bind(n):Ac,le=Li({get:J,set:G});Object.defineProperty(i,$,{enumerable:!0,configurable:!0,get:()=>le.value,set:Ie=>le.value=Ie})}if(s)for(const $ in s)fP(s[$],i,n,$);if(l){const $=$n(l)?l.call(n):l;Reflect.ownKeys($).forEach(W=>{oE(W,$[W])})}h&&F3(h,e,"c");function F($,W){Sn(W)?W.forEach(J=>$(J.bind(n))):W&&$(W.bind(n))}if(F(GH,d),F(zc,p),F(WH,y),F(gS,S),F(UH,_),F(HH,I),F(JH,T),F(XH,H),F(YH,g),F(jH,B),F(dP,K),F(KH,A),Sn(D))if(D.length){const $=e.exposed||(e.exposed={});D.forEach(W=>{Object.defineProperty($,W,{get:()=>n[W],set:J=>n[W]=J})})}else e.exposed||(e.exposed={});Q&&e.render===Ac&&(e.render=Q),Z!=null&&(e.inheritAttrs=Z),ie&&(e.components=ie),se&&(e.directives=se),A&&lP(e)}function rV(e,t,n=Ac){Sn(e)&&(e=sT(e));for(const i in e){const r=e[i];let a;lr(r)?"default"in r?a=kc(r.from||i,r.default,!0):a=kc(r.from||i):a=kc(r),io(a)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[i]=a}}function F3(e,t,n){Dc(Sn(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function fP(e,t,n,i){let r=i.includes(".")?AP(n,i):()=>n[i];if(Nr(e)){const a=t[e];$n(a)&&$m(r,a)}else if($n(e))$m(r,e.bind(n));else if(lr(e))if(Sn(e))e.forEach(a=>fP(a,t,n,i));else{const a=$n(e.handler)?e.handler.bind(n):t[e.handler];$n(a)&&$m(r,a,e)}}function pP(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(c=>FE(l,c,o,!0)),FE(l,t,o)),lr(t)&&a.set(t,l),l}function FE(e,t,n,i=!1){const{mixins:r,extends:a}=t;a&&FE(e,a,n,!0),r&&r.forEach(o=>FE(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const s=aV[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const aV={data:z3,props:$3,emits:$3,methods:_m,computed:_m,beforeCreate:So,created:So,beforeMount:So,mounted:So,beforeUpdate:So,updated:So,beforeDestroy:So,beforeUnmount:So,destroyed:So,unmounted:So,activated:So,deactivated:So,errorCaptured:So,serverPrefetch:So,components:_m,directives:_m,watch:sV,provide:z3,inject:oV};function z3(e,t){return t?e?function(){return lo($n(e)?e.call(this,this):e,$n(t)?t.call(this,this):t)}:t:e}function oV(e,t){return _m(sT(e),sT(t))}function sT(e){if(Sn(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function So(e,t){return e?[...new Set([].concat(e,t))]:t}function _m(e,t){return e?lo(Object.create(null),e,t):t}function $3(e,t){return e?Sn(e)&&Sn(t)?[...new Set([...e,...t])]:lo(Object.create(null),L3(e),L3(t??{})):t}function sV(e,t){if(!e)return t;if(!t)return e;const n=lo(Object.create(null),e);for(const i in t)n[i]=So(e[i],t[i]);return n}function gP(){return{app:null,config:{isNativeTag:JU,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lV=0;function cV(e,t){return function(i,r=null){$n(i)||(i=lo({},i)),r!=null&&!lr(r)&&(r=null);const a=gP(),o=new WeakSet,s=[];let l=!1;const c=a.app={_uid:lV++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:UV,get config(){return a.config},set config(h){},use(h,...d){return o.has(h)||(h&&$n(h.install)?(o.add(h),h.install(c,...d)):$n(h)&&(o.add(h),h(c,...d))),c},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),c},component(h,d){return d?(a.components[h]=d,c):a.components[h]},directive(h,d){return d?(a.directives[h]=d,c):a.directives[h]},mount(h,d,p){if(!l){const y=c._ceVNode||_i(i,r);return y.appContext=a,p===!0?p="svg":p===!1&&(p=void 0),e(y,h,p),l=!0,c._container=h,h.__vue_app__=c,bS(y.component)}},onUnmount(h){s.push(h)},unmount(){l&&(Dc(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(h,d){return a.provides[h]=d,c},runWithContext(h){const d=dg;dg=c;try{return h()}finally{dg=d}}};return c}}let dg=null;function oE(e,t){if(to){let n=to.provides;const i=to.parent&&to.parent.provides;i===n&&(n=to.provides=Object.create(i)),n[e]=t}}function kc(e,t,n=!1){const i=to||Ba;if(i||dg){const r=dg?dg._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&$n(t)?t.call(i&&i.proxy):t}}const mP={},yP=()=>Object.create(mP),vP=e=>Object.getPrototypeOf(e)===mP;function uV(e,t,n,i=!1){const r={},a=yP();e.propsDefaults=Object.create(null),bP(e,t,r,a);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:XO(r):e.type.props?e.props=r:e.props=a,e.attrs=a}function dV(e,t,n,i){const{props:r,attrs:a,vnode:{patchFlag:o}}=e,s=Si(r),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let p=h[d];if(mS(e.emitsOptions,p))continue;const y=t[p];if(l)if(Wi(a,p))y!==a[p]&&(a[p]=y,c=!0);else{const S=rl(p);r[S]=lT(l,s,S,y,e,!1)}else y!==a[p]&&(a[p]=y,c=!0)}}}else{bP(e,t,r,a)&&(c=!0);let h;for(const d in s)(!t||!Wi(t,d)&&((h=lh(d))===d||!Wi(t,h)))&&(l?n&&(n[d]!==void 0||n[h]!==void 0)&&(r[d]=lT(l,s,d,void 0,e,!0)):delete r[d]);if(a!==s)for(const d in a)(!t||!Wi(t,d))&&(delete a[d],c=!0)}c&&_u(e.attrs,"set","")}function bP(e,t,n,i){const[r,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Dm(l))continue;const c=t[l];let h;r&&Wi(r,h=rl(l))?!a||!a.includes(h)?n[h]=c:(s||(s={}))[h]=c:mS(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(a){const l=Si(n),c=s||Qi;for(let h=0;h<a.length;h++){const d=a[h];n[d]=lT(r,l,d,c[d],e,!Wi(c,d))}}return o}function lT(e,t,n,i,r,a){const o=e[n];if(o!=null){const s=Wi(o,"default");if(s&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&$n(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const h=d1(r);i=c[n]=l.call(null,t),h()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(a&&!s?i=!1:o[1]&&(i===""||i===lh(n))&&(i=!0))}return i}const hV=new WeakMap;function EP(e,t,n=!1){const i=n?hV:t.propsCache,r=i.get(e);if(r)return r;const a=e.props,o={},s=[];let l=!1;if(!$n(e)){const h=d=>{l=!0;const[p,y]=EP(d,t,!0);lo(o,p),y&&s.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!a&&!l)return lr(e)&&i.set(e,og),og;if(Sn(a))for(let h=0;h<a.length;h++){const d=rl(a[h]);q3(d)&&(o[d]=Qi)}else if(a)for(const h in a){const d=rl(h);if(q3(d)){const p=a[h],y=o[d]=Sn(p)||$n(p)?{type:p}:lo({},p),S=y.type;let _=!1,I=!0;if(Sn(S))for(let M=0;M<S.length;++M){const B=S[M],U=$n(B)&&B.name;if(U==="Boolean"){_=!0;break}else U==="String"&&(I=!1)}else _=$n(S)&&S.name==="Boolean";y[0]=_,y[1]=I,(_||Wi(y,"default"))&&s.push(d)}}const c=[o,s];return lr(e)&&i.set(e,c),c}function q3(e){return e[0]!=="$"&&!Dm(e)}const xP=e=>e[0]==="_"||e==="$stable",$2=e=>Sn(e)?e.map(bc):[bc(e)],fV=(e,t,n)=>{if(t._n)return t;const i=Mf((...r)=>$2(t(...r)),n);return i._c=!1,i},SP=(e,t,n)=>{const i=e._ctx;for(const r in e){if(xP(r))continue;const a=e[r];if($n(a))t[r]=fV(r,a,i);else if(a!=null){const o=$2(a);t[r]=()=>o}}},_P=(e,t)=>{const n=$2(t);e.slots.default=()=>n},CP=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},pV=(e,t,n)=>{const i=e.slots=yP();if(e.vnode.shapeFlag&32){const r=t._;r?(CP(i,t,n),n&&MO(i,"_",r,!0)):SP(t,i)}else t&&_P(e,t)},gV=(e,t,n)=>{const{vnode:i,slots:r}=e;let a=!0,o=Qi;if(i.shapeFlag&32){const s=t._;s?n&&s===1?a=!1:CP(r,t,n):(a=!t.$stable,SP(t,r)),o=t}else t&&(_P(e,t),o={default:1});if(a)for(const s in r)!xP(s)&&o[s]==null&&delete r[s]},_o=IV;function mV(e){return yV(e)}function yV(e,t){const n=lS();n.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:o,createText:s,createComment:l,setText:c,setElementText:h,parentNode:d,nextSibling:p,setScopeId:y=Ac,insertStaticContent:S}=e,_=(te,ce,fe,Be=null,we=null,re=null,Ee=void 0,ve=null,We=!!ce.dynamicChildren)=>{if(te===ce)return;te&&!lm(te,ce)&&(Be=Te(te),Ie(te,we,re,!0),te=null),ce.patchFlag===-2&&(We=!1,ce.dynamicChildren=null);const{type:tt,ref:yt,shapeFlag:xt}=ce;switch(tt){case yS:I(te,ce,fe,Be);break;case Zd:M(te,ce,fe,Be);break;case sE:te==null&&B(ce,fe,Be,Ee);break;case Jt:ie(te,ce,fe,Be,we,re,Ee,ve,We);break;default:xt&1?Q(te,ce,fe,Be,we,re,Ee,ve,We):xt&6?se(te,ce,fe,Be,we,re,Ee,ve,We):(xt&64||xt&128)&&tt.process(te,ce,fe,Be,we,re,Ee,ve,We,Xe)}yt!=null&&we&&LE(yt,te&&te.ref,re,ce||te,!ce)},I=(te,ce,fe,Be)=>{if(te==null)i(ce.el=s(ce.children),fe,Be);else{const we=ce.el=te.el;ce.children!==te.children&&c(we,ce.children)}},M=(te,ce,fe,Be)=>{te==null?i(ce.el=l(ce.children||""),fe,Be):ce.el=te.el},B=(te,ce,fe,Be)=>{[te.el,te.anchor]=S(te.children,ce,fe,Be,te.el,te.anchor)},U=({el:te,anchor:ce},fe,Be)=>{let we;for(;te&&te!==ce;)we=p(te),i(te,fe,Be),te=we;i(ce,fe,Be)},K=({el:te,anchor:ce})=>{let fe;for(;te&&te!==ce;)fe=p(te),r(te),te=fe;r(ce)},Q=(te,ce,fe,Be,we,re,Ee,ve,We)=>{ce.type==="svg"?Ee="svg":ce.type==="math"&&(Ee="mathml"),te==null?H(ce,fe,Be,we,re,Ee,ve,We):A(te,ce,we,re,Ee,ve,We)},H=(te,ce,fe,Be,we,re,Ee,ve)=>{let We,tt;const{props:yt,shapeFlag:xt,transition:Nt,dirs:at}=te;if(We=te.el=o(te.type,re,yt&&yt.is,yt),xt&8?h(We,te.children):xt&16&&T(te.children,We,null,Be,we,VC(te,re),Ee,ve),at&&zh(te,null,Be,"created"),g(We,te,te.scopeId,Ee,Be),yt){for(const Gt in yt)Gt!=="value"&&!Dm(Gt)&&a(We,Gt,null,yt[Gt],re,Be);"value"in yt&&a(We,"value",null,yt.value,re),(tt=yt.onVnodeBeforeMount)&&ec(tt,Be,te)}at&&zh(te,null,Be,"beforeMount");const At=vV(we,Nt);At&&Nt.beforeEnter(We),i(We,ce,fe),((tt=yt&&yt.onVnodeMounted)||At||at)&&_o(()=>{tt&&ec(tt,Be,te),At&&Nt.enter(We),at&&zh(te,null,Be,"mounted")},we)},g=(te,ce,fe,Be,we)=>{if(fe&&y(te,fe),Be)for(let re=0;re<Be.length;re++)y(te,Be[re]);if(we){let re=we.subTree;if(ce===re||IP(re.type)&&(re.ssContent===ce||re.ssFallback===ce)){const Ee=we.vnode;g(te,Ee,Ee.scopeId,Ee.slotScopeIds,we.parent)}}},T=(te,ce,fe,Be,we,re,Ee,ve,We=0)=>{for(let tt=We;tt<te.length;tt++){const yt=te[tt]=ve?kd(te[tt]):bc(te[tt]);_(null,yt,ce,fe,Be,we,re,Ee,ve)}},A=(te,ce,fe,Be,we,re,Ee)=>{const ve=ce.el=te.el;let{patchFlag:We,dynamicChildren:tt,dirs:yt}=ce;We|=te.patchFlag&16;const xt=te.props||Qi,Nt=ce.props||Qi;let at;if(fe&&$h(fe,!1),(at=Nt.onVnodeBeforeUpdate)&&ec(at,fe,ce,te),yt&&zh(ce,te,fe,"beforeUpdate"),fe&&$h(fe,!0),(xt.innerHTML&&Nt.innerHTML==null||xt.textContent&&Nt.textContent==null)&&h(ve,""),tt?D(te.dynamicChildren,tt,ve,fe,Be,VC(ce,we),re):Ee||W(te,ce,ve,null,fe,Be,VC(ce,we),re,!1),We>0){if(We&16)Z(ve,xt,Nt,fe,we);else if(We&2&&xt.class!==Nt.class&&a(ve,"class",null,Nt.class,we),We&4&&a(ve,"style",xt.style,Nt.style,we),We&8){const At=ce.dynamicProps;for(let Gt=0;Gt<At.length;Gt++){const tn=At[Gt],wi=xt[tn],ii=Nt[tn];(ii!==wi||tn==="value")&&a(ve,tn,wi,ii,we,fe)}}We&1&&te.children!==ce.children&&h(ve,ce.children)}else!Ee&&tt==null&&Z(ve,xt,Nt,fe,we);((at=Nt.onVnodeUpdated)||yt)&&_o(()=>{at&&ec(at,fe,ce,te),yt&&zh(ce,te,fe,"updated")},Be)},D=(te,ce,fe,Be,we,re,Ee)=>{for(let ve=0;ve<ce.length;ve++){const We=te[ve],tt=ce[ve],yt=We.el&&(We.type===Jt||!lm(We,tt)||We.shapeFlag&70)?d(We.el):fe;_(We,tt,yt,null,Be,we,re,Ee,!0)}},Z=(te,ce,fe,Be,we)=>{if(ce!==fe){if(ce!==Qi)for(const re in ce)!Dm(re)&&!(re in fe)&&a(te,re,ce[re],null,we,Be);for(const re in fe){if(Dm(re))continue;const Ee=fe[re],ve=ce[re];Ee!==ve&&re!=="value"&&a(te,re,ve,Ee,we,Be)}"value"in fe&&a(te,"value",ce.value,fe.value,we)}},ie=(te,ce,fe,Be,we,re,Ee,ve,We)=>{const tt=ce.el=te?te.el:s(""),yt=ce.anchor=te?te.anchor:s("");let{patchFlag:xt,dynamicChildren:Nt,slotScopeIds:at}=ce;at&&(ve=ve?ve.concat(at):at),te==null?(i(tt,fe,Be),i(yt,fe,Be),T(ce.children||[],fe,yt,we,re,Ee,ve,We)):xt>0&&xt&64&&Nt&&te.dynamicChildren?(D(te.dynamicChildren,Nt,fe,we,re,Ee,ve),(ce.key!=null||we&&ce===we.subTree)&&q2(te,ce,!0)):W(te,ce,fe,yt,we,re,Ee,ve,We)},se=(te,ce,fe,Be,we,re,Ee,ve,We)=>{ce.slotScopeIds=ve,te==null?ce.shapeFlag&512?we.ctx.activate(ce,fe,Be,Ee,We):ue(ce,fe,Be,we,re,Ee,We):de(te,ce,We)},ue=(te,ce,fe,Be,we,re,Ee)=>{const ve=te.component=DV(te,Be,we);if(cP(te)&&(ve.ctx.renderer=Xe),BV(ve,!1,Ee),ve.asyncDep){if(we&&we.registerDep(ve,F,Ee),!te.el){const We=ve.subTree=_i(Zd);M(null,We,ce,fe)}}else F(ve,te,ce,fe,we,re,Ee)},de=(te,ce,fe)=>{const Be=ce.component=te.component;if(AV(te,ce,fe))if(Be.asyncDep&&!Be.asyncResolved){$(Be,ce,fe);return}else Be.next=ce,Be.update();else ce.el=te.el,Be.vnode=ce},F=(te,ce,fe,Be,we,re,Ee)=>{const ve=()=>{if(te.isMounted){let{next:xt,bu:Nt,u:at,parent:At,vnode:Gt}=te;{const Ti=wP(te);if(Ti){xt&&(xt.el=Gt.el,$(te,xt,Ee)),Ti.asyncDep.then(()=>{te.isUnmounted||ve()});return}}let tn=xt,wi;$h(te,!1),xt?(xt.el=Gt.el,$(te,xt,Ee)):xt=Gt,Nt&&rE(Nt),(wi=xt.props&&xt.props.onVnodeBeforeUpdate)&&ec(wi,At,xt,Gt),$h(te,!0);const ii=H3(te),ir=te.subTree;te.subTree=ii,_(ir,ii,d(ir.el),Te(ir),te,we,re),xt.el=ii.el,tn===null&&kV(te,ii.el),at&&_o(at,we),(wi=xt.props&&xt.props.onVnodeUpdated)&&_o(()=>ec(wi,At,xt,Gt),we)}else{let xt;const{el:Nt,props:at}=ce,{bm:At,m:Gt,parent:tn,root:wi,type:ii}=te,ir=ug(ce);$h(te,!1),At&&rE(At),!ir&&(xt=at&&at.onVnodeBeforeMount)&&ec(xt,tn,ce),$h(te,!0);{wi.ce&&wi.ce._injectChildStyle(ii);const Ti=te.subTree=H3(te);_(null,Ti,fe,Be,te,we,re),ce.el=Ti.el}if(Gt&&_o(Gt,we),!ir&&(xt=at&&at.onVnodeMounted)){const Ti=ce;_o(()=>ec(xt,tn,Ti),we)}(ce.shapeFlag&256||tn&&ug(tn.vnode)&&tn.vnode.shapeFlag&256)&&te.a&&_o(te.a,we),te.isMounted=!0,ce=fe=Be=null}};te.scope.on();const We=te.effect=new BO(ve);te.scope.off();const tt=te.update=We.run.bind(We),yt=te.job=We.runIfDirty.bind(We);yt.i=te,yt.id=te.uid,We.scheduler=()=>F2(yt),$h(te,!0),tt()},$=(te,ce,fe)=>{ce.component=te;const Be=te.vnode.props;te.vnode=ce,te.next=null,dV(te,ce.props,Be,fe),gV(te,ce.children,fe),ch(),P3(te),uh()},W=(te,ce,fe,Be,we,re,Ee,ve,We=!1)=>{const tt=te&&te.children,yt=te?te.shapeFlag:0,xt=ce.children,{patchFlag:Nt,shapeFlag:at}=ce;if(Nt>0){if(Nt&128){G(tt,xt,fe,Be,we,re,Ee,ve,We);return}else if(Nt&256){J(tt,xt,fe,Be,we,re,Ee,ve,We);return}}at&8?(yt&16&&Ze(tt,we,re),xt!==tt&&h(fe,xt)):yt&16?at&16?G(tt,xt,fe,Be,we,re,Ee,ve,We):Ze(tt,we,re,!0):(yt&8&&h(fe,""),at&16&&T(xt,fe,Be,we,re,Ee,ve,We))},J=(te,ce,fe,Be,we,re,Ee,ve,We)=>{te=te||og,ce=ce||og;const tt=te.length,yt=ce.length,xt=Math.min(tt,yt);let Nt;for(Nt=0;Nt<xt;Nt++){const at=ce[Nt]=We?kd(ce[Nt]):bc(ce[Nt]);_(te[Nt],at,fe,null,we,re,Ee,ve,We)}tt>yt?Ze(te,we,re,!0,!1,xt):T(ce,fe,Be,we,re,Ee,ve,We,xt)},G=(te,ce,fe,Be,we,re,Ee,ve,We)=>{let tt=0;const yt=ce.length;let xt=te.length-1,Nt=yt-1;for(;tt<=xt&&tt<=Nt;){const at=te[tt],At=ce[tt]=We?kd(ce[tt]):bc(ce[tt]);if(lm(at,At))_(at,At,fe,null,we,re,Ee,ve,We);else break;tt++}for(;tt<=xt&&tt<=Nt;){const at=te[xt],At=ce[Nt]=We?kd(ce[Nt]):bc(ce[Nt]);if(lm(at,At))_(at,At,fe,null,we,re,Ee,ve,We);else break;xt--,Nt--}if(tt>xt){if(tt<=Nt){const at=Nt+1,At=at<yt?ce[at].el:Be;for(;tt<=Nt;)_(null,ce[tt]=We?kd(ce[tt]):bc(ce[tt]),fe,At,we,re,Ee,ve,We),tt++}}else if(tt>Nt)for(;tt<=xt;)Ie(te[tt],we,re,!0),tt++;else{const at=tt,At=tt,Gt=new Map;for(tt=At;tt<=Nt;tt++){const ri=ce[tt]=We?kd(ce[tt]):bc(ce[tt]);ri.key!=null&&Gt.set(ri.key,tt)}let tn,wi=0;const ii=Nt-At+1;let ir=!1,Ti=0;const bi=new Array(ii);for(tt=0;tt<ii;tt++)bi[tt]=0;for(tt=at;tt<=xt;tt++){const ri=te[tt];if(wi>=ii){Ie(ri,we,re,!0);continue}let zi;if(ri.key!=null)zi=Gt.get(ri.key);else for(tn=At;tn<=Nt;tn++)if(bi[tn-At]===0&&lm(ri,ce[tn])){zi=tn;break}zi===void 0?Ie(ri,we,re,!0):(bi[zi-At]=tt+1,zi>=Ti?Ti=zi:ir=!0,_(ri,ce[zi],fe,null,we,re,Ee,ve,We),wi++)}const Fi=ir?bV(bi):og;for(tn=Fi.length-1,tt=ii-1;tt>=0;tt--){const ri=At+tt,zi=ce[ri],mr=ri+1<yt?ce[ri+1].el:Be;bi[tt]===0?_(null,zi,fe,mr,we,re,Ee,ve,We):ir&&(tn<0||tt!==Fi[tn]?le(zi,fe,mr,2):tn--)}}},le=(te,ce,fe,Be,we=null)=>{const{el:re,type:Ee,transition:ve,children:We,shapeFlag:tt}=te;if(tt&6){le(te.component.subTree,ce,fe,Be);return}if(tt&128){te.suspense.move(ce,fe,Be);return}if(tt&64){Ee.move(te,ce,fe,Xe);return}if(Ee===Jt){i(re,ce,fe);for(let xt=0;xt<We.length;xt++)le(We[xt],ce,fe,Be);i(te.anchor,ce,fe);return}if(Ee===sE){U(te,ce,fe);return}if(Be!==2&&tt&1&&ve)if(Be===0)ve.beforeEnter(re),i(re,ce,fe),_o(()=>ve.enter(re),we);else{const{leave:xt,delayLeave:Nt,afterLeave:at}=ve,At=()=>i(re,ce,fe),Gt=()=>{xt(re,()=>{At(),at&&at()})};Nt?Nt(re,At,Gt):Gt()}else i(re,ce,fe)},Ie=(te,ce,fe,Be=!1,we=!1)=>{const{type:re,props:Ee,ref:ve,children:We,dynamicChildren:tt,shapeFlag:yt,patchFlag:xt,dirs:Nt,cacheIndex:at}=te;if(xt===-2&&(we=!1),ve!=null&&LE(ve,null,fe,te,!0),at!=null&&(ce.renderCache[at]=void 0),yt&256){ce.ctx.deactivate(te);return}const At=yt&1&&Nt,Gt=!ug(te);let tn;if(Gt&&(tn=Ee&&Ee.onVnodeBeforeUnmount)&&ec(tn,ce,te),yt&6)Ge(te.component,fe,Be);else{if(yt&128){te.suspense.unmount(fe,Be);return}At&&zh(te,null,ce,"beforeUnmount"),yt&64?te.type.remove(te,ce,fe,Xe,Be):tt&&!tt.hasOnce&&(re!==Jt||xt>0&&xt&64)?Ze(tt,ce,fe,!1,!0):(re===Jt&&xt&384||!we&&yt&16)&&Ze(We,ce,fe),Be&&it(te)}(Gt&&(tn=Ee&&Ee.onVnodeUnmounted)||At)&&_o(()=>{tn&&ec(tn,ce,te),At&&zh(te,null,ce,"unmounted")},fe)},it=te=>{const{type:ce,el:fe,anchor:Be,transition:we}=te;if(ce===Jt){Je(fe,Be);return}if(ce===sE){K(te);return}const re=()=>{r(fe),we&&!we.persisted&&we.afterLeave&&we.afterLeave()};if(te.shapeFlag&1&&we&&!we.persisted){const{leave:Ee,delayLeave:ve}=we,We=()=>Ee(fe,re);ve?ve(te.el,re,We):We()}else re()},Je=(te,ce)=>{let fe;for(;te!==ce;)fe=p(te),r(te),te=fe;r(ce)},Ge=(te,ce,fe)=>{const{bum:Be,scope:we,job:re,subTree:Ee,um:ve,m:We,a:tt}=te;U3(We),U3(tt),Be&&rE(Be),we.stop(),re&&(re.flags|=8,Ie(Ee,te,ce,fe)),ve&&_o(ve,ce),_o(()=>{te.isUnmounted=!0},ce),ce&&ce.pendingBranch&&!ce.isUnmounted&&te.asyncDep&&!te.asyncResolved&&te.suspenseId===ce.pendingId&&(ce.deps--,ce.deps===0&&ce.resolve())},Ze=(te,ce,fe,Be=!1,we=!1,re=0)=>{for(let Ee=re;Ee<te.length;Ee++)Ie(te[Ee],ce,fe,Be,we)},Te=te=>{if(te.shapeFlag&6)return Te(te.component.subTree);if(te.shapeFlag&128)return te.suspense.next();const ce=p(te.anchor||te.el),fe=ce&&ce[aP];return fe?p(fe):ce};let Ae=!1;const Ue=(te,ce,fe)=>{te==null?ce._vnode&&Ie(ce._vnode,null,null,!0):_(ce._vnode||null,te,ce,null,null,null,fe),ce._vnode=te,Ae||(Ae=!0,P3(),nP(),Ae=!1)},Xe={p:_,um:Ie,m:le,r:it,mt:ue,mc:T,pc:W,pbc:D,n:Te,o:e};return{render:Ue,hydrate:void 0,createApp:cV(Ue)}}function VC({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function $h({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vV(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function q2(e,t,n=!1){const i=e.children,r=t.children;if(Sn(i)&&Sn(r))for(let a=0;a<i.length;a++){const o=i[a];let s=r[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[a]=kd(r[a]),s.el=o.el),!n&&s.patchFlag!==-2&&q2(o,s)),s.type===yS&&(s.el=o.el)}}function bV(e){const t=e.slice(),n=[0];let i,r,a,o,s;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(r=n[n.length-1],e[r]<c){t[i]=r,n.push(i);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[i]=n[a-1]),n[a]=i)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function wP(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:wP(t)}function U3(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const EV=Symbol.for("v-scx"),xV=()=>kc(EV);function $m(e,t,n){return TP(e,t,n)}function TP(e,t,n=Qi){const{immediate:i,deep:r,flush:a,once:o}=n,s=lo({},n),l=t&&i||!t&&a!=="post";let c;if(cy){if(a==="sync"){const y=xV();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=Ac,y.resume=Ac,y.pause=Ac,y}}const h=to;s.call=(y,S,_)=>Dc(y,h,S,_);let d=!1;a==="post"?s.scheduler=y=>{_o(y,h&&h.suspense)}:a!=="sync"&&(d=!0,s.scheduler=(y,S)=>{S?y():F2(y)}),s.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const p=BH(e,t,s);return cy&&(c?c.push(p):l&&p()),p}function SV(e,t,n){const i=this.proxy,r=Nr(e)?e.includes(".")?AP(i,e):()=>i[e]:e.bind(i,i);let a;$n(t)?a=t:(a=t.handler,n=t);const o=d1(this),s=TP(r,a.bind(i),n);return o(),s}function AP(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const _V=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rl(t)}Modifiers`]||e[`${lh(t)}Modifiers`];function CV(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Qi;let r=n;const a=t.startsWith("update:"),o=a&&_V(i,t.slice(7));o&&(o.trim&&(r=n.map(h=>Nr(h)?h.trim():h)),o.number&&(r=n.map(NE)));let s,l=i[s=FC(t)]||i[s=FC(rl(t))];!l&&a&&(l=i[s=FC(lh(t))]),l&&Dc(l,e,6,r);const c=i[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Dc(c,e,6,r)}}function kP(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const a=e.emits;let o={},s=!1;if(!$n(e)){const l=c=>{const h=kP(c,t,!0);h&&(s=!0,lo(o,h))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(lr(e)&&i.set(e,null),null):(Sn(a)?a.forEach(l=>o[l]=null):lo(o,a),lr(e)&&i.set(e,o),o)}function mS(e,t){return!e||!aS(t)?!1:(t=t.slice(2).replace(/Once$/,""),Wi(e,t[0].toLowerCase()+t.slice(1))||Wi(e,lh(t))||Wi(e,t))}function H3(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[a],slots:o,attrs:s,emit:l,render:c,renderCache:h,props:d,data:p,setupState:y,ctx:S,inheritAttrs:_}=e,I=BE(e);let M,B;try{if(n.shapeFlag&4){const K=r||i,Q=K;M=bc(c.call(Q,K,h,d,y,p,S)),B=s}else{const K=t;M=bc(K.length>1?K(d,{attrs:s,slots:o,emit:l}):K(d,null)),B=t.props?s:wV(s)}}catch(K){qm.length=0,hS(K,e,1),M=_i(Zd)}let U=M;if(B&&_!==!1){const K=Object.keys(B),{shapeFlag:Q}=U;K.length&&Q&7&&(a&&K.some(T2)&&(B=TV(B,a)),U=r0(U,B,!1,!0))}return n.dirs&&(U=r0(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&z2(U,n.transition),M=U,BE(I),M}const wV=e=>{let t;for(const n in e)(n==="class"||n==="style"||aS(n))&&((t||(t={}))[n]=e[n]);return t},TV=(e,t)=>{const n={};for(const i in e)(!T2(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function AV(e,t,n){const{props:i,children:r,component:a}=e,{props:o,children:s,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?V3(i,o,c):!!o;if(l&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const p=h[d];if(o[p]!==i[p]&&!mS(c,p))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===o?!1:i?o?V3(i,o,c):!0:!!o;return!1}function V3(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(t[a]!==e[a]&&!mS(n,a))return!0}return!1}function kV({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const IP=e=>e.__isSuspense;function IV(e,t){t&&t.pendingBranch?Sn(e)?t.effects.push(...e):t.effects.push(e):zH(e)}const Jt=Symbol.for("v-fgt"),yS=Symbol.for("v-txt"),Zd=Symbol.for("v-cmt"),sE=Symbol.for("v-stc"),qm=[];let Os=null;function ze(e=!1){qm.push(Os=e?null:[])}function OV(){qm.pop(),Os=qm[qm.length-1]||null}let sy=1;function G3(e,t=!1){sy+=e,e<0&&Os&&t&&(Os.hasOnce=!0)}function OP(e){return e.dynamicChildren=sy>0?Os||og:null,OV(),sy>0&&Os&&Os.push(e),e}function He(e,t,n,i,r,a){return OP(X(e,t,n,i,r,a,!0))}function Bc(e,t,n,i,r){return OP(_i(e,t,n,i,r,!0))}function ly(e){return e?e.__v_isVNode===!0:!1}function lm(e,t){return e.type===t.type&&e.key===t.key}const PP=({key:e})=>e??null,lE=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Nr(e)||io(e)||$n(e)?{i:Ba,r:e,k:t,f:!!n}:e:null);function X(e,t=null,n=null,i=0,r=null,a=e===Jt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&PP(t),ref:t&&lE(t),scopeId:rP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ba};return s?(U2(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=Nr(n)?8:16),sy>0&&!o&&Os&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Os.push(l),l}const _i=PV;function PV(e,t=null,n=null,i=0,r=null,a=!1){if((!e||e===ZH)&&(e=Zd),ly(e)){const s=r0(e,t,!0);return n&&U2(s,n),sy>0&&!a&&Os&&(s.shapeFlag&6?Os[Os.indexOf(e)]=s:Os.push(s)),s.patchFlag=-2,s}if(qV(e)&&(e=e.__vccOpts),t){t=vS(t);let{class:s,style:l}=t;s&&!Nr(s)&&(t.class=Xn(s)),lr(l)&&(L2(l)&&!Sn(l)&&(l=lo({},l)),t.style=cS(l))}const o=Nr(e)?1:IP(e)?128:$H(e)?64:lr(e)?4:$n(e)?2:0;return X(e,t,n,i,r,o,a,!0)}function vS(e){return e?L2(e)||vP(e)?lo({},e):e:null}function r0(e,t,n=!1,i=!1){const{props:r,ref:a,patchFlag:o,children:s,transition:l}=e,c=t?MV(r||{},t):r,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&PP(c),ref:t&&t.ref?n&&a?Sn(a)?a.concat(lE(t)):[a,lE(t)]:lE(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Jt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&r0(e.ssContent),ssFallback:e.ssFallback&&r0(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&z2(h,l.clone(h)),h}function yi(e=" ",t=0){return _i(yS,null,e,t)}function MP(e,t){const n=_i(sE,null,e);return n.staticCount=t,n}function vn(e="",t=!1){return t?(ze(),Bc(Zd,null,e)):_i(Zd,null,e)}function bc(e){return e==null||typeof e=="boolean"?_i(Zd):Sn(e)?_i(Jt,null,e.slice()):ly(e)?kd(e):_i(yS,null,String(e))}function kd(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:r0(e)}function U2(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Sn(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),U2(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!vP(t)?t._ctx=Ba:r===3&&Ba&&(Ba.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else $n(t)?(t={default:t,_ctx:Ba},n=32):(t=String(t),i&64?(n=16,t=[yi(t)]):n=8);e.children=t,e.shapeFlag|=n}function MV(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Xn([t.class,i.class]));else if(r==="style")t.style=cS([t.style,i.style]);else if(aS(r)){const a=t[r],o=i[r];o&&a!==o&&!(Sn(a)&&a.includes(o))&&(t[r]=a?[].concat(a,o):o)}else r!==""&&(t[r]=i[r])}return t}function ec(e,t,n,i=null){Dc(e,t,7,[n,i])}const NV=gP();let RV=0;function DV(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||NV,a={uid:RV++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cH(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:EP(i,r),emitsOptions:kP(i,r),emit:null,emitted:null,propsDefaults:Qi,inheritAttrs:i.inheritAttrs,ctx:Qi,data:Qi,props:Qi,attrs:Qi,slots:Qi,refs:Qi,setupState:Qi,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=CV.bind(null,a),e.ce&&e.ce(a),a}let to=null,zE,cT;{const e=lS(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),a=>{r.length>1?r.forEach(o=>o(a)):r[0](a)}};zE=t("__VUE_INSTANCE_SETTERS__",n=>to=n),cT=t("__VUE_SSR_SETTERS__",n=>cy=n)}const d1=e=>{const t=to;return zE(e),e.scope.on(),()=>{e.scope.off(),zE(t)}},W3=()=>{to&&to.scope.off(),zE(null)};function NP(e){return e.vnode.shapeFlag&4}let cy=!1;function BV(e,t=!1,n=!1){t&&cT(t);const{props:i,children:r}=e.vnode,a=NP(e);uV(e,i,a,t),pV(e,r,n);const o=a?LV(e,t):void 0;return t&&cT(!1),o}function LV(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,nV);const{setup:i}=n;if(i){ch();const r=e.setupContext=i.length>1?zV(e):null,a=d1(e),o=u1(i,e,0,[e.props,r]),s=IO(o);if(uh(),a(),(s||e.sp)&&!ug(e)&&lP(e),s){if(o.then(W3,W3),t)return o.then(l=>{j3(e,l)}).catch(l=>{hS(l,e,0)});e.asyncDep=o}else j3(e,o)}else RP(e)}function j3(e,t,n){$n(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:lr(t)&&(e.setupState=ZO(t)),RP(e)}function RP(e,t,n){const i=e.type;e.render||(e.render=i.render||Ac);{const r=d1(e);ch();try{iV(e)}finally{uh(),r()}}}const FV={get(e,t){return Qa(e,"get",""),e[t]}};function zV(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,FV),slots:e.slots,emit:e.emit,expose:t}}function bS(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ZO(IH(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zm)return zm[n](e)},has(t,n){return n in t||n in zm}})):e.proxy}function $V(e,t=!0){return $n(e)?e.displayName||e.name:e.name||t&&e.__name}function qV(e){return $n(e)&&"__vccOpts"in e}const Li=(e,t)=>RH(e,t,cy);function DP(e,t,n){const i=arguments.length;return i===2?lr(t)&&!Sn(t)?ly(t)?_i(e,null,[t]):_i(e,t):_i(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ly(n)&&(n=[n]),_i(e,t,n))}const UV="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let uT;const K3=typeof window<"u"&&window.trustedTypes;if(K3)try{uT=K3.createPolicy("vue",{createHTML:e=>e})}catch{}const BP=uT?e=>uT.createHTML(e):e=>e,HV="http://www.w3.org/2000/svg",VV="http://www.w3.org/1998/Math/MathML",vu=typeof document<"u"?document:null,Y3=vu&&vu.createElement("template"),GV={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?vu.createElementNS(HV,e):t==="mathml"?vu.createElementNS(VV,e):n?vu.createElement(e,{is:n}):vu.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>vu.createTextNode(e),createComment:e=>vu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vu.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,a){const o=n?n.previousSibling:t.lastChild;if(r&&(r===a||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{Y3.innerHTML=BP(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const s=Y3.content;if(i==="svg"||i==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},WV=Symbol("_vtc");function jV(e,t,n){const i=e[WV];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const $E=Symbol("_vod"),LP=Symbol("_vsh"),La={beforeMount(e,{value:t},{transition:n}){e[$E]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):cm(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),cm(e,!0),i.enter(e)):i.leave(e,()=>{cm(e,!1)}):cm(e,t))},beforeUnmount(e,{value:t}){cm(e,t)}};function cm(e,t){e.style.display=t?e[$E]:"none",e[LP]=!t}const KV=Symbol(""),YV=/(^|;)\s*display\s*:/;function XV(e,t,n){const i=e.style,r=Nr(n);let a=!1;if(n&&!r){if(t)if(Nr(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&cE(i,s,"")}else for(const o in t)n[o]==null&&cE(i,o,"");for(const o in n)o==="display"&&(a=!0),cE(i,o,n[o])}else if(r){if(t!==n){const o=i[KV];o&&(n+=";"+o),i.cssText=n,a=YV.test(n)}}else t&&e.removeAttribute("style");$E in e&&(e[$E]=a?i.display:"",e[LP]&&(i.display="none"))}const X3=/\s*!important$/;function cE(e,t,n){if(Sn(n))n.forEach(i=>cE(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=JV(e,t);X3.test(n)?e.setProperty(lh(i),n.replace(X3,""),"important"):e[i]=n}}const J3=["Webkit","Moz","ms"],GC={};function JV(e,t){const n=GC[t];if(n)return n;let i=rl(t);if(i!=="filter"&&i in e)return GC[t]=i;i=sS(i);for(let r=0;r<J3.length;r++){const a=J3[r]+i;if(a in e)return GC[t]=a}return t}const Q3="http://www.w3.org/1999/xlink";function Z3(e,t,n,i,r,a=sH(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Q3,t.slice(6,t.length)):e.setAttributeNS(Q3,t,n):n==null||a&&!NO(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Bl(n)?String(n):n)}function e5(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?BP(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=NO(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function Md(e,t,n,i){e.addEventListener(t,n,i)}function QV(e,t,n,i){e.removeEventListener(t,n,i)}const t5=Symbol("_vei");function ZV(e,t,n,i,r=null){const a=e[t5]||(e[t5]={}),o=a[t];if(i&&o)o.value=i;else{const[s,l]=eG(t);if(i){const c=a[t]=iG(i,r);Md(e,s,c,l)}else o&&(QV(e,s,o,l),a[t]=void 0)}}const n5=/(?:Once|Passive|Capture)$/;function eG(e){let t;if(n5.test(e)){t={};let i;for(;i=e.match(n5);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):lh(e.slice(2)),t]}let WC=0;const tG=Promise.resolve(),nG=()=>WC||(tG.then(()=>WC=0),WC=Date.now());function iG(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Dc(rG(i,n.value),t,5,[i])};return n.value=e,n.attached=nG(),n}function rG(e,t){if(Sn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const i5=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,aG=(e,t,n,i,r,a)=>{const o=r==="svg";t==="class"?jV(e,i,o):t==="style"?XV(e,n,i):aS(t)?T2(t)||ZV(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):oG(e,t,i,o))?(e5(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Z3(e,t,i,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Nr(i))?e5(e,rl(t),i,a,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Z3(e,t,i,o))};function oG(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&i5(t)&&$n(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return i5(t)&&Nr(n)?!1:t in e}const a0=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Sn(t)?n=>rE(t,n):t};function sG(e){e.target.composing=!0}function r5(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ou=Symbol("_assign"),Js={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[Ou]=a0(r);const a=i||r.props&&r.props.type==="number";Md(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),a&&(s=NE(s)),e[Ou](s)}),n&&Md(e,"change",()=>{e.value=e.value.trim()}),t||(Md(e,"compositionstart",sG),Md(e,"compositionend",r5),Md(e,"change",r5))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:a}},o){if(e[Ou]=a0(o),e.composing)return;const s=(a||e.type==="number")&&!/^0\d/.test(e.value)?NE(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},Gd={deep:!0,created(e,t,n){e[Ou]=a0(n),Md(e,"change",()=>{const i=e._modelValue,r=uy(e),a=e.checked,o=e[Ou];if(Sn(i)){const s=O2(i,r),l=s!==-1;if(a&&!l)o(i.concat(r));else if(!a&&l){const c=[...i];c.splice(s,1),o(c)}}else if(A0(i)){const s=new Set(i);a?s.add(r):s.delete(r),o(s)}else o(FP(e,a))})},mounted:a5,beforeUpdate(e,t,n){e[Ou]=a0(n),a5(e,t,n)}};function a5(e,{value:t,oldValue:n},i){e._modelValue=t;let r;if(Sn(t))r=O2(t,i.props.value)>-1;else if(A0(t))r=t.has(i.props.value);else{if(t===n)return;r=c1(t,FP(e,!0))}e.checked!==r&&(e.checked=r)}const wu={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=A0(t);Md(e,"change",()=>{const a=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?NE(uy(o)):uy(o));e[Ou](e.multiple?r?new Set(a):a:a[0]),e._assigning=!0,fS(()=>{e._assigning=!1})}),e[Ou]=a0(i)},mounted(e,{value:t}){o5(e,t)},beforeUpdate(e,t,n){e[Ou]=a0(n)},updated(e,{value:t}){e._assigning||o5(e,t)}};function o5(e,t){const n=e.multiple,i=Sn(t);if(!(n&&!i&&!A0(t))){for(let r=0,a=e.options.length;r<a;r++){const o=e.options[r],s=uy(o);if(n)if(i){const l=typeof s;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(s)):o.selected=O2(t,s)>-1}else o.selected=t.has(s);else if(c1(uy(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function uy(e){return"_value"in e?e._value:e.value}function FP(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const lG=["ctrl","shift","alt","meta"],cG={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>lG.some(n=>e[`${n}Key`]&&!t.includes(n))},Sb=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...a)=>{for(let o=0;o<t.length;o++){const s=cG[t[o]];if(s&&s(r,t))return}return e(r,...a)})},uG={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_b=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const a=lh(r.key);if(t.some(o=>o===a||uG[o]===a))return e(r)})},dG=lo({patchProp:aG},GV);let s5;function hG(){return s5||(s5=mV(dG))}const fG=(...e)=>{const t=hG().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=gG(i);if(!r)return;const a=t._component;!$n(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,pG(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function pG(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function gG(e){return Nr(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Kp=typeof document<"u";function zP(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function mG(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&zP(e.default)}const Gi=Object.assign;function jC(e,t){const n={};for(const i in t){const r=t[i];n[i]=Ll(r)?r.map(e):e(r)}return n}const Um=()=>{},Ll=Array.isArray,$P=/#/g,yG=/&/g,vG=/\//g,bG=/=/g,EG=/\?/g,qP=/\+/g,xG=/%5B/g,SG=/%5D/g,UP=/%5E/g,_G=/%60/g,HP=/%7B/g,CG=/%7C/g,VP=/%7D/g,wG=/%20/g;function H2(e){return encodeURI(""+e).replace(CG,"|").replace(xG,"[").replace(SG,"]")}function TG(e){return H2(e).replace(HP,"{").replace(VP,"}").replace(UP,"^")}function dT(e){return H2(e).replace(qP,"%2B").replace(wG,"+").replace($P,"%23").replace(yG,"%26").replace(_G,"`").replace(HP,"{").replace(VP,"}").replace(UP,"^")}function AG(e){return dT(e).replace(bG,"%3D")}function kG(e){return H2(e).replace($P,"%23").replace(EG,"%3F")}function IG(e){return e==null?"":kG(e).replace(vG,"%2F")}function dy(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const OG=/\/$/,PG=e=>e.replace(OG,"");function KC(e,t,n="/"){let i,r={},a="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(i=t.slice(0,l),a=t.slice(l+1,s>-1?s:t.length),r=e(a)),s>-1&&(i=i||t.slice(0,s),o=t.slice(s,t.length)),i=DG(i??t,n),{fullPath:i+(a&&"?")+a+o,path:i,query:r,hash:dy(o)}}function MG(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function l5(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function NG(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&o0(t.matched[i],n.matched[r])&&GP(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function o0(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function GP(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!RG(e[n],t[n]))return!1;return!0}function RG(e,t){return Ll(e)?c5(e,t):Ll(t)?c5(t,e):e===t}function c5(e,t){return Ll(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function DG(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let a=n.length-1,o,s;for(o=0;o<i.length;o++)if(s=i[o],s!==".")if(s==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+i.slice(o).join("/")}const vd={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var hy;(function(e){e.pop="pop",e.push="push"})(hy||(hy={}));var Hm;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Hm||(Hm={}));function BG(e){if(!e)if(Kp){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),PG(e)}const LG=/^[^#]+#/;function FG(e,t){return e.replace(LG,"#")+t}function zG(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const ES=()=>({left:window.scrollX,top:window.scrollY});function $G(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=zG(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function u5(e,t){return(history.state?history.state.position-t:-1)+e}const hT=new Map;function qG(e,t){hT.set(e,t)}function UG(e){const t=hT.get(e);return hT.delete(e),t}let HG=()=>location.protocol+"//"+location.host;function WP(e,t){const{pathname:n,search:i,hash:r}=t,a=e.indexOf("#");if(a>-1){let s=r.includes(e.slice(a))?e.slice(a).length:1,l=r.slice(s);return l[0]!=="/"&&(l="/"+l),l5(l,"")}return l5(n,e)+i+r}function VG(e,t,n,i){let r=[],a=[],o=null;const s=({state:p})=>{const y=WP(e,location),S=n.value,_=t.value;let I=0;if(p){if(n.value=y,t.value=p,o&&o===S){o=null;return}I=_?p.position-_.position:0}else i(y);r.forEach(M=>{M(n.value,S,{delta:I,type:hy.pop,direction:I?I>0?Hm.forward:Hm.back:Hm.unknown})})};function l(){o=n.value}function c(p){r.push(p);const y=()=>{const S=r.indexOf(p);S>-1&&r.splice(S,1)};return a.push(y),y}function h(){const{history:p}=window;p.state&&p.replaceState(Gi({},p.state,{scroll:ES()}),"")}function d(){for(const p of a)p();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function d5(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?ES():null}}function GG(e){const{history:t,location:n}=window,i={value:WP(e,n)},r={value:t.state};r.value||a(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,c,h){const d=e.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:HG()+e+l;try{t[h?"replaceState":"pushState"](c,"",p),r.value=c}catch(y){console.error(y),n[h?"replace":"assign"](p)}}function o(l,c){const h=Gi({},t.state,d5(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});a(l,h,!0),i.value=l}function s(l,c){const h=Gi({},r.value,t.state,{forward:l,scroll:ES()});a(h.current,h,!0);const d=Gi({},d5(i.value,l,null),{position:h.position+1},c);a(l,d,!1),i.value=l}return{location:i,state:r,push:s,replace:o}}function WG(e){e=BG(e);const t=GG(e),n=VG(e,t.state,t.location,t.replace);function i(a,o=!0){o||n.pauseListeners(),history.go(a)}const r=Gi({location:"",base:e,go:i,createHref:FG.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function jG(e){return typeof e=="string"||e&&typeof e=="object"}function jP(e){return typeof e=="string"||typeof e=="symbol"}const KP=Symbol("");var h5;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(h5||(h5={}));function s0(e,t){return Gi(new Error,{type:e,[KP]:!0},t)}function hu(e,t){return e instanceof Error&&KP in e&&(t==null||!!(e.type&t))}const f5="[^/]+?",KG={sensitive:!1,strict:!1,start:!0,end:!0},YG=/[.+*?^${}()[\]/\\]/g;function XG(e,t){const n=Gi({},KG,t),i=[];let r=n.start?"^":"";const a=[];for(const c of e){const h=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const p=c[d];let y=40+(n.sensitive?.25:0);if(p.type===0)d||(r+="/"),r+=p.value.replace(YG,"\\$&"),y+=40;else if(p.type===1){const{value:S,repeatable:_,optional:I,regexp:M}=p;a.push({name:S,repeatable:_,optional:I});const B=M||f5;if(B!==f5){y+=10;try{new RegExp(`(${B})`)}catch(K){throw new Error(`Invalid custom RegExp for param "${S}" (${B}): `+K.message)}}let U=_?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;d||(U=I&&c.length<2?`(?:/${U})`:"/"+U),I&&(U+="?"),r+=U,y+=20,I&&(y+=-8),_&&(y+=-20),B===".*"&&(y+=-50)}h.push(y)}i.push(h)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function s(c){const h=c.match(o),d={};if(!h)return null;for(let p=1;p<h.length;p++){const y=h[p]||"",S=a[p-1];d[S.name]=y&&S.repeatable?y.split("/"):y}return d}function l(c){let h="",d=!1;for(const p of e){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const y of p)if(y.type===0)h+=y.value;else if(y.type===1){const{value:S,repeatable:_,optional:I}=y,M=S in c?c[S]:"";if(Ll(M)&&!_)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const B=Ll(M)?M.join("/"):M;if(!B)if(I)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${S}"`);h+=B}}return h||"/"}return{re:o,score:i,keys:a,parse:s,stringify:l}}function JG(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function YP(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const a=JG(i[n],r[n]);if(a)return a;n++}if(Math.abs(r.length-i.length)===1){if(p5(i))return 1;if(p5(r))return-1}return r.length-i.length}function p5(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const QG={type:0,value:""},ZG=/[a-zA-Z0-9_]/;function eW(e){if(!e)return[[]];if(e==="/")return[[QG]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${c}": ${y}`)}let n=0,i=n;const r=[];let a;function o(){a&&r.push(a),a=[]}let s=0,l,c="",h="";function d(){c&&(n===0?a.push({type:0,value:c}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):p();break;case 4:p(),n=i;break;case 1:l==="("?n=2:ZG.test(l)?p():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function tW(e,t,n){const i=XG(eW(e.path),n),r=Gi(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function nW(e,t){const n=[],i=new Map;t=v5({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function a(d,p,y){const S=!y,_=m5(d);_.aliasOf=y&&y.record;const I=v5(t,d),M=[_];if("alias"in d){const K=typeof d.alias=="string"?[d.alias]:d.alias;for(const Q of K)M.push(m5(Gi({},_,{components:y?y.record.components:_.components,path:Q,aliasOf:y?y.record:_})))}let B,U;for(const K of M){const{path:Q}=K;if(p&&Q[0]!=="/"){const H=p.record.path,g=H[H.length-1]==="/"?"":"/";K.path=p.record.path+(Q&&g+Q)}if(B=tW(K,p,I),y?y.alias.push(B):(U=U||B,U!==B&&U.alias.push(B),S&&d.name&&!y5(B)&&o(d.name)),XP(B)&&l(B),_.children){const H=_.children;for(let g=0;g<H.length;g++)a(H[g],B,y&&y.children[g])}y=y||B}return U?()=>{o(U)}:Um}function o(d){if(jP(d)){const p=i.get(d);p&&(i.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function s(){return n}function l(d){const p=aW(d,n);n.splice(p,0,d),d.record.name&&!y5(d)&&i.set(d.record.name,d)}function c(d,p){let y,S={},_,I;if("name"in d&&d.name){if(y=i.get(d.name),!y)throw s0(1,{location:d});I=y.record.name,S=Gi(g5(p.params,y.keys.filter(U=>!U.optional).concat(y.parent?y.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),d.params&&g5(d.params,y.keys.map(U=>U.name))),_=y.stringify(S)}else if(d.path!=null)_=d.path,y=n.find(U=>U.re.test(_)),y&&(S=y.parse(_),I=y.record.name);else{if(y=p.name?i.get(p.name):n.find(U=>U.re.test(p.path)),!y)throw s0(1,{location:d,currentLocation:p});I=y.record.name,S=Gi({},p.params,d.params),_=y.stringify(S)}const M=[];let B=y;for(;B;)M.unshift(B.record),B=B.parent;return{name:I,path:_,params:S,matched:M,meta:rW(M)}}e.forEach(d=>a(d));function h(){n.length=0,i.clear()}return{addRoute:a,resolve:c,removeRoute:o,clearRoutes:h,getRoutes:s,getRecordMatcher:r}}function g5(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function m5(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:iW(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function iW(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function y5(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rW(e){return e.reduce((t,n)=>Gi(t,n.meta),{})}function v5(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function aW(e,t){let n=0,i=t.length;for(;n!==i;){const a=n+i>>1;YP(e,t[a])<0?i=a:n=a+1}const r=oW(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function oW(e){let t=e;for(;t=t.parent;)if(XP(t)&&YP(e,t)===0)return t}function XP({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function sW(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const a=i[r].replace(qP," "),o=a.indexOf("="),s=dy(o<0?a:a.slice(0,o)),l=o<0?null:dy(a.slice(o+1));if(s in t){let c=t[s];Ll(c)||(c=t[s]=[c]),c.push(l)}else t[s]=l}return t}function b5(e){let t="";for(let n in e){const i=e[n];if(n=AG(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ll(i)?i.map(a=>a&&dT(a)):[i&&dT(i)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function lW(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Ll(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const cW=Symbol(""),E5=Symbol(""),xS=Symbol(""),JP=Symbol(""),fT=Symbol("");function um(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Id(e,t,n,i,r,a=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((s,l)=>{const c=p=>{p===!1?l(s0(4,{from:n,to:t})):p instanceof Error?l(p):jG(p)?l(s0(2,{from:t,to:p})):(o&&i.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),s())},h=a(()=>e.call(i&&i.instances[r],t,n,c));let d=Promise.resolve(h);e.length<3&&(d=d.then(c)),d.catch(p=>l(p))})}function YC(e,t,n,i,r=a=>a()){const a=[];for(const o of e)for(const s in o.components){let l=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(zP(l)){const h=(l.__vccOpts||l)[t];h&&a.push(Id(h,n,i,o,s,r))}else{let c=l();a.push(()=>c.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const d=mG(h)?h.default:h;o.mods[s]=h,o.components[s]=d;const y=(d.__vccOpts||d)[t];return y&&Id(y,n,i,o,s,r)()}))}}return a}function x5(e){const t=kc(xS),n=kc(JP),i=Li(()=>{const l=ci(e.to);return t.resolve(l)}),r=Li(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],d=n.matched;if(!h||!d.length)return-1;const p=d.findIndex(o0.bind(null,h));if(p>-1)return p;const y=S5(l[c-2]);return c>1&&S5(h)===y&&d[d.length-1].path!==y?d.findIndex(o0.bind(null,l[c-2])):p}),a=Li(()=>r.value>-1&&pW(n.params,i.value.params)),o=Li(()=>r.value>-1&&r.value===n.matched.length-1&&GP(n.params,i.value.params));function s(l={}){if(fW(l)){const c=t[ci(e.replace)?"replace":"push"](ci(e.to)).catch(Um);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:Li(()=>i.value.href),isActive:a,isExactActive:o,navigate:s}}function uW(e){return e.length===1?e[0]:e}const dW=wa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:x5,setup(e,{slots:t}){const n=dS(x5(e)),{options:i}=kc(xS),r=Li(()=>({[_5(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[_5(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&uW(t.default(n));return e.custom?a:DP("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}}),hW=dW;function fW(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function pW(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Ll(r)||r.length!==i.length||i.some((a,o)=>a!==r[o]))return!1}return!0}function S5(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _5=(e,t,n)=>e??t??n,gW=wa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=kc(fT),r=Li(()=>e.route||i.value),a=kc(E5,0),o=Li(()=>{let c=ci(a);const{matched:h}=r.value;let d;for(;(d=h[c])&&!d.components;)c++;return c}),s=Li(()=>r.value.matched[o.value]);oE(E5,Li(()=>o.value+1)),oE(cW,s),oE(fT,r);const l=ln();return $m(()=>[l.value,s.value,e.name],([c,h,d],[p,y,S])=>{h&&(h.instances[d]=c,y&&y!==h&&c&&c===p&&(h.leaveGuards.size||(h.leaveGuards=y.leaveGuards),h.updateGuards.size||(h.updateGuards=y.updateGuards))),c&&h&&(!y||!o0(h,y)||!p)&&(h.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,h=e.name,d=s.value,p=d&&d.components[h];if(!p)return C5(n.default,{Component:p,route:c});const y=d.props[h],S=y?y===!0?c.params:typeof y=="function"?y(c):y:null,I=DP(p,Gi({},S,t,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(d.instances[h]=null)},ref:l}));return C5(n.default,{Component:I,route:c})||I}}});function C5(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const mW=gW;function yW(e){const t=nW(e.routes,e),n=e.parseQuery||sW,i=e.stringifyQuery||b5,r=e.history,a=um(),o=um(),s=um(),l=OH(vd);let c=vd;Kp&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=jC.bind(null,Te=>""+Te),d=jC.bind(null,IG),p=jC.bind(null,dy);function y(Te,Ae){let Ue,Xe;return jP(Te)?(Ue=t.getRecordMatcher(Te),Xe=Ae):Xe=Te,t.addRoute(Xe,Ue)}function S(Te){const Ae=t.getRecordMatcher(Te);Ae&&t.removeRoute(Ae)}function _(){return t.getRoutes().map(Te=>Te.record)}function I(Te){return!!t.getRecordMatcher(Te)}function M(Te,Ae){if(Ae=Gi({},Ae||l.value),typeof Te=="string"){const fe=KC(n,Te,Ae.path),Be=t.resolve({path:fe.path},Ae),we=r.createHref(fe.fullPath);return Gi(fe,Be,{params:p(Be.params),hash:dy(fe.hash),redirectedFrom:void 0,href:we})}let Ue;if(Te.path!=null)Ue=Gi({},Te,{path:KC(n,Te.path,Ae.path).path});else{const fe=Gi({},Te.params);for(const Be in fe)fe[Be]==null&&delete fe[Be];Ue=Gi({},Te,{params:d(fe)}),Ae.params=d(Ae.params)}const Xe=t.resolve(Ue,Ae),dt=Te.hash||"";Xe.params=h(p(Xe.params));const te=MG(i,Gi({},Te,{hash:TG(dt),path:Xe.path})),ce=r.createHref(te);return Gi({fullPath:te,hash:dt,query:i===b5?lW(Te.query):Te.query||{}},Xe,{redirectedFrom:void 0,href:ce})}function B(Te){return typeof Te=="string"?KC(n,Te,l.value.path):Gi({},Te)}function U(Te,Ae){if(c!==Te)return s0(8,{from:Ae,to:Te})}function K(Te){return g(Te)}function Q(Te){return K(Gi(B(Te),{replace:!0}))}function H(Te){const Ae=Te.matched[Te.matched.length-1];if(Ae&&Ae.redirect){const{redirect:Ue}=Ae;let Xe=typeof Ue=="function"?Ue(Te):Ue;return typeof Xe=="string"&&(Xe=Xe.includes("?")||Xe.includes("#")?Xe=B(Xe):{path:Xe},Xe.params={}),Gi({query:Te.query,hash:Te.hash,params:Xe.path!=null?{}:Te.params},Xe)}}function g(Te,Ae){const Ue=c=M(Te),Xe=l.value,dt=Te.state,te=Te.force,ce=Te.replace===!0,fe=H(Ue);if(fe)return g(Gi(B(fe),{state:typeof fe=="object"?Gi({},dt,fe.state):dt,force:te,replace:ce}),Ae||Ue);const Be=Ue;Be.redirectedFrom=Ae;let we;return!te&&NG(i,Xe,Ue)&&(we=s0(16,{to:Be,from:Xe}),le(Xe,Xe,!0,!1)),(we?Promise.resolve(we):D(Be,Xe)).catch(re=>hu(re)?hu(re,2)?re:G(re):W(re,Be,Xe)).then(re=>{if(re){if(hu(re,2))return g(Gi({replace:ce},B(re.to),{state:typeof re.to=="object"?Gi({},dt,re.to.state):dt,force:te}),Ae||Be)}else re=ie(Be,Xe,!0,ce,dt);return Z(Be,Xe,re),re})}function T(Te,Ae){const Ue=U(Te,Ae);return Ue?Promise.reject(Ue):Promise.resolve()}function A(Te){const Ae=Je.values().next().value;return Ae&&typeof Ae.runWithContext=="function"?Ae.runWithContext(Te):Te()}function D(Te,Ae){let Ue;const[Xe,dt,te]=vW(Te,Ae);Ue=YC(Xe.reverse(),"beforeRouteLeave",Te,Ae);for(const fe of Xe)fe.leaveGuards.forEach(Be=>{Ue.push(Id(Be,Te,Ae))});const ce=T.bind(null,Te,Ae);return Ue.push(ce),Ze(Ue).then(()=>{Ue=[];for(const fe of a.list())Ue.push(Id(fe,Te,Ae));return Ue.push(ce),Ze(Ue)}).then(()=>{Ue=YC(dt,"beforeRouteUpdate",Te,Ae);for(const fe of dt)fe.updateGuards.forEach(Be=>{Ue.push(Id(Be,Te,Ae))});return Ue.push(ce),Ze(Ue)}).then(()=>{Ue=[];for(const fe of te)if(fe.beforeEnter)if(Ll(fe.beforeEnter))for(const Be of fe.beforeEnter)Ue.push(Id(Be,Te,Ae));else Ue.push(Id(fe.beforeEnter,Te,Ae));return Ue.push(ce),Ze(Ue)}).then(()=>(Te.matched.forEach(fe=>fe.enterCallbacks={}),Ue=YC(te,"beforeRouteEnter",Te,Ae,A),Ue.push(ce),Ze(Ue))).then(()=>{Ue=[];for(const fe of o.list())Ue.push(Id(fe,Te,Ae));return Ue.push(ce),Ze(Ue)}).catch(fe=>hu(fe,8)?fe:Promise.reject(fe))}function Z(Te,Ae,Ue){s.list().forEach(Xe=>A(()=>Xe(Te,Ae,Ue)))}function ie(Te,Ae,Ue,Xe,dt){const te=U(Te,Ae);if(te)return te;const ce=Ae===vd,fe=Kp?history.state:{};Ue&&(Xe||ce?r.replace(Te.fullPath,Gi({scroll:ce&&fe&&fe.scroll},dt)):r.push(Te.fullPath,dt)),l.value=Te,le(Te,Ae,Ue,ce),G()}let se;function ue(){se||(se=r.listen((Te,Ae,Ue)=>{if(!Ge.listening)return;const Xe=M(Te),dt=H(Xe);if(dt){g(Gi(dt,{replace:!0,force:!0}),Xe).catch(Um);return}c=Xe;const te=l.value;Kp&&qG(u5(te.fullPath,Ue.delta),ES()),D(Xe,te).catch(ce=>hu(ce,12)?ce:hu(ce,2)?(g(Gi(B(ce.to),{force:!0}),Xe).then(fe=>{hu(fe,20)&&!Ue.delta&&Ue.type===hy.pop&&r.go(-1,!1)}).catch(Um),Promise.reject()):(Ue.delta&&r.go(-Ue.delta,!1),W(ce,Xe,te))).then(ce=>{ce=ce||ie(Xe,te,!1),ce&&(Ue.delta&&!hu(ce,8)?r.go(-Ue.delta,!1):Ue.type===hy.pop&&hu(ce,20)&&r.go(-1,!1)),Z(Xe,te,ce)}).catch(Um)}))}let de=um(),F=um(),$;function W(Te,Ae,Ue){G(Te);const Xe=F.list();return Xe.length?Xe.forEach(dt=>dt(Te,Ae,Ue)):console.error(Te),Promise.reject(Te)}function J(){return $&&l.value!==vd?Promise.resolve():new Promise((Te,Ae)=>{de.add([Te,Ae])})}function G(Te){return $||($=!Te,ue(),de.list().forEach(([Ae,Ue])=>Te?Ue(Te):Ae()),de.reset()),Te}function le(Te,Ae,Ue,Xe){const{scrollBehavior:dt}=e;if(!Kp||!dt)return Promise.resolve();const te=!Ue&&UG(u5(Te.fullPath,0))||(Xe||!Ue)&&history.state&&history.state.scroll||null;return fS().then(()=>dt(Te,Ae,te)).then(ce=>ce&&$G(ce)).catch(ce=>W(ce,Te,Ae))}const Ie=Te=>r.go(Te);let it;const Je=new Set,Ge={currentRoute:l,listening:!0,addRoute:y,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:I,getRoutes:_,resolve:M,options:e,push:K,replace:Q,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:F.add,isReady:J,install(Te){const Ae=this;Te.component("RouterLink",hW),Te.component("RouterView",mW),Te.config.globalProperties.$router=Ae,Object.defineProperty(Te.config.globalProperties,"$route",{enumerable:!0,get:()=>ci(l)}),Kp&&!it&&l.value===vd&&(it=!0,K(r.location).catch(dt=>{}));const Ue={};for(const dt in vd)Object.defineProperty(Ue,dt,{get:()=>l.value[dt],enumerable:!0});Te.provide(xS,Ae),Te.provide(JP,XO(Ue)),Te.provide(fT,l);const Xe=Te.unmount;Je.add(Te),Te.unmount=function(){Je.delete(Te),Je.size<1&&(c=vd,se&&se(),se=null,l.value=vd,it=!1,$=!1),Xe()}}};function Ze(Te){return Te.reduce((Ae,Ue)=>Ae.then(()=>A(Ue)),Promise.resolve())}return Ge}function vW(e,t){const n=[],i=[],r=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){const s=t.matched[o];s&&(e.matched.find(c=>o0(c,s))?i.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(c=>o0(c,l))||r.push(l))}return[n,i,r]}function QP(){return kc(xS)}var Cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uE={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var bW=uE.exports,w5;function EW(){return w5||(w5=1,function(e){(function(t,n){e.exports=t.document?n(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:bW,function(t,n){var i=[],r=Object.getPrototypeOf,a=i.slice,o=i.flat?function(m){return i.flat.call(m)}:function(m){return i.concat.apply([],m)},s=i.push,l=i.indexOf,c={},h=c.toString,d=c.hasOwnProperty,p=d.toString,y=p.call(Object),S={},_=function(E){return typeof E=="function"&&typeof E.nodeType!="number"&&typeof E.item!="function"},I=function(E){return E!=null&&E===E.window},M=t.document,B={type:!0,src:!0,nonce:!0,noModule:!0};function U(m,E,C){C=C||M;var P,L,z=C.createElement("script");if(z.text=m,E)for(P in B)L=E[P]||E.getAttribute&&E.getAttribute(P),L&&z.setAttribute(P,L);C.head.appendChild(z).parentNode.removeChild(z)}function K(m){return m==null?m+"":typeof m=="object"||typeof m=="function"?c[h.call(m)]||"object":typeof m}var Q="3.7.1",H=/HTML$/i,g=function(m,E){return new g.fn.init(m,E)};g.fn=g.prototype={jquery:Q,constructor:g,length:0,toArray:function(){return a.call(this)},get:function(m){return m==null?a.call(this):m<0?this[m+this.length]:this[m]},pushStack:function(m){var E=g.merge(this.constructor(),m);return E.prevObject=this,E},each:function(m){return g.each(this,m)},map:function(m){return this.pushStack(g.map(this,function(E,C){return m.call(E,C,E)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(m,E){return(E+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(m,E){return E%2}))},eq:function(m){var E=this.length,C=+m+(m<0?E:0);return this.pushStack(C>=0&&C<E?[this[C]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},g.extend=g.fn.extend=function(){var m,E,C,P,L,z,Y=arguments[0]||{},Se=1,me=arguments.length,Re=!1;for(typeof Y=="boolean"&&(Re=Y,Y=arguments[Se]||{},Se++),typeof Y!="object"&&!_(Y)&&(Y={}),Se===me&&(Y=this,Se--);Se<me;Se++)if((m=arguments[Se])!=null)for(E in m)P=m[E],!(E==="__proto__"||Y===P)&&(Re&&P&&(g.isPlainObject(P)||(L=Array.isArray(P)))?(C=Y[E],L&&!Array.isArray(C)?z=[]:!L&&!g.isPlainObject(C)?z={}:z=C,L=!1,Y[E]=g.extend(Re,z,P)):P!==void 0&&(Y[E]=P));return Y},g.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(m){throw new Error(m)},noop:function(){},isPlainObject:function(m){var E,C;return!m||h.call(m)!=="[object Object]"?!1:(E=r(m),E?(C=d.call(E,"constructor")&&E.constructor,typeof C=="function"&&p.call(C)===y):!0)},isEmptyObject:function(m){var E;for(E in m)return!1;return!0},globalEval:function(m,E,C){U(m,{nonce:E&&E.nonce},C)},each:function(m,E){var C,P=0;if(T(m))for(C=m.length;P<C&&E.call(m[P],P,m[P])!==!1;P++);else for(P in m)if(E.call(m[P],P,m[P])===!1)break;return m},text:function(m){var E,C="",P=0,L=m.nodeType;if(!L)for(;E=m[P++];)C+=g.text(E);return L===1||L===11?m.textContent:L===9?m.documentElement.textContent:L===3||L===4?m.nodeValue:C},makeArray:function(m,E){var C=E||[];return m!=null&&(T(Object(m))?g.merge(C,typeof m=="string"?[m]:m):s.call(C,m)),C},inArray:function(m,E,C){return E==null?-1:l.call(E,m,C)},isXMLDoc:function(m){var E=m&&m.namespaceURI,C=m&&(m.ownerDocument||m).documentElement;return!H.test(E||C&&C.nodeName||"HTML")},merge:function(m,E){for(var C=+E.length,P=0,L=m.length;P<C;P++)m[L++]=E[P];return m.length=L,m},grep:function(m,E,C){for(var P,L=[],z=0,Y=m.length,Se=!C;z<Y;z++)P=!E(m[z],z),P!==Se&&L.push(m[z]);return L},map:function(m,E,C){var P,L,z=0,Y=[];if(T(m))for(P=m.length;z<P;z++)L=E(m[z],z,C),L!=null&&Y.push(L);else for(z in m)L=E(m[z],z,C),L!=null&&Y.push(L);return o(Y)},guid:1,support:S}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=i[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(m,E){c["[object "+E+"]"]=E.toLowerCase()});function T(m){var E=!!m&&"length"in m&&m.length,C=K(m);return _(m)||I(m)?!1:C==="array"||E===0||typeof E=="number"&&E>0&&E-1 in m}function A(m,E){return m.nodeName&&m.nodeName.toLowerCase()===E.toLowerCase()}var D=i.pop,Z=i.sort,ie=i.splice,se="[\\x20\\t\\r\\n\\f]",ue=new RegExp("^"+se+"+|((?:^|[^\\\\])(?:\\\\.)*)"+se+"+$","g");g.contains=function(m,E){var C=E&&E.parentNode;return m===C||!!(C&&C.nodeType===1&&(m.contains?m.contains(C):m.compareDocumentPosition&&m.compareDocumentPosition(C)&16))};var de=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function F(m,E){return E?m==="\0"?"�":m.slice(0,-1)+"\\"+m.charCodeAt(m.length-1).toString(16)+" ":"\\"+m}g.escapeSelector=function(m){return(m+"").replace(de,F)};var $=M,W=s;(function(){var m,E,C,P,L,z=W,Y,Se,me,Re,nt,ot=g.expando,je=0,mt=0,$t=Xc(),Dn=Xc(),kn=Xc(),Dr=Xc(),ur=function(pe,Pe){return pe===Pe&&(L=!0),0},Vo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Go="(?:\\\\[\\da-fA-F]{1,6}"+se+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Vn="\\["+se+"*("+Go+")(?:"+se+"*([*^$|!~]?=)"+se+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Go+"))|)"+se+"*\\]",gs=":("+Go+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Vn+")*)|.*)\\)|)",Kn=new RegExp(se+"+","g"),ui=new RegExp("^"+se+"*,"+se+"*"),mo=new RegExp("^"+se+"*([>+~]|"+se+")"+se+"*"),rd=new RegExp(se+"|>"),pa=new RegExp(gs),yl=new RegExp("^"+Go+"$"),$a={ID:new RegExp("^#("+Go+")"),CLASS:new RegExp("^\\.("+Go+")"),TAG:new RegExp("^("+Go+"|[*])"),ATTR:new RegExp("^"+Vn),PSEUDO:new RegExp("^"+gs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+se+"*(even|odd|(([+-]|)(\\d*)n|)"+se+"*(?:([+-]|)"+se+"*(\\d+)|))"+se+"*\\)|)","i"),bool:new RegExp("^(?:"+Vo+")$","i"),needsContext:new RegExp("^"+se+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+se+"*((?:-\\d)?\\d*)"+se+"*\\)|)(?=[^-]|$)","i")},ms=/^(?:input|select|textarea|button)$/i,Us=/^h\d$/i,ga=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yc=/[+~]/,ys=new RegExp("\\\\[\\da-fA-F]{1,6}"+se+"?|\\\\([^\\r\\n\\f])","g"),Wo=function(pe,Pe){var Ke="0x"+pe.slice(1)-65536;return Pe||(Ke<0?String.fromCharCode(Ke+65536):String.fromCharCode(Ke>>10|55296,Ke&1023|56320))},Ji=function(){Hs()},ad=jo(function(pe){return pe.disabled===!0&&A(pe,"fieldset")},{dir:"parentNode",next:"legend"});function Wl(){try{return Y.activeElement}catch{}}try{z.apply(i=a.call($.childNodes),$.childNodes),i[$.childNodes.length].nodeType}catch{z={apply:function(Pe,Ke){W.apply(Pe,a.call(Ke))},call:function(Pe){W.apply(Pe,a.call(arguments,1))}}}function fi(pe,Pe,Ke,Qe){var he,ke,Ce,st,ut,jt,Ft,Pt=Pe&&Pe.ownerDocument,Bn=Pe?Pe.nodeType:9;if(Ke=Ke||[],typeof pe!="string"||!pe||Bn!==1&&Bn!==9&&Bn!==11)return Ke;if(!Qe&&(Hs(Pe),Pe=Pe||Y,me)){if(Bn!==11&&(ut=ga.exec(pe)))if(he=ut[1]){if(Bn===9)if(Ce=Pe.getElementById(he)){if(Ce.id===he)return z.call(Ke,Ce),Ke}else return Ke;else if(Pt&&(Ce=Pt.getElementById(he))&&fi.contains(Pe,Ce)&&Ce.id===he)return z.call(Ke,Ce),Ke}else{if(ut[2])return z.apply(Ke,Pe.getElementsByTagName(pe)),Ke;if((he=ut[3])&&Pe.getElementsByClassName)return z.apply(Ke,Pe.getElementsByClassName(he)),Ke}if(!Dr[pe+" "]&&(!Re||!Re.test(pe))){if(Ft=pe,Pt=Pe,Bn===1&&(rd.test(pe)||mo.test(pe))){for(Pt=Yc.test(pe)&&wh(Pe.parentNode)||Pe,(Pt!=Pe||!S.scope)&&((st=Pe.getAttribute("id"))?st=g.escapeSelector(st):Pe.setAttribute("id",st=ot)),jt=bl(pe),ke=jt.length;ke--;)jt[ke]=(st?"#"+st:":scope")+" "+qa(jt[ke]);Ft=jt.join(",")}try{return z.apply(Ke,Pt.querySelectorAll(Ft)),Ke}catch{Dr(pe,!0)}finally{st===ot&&Pe.removeAttribute("id")}}}return op(pe.replace(ue,"$1"),Pe,Ke,Qe)}function Xc(){var pe=[];function Pe(Ke,Qe){return pe.push(Ke+" ")>E.cacheLength&&delete Pe[pe.shift()],Pe[Ke+" "]=Qe}return Pe}function yo(pe){return pe[ot]=!0,pe}function vl(pe){var Pe=Y.createElement("fieldset");try{return!!pe(Pe)}catch{return!1}finally{Pe.parentNode&&Pe.parentNode.removeChild(Pe),Pe=null}}function od(pe){return function(Pe){return A(Pe,"input")&&Pe.type===pe}}function q0(pe){return function(Pe){return(A(Pe,"input")||A(Pe,"button"))&&Pe.type===pe}}function ap(pe){return function(Pe){return"form"in Pe?Pe.parentNode&&Pe.disabled===!1?"label"in Pe?"label"in Pe.parentNode?Pe.parentNode.disabled===pe:Pe.disabled===pe:Pe.isDisabled===pe||Pe.isDisabled!==!pe&&ad(Pe)===pe:Pe.disabled===pe:"label"in Pe?Pe.disabled===pe:!1}}function ka(pe){return yo(function(Pe){return Pe=+Pe,yo(function(Ke,Qe){for(var he,ke=pe([],Ke.length,Pe),Ce=ke.length;Ce--;)Ke[he=ke[Ce]]&&(Ke[he]=!(Qe[he]=Ke[he]))})})}function wh(pe){return pe&&typeof pe.getElementsByTagName<"u"&&pe}function Hs(pe){var Pe,Ke=pe?pe.ownerDocument||pe:$;return Ke==Y||Ke.nodeType!==9||!Ke.documentElement||(Y=Ke,Se=Y.documentElement,me=!g.isXMLDoc(Y),nt=Se.matches||Se.webkitMatchesSelector||Se.msMatchesSelector,Se.msMatchesSelector&&$!=Y&&(Pe=Y.defaultView)&&Pe.top!==Pe&&Pe.addEventListener("unload",Ji),S.getById=vl(function(Qe){return Se.appendChild(Qe).id=g.expando,!Y.getElementsByName||!Y.getElementsByName(g.expando).length}),S.disconnectedMatch=vl(function(Qe){return nt.call(Qe,"*")}),S.scope=vl(function(){return Y.querySelectorAll(":scope")}),S.cssHas=vl(function(){try{return Y.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),S.getById?(E.filter.ID=function(Qe){var he=Qe.replace(ys,Wo);return function(ke){return ke.getAttribute("id")===he}},E.find.ID=function(Qe,he){if(typeof he.getElementById<"u"&&me){var ke=he.getElementById(Qe);return ke?[ke]:[]}}):(E.filter.ID=function(Qe){var he=Qe.replace(ys,Wo);return function(ke){var Ce=typeof ke.getAttributeNode<"u"&&ke.getAttributeNode("id");return Ce&&Ce.value===he}},E.find.ID=function(Qe,he){if(typeof he.getElementById<"u"&&me){var ke,Ce,st,ut=he.getElementById(Qe);if(ut){if(ke=ut.getAttributeNode("id"),ke&&ke.value===Qe)return[ut];for(st=he.getElementsByName(Qe),Ce=0;ut=st[Ce++];)if(ke=ut.getAttributeNode("id"),ke&&ke.value===Qe)return[ut]}return[]}}),E.find.TAG=function(Qe,he){return typeof he.getElementsByTagName<"u"?he.getElementsByTagName(Qe):he.querySelectorAll(Qe)},E.find.CLASS=function(Qe,he){if(typeof he.getElementsByClassName<"u"&&me)return he.getElementsByClassName(Qe)},Re=[],vl(function(Qe){var he;Se.appendChild(Qe).innerHTML="<a id='"+ot+"' href='' disabled='disabled'></a><select id='"+ot+"-\r\\' disabled='disabled'><option selected=''></option></select>",Qe.querySelectorAll("[selected]").length||Re.push("\\["+se+"*(?:value|"+Vo+")"),Qe.querySelectorAll("[id~="+ot+"-]").length||Re.push("~="),Qe.querySelectorAll("a#"+ot+"+*").length||Re.push(".#.+[+~]"),Qe.querySelectorAll(":checked").length||Re.push(":checked"),he=Y.createElement("input"),he.setAttribute("type","hidden"),Qe.appendChild(he).setAttribute("name","D"),Se.appendChild(Qe).disabled=!0,Qe.querySelectorAll(":disabled").length!==2&&Re.push(":enabled",":disabled"),he=Y.createElement("input"),he.setAttribute("name",""),Qe.appendChild(he),Qe.querySelectorAll("[name='']").length||Re.push("\\["+se+"*name"+se+"*="+se+`*(?:''|"")`)}),S.cssHas||Re.push(":has"),Re=Re.length&&new RegExp(Re.join("|")),ur=function(Qe,he){if(Qe===he)return L=!0,0;var ke=!Qe.compareDocumentPosition-!he.compareDocumentPosition;return ke||(ke=(Qe.ownerDocument||Qe)==(he.ownerDocument||he)?Qe.compareDocumentPosition(he):1,ke&1||!S.sortDetached&&he.compareDocumentPosition(Qe)===ke?Qe===Y||Qe.ownerDocument==$&&fi.contains($,Qe)?-1:he===Y||he.ownerDocument==$&&fi.contains($,he)?1:P?l.call(P,Qe)-l.call(P,he):0:ke&4?-1:1)}),Y}fi.matches=function(pe,Pe){return fi(pe,null,null,Pe)},fi.matchesSelector=function(pe,Pe){if(Hs(pe),me&&!Dr[Pe+" "]&&(!Re||!Re.test(Pe)))try{var Ke=nt.call(pe,Pe);if(Ke||S.disconnectedMatch||pe.document&&pe.document.nodeType!==11)return Ke}catch{Dr(Pe,!0)}return fi(Pe,Y,null,[pe]).length>0},fi.contains=function(pe,Pe){return(pe.ownerDocument||pe)!=Y&&Hs(pe),g.contains(pe,Pe)},fi.attr=function(pe,Pe){(pe.ownerDocument||pe)!=Y&&Hs(pe);var Ke=E.attrHandle[Pe.toLowerCase()],Qe=Ke&&d.call(E.attrHandle,Pe.toLowerCase())?Ke(pe,Pe,!me):void 0;return Qe!==void 0?Qe:pe.getAttribute(Pe)},fi.error=function(pe){throw new Error("Syntax error, unrecognized expression: "+pe)},g.uniqueSort=function(pe){var Pe,Ke=[],Qe=0,he=0;if(L=!S.sortStable,P=!S.sortStable&&a.call(pe,0),Z.call(pe,ur),L){for(;Pe=pe[he++];)Pe===pe[he]&&(Qe=Ke.push(he));for(;Qe--;)ie.call(pe,Ke[Qe],1)}return P=null,pe},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(a.apply(this)))},E=g.expr={cacheLength:50,createPseudo:yo,match:$a,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(pe){return pe[1]=pe[1].replace(ys,Wo),pe[3]=(pe[3]||pe[4]||pe[5]||"").replace(ys,Wo),pe[2]==="~="&&(pe[3]=" "+pe[3]+" "),pe.slice(0,4)},CHILD:function(pe){return pe[1]=pe[1].toLowerCase(),pe[1].slice(0,3)==="nth"?(pe[3]||fi.error(pe[0]),pe[4]=+(pe[4]?pe[5]+(pe[6]||1):2*(pe[3]==="even"||pe[3]==="odd")),pe[5]=+(pe[7]+pe[8]||pe[3]==="odd")):pe[3]&&fi.error(pe[0]),pe},PSEUDO:function(pe){var Pe,Ke=!pe[6]&&pe[2];return $a.CHILD.test(pe[0])?null:(pe[3]?pe[2]=pe[4]||pe[5]||"":Ke&&pa.test(Ke)&&(Pe=bl(Ke,!0))&&(Pe=Ke.indexOf(")",Ke.length-Pe)-Ke.length)&&(pe[0]=pe[0].slice(0,Pe),pe[2]=Ke.slice(0,Pe)),pe.slice(0,3))}},filter:{TAG:function(pe){var Pe=pe.replace(ys,Wo).toLowerCase();return pe==="*"?function(){return!0}:function(Ke){return A(Ke,Pe)}},CLASS:function(pe){var Pe=$t[pe+" "];return Pe||(Pe=new RegExp("(^|"+se+")"+pe+"("+se+"|$)"))&&$t(pe,function(Ke){return Pe.test(typeof Ke.className=="string"&&Ke.className||typeof Ke.getAttribute<"u"&&Ke.getAttribute("class")||"")})},ATTR:function(pe,Pe,Ke){return function(Qe){var he=fi.attr(Qe,pe);return he==null?Pe==="!=":Pe?(he+="",Pe==="="?he===Ke:Pe==="!="?he!==Ke:Pe==="^="?Ke&&he.indexOf(Ke)===0:Pe==="*="?Ke&&he.indexOf(Ke)>-1:Pe==="$="?Ke&&he.slice(-Ke.length)===Ke:Pe==="~="?(" "+he.replace(Kn," ")+" ").indexOf(Ke)>-1:Pe==="|="?he===Ke||he.slice(0,Ke.length+1)===Ke+"-":!1):!0}},CHILD:function(pe,Pe,Ke,Qe,he){var ke=pe.slice(0,3)!=="nth",Ce=pe.slice(-4)!=="last",st=Pe==="of-type";return Qe===1&&he===0?function(ut){return!!ut.parentNode}:function(ut,jt,Ft){var Pt,Bn,nn,Un,Ar,Br=ke!==Ce?"nextSibling":"previousSibling",kr=ut.parentNode,Oa=st&&ut.nodeName.toLowerCase(),vs=!Ft&&!st,In=!1;if(kr){if(ke){for(;Br;){for(nn=ut;nn=nn[Br];)if(st?A(nn,Oa):nn.nodeType===1)return!1;Ar=Br=pe==="only"&&!Ar&&"nextSibling"}return!0}if(Ar=[Ce?kr.firstChild:kr.lastChild],Ce&&vs){for(Bn=kr[ot]||(kr[ot]={}),Pt=Bn[pe]||[],Un=Pt[0]===je&&Pt[1],In=Un&&Pt[2],nn=Un&&kr.childNodes[Un];nn=++Un&&nn&&nn[Br]||(In=Un=0)||Ar.pop();)if(nn.nodeType===1&&++In&&nn===ut){Bn[pe]=[je,Un,In];break}}else if(vs&&(Bn=ut[ot]||(ut[ot]={}),Pt=Bn[pe]||[],Un=Pt[0]===je&&Pt[1],In=Un),In===!1)for(;(nn=++Un&&nn&&nn[Br]||(In=Un=0)||Ar.pop())&&!((st?A(nn,Oa):nn.nodeType===1)&&++In&&(vs&&(Bn=nn[ot]||(nn[ot]={}),Bn[pe]=[je,In]),nn===ut)););return In-=he,In===Qe||In%Qe===0&&In/Qe>=0}}},PSEUDO:function(pe,Pe){var Ke,Qe=E.pseudos[pe]||E.setFilters[pe.toLowerCase()]||fi.error("unsupported pseudo: "+pe);return Qe[ot]?Qe(Pe):Qe.length>1?(Ke=[pe,pe,"",Pe],E.setFilters.hasOwnProperty(pe.toLowerCase())?yo(function(he,ke){for(var Ce,st=Qe(he,Pe),ut=st.length;ut--;)Ce=l.call(he,st[ut]),he[Ce]=!(ke[Ce]=st[ut])}):function(he){return Qe(he,0,Ke)}):Qe}},pseudos:{not:yo(function(pe){var Pe=[],Ke=[],Qe=ld(pe.replace(ue,"$1"));return Qe[ot]?yo(function(he,ke,Ce,st){for(var ut,jt=Qe(he,null,st,[]),Ft=he.length;Ft--;)(ut=jt[Ft])&&(he[Ft]=!(ke[Ft]=ut))}):function(he,ke,Ce){return Pe[0]=he,Qe(Pe,null,Ce,Ke),Pe[0]=null,!Ke.pop()}}),has:yo(function(pe){return function(Pe){return fi(pe,Pe).length>0}}),contains:yo(function(pe){return pe=pe.replace(ys,Wo),function(Pe){return(Pe.textContent||g.text(Pe)).indexOf(pe)>-1}}),lang:yo(function(pe){return yl.test(pe||"")||fi.error("unsupported lang: "+pe),pe=pe.replace(ys,Wo).toLowerCase(),function(Pe){var Ke;do if(Ke=me?Pe.lang:Pe.getAttribute("xml:lang")||Pe.getAttribute("lang"))return Ke=Ke.toLowerCase(),Ke===pe||Ke.indexOf(pe+"-")===0;while((Pe=Pe.parentNode)&&Pe.nodeType===1);return!1}}),target:function(pe){var Pe=t.location&&t.location.hash;return Pe&&Pe.slice(1)===pe.id},root:function(pe){return pe===Se},focus:function(pe){return pe===Wl()&&Y.hasFocus()&&!!(pe.type||pe.href||~pe.tabIndex)},enabled:ap(!1),disabled:ap(!0),checked:function(pe){return A(pe,"input")&&!!pe.checked||A(pe,"option")&&!!pe.selected},selected:function(pe){return pe.parentNode&&pe.parentNode.selectedIndex,pe.selected===!0},empty:function(pe){for(pe=pe.firstChild;pe;pe=pe.nextSibling)if(pe.nodeType<6)return!1;return!0},parent:function(pe){return!E.pseudos.empty(pe)},header:function(pe){return Us.test(pe.nodeName)},input:function(pe){return ms.test(pe.nodeName)},button:function(pe){return A(pe,"input")&&pe.type==="button"||A(pe,"button")},text:function(pe){var Pe;return A(pe,"input")&&pe.type==="text"&&((Pe=pe.getAttribute("type"))==null||Pe.toLowerCase()==="text")},first:ka(function(){return[0]}),last:ka(function(pe,Pe){return[Pe-1]}),eq:ka(function(pe,Pe,Ke){return[Ke<0?Ke+Pe:Ke]}),even:ka(function(pe,Pe){for(var Ke=0;Ke<Pe;Ke+=2)pe.push(Ke);return pe}),odd:ka(function(pe,Pe){for(var Ke=1;Ke<Pe;Ke+=2)pe.push(Ke);return pe}),lt:ka(function(pe,Pe,Ke){var Qe;for(Ke<0?Qe=Ke+Pe:Ke>Pe?Qe=Pe:Qe=Ke;--Qe>=0;)pe.push(Qe);return pe}),gt:ka(function(pe,Pe,Ke){for(var Qe=Ke<0?Ke+Pe:Ke;++Qe<Pe;)pe.push(Qe);return pe})}},E.pseudos.nth=E.pseudos.eq;for(m in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[m]=od(m);for(m in{submit:!0,reset:!0})E.pseudos[m]=q0(m);function Jc(){}Jc.prototype=E.filters=E.pseudos,E.setFilters=new Jc;function bl(pe,Pe){var Ke,Qe,he,ke,Ce,st,ut,jt=Dn[pe+" "];if(jt)return Pe?0:jt.slice(0);for(Ce=pe,st=[],ut=E.preFilter;Ce;){(!Ke||(Qe=ui.exec(Ce)))&&(Qe&&(Ce=Ce.slice(Qe[0].length)||Ce),st.push(he=[])),Ke=!1,(Qe=mo.exec(Ce))&&(Ke=Qe.shift(),he.push({value:Ke,type:Qe[0].replace(ue," ")}),Ce=Ce.slice(Ke.length));for(ke in E.filter)(Qe=$a[ke].exec(Ce))&&(!ut[ke]||(Qe=ut[ke](Qe)))&&(Ke=Qe.shift(),he.push({value:Ke,type:ke,matches:Qe}),Ce=Ce.slice(Ke.length));if(!Ke)break}return Pe?Ce.length:Ce?fi.error(pe):Dn(pe,st).slice(0)}function qa(pe){for(var Pe=0,Ke=pe.length,Qe="";Pe<Ke;Pe++)Qe+=pe[Pe].value;return Qe}function jo(pe,Pe,Ke){var Qe=Pe.dir,he=Pe.next,ke=he||Qe,Ce=Ke&&ke==="parentNode",st=mt++;return Pe.first?function(ut,jt,Ft){for(;ut=ut[Qe];)if(ut.nodeType===1||Ce)return pe(ut,jt,Ft);return!1}:function(ut,jt,Ft){var Pt,Bn,nn=[je,st];if(Ft){for(;ut=ut[Qe];)if((ut.nodeType===1||Ce)&&pe(ut,jt,Ft))return!0}else for(;ut=ut[Qe];)if(ut.nodeType===1||Ce)if(Bn=ut[ot]||(ut[ot]={}),he&&A(ut,he))ut=ut[Qe]||ut;else{if((Pt=Bn[ke])&&Pt[0]===je&&Pt[1]===st)return nn[2]=Pt[2];if(Bn[ke]=nn,nn[2]=pe(ut,jt,Ft))return!0}return!1}}function sd(pe){return pe.length>1?function(Pe,Ke,Qe){for(var he=pe.length;he--;)if(!pe[he](Pe,Ke,Qe))return!1;return!0}:pe[0]}function Th(pe,Pe,Ke){for(var Qe=0,he=Pe.length;Qe<he;Qe++)fi(pe,Pe[Qe],Ke);return Ke}function ia(pe,Pe,Ke,Qe,he){for(var ke,Ce=[],st=0,ut=pe.length,jt=Pe!=null;st<ut;st++)(ke=pe[st])&&(!Ke||Ke(ke,Qe,he))&&(Ce.push(ke),jt&&Pe.push(st));return Ce}function Vs(pe,Pe,Ke,Qe,he,ke){return Qe&&!Qe[ot]&&(Qe=Vs(Qe)),he&&!he[ot]&&(he=Vs(he,ke)),yo(function(Ce,st,ut,jt){var Ft,Pt,Bn,nn,Un=[],Ar=[],Br=st.length,kr=Ce||Th(Pe||"*",ut.nodeType?[ut]:ut,[]),Oa=pe&&(Ce||!Pe)?ia(kr,Un,pe,ut,jt):kr;if(Ke?(nn=he||(Ce?pe:Br||Qe)?[]:st,Ke(Oa,nn,ut,jt)):nn=Oa,Qe)for(Ft=ia(nn,Ar),Qe(Ft,[],ut,jt),Pt=Ft.length;Pt--;)(Bn=Ft[Pt])&&(nn[Ar[Pt]]=!(Oa[Ar[Pt]]=Bn));if(Ce){if(he||pe){if(he){for(Ft=[],Pt=nn.length;Pt--;)(Bn=nn[Pt])&&Ft.push(Oa[Pt]=Bn);he(null,nn=[],Ft,jt)}for(Pt=nn.length;Pt--;)(Bn=nn[Pt])&&(Ft=he?l.call(Ce,Bn):Un[Pt])>-1&&(Ce[Ft]=!(st[Ft]=Bn))}}else nn=ia(nn===st?nn.splice(Br,nn.length):nn),he?he(null,st,nn,jt):z.apply(st,nn)})}function Ia(pe){for(var Pe,Ke,Qe,he=pe.length,ke=E.relative[pe[0].type],Ce=ke||E.relative[" "],st=ke?1:0,ut=jo(function(Pt){return Pt===Pe},Ce,!0),jt=jo(function(Pt){return l.call(Pe,Pt)>-1},Ce,!0),Ft=[function(Pt,Bn,nn){var Un=!ke&&(nn||Bn!=C)||((Pe=Bn).nodeType?ut(Pt,Bn,nn):jt(Pt,Bn,nn));return Pe=null,Un}];st<he;st++)if(Ke=E.relative[pe[st].type])Ft=[jo(sd(Ft),Ke)];else{if(Ke=E.filter[pe[st].type].apply(null,pe[st].matches),Ke[ot]){for(Qe=++st;Qe<he&&!E.relative[pe[Qe].type];Qe++);return Vs(st>1&&sd(Ft),st>1&&qa(pe.slice(0,st-1).concat({value:pe[st-2].type===" "?"*":""})).replace(ue,"$1"),Ke,st<Qe&&Ia(pe.slice(st,Qe)),Qe<he&&Ia(pe=pe.slice(Qe)),Qe<he&&qa(pe))}Ft.push(Ke)}return sd(Ft)}function Ah(pe,Pe){var Ke=Pe.length>0,Qe=pe.length>0,he=function(ke,Ce,st,ut,jt){var Ft,Pt,Bn,nn=0,Un="0",Ar=ke&&[],Br=[],kr=C,Oa=ke||Qe&&E.find.TAG("*",jt),vs=je+=kr==null?1:Math.random()||.1,In=Oa.length;for(jt&&(C=Ce==Y||Ce||jt);Un!==In&&(Ft=Oa[Un])!=null;Un++){if(Qe&&Ft){for(Pt=0,!Ce&&Ft.ownerDocument!=Y&&(Hs(Ft),st=!me);Bn=pe[Pt++];)if(Bn(Ft,Ce||Y,st)){z.call(ut,Ft);break}jt&&(je=vs)}Ke&&((Ft=!Bn&&Ft)&&nn--,ke&&Ar.push(Ft))}if(nn+=Un,Ke&&Un!==nn){for(Pt=0;Bn=Pe[Pt++];)Bn(Ar,Br,Ce,st);if(ke){if(nn>0)for(;Un--;)Ar[Un]||Br[Un]||(Br[Un]=D.call(ut));Br=ia(Br)}z.apply(ut,Br),jt&&!ke&&Br.length>0&&nn+Pe.length>1&&g.uniqueSort(ut)}return jt&&(je=vs,C=kr),Ar};return Ke?yo(he):he}function ld(pe,Pe){var Ke,Qe=[],he=[],ke=kn[pe+" "];if(!ke){for(Pe||(Pe=bl(pe)),Ke=Pe.length;Ke--;)ke=Ia(Pe[Ke]),ke[ot]?Qe.push(ke):he.push(ke);ke=kn(pe,Ah(he,Qe)),ke.selector=pe}return ke}function op(pe,Pe,Ke,Qe){var he,ke,Ce,st,ut,jt=typeof pe=="function"&&pe,Ft=!Qe&&bl(pe=jt.selector||pe);if(Ke=Ke||[],Ft.length===1){if(ke=Ft[0]=Ft[0].slice(0),ke.length>2&&(Ce=ke[0]).type==="ID"&&Pe.nodeType===9&&me&&E.relative[ke[1].type]){if(Pe=(E.find.ID(Ce.matches[0].replace(ys,Wo),Pe)||[])[0],Pe)jt&&(Pe=Pe.parentNode);else return Ke;pe=pe.slice(ke.shift().value.length)}for(he=$a.needsContext.test(pe)?0:ke.length;he--&&(Ce=ke[he],!E.relative[st=Ce.type]);)if((ut=E.find[st])&&(Qe=ut(Ce.matches[0].replace(ys,Wo),Yc.test(ke[0].type)&&wh(Pe.parentNode)||Pe))){if(ke.splice(he,1),pe=Qe.length&&qa(ke),!pe)return z.apply(Ke,Qe),Ke;break}}return(jt||ld(pe,Ft))(Qe,Pe,!me,Ke,!Pe||Yc.test(pe)&&wh(Pe.parentNode)||Pe),Ke}S.sortStable=ot.split("").sort(ur).join("")===ot,Hs(),S.sortDetached=vl(function(pe){return pe.compareDocumentPosition(Y.createElement("fieldset"))&1}),g.find=fi,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,fi.compile=ld,fi.select=op,fi.setDocument=Hs,fi.tokenize=bl,fi.escape=g.escapeSelector,fi.getText=g.text,fi.isXML=g.isXMLDoc,fi.selectors=g.expr,fi.support=g.support,fi.uniqueSort=g.uniqueSort})();var J=function(m,E,C){for(var P=[],L=C!==void 0;(m=m[E])&&m.nodeType!==9;)if(m.nodeType===1){if(L&&g(m).is(C))break;P.push(m)}return P},G=function(m,E){for(var C=[];m;m=m.nextSibling)m.nodeType===1&&m!==E&&C.push(m);return C},le=g.expr.match.needsContext,Ie=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function it(m,E,C){return _(E)?g.grep(m,function(P,L){return!!E.call(P,L,P)!==C}):E.nodeType?g.grep(m,function(P){return P===E!==C}):typeof E!="string"?g.grep(m,function(P){return l.call(E,P)>-1!==C}):g.filter(E,m,C)}g.filter=function(m,E,C){var P=E[0];return C&&(m=":not("+m+")"),E.length===1&&P.nodeType===1?g.find.matchesSelector(P,m)?[P]:[]:g.find.matches(m,g.grep(E,function(L){return L.nodeType===1}))},g.fn.extend({find:function(m){var E,C,P=this.length,L=this;if(typeof m!="string")return this.pushStack(g(m).filter(function(){for(E=0;E<P;E++)if(g.contains(L[E],this))return!0}));for(C=this.pushStack([]),E=0;E<P;E++)g.find(m,L[E],C);return P>1?g.uniqueSort(C):C},filter:function(m){return this.pushStack(it(this,m||[],!1))},not:function(m){return this.pushStack(it(this,m||[],!0))},is:function(m){return!!it(this,typeof m=="string"&&le.test(m)?g(m):m||[],!1).length}});var Je,Ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ze=g.fn.init=function(m,E,C){var P,L;if(!m)return this;if(C=C||Je,typeof m=="string")if(m[0]==="<"&&m[m.length-1]===">"&&m.length>=3?P=[null,m,null]:P=Ge.exec(m),P&&(P[1]||!E))if(P[1]){if(E=E instanceof g?E[0]:E,g.merge(this,g.parseHTML(P[1],E&&E.nodeType?E.ownerDocument||E:M,!0)),Ie.test(P[1])&&g.isPlainObject(E))for(P in E)_(this[P])?this[P](E[P]):this.attr(P,E[P]);return this}else return L=M.getElementById(P[2]),L&&(this[0]=L,this.length=1),this;else return!E||E.jquery?(E||C).find(m):this.constructor(E).find(m);else{if(m.nodeType)return this[0]=m,this.length=1,this;if(_(m))return C.ready!==void 0?C.ready(m):m(g)}return g.makeArray(m,this)};Ze.prototype=g.fn,Je=g(M);var Te=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(m){var E=g(m,this),C=E.length;return this.filter(function(){for(var P=0;P<C;P++)if(g.contains(this,E[P]))return!0})},closest:function(m,E){var C,P=0,L=this.length,z=[],Y=typeof m!="string"&&g(m);if(!le.test(m)){for(;P<L;P++)for(C=this[P];C&&C!==E;C=C.parentNode)if(C.nodeType<11&&(Y?Y.index(C)>-1:C.nodeType===1&&g.find.matchesSelector(C,m))){z.push(C);break}}return this.pushStack(z.length>1?g.uniqueSort(z):z)},index:function(m){return m?typeof m=="string"?l.call(g(m),this[0]):l.call(this,m.jquery?m[0]:m):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(m,E){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(m,E))))},addBack:function(m){return this.add(m==null?this.prevObject:this.prevObject.filter(m))}});function Ue(m,E){for(;(m=m[E])&&m.nodeType!==1;);return m}g.each({parent:function(m){var E=m.parentNode;return E&&E.nodeType!==11?E:null},parents:function(m){return J(m,"parentNode")},parentsUntil:function(m,E,C){return J(m,"parentNode",C)},next:function(m){return Ue(m,"nextSibling")},prev:function(m){return Ue(m,"previousSibling")},nextAll:function(m){return J(m,"nextSibling")},prevAll:function(m){return J(m,"previousSibling")},nextUntil:function(m,E,C){return J(m,"nextSibling",C)},prevUntil:function(m,E,C){return J(m,"previousSibling",C)},siblings:function(m){return G((m.parentNode||{}).firstChild,m)},children:function(m){return G(m.firstChild)},contents:function(m){return m.contentDocument!=null&&r(m.contentDocument)?m.contentDocument:(A(m,"template")&&(m=m.content||m),g.merge([],m.childNodes))}},function(m,E){g.fn[m]=function(C,P){var L=g.map(this,E,C);return m.slice(-5)!=="Until"&&(P=C),P&&typeof P=="string"&&(L=g.filter(P,L)),this.length>1&&(Ae[m]||g.uniqueSort(L),Te.test(m)&&L.reverse()),this.pushStack(L)}});var Xe=/[^\x20\t\r\n\f]+/g;function dt(m){var E={};return g.each(m.match(Xe)||[],function(C,P){E[P]=!0}),E}g.Callbacks=function(m){m=typeof m=="string"?dt(m):g.extend({},m);var E,C,P,L,z=[],Y=[],Se=-1,me=function(){for(L=L||m.once,P=E=!0;Y.length;Se=-1)for(C=Y.shift();++Se<z.length;)z[Se].apply(C[0],C[1])===!1&&m.stopOnFalse&&(Se=z.length,C=!1);m.memory||(C=!1),E=!1,L&&(C?z=[]:z="")},Re={add:function(){return z&&(C&&!E&&(Se=z.length-1,Y.push(C)),function nt(ot){g.each(ot,function(je,mt){_(mt)?(!m.unique||!Re.has(mt))&&z.push(mt):mt&&mt.length&&K(mt)!=="string"&&nt(mt)})}(arguments),C&&!E&&me()),this},remove:function(){return g.each(arguments,function(nt,ot){for(var je;(je=g.inArray(ot,z,je))>-1;)z.splice(je,1),je<=Se&&Se--}),this},has:function(nt){return nt?g.inArray(nt,z)>-1:z.length>0},empty:function(){return z&&(z=[]),this},disable:function(){return L=Y=[],z=C="",this},disabled:function(){return!z},lock:function(){return L=Y=[],!C&&!E&&(z=C=""),this},locked:function(){return!!L},fireWith:function(nt,ot){return L||(ot=ot||[],ot=[nt,ot.slice?ot.slice():ot],Y.push(ot),E||me()),this},fire:function(){return Re.fireWith(this,arguments),this},fired:function(){return!!P}};return Re};function te(m){return m}function ce(m){throw m}function fe(m,E,C,P){var L;try{m&&_(L=m.promise)?L.call(m).done(E).fail(C):m&&_(L=m.then)?L.call(m,E,C):E.apply(void 0,[m].slice(P))}catch(z){C.apply(void 0,[z])}}g.extend({Deferred:function(m){var E=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],C="pending",P={state:function(){return C},always:function(){return L.done(arguments).fail(arguments),this},catch:function(z){return P.then(null,z)},pipe:function(){var z=arguments;return g.Deferred(function(Y){g.each(E,function(Se,me){var Re=_(z[me[4]])&&z[me[4]];L[me[1]](function(){var nt=Re&&Re.apply(this,arguments);nt&&_(nt.promise)?nt.promise().progress(Y.notify).done(Y.resolve).fail(Y.reject):Y[me[0]+"With"](this,Re?[nt]:arguments)})}),z=null}).promise()},then:function(z,Y,Se){var me=0;function Re(nt,ot,je,mt){return function(){var $t=this,Dn=arguments,kn=function(){var ur,Vo;if(!(nt<me)){if(ur=je.apply($t,Dn),ur===ot.promise())throw new TypeError("Thenable self-resolution");Vo=ur&&(typeof ur=="object"||typeof ur=="function")&&ur.then,_(Vo)?mt?Vo.call(ur,Re(me,ot,te,mt),Re(me,ot,ce,mt)):(me++,Vo.call(ur,Re(me,ot,te,mt),Re(me,ot,ce,mt),Re(me,ot,te,ot.notifyWith))):(je!==te&&($t=void 0,Dn=[ur]),(mt||ot.resolveWith)($t,Dn))}},Dr=mt?kn:function(){try{kn()}catch(ur){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(ur,Dr.error),nt+1>=me&&(je!==ce&&($t=void 0,Dn=[ur]),ot.rejectWith($t,Dn))}};nt?Dr():(g.Deferred.getErrorHook?Dr.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(Dr.error=g.Deferred.getStackHook()),t.setTimeout(Dr))}}return g.Deferred(function(nt){E[0][3].add(Re(0,nt,_(Se)?Se:te,nt.notifyWith)),E[1][3].add(Re(0,nt,_(z)?z:te)),E[2][3].add(Re(0,nt,_(Y)?Y:ce))}).promise()},promise:function(z){return z!=null?g.extend(z,P):P}},L={};return g.each(E,function(z,Y){var Se=Y[2],me=Y[5];P[Y[1]]=Se.add,me&&Se.add(function(){C=me},E[3-z][2].disable,E[3-z][3].disable,E[0][2].lock,E[0][3].lock),Se.add(Y[3].fire),L[Y[0]]=function(){return L[Y[0]+"With"](this===L?void 0:this,arguments),this},L[Y[0]+"With"]=Se.fireWith}),P.promise(L),m&&m.call(L,L),L},when:function(m){var E=arguments.length,C=E,P=Array(C),L=a.call(arguments),z=g.Deferred(),Y=function(Se){return function(me){P[Se]=this,L[Se]=arguments.length>1?a.call(arguments):me,--E||z.resolveWith(P,L)}};if(E<=1&&(fe(m,z.done(Y(C)).resolve,z.reject,!E),z.state()==="pending"||_(L[C]&&L[C].then)))return z.then();for(;C--;)fe(L[C],Y(C),z.reject);return z.promise()}});var Be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(m,E){t.console&&t.console.warn&&m&&Be.test(m.name)&&t.console.warn("jQuery.Deferred exception: "+m.message,m.stack,E)},g.readyException=function(m){t.setTimeout(function(){throw m})};var we=g.Deferred();g.fn.ready=function(m){return we.then(m).catch(function(E){g.readyException(E)}),this},g.extend({isReady:!1,readyWait:1,ready:function(m){(m===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(m!==!0&&--g.readyWait>0)&&we.resolveWith(M,[g]))}}),g.ready.then=we.then;function re(){M.removeEventListener("DOMContentLoaded",re),t.removeEventListener("load",re),g.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(g.ready):(M.addEventListener("DOMContentLoaded",re),t.addEventListener("load",re));var Ee=function(m,E,C,P,L,z,Y){var Se=0,me=m.length,Re=C==null;if(K(C)==="object"){L=!0;for(Se in C)Ee(m,E,Se,C[Se],!0,z,Y)}else if(P!==void 0&&(L=!0,_(P)||(Y=!0),Re&&(Y?(E.call(m,P),E=null):(Re=E,E=function(nt,ot,je){return Re.call(g(nt),je)})),E))for(;Se<me;Se++)E(m[Se],C,Y?P:P.call(m[Se],Se,E(m[Se],C)));return L?m:Re?E.call(m):me?E(m[0],C):z},ve=/^-ms-/,We=/-([a-z])/g;function tt(m,E){return E.toUpperCase()}function yt(m){return m.replace(ve,"ms-").replace(We,tt)}var xt=function(m){return m.nodeType===1||m.nodeType===9||!+m.nodeType};function Nt(){this.expando=g.expando+Nt.uid++}Nt.uid=1,Nt.prototype={cache:function(m){var E=m[this.expando];return E||(E={},xt(m)&&(m.nodeType?m[this.expando]=E:Object.defineProperty(m,this.expando,{value:E,configurable:!0}))),E},set:function(m,E,C){var P,L=this.cache(m);if(typeof E=="string")L[yt(E)]=C;else for(P in E)L[yt(P)]=E[P];return L},get:function(m,E){return E===void 0?this.cache(m):m[this.expando]&&m[this.expando][yt(E)]},access:function(m,E,C){return E===void 0||E&&typeof E=="string"&&C===void 0?this.get(m,E):(this.set(m,E,C),C!==void 0?C:E)},remove:function(m,E){var C,P=m[this.expando];if(P!==void 0){if(E!==void 0)for(Array.isArray(E)?E=E.map(yt):(E=yt(E),E=E in P?[E]:E.match(Xe)||[]),C=E.length;C--;)delete P[E[C]];(E===void 0||g.isEmptyObject(P))&&(m.nodeType?m[this.expando]=void 0:delete m[this.expando])}},hasData:function(m){var E=m[this.expando];return E!==void 0&&!g.isEmptyObject(E)}};var at=new Nt,At=new Nt,Gt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tn=/[A-Z]/g;function wi(m){return m==="true"?!0:m==="false"?!1:m==="null"?null:m===+m+""?+m:Gt.test(m)?JSON.parse(m):m}function ii(m,E,C){var P;if(C===void 0&&m.nodeType===1)if(P="data-"+E.replace(tn,"-$&").toLowerCase(),C=m.getAttribute(P),typeof C=="string"){try{C=wi(C)}catch{}At.set(m,E,C)}else C=void 0;return C}g.extend({hasData:function(m){return At.hasData(m)||at.hasData(m)},data:function(m,E,C){return At.access(m,E,C)},removeData:function(m,E){At.remove(m,E)},_data:function(m,E,C){return at.access(m,E,C)},_removeData:function(m,E){at.remove(m,E)}}),g.fn.extend({data:function(m,E){var C,P,L,z=this[0],Y=z&&z.attributes;if(m===void 0){if(this.length&&(L=At.get(z),z.nodeType===1&&!at.get(z,"hasDataAttrs"))){for(C=Y.length;C--;)Y[C]&&(P=Y[C].name,P.indexOf("data-")===0&&(P=yt(P.slice(5)),ii(z,P,L[P])));at.set(z,"hasDataAttrs",!0)}return L}return typeof m=="object"?this.each(function(){At.set(this,m)}):Ee(this,function(Se){var me;if(z&&Se===void 0)return me=At.get(z,m),me!==void 0||(me=ii(z,m),me!==void 0)?me:void 0;this.each(function(){At.set(this,m,Se)})},null,E,arguments.length>1,null,!0)},removeData:function(m){return this.each(function(){At.remove(this,m)})}}),g.extend({queue:function(m,E,C){var P;if(m)return E=(E||"fx")+"queue",P=at.get(m,E),C&&(!P||Array.isArray(C)?P=at.access(m,E,g.makeArray(C)):P.push(C)),P||[]},dequeue:function(m,E){E=E||"fx";var C=g.queue(m,E),P=C.length,L=C.shift(),z=g._queueHooks(m,E),Y=function(){g.dequeue(m,E)};L==="inprogress"&&(L=C.shift(),P--),L&&(E==="fx"&&C.unshift("inprogress"),delete z.stop,L.call(m,Y,z)),!P&&z&&z.empty.fire()},_queueHooks:function(m,E){var C=E+"queueHooks";return at.get(m,C)||at.access(m,C,{empty:g.Callbacks("once memory").add(function(){at.remove(m,[E+"queue",C])})})}}),g.fn.extend({queue:function(m,E){var C=2;return typeof m!="string"&&(E=m,m="fx",C--),arguments.length<C?g.queue(this[0],m):E===void 0?this:this.each(function(){var P=g.queue(this,m,E);g._queueHooks(this,m),m==="fx"&&P[0]!=="inprogress"&&g.dequeue(this,m)})},dequeue:function(m){return this.each(function(){g.dequeue(this,m)})},clearQueue:function(m){return this.queue(m||"fx",[])},promise:function(m,E){var C,P=1,L=g.Deferred(),z=this,Y=this.length,Se=function(){--P||L.resolveWith(z,[z])};for(typeof m!="string"&&(E=m,m=void 0),m=m||"fx";Y--;)C=at.get(z[Y],m+"queueHooks"),C&&C.empty&&(P++,C.empty.add(Se));return Se(),L.promise(E)}});var ir=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ti=new RegExp("^(?:([+-])=|)("+ir+")([a-z%]*)$","i"),bi=["Top","Right","Bottom","Left"],Fi=M.documentElement,ri=function(m){return g.contains(m.ownerDocument,m)},zi={composed:!0};Fi.getRootNode&&(ri=function(m){return g.contains(m.ownerDocument,m)||m.getRootNode(zi)===m.ownerDocument});var mr=function(m,E){return m=E||m,m.style.display==="none"||m.style.display===""&&ri(m)&&g.css(m,"display")==="none"};function Fa(m,E,C,P){var L,z,Y=20,Se=P?function(){return P.cur()}:function(){return g.css(m,E,"")},me=Se(),Re=C&&C[3]||(g.cssNumber[E]?"":"px"),nt=m.nodeType&&(g.cssNumber[E]||Re!=="px"&&+me)&&Ti.exec(g.css(m,E));if(nt&&nt[3]!==Re){for(me=me/2,Re=Re||nt[3],nt=+me||1;Y--;)g.style(m,E,nt+Re),(1-z)*(1-(z=Se()/me||.5))<=0&&(Y=0),nt=nt/z;nt=nt*2,g.style(m,E,nt+Re),C=C||[]}return C&&(nt=+nt||+me||0,L=C[1]?nt+(C[1]+1)*C[2]:+C[2],P&&(P.unit=Re,P.start=nt,P.end=L)),L}var la={};function yr(m){var E,C=m.ownerDocument,P=m.nodeName,L=la[P];return L||(E=C.body.appendChild(C.createElement(P)),L=g.css(E,"display"),E.parentNode.removeChild(E),L==="none"&&(L="block"),la[P]=L,L)}function ta(m,E){for(var C,P,L=[],z=0,Y=m.length;z<Y;z++)P=m[z],P.style&&(C=P.style.display,E?(C==="none"&&(L[z]=at.get(P,"display")||null,L[z]||(P.style.display="")),P.style.display===""&&mr(P)&&(L[z]=yr(P))):C!=="none"&&(L[z]="none",at.set(P,"display",C)));for(z=0;z<Y;z++)L[z]!=null&&(m[z].style.display=L[z]);return m}g.fn.extend({show:function(){return ta(this,!0)},hide:function(){return ta(this)},toggle:function(m){return typeof m=="boolean"?m?this.show():this.hide():this.each(function(){mr(this)?g(this).show():g(this).hide()})}});var Qn=/^(?:checkbox|radio)$/i,ca=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,et=/^$|^module$|\/(?:java|ecma)script/i;(function(){var m=M.createDocumentFragment(),E=m.appendChild(M.createElement("div")),C=M.createElement("input");C.setAttribute("type","radio"),C.setAttribute("checked","checked"),C.setAttribute("name","t"),E.appendChild(C),S.checkClone=E.cloneNode(!0).cloneNode(!0).lastChild.checked,E.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!E.cloneNode(!0).lastChild.defaultValue,E.innerHTML="<option></option>",S.option=!!E.lastChild})();var _n={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_n.tbody=_n.tfoot=_n.colgroup=_n.caption=_n.thead,_n.th=_n.td,S.option||(_n.optgroup=_n.option=[1,"<select multiple='multiple'>","</select>"]);function Ln(m,E){var C;return typeof m.getElementsByTagName<"u"?C=m.getElementsByTagName(E||"*"):typeof m.querySelectorAll<"u"?C=m.querySelectorAll(E||"*"):C=[],E===void 0||E&&A(m,E)?g.merge([m],C):C}function Oi(m,E){for(var C=0,P=m.length;C<P;C++)at.set(m[C],"globalEval",!E||at.get(E[C],"globalEval"))}var na=/<|&#?\w+;/;function ql(m,E,C,P,L){for(var z,Y,Se,me,Re,nt,ot=E.createDocumentFragment(),je=[],mt=0,$t=m.length;mt<$t;mt++)if(z=m[mt],z||z===0)if(K(z)==="object")g.merge(je,z.nodeType?[z]:z);else if(!na.test(z))je.push(E.createTextNode(z));else{for(Y=Y||ot.appendChild(E.createElement("div")),Se=(ca.exec(z)||["",""])[1].toLowerCase(),me=_n[Se]||_n._default,Y.innerHTML=me[1]+g.htmlPrefilter(z)+me[2],nt=me[0];nt--;)Y=Y.lastChild;g.merge(je,Y.childNodes),Y=ot.firstChild,Y.textContent=""}for(ot.textContent="",mt=0;z=je[mt++];){if(P&&g.inArray(z,P)>-1){L&&L.push(z);continue}if(Re=ri(z),Y=Ln(ot.appendChild(z),"script"),Re&&Oi(Y),C)for(nt=0;z=Y[nt++];)et.test(z.type||"")&&C.push(z)}return ot}var hl=/^([^.]*)(?:\.(.+)|)/;function Wr(){return!0}function Ls(){return!1}function jr(m,E,C,P,L,z){var Y,Se;if(typeof E=="object"){typeof C!="string"&&(P=P||C,C=void 0);for(Se in E)jr(m,Se,C,P,E[Se],z);return m}if(P==null&&L==null?(L=C,P=C=void 0):L==null&&(typeof C=="string"?(L=P,P=void 0):(L=P,P=C,C=void 0)),L===!1)L=Ls;else if(!L)return m;return z===1&&(Y=L,L=function(me){return g().off(me),Y.apply(this,arguments)},L.guid=Y.guid||(Y.guid=g.guid++)),m.each(function(){g.event.add(this,E,L,P,C)})}g.event={global:{},add:function(m,E,C,P,L){var z,Y,Se,me,Re,nt,ot,je,mt,$t,Dn,kn=at.get(m);if(xt(m))for(C.handler&&(z=C,C=z.handler,L=z.selector),L&&g.find.matchesSelector(Fi,L),C.guid||(C.guid=g.guid++),(me=kn.events)||(me=kn.events=Object.create(null)),(Y=kn.handle)||(Y=kn.handle=function(Dr){return typeof g<"u"&&g.event.triggered!==Dr.type?g.event.dispatch.apply(m,arguments):void 0}),E=(E||"").match(Xe)||[""],Re=E.length;Re--;)Se=hl.exec(E[Re])||[],mt=Dn=Se[1],$t=(Se[2]||"").split(".").sort(),mt&&(ot=g.event.special[mt]||{},mt=(L?ot.delegateType:ot.bindType)||mt,ot=g.event.special[mt]||{},nt=g.extend({type:mt,origType:Dn,data:P,handler:C,guid:C.guid,selector:L,needsContext:L&&g.expr.match.needsContext.test(L),namespace:$t.join(".")},z),(je=me[mt])||(je=me[mt]=[],je.delegateCount=0,(!ot.setup||ot.setup.call(m,P,$t,Y)===!1)&&m.addEventListener&&m.addEventListener(mt,Y)),ot.add&&(ot.add.call(m,nt),nt.handler.guid||(nt.handler.guid=C.guid)),L?je.splice(je.delegateCount++,0,nt):je.push(nt),g.event.global[mt]=!0)},remove:function(m,E,C,P,L){var z,Y,Se,me,Re,nt,ot,je,mt,$t,Dn,kn=at.hasData(m)&&at.get(m);if(!(!kn||!(me=kn.events))){for(E=(E||"").match(Xe)||[""],Re=E.length;Re--;){if(Se=hl.exec(E[Re])||[],mt=Dn=Se[1],$t=(Se[2]||"").split(".").sort(),!mt){for(mt in me)g.event.remove(m,mt+E[Re],C,P,!0);continue}for(ot=g.event.special[mt]||{},mt=(P?ot.delegateType:ot.bindType)||mt,je=me[mt]||[],Se=Se[2]&&new RegExp("(^|\\.)"+$t.join("\\.(?:.*\\.|)")+"(\\.|$)"),Y=z=je.length;z--;)nt=je[z],(L||Dn===nt.origType)&&(!C||C.guid===nt.guid)&&(!Se||Se.test(nt.namespace))&&(!P||P===nt.selector||P==="**"&&nt.selector)&&(je.splice(z,1),nt.selector&&je.delegateCount--,ot.remove&&ot.remove.call(m,nt));Y&&!je.length&&((!ot.teardown||ot.teardown.call(m,$t,kn.handle)===!1)&&g.removeEvent(m,mt,kn.handle),delete me[mt])}g.isEmptyObject(me)&&at.remove(m,"handle events")}},dispatch:function(m){var E,C,P,L,z,Y,Se=new Array(arguments.length),me=g.event.fix(m),Re=(at.get(this,"events")||Object.create(null))[me.type]||[],nt=g.event.special[me.type]||{};for(Se[0]=me,E=1;E<arguments.length;E++)Se[E]=arguments[E];if(me.delegateTarget=this,!(nt.preDispatch&&nt.preDispatch.call(this,me)===!1)){for(Y=g.event.handlers.call(this,me,Re),E=0;(L=Y[E++])&&!me.isPropagationStopped();)for(me.currentTarget=L.elem,C=0;(z=L.handlers[C++])&&!me.isImmediatePropagationStopped();)(!me.rnamespace||z.namespace===!1||me.rnamespace.test(z.namespace))&&(me.handleObj=z,me.data=z.data,P=((g.event.special[z.origType]||{}).handle||z.handler).apply(L.elem,Se),P!==void 0&&(me.result=P)===!1&&(me.preventDefault(),me.stopPropagation()));return nt.postDispatch&&nt.postDispatch.call(this,me),me.result}},handlers:function(m,E){var C,P,L,z,Y,Se=[],me=E.delegateCount,Re=m.target;if(me&&Re.nodeType&&!(m.type==="click"&&m.button>=1)){for(;Re!==this;Re=Re.parentNode||this)if(Re.nodeType===1&&!(m.type==="click"&&Re.disabled===!0)){for(z=[],Y={},C=0;C<me;C++)P=E[C],L=P.selector+" ",Y[L]===void 0&&(Y[L]=P.needsContext?g(L,this).index(Re)>-1:g.find(L,this,null,[Re]).length),Y[L]&&z.push(P);z.length&&Se.push({elem:Re,handlers:z})}}return Re=this,me<E.length&&Se.push({elem:Re,handlers:E.slice(me)}),Se},addProp:function(m,E){Object.defineProperty(g.Event.prototype,m,{enumerable:!0,configurable:!0,get:_(E)?function(){if(this.originalEvent)return E(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[m]},set:function(C){Object.defineProperty(this,m,{enumerable:!0,configurable:!0,writable:!0,value:C})}})},fix:function(m){return m[g.expando]?m:new g.Event(m)},special:{load:{noBubble:!0},click:{setup:function(m){var E=this||m;return Qn.test(E.type)&&E.click&&A(E,"input")&&uo(E,"click",!0),!1},trigger:function(m){var E=this||m;return Qn.test(E.type)&&E.click&&A(E,"input")&&uo(E,"click"),!0},_default:function(m){var E=m.target;return Qn.test(E.type)&&E.click&&A(E,"input")&&at.get(E,"click")||A(E,"a")}},beforeunload:{postDispatch:function(m){m.result!==void 0&&m.originalEvent&&(m.originalEvent.returnValue=m.result)}}}};function uo(m,E,C){if(!C){at.get(m,E)===void 0&&g.event.add(m,E,Wr);return}at.set(m,E,!1),g.event.add(m,E,{namespace:!1,handler:function(P){var L,z=at.get(this,E);if(P.isTrigger&1&&this[E]){if(z)(g.event.special[E]||{}).delegateType&&P.stopPropagation();else if(z=a.call(arguments),at.set(this,E,z),this[E](),L=at.get(this,E),at.set(this,E,!1),z!==L)return P.stopImmediatePropagation(),P.preventDefault(),L}else z&&(at.set(this,E,g.event.trigger(z[0],z.slice(1),this)),P.stopPropagation(),P.isImmediatePropagationStopped=Wr)}})}g.removeEvent=function(m,E,C){m.removeEventListener&&m.removeEventListener(E,C)},g.Event=function(m,E){if(!(this instanceof g.Event))return new g.Event(m,E);m&&m.type?(this.originalEvent=m,this.type=m.type,this.isDefaultPrevented=m.defaultPrevented||m.defaultPrevented===void 0&&m.returnValue===!1?Wr:Ls,this.target=m.target&&m.target.nodeType===3?m.target.parentNode:m.target,this.currentTarget=m.currentTarget,this.relatedTarget=m.relatedTarget):this.type=m,E&&g.extend(this,E),this.timeStamp=m&&m.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Ls,isPropagationStopped:Ls,isImmediatePropagationStopped:Ls,isSimulated:!1,preventDefault:function(){var m=this.originalEvent;this.isDefaultPrevented=Wr,m&&!this.isSimulated&&m.preventDefault()},stopPropagation:function(){var m=this.originalEvent;this.isPropagationStopped=Wr,m&&!this.isSimulated&&m.stopPropagation()},stopImmediatePropagation:function(){var m=this.originalEvent;this.isImmediatePropagationStopped=Wr,m&&!this.isSimulated&&m.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(m,E){function C(P){if(M.documentMode){var L=at.get(this,"handle"),z=g.event.fix(P);z.type=P.type==="focusin"?"focus":"blur",z.isSimulated=!0,L(P),z.target===z.currentTarget&&L(z)}else g.event.simulate(E,P.target,g.event.fix(P))}g.event.special[m]={setup:function(){var P;if(uo(this,m,!0),M.documentMode)P=at.get(this,E),P||this.addEventListener(E,C),at.set(this,E,(P||0)+1);else return!1},trigger:function(){return uo(this,m),!0},teardown:function(){var P;if(M.documentMode)P=at.get(this,E)-1,P?at.set(this,E,P):(this.removeEventListener(E,C),at.remove(this,E));else return!1},_default:function(P){return at.get(P.target,m)},delegateType:E},g.event.special[E]={setup:function(){var P=this.ownerDocument||this.document||this,L=M.documentMode?this:P,z=at.get(L,E);z||(M.documentMode?this.addEventListener(E,C):P.addEventListener(m,C,!0)),at.set(L,E,(z||0)+1)},teardown:function(){var P=this.ownerDocument||this.document||this,L=M.documentMode?this:P,z=at.get(L,E)-1;z?at.set(L,E,z):(M.documentMode?this.removeEventListener(E,C):P.removeEventListener(m,C,!0),at.remove(L,E))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(m,E){g.event.special[m]={delegateType:E,bindType:E,handle:function(C){var P,L=this,z=C.relatedTarget,Y=C.handleObj;return(!z||z!==L&&!g.contains(L,z))&&(C.type=Y.origType,P=Y.handler.apply(this,arguments),C.type=E),P}}}),g.fn.extend({on:function(m,E,C,P){return jr(this,m,E,C,P)},one:function(m,E,C,P){return jr(this,m,E,C,P,1)},off:function(m,E,C){var P,L;if(m&&m.preventDefault&&m.handleObj)return P=m.handleObj,g(m.delegateTarget).off(P.namespace?P.origType+"."+P.namespace:P.origType,P.selector,P.handler),this;if(typeof m=="object"){for(L in m)this.off(L,E,m[L]);return this}return(E===!1||typeof E=="function")&&(C=E,E=void 0),C===!1&&(C=Ls),this.each(function(){g.event.remove(this,m,C,E)})}});var ds=/<script|<style|<link/i,fl=/checked\s*(?:[^=]|=\s*.checked.)/i,Vu=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function pl(m,E){return A(m,"table")&&A(E.nodeType!==11?E:E.firstChild,"tr")&&g(m).children("tbody")[0]||m}function ho(m){return m.type=(m.getAttribute("type")!==null)+"/"+m.type,m}function Gu(m){return(m.type||"").slice(0,5)==="true/"?m.type=m.type.slice(5):m.removeAttribute("type"),m}function zo(m,E){var C,P,L,z,Y,Se,me;if(E.nodeType===1){if(at.hasData(m)&&(z=at.get(m),me=z.events,me)){at.remove(E,"handle events");for(L in me)for(C=0,P=me[L].length;C<P;C++)g.event.add(E,L,me[L][C])}At.hasData(m)&&(Y=At.access(m),Se=g.extend({},Y),At.set(E,Se))}}function vr(m,E){var C=E.nodeName.toLowerCase();C==="input"&&Qn.test(m.type)?E.checked=m.checked:(C==="input"||C==="textarea")&&(E.defaultValue=m.defaultValue)}function cr(m,E,C,P){E=o(E);var L,z,Y,Se,me,Re,nt=0,ot=m.length,je=ot-1,mt=E[0],$t=_(mt);if($t||ot>1&&typeof mt=="string"&&!S.checkClone&&fl.test(mt))return m.each(function(Dn){var kn=m.eq(Dn);$t&&(E[0]=mt.call(this,Dn,kn.html())),cr(kn,E,C,P)});if(ot&&(L=ql(E,m[0].ownerDocument,!1,m,P),z=L.firstChild,L.childNodes.length===1&&(L=z),z||P)){for(Y=g.map(Ln(L,"script"),ho),Se=Y.length;nt<ot;nt++)me=L,nt!==je&&(me=g.clone(me,!0,!0),Se&&g.merge(Y,Ln(me,"script"))),C.call(m[nt],me,nt);if(Se)for(Re=Y[Y.length-1].ownerDocument,g.map(Y,Gu),nt=0;nt<Se;nt++)me=Y[nt],et.test(me.type||"")&&!at.access(me,"globalEval")&&g.contains(Re,me)&&(me.src&&(me.type||"").toLowerCase()!=="module"?g._evalUrl&&!me.noModule&&g._evalUrl(me.src,{nonce:me.nonce||me.getAttribute("nonce")},Re):U(me.textContent.replace(Vu,""),me,Re))}return m}function Kr(m,E,C){for(var P,L=E?g.filter(E,m):m,z=0;(P=L[z])!=null;z++)!C&&P.nodeType===1&&g.cleanData(Ln(P)),P.parentNode&&(C&&ri(P)&&Oi(Ln(P,"script")),P.parentNode.removeChild(P));return m}g.extend({htmlPrefilter:function(m){return m},clone:function(m,E,C){var P,L,z,Y,Se=m.cloneNode(!0),me=ri(m);if(!S.noCloneChecked&&(m.nodeType===1||m.nodeType===11)&&!g.isXMLDoc(m))for(Y=Ln(Se),z=Ln(m),P=0,L=z.length;P<L;P++)vr(z[P],Y[P]);if(E)if(C)for(z=z||Ln(m),Y=Y||Ln(Se),P=0,L=z.length;P<L;P++)zo(z[P],Y[P]);else zo(m,Se);return Y=Ln(Se,"script"),Y.length>0&&Oi(Y,!me&&Ln(m,"script")),Se},cleanData:function(m){for(var E,C,P,L=g.event.special,z=0;(C=m[z])!==void 0;z++)if(xt(C)){if(E=C[at.expando]){if(E.events)for(P in E.events)L[P]?g.event.remove(C,P):g.removeEvent(C,P,E.handle);C[at.expando]=void 0}C[At.expando]&&(C[At.expando]=void 0)}}}),g.fn.extend({detach:function(m){return Kr(this,m,!0)},remove:function(m){return Kr(this,m)},text:function(m){return Ee(this,function(E){return E===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=E)})},null,m,arguments.length)},append:function(){return cr(this,arguments,function(m){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var E=pl(this,m);E.appendChild(m)}})},prepend:function(){return cr(this,arguments,function(m){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var E=pl(this,m);E.insertBefore(m,E.firstChild)}})},before:function(){return cr(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this)})},after:function(){return cr(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this.nextSibling)})},empty:function(){for(var m,E=0;(m=this[E])!=null;E++)m.nodeType===1&&(g.cleanData(Ln(m,!1)),m.textContent="");return this},clone:function(m,E){return m=m??!1,E=E??m,this.map(function(){return g.clone(this,m,E)})},html:function(m){return Ee(this,function(E){var C=this[0]||{},P=0,L=this.length;if(E===void 0&&C.nodeType===1)return C.innerHTML;if(typeof E=="string"&&!ds.test(E)&&!_n[(ca.exec(E)||["",""])[1].toLowerCase()]){E=g.htmlPrefilter(E);try{for(;P<L;P++)C=this[P]||{},C.nodeType===1&&(g.cleanData(Ln(C,!1)),C.innerHTML=E);C=0}catch{}}C&&this.empty().append(E)},null,m,arguments.length)},replaceWith:function(){var m=[];return cr(this,arguments,function(E){var C=this.parentNode;g.inArray(this,m)<0&&(g.cleanData(Ln(this)),C&&C.replaceChild(E,this))},m)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(m,E){g.fn[m]=function(C){for(var P,L=[],z=g(C),Y=z.length-1,Se=0;Se<=Y;Se++)P=Se===Y?this:this.clone(!0),g(z[Se])[E](P),s.apply(L,P.get());return this.pushStack(L)}});var Dt=new RegExp("^("+ir+")(?!px)[a-z%]+$","i"),Me=/^--/,Et=function(m){var E=m.ownerDocument.defaultView;return(!E||!E.opener)&&(E=t),E.getComputedStyle(m)},Vt=function(m,E,C){var P,L,z={};for(L in E)z[L]=m.style[L],m.style[L]=E[L];P=C.call(m);for(L in E)m.style[L]=z[L];return P},jn=new RegExp(bi.join("|"),"i");(function(){function m(){if(Re){me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Re.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Fi.appendChild(me).appendChild(Re);var nt=t.getComputedStyle(Re);C=nt.top!=="1%",Se=E(nt.marginLeft)===12,Re.style.right="60%",z=E(nt.right)===36,P=E(nt.width)===36,Re.style.position="absolute",L=E(Re.offsetWidth/3)===12,Fi.removeChild(me),Re=null}}function E(nt){return Math.round(parseFloat(nt))}var C,P,L,z,Y,Se,me=M.createElement("div"),Re=M.createElement("div");Re.style&&(Re.style.backgroundClip="content-box",Re.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle=Re.style.backgroundClip==="content-box",g.extend(S,{boxSizingReliable:function(){return m(),P},pixelBoxStyles:function(){return m(),z},pixelPosition:function(){return m(),C},reliableMarginLeft:function(){return m(),Se},scrollboxSize:function(){return m(),L},reliableTrDimensions:function(){var nt,ot,je,mt;return Y==null&&(nt=M.createElement("table"),ot=M.createElement("tr"),je=M.createElement("div"),nt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ot.style.cssText="box-sizing:content-box;border:1px solid",ot.style.height="1px",je.style.height="9px",je.style.display="block",Fi.appendChild(nt).appendChild(ot).appendChild(je),mt=t.getComputedStyle(ot),Y=parseInt(mt.height,10)+parseInt(mt.borderTopWidth,10)+parseInt(mt.borderBottomWidth,10)===ot.offsetHeight,Fi.removeChild(nt)),Y}}))})();function Xi(m,E,C){var P,L,z,Y,Se=Me.test(E),me=m.style;return C=C||Et(m),C&&(Y=C.getPropertyValue(E)||C[E],Se&&Y&&(Y=Y.replace(ue,"$1")||void 0),Y===""&&!ri(m)&&(Y=g.style(m,E)),!S.pixelBoxStyles()&&Dt.test(Y)&&jn.test(E)&&(P=me.width,L=me.minWidth,z=me.maxWidth,me.minWidth=me.maxWidth=me.width=Y,Y=C.width,me.width=P,me.minWidth=L,me.maxWidth=z)),Y!==void 0?Y+"":Y}function ji(m,E){return{get:function(){if(m()){delete this.get;return}return(this.get=E).apply(this,arguments)}}}var rr=["Webkit","Moz","ms"],ua=M.createElement("div").style,$o={};function fr(m){for(var E=m[0].toUpperCase()+m.slice(1),C=rr.length;C--;)if(m=rr[C]+E,m in ua)return m}function Fs(m){var E=g.cssProps[m]||$o[m];return E||(m in ua?m:$o[m]=fr(m)||m)}var Ul=/^(none|table(?!-c[ea]).+)/,ep={position:"absolute",visibility:"hidden",display:"block"},yh={letterSpacing:"0",fontWeight:"400"};function vh(m,E,C){var P=Ti.exec(E);return P?Math.max(0,P[2]-(C||0))+(P[3]||"px"):E}function Wu(m,E,C,P,L,z){var Y=E==="width"?1:0,Se=0,me=0,Re=0;if(C===(P?"border":"content"))return 0;for(;Y<4;Y+=2)C==="margin"&&(Re+=g.css(m,C+bi[Y],!0,L)),P?(C==="content"&&(me-=g.css(m,"padding"+bi[Y],!0,L)),C!=="margin"&&(me-=g.css(m,"border"+bi[Y]+"Width",!0,L))):(me+=g.css(m,"padding"+bi[Y],!0,L),C!=="padding"?me+=g.css(m,"border"+bi[Y]+"Width",!0,L):Se+=g.css(m,"border"+bi[Y]+"Width",!0,L));return!P&&z>=0&&(me+=Math.max(0,Math.ceil(m["offset"+E[0].toUpperCase()+E.slice(1)]-z-me-Se-.5))||0),me+Re}function ju(m,E,C){var P=Et(m),L=!S.boxSizingReliable()||C,z=L&&g.css(m,"boxSizing",!1,P)==="border-box",Y=z,Se=Xi(m,E,P),me="offset"+E[0].toUpperCase()+E.slice(1);if(Dt.test(Se)){if(!C)return Se;Se="auto"}return(!S.boxSizingReliable()&&z||!S.reliableTrDimensions()&&A(m,"tr")||Se==="auto"||!parseFloat(Se)&&g.css(m,"display",!1,P)==="inline")&&m.getClientRects().length&&(z=g.css(m,"boxSizing",!1,P)==="border-box",Y=me in m,Y&&(Se=m[me])),Se=parseFloat(Se)||0,Se+Wu(m,E,C||(z?"border":"content"),Y,P,Se)+"px"}g.extend({cssHooks:{opacity:{get:function(m,E){if(E){var C=Xi(m,"opacity");return C===""?"1":C}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(m,E,C,P){if(!(!m||m.nodeType===3||m.nodeType===8||!m.style)){var L,z,Y,Se=yt(E),me=Me.test(E),Re=m.style;if(me||(E=Fs(Se)),Y=g.cssHooks[E]||g.cssHooks[Se],C!==void 0){if(z=typeof C,z==="string"&&(L=Ti.exec(C))&&L[1]&&(C=Fa(m,E,L),z="number"),C==null||C!==C)return;z==="number"&&!me&&(C+=L&&L[3]||(g.cssNumber[Se]?"":"px")),!S.clearCloneStyle&&C===""&&E.indexOf("background")===0&&(Re[E]="inherit"),(!Y||!("set"in Y)||(C=Y.set(m,C,P))!==void 0)&&(me?Re.setProperty(E,C):Re[E]=C)}else return Y&&"get"in Y&&(L=Y.get(m,!1,P))!==void 0?L:Re[E]}},css:function(m,E,C,P){var L,z,Y,Se=yt(E),me=Me.test(E);return me||(E=Fs(Se)),Y=g.cssHooks[E]||g.cssHooks[Se],Y&&"get"in Y&&(L=Y.get(m,!0,C)),L===void 0&&(L=Xi(m,E,P)),L==="normal"&&E in yh&&(L=yh[E]),C===""||C?(z=parseFloat(L),C===!0||isFinite(z)?z||0:L):L}}),g.each(["height","width"],function(m,E){g.cssHooks[E]={get:function(C,P,L){if(P)return Ul.test(g.css(C,"display"))&&(!C.getClientRects().length||!C.getBoundingClientRect().width)?Vt(C,ep,function(){return ju(C,E,L)}):ju(C,E,L)},set:function(C,P,L){var z,Y=Et(C),Se=!S.scrollboxSize()&&Y.position==="absolute",me=Se||L,Re=me&&g.css(C,"boxSizing",!1,Y)==="border-box",nt=L?Wu(C,E,L,Re,Y):0;return Re&&Se&&(nt-=Math.ceil(C["offset"+E[0].toUpperCase()+E.slice(1)]-parseFloat(Y[E])-Wu(C,E,"border",!1,Y)-.5)),nt&&(z=Ti.exec(P))&&(z[3]||"px")!=="px"&&(C.style[E]=P,P=g.css(C,E)),vh(C,P,nt)}}}),g.cssHooks.marginLeft=ji(S.reliableMarginLeft,function(m,E){if(E)return(parseFloat(Xi(m,"marginLeft"))||m.getBoundingClientRect().left-Vt(m,{marginLeft:0},function(){return m.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(m,E){g.cssHooks[m+E]={expand:function(C){for(var P=0,L={},z=typeof C=="string"?C.split(" "):[C];P<4;P++)L[m+bi[P]+E]=z[P]||z[P-2]||z[0];return L}},m!=="margin"&&(g.cssHooks[m+E].set=vh)}),g.fn.extend({css:function(m,E){return Ee(this,function(C,P,L){var z,Y,Se={},me=0;if(Array.isArray(P)){for(z=Et(C),Y=P.length;me<Y;me++)Se[P[me]]=g.css(C,P[me],!1,z);return Se}return L!==void 0?g.style(C,P,L):g.css(C,P)},m,E,arguments.length>1)}});function Yr(m,E,C,P,L){return new Yr.prototype.init(m,E,C,P,L)}g.Tween=Yr,Yr.prototype={constructor:Yr,init:function(m,E,C,P,L,z){this.elem=m,this.prop=C,this.easing=L||g.easing._default,this.options=E,this.start=this.now=this.cur(),this.end=P,this.unit=z||(g.cssNumber[C]?"":"px")},cur:function(){var m=Yr.propHooks[this.prop];return m&&m.get?m.get(this):Yr.propHooks._default.get(this)},run:function(m){var E,C=Yr.propHooks[this.prop];return this.options.duration?this.pos=E=g.easing[this.easing](m,this.options.duration*m,0,1,this.options.duration):this.pos=E=m,this.now=(this.end-this.start)*E+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),C&&C.set?C.set(this):Yr.propHooks._default.set(this),this}},Yr.prototype.init.prototype=Yr.prototype,Yr.propHooks={_default:{get:function(m){var E;return m.elem.nodeType!==1||m.elem[m.prop]!=null&&m.elem.style[m.prop]==null?m.elem[m.prop]:(E=g.css(m.elem,m.prop,""),!E||E==="auto"?0:E)},set:function(m){g.fx.step[m.prop]?g.fx.step[m.prop](m):m.elem.nodeType===1&&(g.cssHooks[m.prop]||m.elem.style[Fs(m.prop)]!=null)?g.style(m.elem,m.prop,m.now+m.unit):m.elem[m.prop]=m.now}}},Yr.propHooks.scrollTop=Yr.propHooks.scrollLeft={set:function(m){m.elem.nodeType&&m.elem.parentNode&&(m.elem[m.prop]=m.now)}},g.easing={linear:function(m){return m},swing:function(m){return .5-Math.cos(m*Math.PI)/2},_default:"swing"},g.fx=Yr.prototype.init,g.fx.step={};var zs,gl,qo=/^(?:toggle|show|hide)$/,da=/queueHooks$/;function za(){gl&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(za):t.setTimeout(za,g.fx.interval),g.fx.tick())}function ha(){return t.setTimeout(function(){zs=void 0}),zs=Date.now()}function Hl(m,E){var C,P=0,L={height:m};for(E=E?1:0;P<4;P+=2-E)C=bi[P],L["margin"+C]=L["padding"+C]=m;return E&&(L.opacity=L.width=m),L}function Gc(m,E,C){for(var P,L=(fa.tweeners[E]||[]).concat(fa.tweeners["*"]),z=0,Y=L.length;z<Y;z++)if(P=L[z].call(C,E,m))return P}function fo(m,E,C){var P,L,z,Y,Se,me,Re,nt,ot="width"in E||"height"in E,je=this,mt={},$t=m.style,Dn=m.nodeType&&mr(m),kn=at.get(m,"fxshow");C.queue||(Y=g._queueHooks(m,"fx"),Y.unqueued==null&&(Y.unqueued=0,Se=Y.empty.fire,Y.empty.fire=function(){Y.unqueued||Se()}),Y.unqueued++,je.always(function(){je.always(function(){Y.unqueued--,g.queue(m,"fx").length||Y.empty.fire()})}));for(P in E)if(L=E[P],qo.test(L)){if(delete E[P],z=z||L==="toggle",L===(Dn?"hide":"show"))if(L==="show"&&kn&&kn[P]!==void 0)Dn=!0;else continue;mt[P]=kn&&kn[P]||g.style(m,P)}if(me=!g.isEmptyObject(E),!(!me&&g.isEmptyObject(mt))){ot&&m.nodeType===1&&(C.overflow=[$t.overflow,$t.overflowX,$t.overflowY],Re=kn&&kn.display,Re==null&&(Re=at.get(m,"display")),nt=g.css(m,"display"),nt==="none"&&(Re?nt=Re:(ta([m],!0),Re=m.style.display||Re,nt=g.css(m,"display"),ta([m]))),(nt==="inline"||nt==="inline-block"&&Re!=null)&&g.css(m,"float")==="none"&&(me||(je.done(function(){$t.display=Re}),Re==null&&(nt=$t.display,Re=nt==="none"?"":nt)),$t.display="inline-block")),C.overflow&&($t.overflow="hidden",je.always(function(){$t.overflow=C.overflow[0],$t.overflowX=C.overflow[1],$t.overflowY=C.overflow[2]})),me=!1;for(P in mt)me||(kn?"hidden"in kn&&(Dn=kn.hidden):kn=at.access(m,"fxshow",{display:Re}),z&&(kn.hidden=!Dn),Dn&&ta([m],!0),je.done(function(){Dn||ta([m]),at.remove(m,"fxshow");for(P in mt)g.style(m,P,mt[P])})),me=Gc(Dn?kn[P]:0,P,je),P in kn||(kn[P]=me.start,Dn&&(me.end=me.start,me.start=0))}}function hs(m,E){var C,P,L,z,Y;for(C in m)if(P=yt(C),L=E[P],z=m[C],Array.isArray(z)&&(L=z[1],z=m[C]=z[0]),C!==P&&(m[P]=z,delete m[C]),Y=g.cssHooks[P],Y&&"expand"in Y){z=Y.expand(z),delete m[P];for(C in z)C in m||(m[C]=z[C],E[C]=L)}else E[P]=L}function fa(m,E,C){var P,L,z=0,Y=fa.prefilters.length,Se=g.Deferred().always(function(){delete me.elem}),me=function(){if(L)return!1;for(var ot=zs||ha(),je=Math.max(0,Re.startTime+Re.duration-ot),mt=je/Re.duration||0,$t=1-mt,Dn=0,kn=Re.tweens.length;Dn<kn;Dn++)Re.tweens[Dn].run($t);return Se.notifyWith(m,[Re,$t,je]),$t<1&&kn?je:(kn||Se.notifyWith(m,[Re,1,0]),Se.resolveWith(m,[Re]),!1)},Re=Se.promise({elem:m,props:g.extend({},E),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},C),originalProperties:E,originalOptions:C,startTime:zs||ha(),duration:C.duration,tweens:[],createTween:function(ot,je){var mt=g.Tween(m,Re.opts,ot,je,Re.opts.specialEasing[ot]||Re.opts.easing);return Re.tweens.push(mt),mt},stop:function(ot){var je=0,mt=ot?Re.tweens.length:0;if(L)return this;for(L=!0;je<mt;je++)Re.tweens[je].run(1);return ot?(Se.notifyWith(m,[Re,1,0]),Se.resolveWith(m,[Re,ot])):Se.rejectWith(m,[Re,ot]),this}}),nt=Re.props;for(hs(nt,Re.opts.specialEasing);z<Y;z++)if(P=fa.prefilters[z].call(Re,m,nt,Re.opts),P)return _(P.stop)&&(g._queueHooks(Re.elem,Re.opts.queue).stop=P.stop.bind(P)),P;return g.map(nt,Gc,Re),_(Re.opts.start)&&Re.opts.start.call(m,Re),Re.progress(Re.opts.progress).done(Re.opts.done,Re.opts.complete).fail(Re.opts.fail).always(Re.opts.always),g.fx.timer(g.extend(me,{elem:m,anim:Re,queue:Re.opts.queue})),Re}g.Animation=g.extend(fa,{tweeners:{"*":[function(m,E){var C=this.createTween(m,E);return Fa(C.elem,m,Ti.exec(E),C),C}]},tweener:function(m,E){_(m)?(E=m,m=["*"]):m=m.match(Xe);for(var C,P=0,L=m.length;P<L;P++)C=m[P],fa.tweeners[C]=fa.tweeners[C]||[],fa.tweeners[C].unshift(E)},prefilters:[fo],prefilter:function(m,E){E?fa.prefilters.unshift(m):fa.prefilters.push(m)}}),g.speed=function(m,E,C){var P=m&&typeof m=="object"?g.extend({},m):{complete:C||!C&&E||_(m)&&m,duration:m,easing:C&&E||E&&!_(E)&&E};return g.fx.off?P.duration=0:typeof P.duration!="number"&&(P.duration in g.fx.speeds?P.duration=g.fx.speeds[P.duration]:P.duration=g.fx.speeds._default),(P.queue==null||P.queue===!0)&&(P.queue="fx"),P.old=P.complete,P.complete=function(){_(P.old)&&P.old.call(this),P.queue&&g.dequeue(this,P.queue)},P},g.fn.extend({fadeTo:function(m,E,C,P){return this.filter(mr).css("opacity",0).show().end().animate({opacity:E},m,C,P)},animate:function(m,E,C,P){var L=g.isEmptyObject(m),z=g.speed(E,C,P),Y=function(){var Se=fa(this,g.extend({},m),z);(L||at.get(this,"finish"))&&Se.stop(!0)};return Y.finish=Y,L||z.queue===!1?this.each(Y):this.queue(z.queue,Y)},stop:function(m,E,C){var P=function(L){var z=L.stop;delete L.stop,z(C)};return typeof m!="string"&&(C=E,E=m,m=void 0),E&&this.queue(m||"fx",[]),this.each(function(){var L=!0,z=m!=null&&m+"queueHooks",Y=g.timers,Se=at.get(this);if(z)Se[z]&&Se[z].stop&&P(Se[z]);else for(z in Se)Se[z]&&Se[z].stop&&da.test(z)&&P(Se[z]);for(z=Y.length;z--;)Y[z].elem===this&&(m==null||Y[z].queue===m)&&(Y[z].anim.stop(C),L=!1,Y.splice(z,1));(L||!C)&&g.dequeue(this,m)})},finish:function(m){return m!==!1&&(m=m||"fx"),this.each(function(){var E,C=at.get(this),P=C[m+"queue"],L=C[m+"queueHooks"],z=g.timers,Y=P?P.length:0;for(C.finish=!0,g.queue(this,m,[]),L&&L.stop&&L.stop.call(this,!0),E=z.length;E--;)z[E].elem===this&&z[E].queue===m&&(z[E].anim.stop(!0),z.splice(E,1));for(E=0;E<Y;E++)P[E]&&P[E].finish&&P[E].finish.call(this);delete C.finish})}}),g.each(["toggle","show","hide"],function(m,E){var C=g.fn[E];g.fn[E]=function(P,L,z){return P==null||typeof P=="boolean"?C.apply(this,arguments):this.animate(Hl(E,!0),P,L,z)}}),g.each({slideDown:Hl("show"),slideUp:Hl("hide"),slideToggle:Hl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(m,E){g.fn[m]=function(C,P,L){return this.animate(E,C,P,L)}}),g.timers=[],g.fx.tick=function(){var m,E=0,C=g.timers;for(zs=Date.now();E<C.length;E++)m=C[E],!m()&&C[E]===m&&C.splice(E--,1);C.length||g.fx.stop(),zs=void 0},g.fx.timer=function(m){g.timers.push(m),g.fx.start()},g.fx.interval=13,g.fx.start=function(){gl||(gl=!0,za())},g.fx.stop=function(){gl=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(m,E){return m=g.fx&&g.fx.speeds[m]||m,E=E||"fx",this.queue(E,function(C,P){var L=t.setTimeout(C,m);P.stop=function(){t.clearTimeout(L)}})},function(){var m=M.createElement("input"),E=M.createElement("select"),C=E.appendChild(M.createElement("option"));m.type="checkbox",S.checkOn=m.value!=="",S.optSelected=C.selected,m=M.createElement("input"),m.value="t",m.type="radio",S.radioValue=m.value==="t"}();var $s,fs=g.expr.attrHandle;g.fn.extend({attr:function(m,E){return Ee(this,g.attr,m,E,arguments.length>1)},removeAttr:function(m){return this.each(function(){g.removeAttr(this,m)})}}),g.extend({attr:function(m,E,C){var P,L,z=m.nodeType;if(!(z===3||z===8||z===2)){if(typeof m.getAttribute>"u")return g.prop(m,E,C);if((z!==1||!g.isXMLDoc(m))&&(L=g.attrHooks[E.toLowerCase()]||(g.expr.match.bool.test(E)?$s:void 0)),C!==void 0){if(C===null){g.removeAttr(m,E);return}return L&&"set"in L&&(P=L.set(m,C,E))!==void 0?P:(m.setAttribute(E,C+""),C)}return L&&"get"in L&&(P=L.get(m,E))!==null?P:(P=g.find.attr(m,E),P??void 0)}},attrHooks:{type:{set:function(m,E){if(!S.radioValue&&E==="radio"&&A(m,"input")){var C=m.value;return m.setAttribute("type",E),C&&(m.value=C),E}}}},removeAttr:function(m,E){var C,P=0,L=E&&E.match(Xe);if(L&&m.nodeType===1)for(;C=L[P++];)m.removeAttribute(C)}}),$s={set:function(m,E,C){return E===!1?g.removeAttr(m,C):m.setAttribute(C,C),C}},g.each(g.expr.match.bool.source.match(/\w+/g),function(m,E){var C=fs[E]||g.find.attr;fs[E]=function(P,L,z){var Y,Se,me=L.toLowerCase();return z||(Se=fs[me],fs[me]=Y,Y=C(P,L,z)!=null?me:null,fs[me]=Se),Y}});var Ku=/^(?:input|select|textarea|button)$/i,po=/^(?:a|area)$/i;g.fn.extend({prop:function(m,E){return Ee(this,g.prop,m,E,arguments.length>1)},removeProp:function(m){return this.each(function(){delete this[g.propFix[m]||m]})}}),g.extend({prop:function(m,E,C){var P,L,z=m.nodeType;if(!(z===3||z===8||z===2))return(z!==1||!g.isXMLDoc(m))&&(E=g.propFix[E]||E,L=g.propHooks[E]),C!==void 0?L&&"set"in L&&(P=L.set(m,C,E))!==void 0?P:m[E]=C:L&&"get"in L&&(P=L.get(m,E))!==null?P:m[E]},propHooks:{tabIndex:{get:function(m){var E=g.find.attr(m,"tabindex");return E?parseInt(E,10):Ku.test(m.nodeName)||po.test(m.nodeName)&&m.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),S.optSelected||(g.propHooks.selected={get:function(m){var E=m.parentNode;return E&&E.parentNode&&E.parentNode.selectedIndex,null},set:function(m){var E=m.parentNode;E&&(E.selectedIndex,E.parentNode&&E.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function Uo(m){var E=m.match(Xe)||[];return E.join(" ")}function ps(m){return m.getAttribute&&m.getAttribute("class")||""}function go(m){return Array.isArray(m)?m:typeof m=="string"?m.match(Xe)||[]:[]}g.fn.extend({addClass:function(m){var E,C,P,L,z,Y;return _(m)?this.each(function(Se){g(this).addClass(m.call(this,Se,ps(this)))}):(E=go(m),E.length?this.each(function(){if(P=ps(this),C=this.nodeType===1&&" "+Uo(P)+" ",C){for(z=0;z<E.length;z++)L=E[z],C.indexOf(" "+L+" ")<0&&(C+=L+" ");Y=Uo(C),P!==Y&&this.setAttribute("class",Y)}}):this)},removeClass:function(m){var E,C,P,L,z,Y;return _(m)?this.each(function(Se){g(this).removeClass(m.call(this,Se,ps(this)))}):arguments.length?(E=go(m),E.length?this.each(function(){if(P=ps(this),C=this.nodeType===1&&" "+Uo(P)+" ",C){for(z=0;z<E.length;z++)for(L=E[z];C.indexOf(" "+L+" ")>-1;)C=C.replace(" "+L+" "," ");Y=Uo(C),P!==Y&&this.setAttribute("class",Y)}}):this):this.attr("class","")},toggleClass:function(m,E){var C,P,L,z,Y=typeof m,Se=Y==="string"||Array.isArray(m);return _(m)?this.each(function(me){g(this).toggleClass(m.call(this,me,ps(this),E),E)}):typeof E=="boolean"&&Se?E?this.addClass(m):this.removeClass(m):(C=go(m),this.each(function(){if(Se)for(z=g(this),L=0;L<C.length;L++)P=C[L],z.hasClass(P)?z.removeClass(P):z.addClass(P);else(m===void 0||Y==="boolean")&&(P=ps(this),P&&at.set(this,"__className__",P),this.setAttribute&&this.setAttribute("class",P||m===!1?"":at.get(this,"__className__")||""))}))},hasClass:function(m){var E,C,P=0;for(E=" "+m+" ";C=this[P++];)if(C.nodeType===1&&(" "+Uo(ps(C))+" ").indexOf(E)>-1)return!0;return!1}});var tp=/\r/g;g.fn.extend({val:function(m){var E,C,P,L=this[0];return arguments.length?(P=_(m),this.each(function(z){var Y;this.nodeType===1&&(P?Y=m.call(this,z,g(this).val()):Y=m,Y==null?Y="":typeof Y=="number"?Y+="":Array.isArray(Y)&&(Y=g.map(Y,function(Se){return Se==null?"":Se+""})),E=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!E||!("set"in E)||E.set(this,Y,"value")===void 0)&&(this.value=Y))})):L?(E=g.valHooks[L.type]||g.valHooks[L.nodeName.toLowerCase()],E&&"get"in E&&(C=E.get(L,"value"))!==void 0?C:(C=L.value,typeof C=="string"?C.replace(tp,""):C??"")):void 0}}),g.extend({valHooks:{option:{get:function(m){var E=g.find.attr(m,"value");return E??Uo(g.text(m))}},select:{get:function(m){var E,C,P,L=m.options,z=m.selectedIndex,Y=m.type==="select-one",Se=Y?null:[],me=Y?z+1:L.length;for(z<0?P=me:P=Y?z:0;P<me;P++)if(C=L[P],(C.selected||P===z)&&!C.disabled&&(!C.parentNode.disabled||!A(C.parentNode,"optgroup"))){if(E=g(C).val(),Y)return E;Se.push(E)}return Se},set:function(m,E){for(var C,P,L=m.options,z=g.makeArray(E),Y=L.length;Y--;)P=L[Y],(P.selected=g.inArray(g.valHooks.option.get(P),z)>-1)&&(C=!0);return C||(m.selectedIndex=-1),z}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(m,E){if(Array.isArray(E))return m.checked=g.inArray(g(m).val(),E)>-1}},S.checkOn||(g.valHooks[this].get=function(m){return m.getAttribute("value")===null?"on":m.value})});var Ta=t.location,Vl={guid:Date.now()},Wc=/\?/;g.parseXML=function(m){var E,C;if(!m||typeof m!="string")return null;try{E=new t.DOMParser().parseFromString(m,"text/xml")}catch{}return C=E&&E.getElementsByTagName("parsererror")[0],(!E||C)&&g.error("Invalid XML: "+(C?g.map(C.childNodes,function(P){return P.textContent}).join(`
`):m)),E};var Gl=/^(?:focusinfocus|focusoutblur)$/,Yu=function(m){m.stopPropagation()};g.extend(g.event,{trigger:function(m,E,C,P){var L,z,Y,Se,me,Re,nt,ot,je=[C||M],mt=d.call(m,"type")?m.type:m,$t=d.call(m,"namespace")?m.namespace.split("."):[];if(z=ot=Y=C=C||M,!(C.nodeType===3||C.nodeType===8)&&!Gl.test(mt+g.event.triggered)&&(mt.indexOf(".")>-1&&($t=mt.split("."),mt=$t.shift(),$t.sort()),me=mt.indexOf(":")<0&&"on"+mt,m=m[g.expando]?m:new g.Event(mt,typeof m=="object"&&m),m.isTrigger=P?2:3,m.namespace=$t.join("."),m.rnamespace=m.namespace?new RegExp("(^|\\.)"+$t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m.result=void 0,m.target||(m.target=C),E=E==null?[m]:g.makeArray(E,[m]),nt=g.event.special[mt]||{},!(!P&&nt.trigger&&nt.trigger.apply(C,E)===!1))){if(!P&&!nt.noBubble&&!I(C)){for(Se=nt.delegateType||mt,Gl.test(Se+mt)||(z=z.parentNode);z;z=z.parentNode)je.push(z),Y=z;Y===(C.ownerDocument||M)&&je.push(Y.defaultView||Y.parentWindow||t)}for(L=0;(z=je[L++])&&!m.isPropagationStopped();)ot=z,m.type=L>1?Se:nt.bindType||mt,Re=(at.get(z,"events")||Object.create(null))[m.type]&&at.get(z,"handle"),Re&&Re.apply(z,E),Re=me&&z[me],Re&&Re.apply&&xt(z)&&(m.result=Re.apply(z,E),m.result===!1&&m.preventDefault());return m.type=mt,!P&&!m.isDefaultPrevented()&&(!nt._default||nt._default.apply(je.pop(),E)===!1)&&xt(C)&&me&&_(C[mt])&&!I(C)&&(Y=C[me],Y&&(C[me]=null),g.event.triggered=mt,m.isPropagationStopped()&&ot.addEventListener(mt,Yu),C[mt](),m.isPropagationStopped()&&ot.removeEventListener(mt,Yu),g.event.triggered=void 0,Y&&(C[me]=Y)),m.result}},simulate:function(m,E,C){var P=g.extend(new g.Event,C,{type:m,isSimulated:!0});g.event.trigger(P,null,E)}}),g.fn.extend({trigger:function(m,E){return this.each(function(){g.event.trigger(m,E,this)})},triggerHandler:function(m,E){var C=this[0];if(C)return g.event.trigger(m,E,C,!0)}});var jc=/\[\]$/,Xu=/\r?\n/g,np=/^(?:submit|button|image|reset|file)$/i,ip=/^(?:input|select|textarea|keygen)/i;function qs(m,E,C,P){var L;if(Array.isArray(E))g.each(E,function(z,Y){C||jc.test(m)?P(m,Y):qs(m+"["+(typeof Y=="object"&&Y!=null?z:"")+"]",Y,C,P)});else if(!C&&K(E)==="object")for(L in E)qs(m+"["+L+"]",E[L],C,P);else P(m,E)}g.param=function(m,E){var C,P=[],L=function(z,Y){var Se=_(Y)?Y():Y;P[P.length]=encodeURIComponent(z)+"="+encodeURIComponent(Se??"")};if(m==null)return"";if(Array.isArray(m)||m.jquery&&!g.isPlainObject(m))g.each(m,function(){L(this.name,this.value)});else for(C in m)qs(C,m[C],E,L);return P.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var m=g.prop(this,"elements");return m?g.makeArray(m):this}).filter(function(){var m=this.type;return this.name&&!g(this).is(":disabled")&&ip.test(this.nodeName)&&!np.test(m)&&(this.checked||!Qn.test(m))}).map(function(m,E){var C=g(this).val();return C==null?null:Array.isArray(C)?g.map(C,function(P){return{name:E.name,value:P.replace(Xu,`\r
`)}}):{name:E.name,value:C.replace(Xu,`\r
`)}}).get()}});var z0=/%20/g,Ju=/#.*$/,bh=/([?&])_=[^&]*/,Qu=/^(.*?):[ \t]*([^\r\n]*)$/mg,Eh=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$0=/^(?:GET|HEAD)$/,Zu=/^\/\//,$i={},Ai={},ed="*/".concat("*"),Kc=M.createElement("a");Kc.href=Ta.href;function td(m){return function(E,C){typeof E!="string"&&(C=E,E="*");var P,L=0,z=E.toLowerCase().match(Xe)||[];if(_(C))for(;P=z[L++];)P[0]==="+"?(P=P.slice(1)||"*",(m[P]=m[P]||[]).unshift(C)):(m[P]=m[P]||[]).push(C)}}function xh(m,E,C,P){var L={},z=m===Ai;function Y(Se){var me;return L[Se]=!0,g.each(m[Se]||[],function(Re,nt){var ot=nt(E,C,P);if(typeof ot=="string"&&!z&&!L[ot])return E.dataTypes.unshift(ot),Y(ot),!1;if(z)return!(me=ot)}),me}return Y(E.dataTypes[0])||!L["*"]&&Y("*")}function ml(m,E){var C,P,L=g.ajaxSettings.flatOptions||{};for(C in E)E[C]!==void 0&&((L[C]?m:P||(P={}))[C]=E[C]);return P&&g.extend(!0,m,P),m}function Sh(m,E,C){for(var P,L,z,Y,Se=m.contents,me=m.dataTypes;me[0]==="*";)me.shift(),P===void 0&&(P=m.mimeType||E.getResponseHeader("Content-Type"));if(P){for(L in Se)if(Se[L]&&Se[L].test(P)){me.unshift(L);break}}if(me[0]in C)z=me[0];else{for(L in C){if(!me[0]||m.converters[L+" "+me[0]]){z=L;break}Y||(Y=L)}z=z||Y}if(z)return z!==me[0]&&me.unshift(z),C[z]}function _h(m,E,C,P){var L,z,Y,Se,me,Re={},nt=m.dataTypes.slice();if(nt[1])for(Y in m.converters)Re[Y.toLowerCase()]=m.converters[Y];for(z=nt.shift();z;)if(m.responseFields[z]&&(C[m.responseFields[z]]=E),!me&&P&&m.dataFilter&&(E=m.dataFilter(E,m.dataType)),me=z,z=nt.shift(),z){if(z==="*")z=me;else if(me!=="*"&&me!==z){if(Y=Re[me+" "+z]||Re["* "+z],!Y){for(L in Re)if(Se=L.split(" "),Se[1]===z&&(Y=Re[me+" "+Se[0]]||Re["* "+Se[0]],Y)){Y===!0?Y=Re[L]:Re[L]!==!0&&(z=Se[0],nt.unshift(Se[1]));break}}if(Y!==!0)if(Y&&m.throws)E=Y(E);else try{E=Y(E)}catch(ot){return{state:"parsererror",error:Y?ot:"No conversion from "+me+" to "+z}}}}return{state:"success",data:E}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ta.href,type:"GET",isLocal:Eh.test(Ta.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ed,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(m,E){return E?ml(ml(m,g.ajaxSettings),E):ml(g.ajaxSettings,m)},ajaxPrefilter:td($i),ajaxTransport:td(Ai),ajax:function(m,E){typeof m=="object"&&(E=m,m=void 0),E=E||{};var C,P,L,z,Y,Se,me,Re,nt,ot,je=g.ajaxSetup({},E),mt=je.context||je,$t=je.context&&(mt.nodeType||mt.jquery)?g(mt):g.event,Dn=g.Deferred(),kn=g.Callbacks("once memory"),Dr=je.statusCode||{},ur={},Vo={},Go="canceled",Vn={readyState:0,getResponseHeader:function(Kn){var ui;if(me){if(!z)for(z={};ui=Qu.exec(L);)z[ui[1].toLowerCase()+" "]=(z[ui[1].toLowerCase()+" "]||[]).concat(ui[2]);ui=z[Kn.toLowerCase()+" "]}return ui==null?null:ui.join(", ")},getAllResponseHeaders:function(){return me?L:null},setRequestHeader:function(Kn,ui){return me==null&&(Kn=Vo[Kn.toLowerCase()]=Vo[Kn.toLowerCase()]||Kn,ur[Kn]=ui),this},overrideMimeType:function(Kn){return me==null&&(je.mimeType=Kn),this},statusCode:function(Kn){var ui;if(Kn)if(me)Vn.always(Kn[Vn.status]);else for(ui in Kn)Dr[ui]=[Dr[ui],Kn[ui]];return this},abort:function(Kn){var ui=Kn||Go;return C&&C.abort(ui),gs(0,ui),this}};if(Dn.promise(Vn),je.url=((m||je.url||Ta.href)+"").replace(Zu,Ta.protocol+"//"),je.type=E.method||E.type||je.method||je.type,je.dataTypes=(je.dataType||"*").toLowerCase().match(Xe)||[""],je.crossDomain==null){Se=M.createElement("a");try{Se.href=je.url,Se.href=Se.href,je.crossDomain=Kc.protocol+"//"+Kc.host!=Se.protocol+"//"+Se.host}catch{je.crossDomain=!0}}if(je.data&&je.processData&&typeof je.data!="string"&&(je.data=g.param(je.data,je.traditional)),xh($i,je,E,Vn),me)return Vn;Re=g.event&&je.global,Re&&g.active++===0&&g.event.trigger("ajaxStart"),je.type=je.type.toUpperCase(),je.hasContent=!$0.test(je.type),P=je.url.replace(Ju,""),je.hasContent?je.data&&je.processData&&(je.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(je.data=je.data.replace(z0,"+")):(ot=je.url.slice(P.length),je.data&&(je.processData||typeof je.data=="string")&&(P+=(Wc.test(P)?"&":"?")+je.data,delete je.data),je.cache===!1&&(P=P.replace(bh,"$1"),ot=(Wc.test(P)?"&":"?")+"_="+Vl.guid+++ot),je.url=P+ot),je.ifModified&&(g.lastModified[P]&&Vn.setRequestHeader("If-Modified-Since",g.lastModified[P]),g.etag[P]&&Vn.setRequestHeader("If-None-Match",g.etag[P])),(je.data&&je.hasContent&&je.contentType!==!1||E.contentType)&&Vn.setRequestHeader("Content-Type",je.contentType),Vn.setRequestHeader("Accept",je.dataTypes[0]&&je.accepts[je.dataTypes[0]]?je.accepts[je.dataTypes[0]]+(je.dataTypes[0]!=="*"?", "+ed+"; q=0.01":""):je.accepts["*"]);for(nt in je.headers)Vn.setRequestHeader(nt,je.headers[nt]);if(je.beforeSend&&(je.beforeSend.call(mt,Vn,je)===!1||me))return Vn.abort();if(Go="abort",kn.add(je.complete),Vn.done(je.success),Vn.fail(je.error),C=xh(Ai,je,E,Vn),!C)gs(-1,"No Transport");else{if(Vn.readyState=1,Re&&$t.trigger("ajaxSend",[Vn,je]),me)return Vn;je.async&&je.timeout>0&&(Y=t.setTimeout(function(){Vn.abort("timeout")},je.timeout));try{me=!1,C.send(ur,gs)}catch(Kn){if(me)throw Kn;gs(-1,Kn)}}function gs(Kn,ui,mo,rd){var pa,yl,$a,ms,Us,ga=ui;me||(me=!0,Y&&t.clearTimeout(Y),C=void 0,L=rd||"",Vn.readyState=Kn>0?4:0,pa=Kn>=200&&Kn<300||Kn===304,mo&&(ms=Sh(je,Vn,mo)),!pa&&g.inArray("script",je.dataTypes)>-1&&g.inArray("json",je.dataTypes)<0&&(je.converters["text script"]=function(){}),ms=_h(je,ms,Vn,pa),pa?(je.ifModified&&(Us=Vn.getResponseHeader("Last-Modified"),Us&&(g.lastModified[P]=Us),Us=Vn.getResponseHeader("etag"),Us&&(g.etag[P]=Us)),Kn===204||je.type==="HEAD"?ga="nocontent":Kn===304?ga="notmodified":(ga=ms.state,yl=ms.data,$a=ms.error,pa=!$a)):($a=ga,(Kn||!ga)&&(ga="error",Kn<0&&(Kn=0))),Vn.status=Kn,Vn.statusText=(ui||ga)+"",pa?Dn.resolveWith(mt,[yl,ga,Vn]):Dn.rejectWith(mt,[Vn,ga,$a]),Vn.statusCode(Dr),Dr=void 0,Re&&$t.trigger(pa?"ajaxSuccess":"ajaxError",[Vn,je,pa?yl:$a]),kn.fireWith(mt,[Vn,ga]),Re&&($t.trigger("ajaxComplete",[Vn,je]),--g.active||g.event.trigger("ajaxStop")))}return Vn},getJSON:function(m,E,C){return g.get(m,E,C,"json")},getScript:function(m,E){return g.get(m,void 0,E,"script")}}),g.each(["get","post"],function(m,E){g[E]=function(C,P,L,z){return _(P)&&(z=z||L,L=P,P=void 0),g.ajax(g.extend({url:C,type:E,dataType:z,data:P,success:L},g.isPlainObject(C)&&C))}}),g.ajaxPrefilter(function(m){var E;for(E in m.headers)E.toLowerCase()==="content-type"&&(m.contentType=m.headers[E]||"")}),g._evalUrl=function(m,E,C){return g.ajax({url:m,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(P){g.globalEval(P,E,C)}})},g.fn.extend({wrapAll:function(m){var E;return this[0]&&(_(m)&&(m=m.call(this[0])),E=g(m,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&E.insertBefore(this[0]),E.map(function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C}).append(this)),this},wrapInner:function(m){return _(m)?this.each(function(E){g(this).wrapInner(m.call(this,E))}):this.each(function(){var E=g(this),C=E.contents();C.length?C.wrapAll(m):E.append(m)})},wrap:function(m){var E=_(m);return this.each(function(C){g(this).wrapAll(E?m.call(this,C):m)})},unwrap:function(m){return this.parent(m).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(m){return!g.expr.pseudos.visible(m)},g.expr.pseudos.visible=function(m){return!!(m.offsetWidth||m.offsetHeight||m.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var rp={0:200,1223:204},qi=g.ajaxSettings.xhr();S.cors=!!qi&&"withCredentials"in qi,S.ajax=qi=!!qi,g.ajaxTransport(function(m){var E,C;if(S.cors||qi&&!m.crossDomain)return{send:function(P,L){var z,Y=m.xhr();if(Y.open(m.type,m.url,m.async,m.username,m.password),m.xhrFields)for(z in m.xhrFields)Y[z]=m.xhrFields[z];m.mimeType&&Y.overrideMimeType&&Y.overrideMimeType(m.mimeType),!m.crossDomain&&!P["X-Requested-With"]&&(P["X-Requested-With"]="XMLHttpRequest");for(z in P)Y.setRequestHeader(z,P[z]);E=function(Se){return function(){E&&(E=C=Y.onload=Y.onerror=Y.onabort=Y.ontimeout=Y.onreadystatechange=null,Se==="abort"?Y.abort():Se==="error"?typeof Y.status!="number"?L(0,"error"):L(Y.status,Y.statusText):L(rp[Y.status]||Y.status,Y.statusText,(Y.responseType||"text")!=="text"||typeof Y.responseText!="string"?{binary:Y.response}:{text:Y.responseText},Y.getAllResponseHeaders()))}},Y.onload=E(),C=Y.onerror=Y.ontimeout=E("error"),Y.onabort!==void 0?Y.onabort=C:Y.onreadystatechange=function(){Y.readyState===4&&t.setTimeout(function(){E&&C()})},E=E("abort");try{Y.send(m.hasContent&&m.data||null)}catch(Se){if(E)throw Se}},abort:function(){E&&E()}}}),g.ajaxPrefilter(function(m){m.crossDomain&&(m.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(m){return g.globalEval(m),m}}}),g.ajaxPrefilter("script",function(m){m.cache===void 0&&(m.cache=!1),m.crossDomain&&(m.type="GET")}),g.ajaxTransport("script",function(m){if(m.crossDomain||m.scriptAttrs){var E,C;return{send:function(P,L){E=g("<script>").attr(m.scriptAttrs||{}).prop({charset:m.scriptCharset,src:m.url}).on("load error",C=function(z){E.remove(),C=null,z&&L(z.type==="error"?404:200,z.type)}),M.head.appendChild(E[0])},abort:function(){C&&C()}}}});var nd=[],Ho=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var m=nd.pop()||g.expando+"_"+Vl.guid++;return this[m]=!0,m}}),g.ajaxPrefilter("json jsonp",function(m,E,C){var P,L,z,Y=m.jsonp!==!1&&(Ho.test(m.url)?"url":typeof m.data=="string"&&(m.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ho.test(m.data)&&"data");if(Y||m.dataTypes[0]==="jsonp")return P=m.jsonpCallback=_(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback,Y?m[Y]=m[Y].replace(Ho,"$1"+P):m.jsonp!==!1&&(m.url+=(Wc.test(m.url)?"&":"?")+m.jsonp+"="+P),m.converters["script json"]=function(){return z||g.error(P+" was not called"),z[0]},m.dataTypes[0]="json",L=t[P],t[P]=function(){z=arguments},C.always(function(){L===void 0?g(t).removeProp(P):t[P]=L,m[P]&&(m.jsonpCallback=E.jsonpCallback,nd.push(P)),z&&_(L)&&L(z[0]),z=L=void 0}),"script"}),S.createHTMLDocument=function(){var m=M.implementation.createHTMLDocument("").body;return m.innerHTML="<form></form><form></form>",m.childNodes.length===2}(),g.parseHTML=function(m,E,C){if(typeof m!="string")return[];typeof E=="boolean"&&(C=E,E=!1);var P,L,z;return E||(S.createHTMLDocument?(E=M.implementation.createHTMLDocument(""),P=E.createElement("base"),P.href=M.location.href,E.head.appendChild(P)):E=M),L=Ie.exec(m),z=!C&&[],L?[E.createElement(L[1])]:(L=ql([m],E,z),z&&z.length&&g(z).remove(),g.merge([],L.childNodes))},g.fn.load=function(m,E,C){var P,L,z,Y=this,Se=m.indexOf(" ");return Se>-1&&(P=Uo(m.slice(Se)),m=m.slice(0,Se)),_(E)?(C=E,E=void 0):E&&typeof E=="object"&&(L="POST"),Y.length>0&&g.ajax({url:m,type:L||"GET",dataType:"html",data:E}).done(function(me){z=arguments,Y.html(P?g("<div>").append(g.parseHTML(me)).find(P):me)}).always(C&&function(me,Re){Y.each(function(){C.apply(this,z||[me.responseText,Re,me])})}),this},g.expr.pseudos.animated=function(m){return g.grep(g.timers,function(E){return m===E.elem}).length},g.offset={setOffset:function(m,E,C){var P,L,z,Y,Se,me,Re,nt=g.css(m,"position"),ot=g(m),je={};nt==="static"&&(m.style.position="relative"),Se=ot.offset(),z=g.css(m,"top"),me=g.css(m,"left"),Re=(nt==="absolute"||nt==="fixed")&&(z+me).indexOf("auto")>-1,Re?(P=ot.position(),Y=P.top,L=P.left):(Y=parseFloat(z)||0,L=parseFloat(me)||0),_(E)&&(E=E.call(m,C,g.extend({},Se))),E.top!=null&&(je.top=E.top-Se.top+Y),E.left!=null&&(je.left=E.left-Se.left+L),"using"in E?E.using.call(m,je):ot.css(je)}},g.fn.extend({offset:function(m){if(arguments.length)return m===void 0?this:this.each(function(L){g.offset.setOffset(this,m,L)});var E,C,P=this[0];if(P)return P.getClientRects().length?(E=P.getBoundingClientRect(),C=P.ownerDocument.defaultView,{top:E.top+C.pageYOffset,left:E.left+C.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var m,E,C,P=this[0],L={top:0,left:0};if(g.css(P,"position")==="fixed")E=P.getBoundingClientRect();else{for(E=this.offset(),C=P.ownerDocument,m=P.offsetParent||C.documentElement;m&&(m===C.body||m===C.documentElement)&&g.css(m,"position")==="static";)m=m.parentNode;m&&m!==P&&m.nodeType===1&&(L=g(m).offset(),L.top+=g.css(m,"borderTopWidth",!0),L.left+=g.css(m,"borderLeftWidth",!0))}return{top:E.top-L.top-g.css(P,"marginTop",!0),left:E.left-L.left-g.css(P,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var m=this.offsetParent;m&&g.css(m,"position")==="static";)m=m.offsetParent;return m||Fi})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(m,E){var C=E==="pageYOffset";g.fn[m]=function(P){return Ee(this,function(L,z,Y){var Se;if(I(L)?Se=L:L.nodeType===9&&(Se=L.defaultView),Y===void 0)return Se?Se[E]:L[z];Se?Se.scrollTo(C?Se.pageXOffset:Y,C?Y:Se.pageYOffset):L[z]=Y},m,P,arguments.length)}}),g.each(["top","left"],function(m,E){g.cssHooks[E]=ji(S.pixelPosition,function(C,P){if(P)return P=Xi(C,E),Dt.test(P)?g(C).position()[E]+"px":P})}),g.each({Height:"height",Width:"width"},function(m,E){g.each({padding:"inner"+m,content:E,"":"outer"+m},function(C,P){g.fn[P]=function(L,z){var Y=arguments.length&&(C||typeof L!="boolean"),Se=C||(L===!0||z===!0?"margin":"border");return Ee(this,function(me,Re,nt){var ot;return I(me)?P.indexOf("outer")===0?me["inner"+m]:me.document.documentElement["client"+m]:me.nodeType===9?(ot=me.documentElement,Math.max(me.body["scroll"+m],ot["scroll"+m],me.body["offset"+m],ot["offset"+m],ot["client"+m])):nt===void 0?g.css(me,Re,Se):g.style(me,Re,nt,Se)},E,Y?L:void 0,Y)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(m,E){g.fn[E]=function(C){return this.on(E,C)}}),g.fn.extend({bind:function(m,E,C){return this.on(m,null,E,C)},unbind:function(m,E){return this.off(m,null,E)},delegate:function(m,E,C,P){return this.on(E,m,C,P)},undelegate:function(m,E,C){return arguments.length===1?this.off(m,"**"):this.off(E,m||"**",C)},hover:function(m,E){return this.on("mouseenter",m).on("mouseleave",E||m)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(m,E){g.fn[E]=function(C,P){return arguments.length>0?this.on(E,null,C,P):this.trigger(E)}});var Ch=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(m,E){var C,P,L;if(typeof E=="string"&&(C=m[E],E=m,m=C),!!_(m))return P=a.call(arguments,2),L=function(){return m.apply(E||this,P.concat(a.call(arguments)))},L.guid=m.guid=m.guid||g.guid++,L},g.holdReady=function(m){m?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=A,g.isFunction=_,g.isWindow=I,g.camelCase=yt,g.type=K,g.now=Date.now,g.isNumeric=function(m){var E=g.type(m);return(E==="number"||E==="string")&&!isNaN(m-parseFloat(m))},g.trim=function(m){return m==null?"":(m+"").replace(Ch,"$1")};var id=t.jQuery,Aa=t.$;return g.noConflict=function(m){return t.$===g&&(t.$=Aa),m&&t.jQuery===g&&(t.jQuery=id),g},typeof n>"u"&&(t.jQuery=t.$=g),g})}(uE)),uE.exports}var xW=EW();const Ml=ZP(xW);var dE={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var SW=dE.exports,T5;function _W(){return T5||(T5=1,function(e,t){(function(n,i){e.exports=i()})(SW,function(){const n=new Map,i={set(V,x,R){n.has(V)||n.set(V,new Map);const ae=n.get(V);ae.has(x)||ae.size===0?ae.set(x,R):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ae.keys())[0]}.`)},get:(V,x)=>n.has(V)&&n.get(V).get(x)||null,remove(V,x){if(!n.has(V))return;const R=n.get(V);R.delete(x),R.size===0&&n.delete(V)}},r="transitionend",a=V=>(V&&window.CSS&&window.CSS.escape&&(V=V.replace(/#([^\s"#']+)/g,(x,R)=>`#${CSS.escape(R)}`)),V),o=V=>{V.dispatchEvent(new Event(r))},s=V=>!(!V||typeof V!="object")&&(V.jquery!==void 0&&(V=V[0]),V.nodeType!==void 0),l=V=>s(V)?V.jquery?V[0]:V:typeof V=="string"&&V.length>0?document.querySelector(a(V)):null,c=V=>{if(!s(V)||V.getClientRects().length===0)return!1;const x=getComputedStyle(V).getPropertyValue("visibility")==="visible",R=V.closest("details:not([open])");if(!R)return x;if(R!==V){const ae=V.closest("summary");if(ae&&ae.parentNode!==R||ae===null)return!1}return x},h=V=>!V||V.nodeType!==Node.ELEMENT_NODE||!!V.classList.contains("disabled")||(V.disabled!==void 0?V.disabled:V.hasAttribute("disabled")&&V.getAttribute("disabled")!=="false"),d=V=>{if(!document.documentElement.attachShadow)return null;if(typeof V.getRootNode=="function"){const x=V.getRootNode();return x instanceof ShadowRoot?x:null}return V instanceof ShadowRoot?V:V.parentNode?d(V.parentNode):null},p=()=>{},y=V=>{V.offsetHeight},S=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,_=[],I=()=>document.documentElement.dir==="rtl",M=V=>{var x;x=()=>{const R=S();if(R){const ae=V.NAME,Le=R.fn[ae];R.fn[ae]=V.jQueryInterface,R.fn[ae].Constructor=V,R.fn[ae].noConflict=()=>(R.fn[ae]=Le,V.jQueryInterface)}},document.readyState==="loading"?(_.length||document.addEventListener("DOMContentLoaded",()=>{for(const R of _)R()}),_.push(x)):x()},B=(V,x=[],R=V)=>typeof V=="function"?V(...x):R,U=(V,x,R=!0)=>{if(!R)return void B(V);const ae=(rt=>{if(!rt)return 0;let{transitionDuration:gt,transitionDelay:It}=window.getComputedStyle(rt);const Xt=Number.parseFloat(gt),Kt=Number.parseFloat(It);return Xt||Kt?(gt=gt.split(",")[0],It=It.split(",")[0],1e3*(Number.parseFloat(gt)+Number.parseFloat(It))):0})(x)+5;let Le=!1;const $e=({target:rt})=>{rt===x&&(Le=!0,x.removeEventListener(r,$e),B(V))};x.addEventListener(r,$e),setTimeout(()=>{Le||o(x)},ae)},K=(V,x,R,ae)=>{const Le=V.length;let $e=V.indexOf(x);return $e===-1?!R&&ae?V[Le-1]:V[0]:($e+=R?1:-1,ae&&($e=($e+Le)%Le),V[Math.max(0,Math.min($e,Le-1))])},Q=/[^.]*(?=\..*)\.|.*/,H=/\..*/,g=/::\d+$/,T={};let A=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},Z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ie(V,x){return x&&`${x}::${A++}`||V.uidEvent||A++}function se(V){const x=ie(V);return V.uidEvent=x,T[x]=T[x]||{},T[x]}function ue(V,x,R=null){return Object.values(V).find(ae=>ae.callable===x&&ae.delegationSelector===R)}function de(V,x,R){const ae=typeof x=="string",Le=ae?R:x||R;let $e=J(V);return Z.has($e)||($e=V),[ae,Le,$e]}function F(V,x,R,ae,Le){if(typeof x!="string"||!V)return;let[$e,rt,gt]=de(x,R,ae);x in D&&(rt=(On=>function(wn){if(!wn.relatedTarget||wn.relatedTarget!==wn.delegateTarget&&!wn.delegateTarget.contains(wn.relatedTarget))return On.call(this,wn)})(rt));const It=se(V),Xt=It[gt]||(It[gt]={}),Kt=ue(Xt,rt,$e?R:null);if(Kt)return void(Kt.oneOff=Kt.oneOff&&Le);const Bt=ie(rt,x.replace(Q,"")),Nn=$e?function(gn,On,wn){return function cn(Pi){const Ei=gn.querySelectorAll(On);for(let{target:mn}=Pi;mn&&mn!==this;mn=mn.parentNode)for(const ki of Ei)if(ki===mn)return le(Pi,{delegateTarget:mn}),cn.oneOff&&G.off(gn,Pi.type,On,wn),wn.apply(mn,[Pi])}}(V,R,rt):function(gn,On){return function wn(cn){return le(cn,{delegateTarget:gn}),wn.oneOff&&G.off(gn,cn.type,On),On.apply(gn,[cn])}}(V,rt);Nn.delegationSelector=$e?R:null,Nn.callable=rt,Nn.oneOff=Le,Nn.uidEvent=Bt,Xt[Bt]=Nn,V.addEventListener(gt,Nn,$e)}function $(V,x,R,ae,Le){const $e=ue(x[R],ae,Le);$e&&(V.removeEventListener(R,$e,!!Le),delete x[R][$e.uidEvent])}function W(V,x,R,ae){const Le=x[R]||{};for(const[$e,rt]of Object.entries(Le))$e.includes(ae)&&$(V,x,R,rt.callable,rt.delegationSelector)}function J(V){return V=V.replace(H,""),D[V]||V}const G={on(V,x,R,ae){F(V,x,R,ae,!1)},one(V,x,R,ae){F(V,x,R,ae,!0)},off(V,x,R,ae){if(typeof x!="string"||!V)return;const[Le,$e,rt]=de(x,R,ae),gt=rt!==x,It=se(V),Xt=It[rt]||{},Kt=x.startsWith(".");if($e===void 0){if(Kt)for(const Bt of Object.keys(It))W(V,It,Bt,x.slice(1));for(const[Bt,Nn]of Object.entries(Xt)){const gn=Bt.replace(g,"");gt&&!x.includes(gn)||$(V,It,rt,Nn.callable,Nn.delegationSelector)}}else{if(!Object.keys(Xt).length)return;$(V,It,rt,$e,Le?R:null)}},trigger(V,x,R){if(typeof x!="string"||!V)return null;const ae=S();let Le=null,$e=!0,rt=!0,gt=!1;x!==J(x)&&ae&&(Le=ae.Event(x,R),ae(V).trigger(Le),$e=!Le.isPropagationStopped(),rt=!Le.isImmediatePropagationStopped(),gt=Le.isDefaultPrevented());const It=le(new Event(x,{bubbles:$e,cancelable:!0}),R);return gt&&It.preventDefault(),rt&&V.dispatchEvent(It),It.defaultPrevented&&Le&&Le.preventDefault(),It}};function le(V,x={}){for(const[R,ae]of Object.entries(x))try{V[R]=ae}catch{Object.defineProperty(V,R,{configurable:!0,get:()=>ae})}return V}function Ie(V){if(V==="true")return!0;if(V==="false")return!1;if(V===Number(V).toString())return Number(V);if(V===""||V==="null")return null;if(typeof V!="string")return V;try{return JSON.parse(decodeURIComponent(V))}catch{return V}}function it(V){return V.replace(/[A-Z]/g,x=>`-${x.toLowerCase()}`)}const Je={setDataAttribute(V,x,R){V.setAttribute(`data-bs-${it(x)}`,R)},removeDataAttribute(V,x){V.removeAttribute(`data-bs-${it(x)}`)},getDataAttributes(V){if(!V)return{};const x={},R=Object.keys(V.dataset).filter(ae=>ae.startsWith("bs")&&!ae.startsWith("bsConfig"));for(const ae of R){let Le=ae.replace(/^bs/,"");Le=Le.charAt(0).toLowerCase()+Le.slice(1,Le.length),x[Le]=Ie(V.dataset[ae])}return x},getDataAttribute:(V,x)=>Ie(V.getAttribute(`data-bs-${it(x)}`))};class Ge{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(x){return x=this._mergeConfigObj(x),x=this._configAfterMerge(x),this._typeCheckConfig(x),x}_configAfterMerge(x){return x}_mergeConfigObj(x,R){const ae=s(R)?Je.getDataAttribute(R,"config"):{};return{...this.constructor.Default,...typeof ae=="object"?ae:{},...s(R)?Je.getDataAttributes(R):{},...typeof x=="object"?x:{}}}_typeCheckConfig(x,R=this.constructor.DefaultType){for(const[Le,$e]of Object.entries(R)){const rt=x[Le],gt=s(rt)?"element":(ae=rt)==null?`${ae}`:Object.prototype.toString.call(ae).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp($e).test(gt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Le}" provided type "${gt}" but expected type "${$e}".`)}var ae}}class Ze extends Ge{constructor(x,R){super(),(x=l(x))&&(this._element=x,this._config=this._getConfig(R),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),G.off(this._element,this.constructor.EVENT_KEY);for(const x of Object.getOwnPropertyNames(this))this[x]=null}_queueCallback(x,R,ae=!0){U(x,R,ae)}_getConfig(x){return x=this._mergeConfigObj(x,this._element),x=this._configAfterMerge(x),this._typeCheckConfig(x),x}static getInstance(x){return i.get(l(x),this.DATA_KEY)}static getOrCreateInstance(x,R={}){return this.getInstance(x)||new this(x,typeof R=="object"?R:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(x){return`${x}${this.EVENT_KEY}`}}const Te=V=>{let x=V.getAttribute("data-bs-target");if(!x||x==="#"){let R=V.getAttribute("href");if(!R||!R.includes("#")&&!R.startsWith("."))return null;R.includes("#")&&!R.startsWith("#")&&(R=`#${R.split("#")[1]}`),x=R&&R!=="#"?R.trim():null}return x?x.split(",").map(R=>a(R)).join(","):null},Ae={find:(V,x=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(x,V)),findOne:(V,x=document.documentElement)=>Element.prototype.querySelector.call(x,V),children:(V,x)=>[].concat(...V.children).filter(R=>R.matches(x)),parents(V,x){const R=[];let ae=V.parentNode.closest(x);for(;ae;)R.push(ae),ae=ae.parentNode.closest(x);return R},prev(V,x){let R=V.previousElementSibling;for(;R;){if(R.matches(x))return[R];R=R.previousElementSibling}return[]},next(V,x){let R=V.nextElementSibling;for(;R;){if(R.matches(x))return[R];R=R.nextElementSibling}return[]},focusableChildren(V){const x=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(R=>`${R}:not([tabindex^="-"])`).join(",");return this.find(x,V).filter(R=>!h(R)&&c(R))},getSelectorFromElement(V){const x=Te(V);return x&&Ae.findOne(x)?x:null},getElementFromSelector(V){const x=Te(V);return x?Ae.findOne(x):null},getMultipleElementsFromSelector(V){const x=Te(V);return x?Ae.find(x):[]}},Ue=(V,x="hide")=>{const R=`click.dismiss${V.EVENT_KEY}`,ae=V.NAME;G.on(document,R,`[data-bs-dismiss="${ae}"]`,function(Le){if(["A","AREA"].includes(this.tagName)&&Le.preventDefault(),h(this))return;const $e=Ae.getElementFromSelector(this)||this.closest(`.${ae}`);V.getOrCreateInstance($e)[x]()})},Xe=".bs.alert",dt=`close${Xe}`,te=`closed${Xe}`;class ce extends Ze{static get NAME(){return"alert"}close(){if(G.trigger(this._element,dt).defaultPrevented)return;this._element.classList.remove("show");const x=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,x)}_destroyElement(){this._element.remove(),G.trigger(this._element,te),this.dispose()}static jQueryInterface(x){return this.each(function(){const R=ce.getOrCreateInstance(this);if(typeof x=="string"){if(R[x]===void 0||x.startsWith("_")||x==="constructor")throw new TypeError(`No method named "${x}"`);R[x](this)}})}}Ue(ce,"close"),M(ce);const fe='[data-bs-toggle="button"]';class Be extends Ze{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(x){return this.each(function(){const R=Be.getOrCreateInstance(this);x==="toggle"&&R[x]()})}}G.on(document,"click.bs.button.data-api",fe,V=>{V.preventDefault();const x=V.target.closest(fe);Be.getOrCreateInstance(x).toggle()}),M(Be);const we=".bs.swipe",re=`touchstart${we}`,Ee=`touchmove${we}`,ve=`touchend${we}`,We=`pointerdown${we}`,tt=`pointerup${we}`,yt={endCallback:null,leftCallback:null,rightCallback:null},xt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Nt extends Ge{constructor(x,R){super(),this._element=x,x&&Nt.isSupported()&&(this._config=this._getConfig(R),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return yt}static get DefaultType(){return xt}static get NAME(){return"swipe"}dispose(){G.off(this._element,we)}_start(x){this._supportPointerEvents?this._eventIsPointerPenTouch(x)&&(this._deltaX=x.clientX):this._deltaX=x.touches[0].clientX}_end(x){this._eventIsPointerPenTouch(x)&&(this._deltaX=x.clientX-this._deltaX),this._handleSwipe(),B(this._config.endCallback)}_move(x){this._deltaX=x.touches&&x.touches.length>1?0:x.touches[0].clientX-this._deltaX}_handleSwipe(){const x=Math.abs(this._deltaX);if(x<=40)return;const R=x/this._deltaX;this._deltaX=0,R&&B(R>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(G.on(this._element,We,x=>this._start(x)),G.on(this._element,tt,x=>this._end(x)),this._element.classList.add("pointer-event")):(G.on(this._element,re,x=>this._start(x)),G.on(this._element,Ee,x=>this._move(x)),G.on(this._element,ve,x=>this._end(x)))}_eventIsPointerPenTouch(x){return this._supportPointerEvents&&(x.pointerType==="pen"||x.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const at=".bs.carousel",At=".data-api",Gt="next",tn="prev",wi="left",ii="right",ir=`slide${at}`,Ti=`slid${at}`,bi=`keydown${at}`,Fi=`mouseenter${at}`,ri=`mouseleave${at}`,zi=`dragstart${at}`,mr=`load${at}${At}`,Fa=`click${at}${At}`,la="carousel",yr="active",ta=".active",Qn=".carousel-item",ca=ta+Qn,et={ArrowLeft:ii,ArrowRight:wi},_n={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ln={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Oi extends Ze{constructor(x,R){super(x,R),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ae.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===la&&this.cycle()}static get Default(){return _n}static get DefaultType(){return Ln}static get NAME(){return"carousel"}next(){this._slide(Gt)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(tn)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?G.one(this._element,Ti,()=>this.cycle()):this.cycle())}to(x){const R=this._getItems();if(x>R.length-1||x<0)return;if(this._isSliding)return void G.one(this._element,Ti,()=>this.to(x));const ae=this._getItemIndex(this._getActive());if(ae===x)return;const Le=x>ae?Gt:tn;this._slide(Le,R[x])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(x){return x.defaultInterval=x.interval,x}_addEventListeners(){this._config.keyboard&&G.on(this._element,bi,x=>this._keydown(x)),this._config.pause==="hover"&&(G.on(this._element,Fi,()=>this.pause()),G.on(this._element,ri,()=>this._maybeEnableCycle())),this._config.touch&&Nt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const R of Ae.find(".carousel-item img",this._element))G.on(R,zi,ae=>ae.preventDefault());const x={leftCallback:()=>this._slide(this._directionToOrder(wi)),rightCallback:()=>this._slide(this._directionToOrder(ii)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Nt(this._element,x)}_keydown(x){if(/input|textarea/i.test(x.target.tagName))return;const R=et[x.key];R&&(x.preventDefault(),this._slide(this._directionToOrder(R)))}_getItemIndex(x){return this._getItems().indexOf(x)}_setActiveIndicatorElement(x){if(!this._indicatorsElement)return;const R=Ae.findOne(ta,this._indicatorsElement);R.classList.remove(yr),R.removeAttribute("aria-current");const ae=Ae.findOne(`[data-bs-slide-to="${x}"]`,this._indicatorsElement);ae&&(ae.classList.add(yr),ae.setAttribute("aria-current","true"))}_updateInterval(){const x=this._activeElement||this._getActive();if(!x)return;const R=Number.parseInt(x.getAttribute("data-bs-interval"),10);this._config.interval=R||this._config.defaultInterval}_slide(x,R=null){if(this._isSliding)return;const ae=this._getActive(),Le=x===Gt,$e=R||K(this._getItems(),ae,Le,this._config.wrap);if($e===ae)return;const rt=this._getItemIndex($e),gt=Bt=>G.trigger(this._element,Bt,{relatedTarget:$e,direction:this._orderToDirection(x),from:this._getItemIndex(ae),to:rt});if(gt(ir).defaultPrevented||!ae||!$e)return;const It=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(rt),this._activeElement=$e;const Xt=Le?"carousel-item-start":"carousel-item-end",Kt=Le?"carousel-item-next":"carousel-item-prev";$e.classList.add(Kt),y($e),ae.classList.add(Xt),$e.classList.add(Xt),this._queueCallback(()=>{$e.classList.remove(Xt,Kt),$e.classList.add(yr),ae.classList.remove(yr,Kt,Xt),this._isSliding=!1,gt(Ti)},ae,this._isAnimated()),It&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ae.findOne(ca,this._element)}_getItems(){return Ae.find(Qn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(x){return I()?x===wi?tn:Gt:x===wi?Gt:tn}_orderToDirection(x){return I()?x===tn?wi:ii:x===tn?ii:wi}static jQueryInterface(x){return this.each(function(){const R=Oi.getOrCreateInstance(this,x);if(typeof x!="number"){if(typeof x=="string"){if(R[x]===void 0||x.startsWith("_")||x==="constructor")throw new TypeError(`No method named "${x}"`);R[x]()}}else R.to(x)})}}G.on(document,Fa,"[data-bs-slide], [data-bs-slide-to]",function(V){const x=Ae.getElementFromSelector(this);if(!x||!x.classList.contains(la))return;V.preventDefault();const R=Oi.getOrCreateInstance(x),ae=this.getAttribute("data-bs-slide-to");return ae?(R.to(ae),void R._maybeEnableCycle()):Je.getDataAttribute(this,"slide")==="next"?(R.next(),void R._maybeEnableCycle()):(R.prev(),void R._maybeEnableCycle())}),G.on(window,mr,()=>{const V=Ae.find('[data-bs-ride="carousel"]');for(const x of V)Oi.getOrCreateInstance(x)}),M(Oi);const na=".bs.collapse",ql=`show${na}`,hl=`shown${na}`,Wr=`hide${na}`,Ls=`hidden${na}`,jr=`click${na}.data-api`,uo="show",ds="collapse",fl="collapsing",Vu=`:scope .${ds} .${ds}`,pl='[data-bs-toggle="collapse"]',ho={parent:null,toggle:!0},Gu={parent:"(null|element)",toggle:"boolean"};class zo extends Ze{constructor(x,R){super(x,R),this._isTransitioning=!1,this._triggerArray=[];const ae=Ae.find(pl);for(const Le of ae){const $e=Ae.getSelectorFromElement(Le),rt=Ae.find($e).filter(gt=>gt===this._element);$e!==null&&rt.length&&this._triggerArray.push(Le)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ho}static get DefaultType(){return Gu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let x=[];if(this._config.parent&&(x=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Le=>Le!==this._element).map(Le=>zo.getOrCreateInstance(Le,{toggle:!1}))),x.length&&x[0]._isTransitioning||G.trigger(this._element,ql).defaultPrevented)return;for(const Le of x)Le.hide();const R=this._getDimension();this._element.classList.remove(ds),this._element.classList.add(fl),this._element.style[R]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ae=`scroll${R[0].toUpperCase()+R.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fl),this._element.classList.add(ds,uo),this._element.style[R]="",G.trigger(this._element,hl)},this._element,!0),this._element.style[R]=`${this._element[ae]}px`}hide(){if(this._isTransitioning||!this._isShown()||G.trigger(this._element,Wr).defaultPrevented)return;const x=this._getDimension();this._element.style[x]=`${this._element.getBoundingClientRect()[x]}px`,y(this._element),this._element.classList.add(fl),this._element.classList.remove(ds,uo);for(const R of this._triggerArray){const ae=Ae.getElementFromSelector(R);ae&&!this._isShown(ae)&&this._addAriaAndCollapsedClass([R],!1)}this._isTransitioning=!0,this._element.style[x]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fl),this._element.classList.add(ds),G.trigger(this._element,Ls)},this._element,!0)}_isShown(x=this._element){return x.classList.contains(uo)}_configAfterMerge(x){return x.toggle=!!x.toggle,x.parent=l(x.parent),x}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const x=this._getFirstLevelChildren(pl);for(const R of x){const ae=Ae.getElementFromSelector(R);ae&&this._addAriaAndCollapsedClass([R],this._isShown(ae))}}_getFirstLevelChildren(x){const R=Ae.find(Vu,this._config.parent);return Ae.find(x,this._config.parent).filter(ae=>!R.includes(ae))}_addAriaAndCollapsedClass(x,R){if(x.length)for(const ae of x)ae.classList.toggle("collapsed",!R),ae.setAttribute("aria-expanded",R)}static jQueryInterface(x){const R={};return typeof x=="string"&&/show|hide/.test(x)&&(R.toggle=!1),this.each(function(){const ae=zo.getOrCreateInstance(this,R);if(typeof x=="string"){if(ae[x]===void 0)throw new TypeError(`No method named "${x}"`);ae[x]()}})}}G.on(document,jr,pl,function(V){(V.target.tagName==="A"||V.delegateTarget&&V.delegateTarget.tagName==="A")&&V.preventDefault();for(const x of Ae.getMultipleElementsFromSelector(this))zo.getOrCreateInstance(x,{toggle:!1}).toggle()}),M(zo);var vr="top",cr="bottom",Kr="right",Dt="left",Me="auto",Et=[vr,cr,Kr,Dt],Vt="start",jn="end",Xi="clippingParents",ji="viewport",rr="popper",ua="reference",$o=Et.reduce(function(V,x){return V.concat([x+"-"+Vt,x+"-"+jn])},[]),fr=[].concat(Et,[Me]).reduce(function(V,x){return V.concat([x,x+"-"+Vt,x+"-"+jn])},[]),Fs="beforeRead",Ul="read",ep="afterRead",yh="beforeMain",vh="main",Wu="afterMain",ju="beforeWrite",Yr="write",zs="afterWrite",gl=[Fs,Ul,ep,yh,vh,Wu,ju,Yr,zs];function qo(V){return V?(V.nodeName||"").toLowerCase():null}function da(V){if(V==null)return window;if(V.toString()!=="[object Window]"){var x=V.ownerDocument;return x&&x.defaultView||window}return V}function za(V){return V instanceof da(V).Element||V instanceof Element}function ha(V){return V instanceof da(V).HTMLElement||V instanceof HTMLElement}function Hl(V){return typeof ShadowRoot<"u"&&(V instanceof da(V).ShadowRoot||V instanceof ShadowRoot)}const Gc={name:"applyStyles",enabled:!0,phase:"write",fn:function(V){var x=V.state;Object.keys(x.elements).forEach(function(R){var ae=x.styles[R]||{},Le=x.attributes[R]||{},$e=x.elements[R];ha($e)&&qo($e)&&(Object.assign($e.style,ae),Object.keys(Le).forEach(function(rt){var gt=Le[rt];gt===!1?$e.removeAttribute(rt):$e.setAttribute(rt,gt===!0?"":gt)}))})},effect:function(V){var x=V.state,R={popper:{position:x.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(x.elements.popper.style,R.popper),x.styles=R,x.elements.arrow&&Object.assign(x.elements.arrow.style,R.arrow),function(){Object.keys(x.elements).forEach(function(ae){var Le=x.elements[ae],$e=x.attributes[ae]||{},rt=Object.keys(x.styles.hasOwnProperty(ae)?x.styles[ae]:R[ae]).reduce(function(gt,It){return gt[It]="",gt},{});ha(Le)&&qo(Le)&&(Object.assign(Le.style,rt),Object.keys($e).forEach(function(gt){Le.removeAttribute(gt)}))})}},requires:["computeStyles"]};function fo(V){return V.split("-")[0]}var hs=Math.max,fa=Math.min,$s=Math.round;function fs(){var V=navigator.userAgentData;return V!=null&&V.brands&&Array.isArray(V.brands)?V.brands.map(function(x){return x.brand+"/"+x.version}).join(" "):navigator.userAgent}function Ku(){return!/^((?!chrome|android).)*safari/i.test(fs())}function po(V,x,R){x===void 0&&(x=!1),R===void 0&&(R=!1);var ae=V.getBoundingClientRect(),Le=1,$e=1;x&&ha(V)&&(Le=V.offsetWidth>0&&$s(ae.width)/V.offsetWidth||1,$e=V.offsetHeight>0&&$s(ae.height)/V.offsetHeight||1);var rt=(za(V)?da(V):window).visualViewport,gt=!Ku()&&R,It=(ae.left+(gt&&rt?rt.offsetLeft:0))/Le,Xt=(ae.top+(gt&&rt?rt.offsetTop:0))/$e,Kt=ae.width/Le,Bt=ae.height/$e;return{width:Kt,height:Bt,top:Xt,right:It+Kt,bottom:Xt+Bt,left:It,x:It,y:Xt}}function Uo(V){var x=po(V),R=V.offsetWidth,ae=V.offsetHeight;return Math.abs(x.width-R)<=1&&(R=x.width),Math.abs(x.height-ae)<=1&&(ae=x.height),{x:V.offsetLeft,y:V.offsetTop,width:R,height:ae}}function ps(V,x){var R=x.getRootNode&&x.getRootNode();if(V.contains(x))return!0;if(R&&Hl(R)){var ae=x;do{if(ae&&V.isSameNode(ae))return!0;ae=ae.parentNode||ae.host}while(ae)}return!1}function go(V){return da(V).getComputedStyle(V)}function tp(V){return["table","td","th"].indexOf(qo(V))>=0}function Ta(V){return((za(V)?V.ownerDocument:V.document)||window.document).documentElement}function Vl(V){return qo(V)==="html"?V:V.assignedSlot||V.parentNode||(Hl(V)?V.host:null)||Ta(V)}function Wc(V){return ha(V)&&go(V).position!=="fixed"?V.offsetParent:null}function Gl(V){for(var x=da(V),R=Wc(V);R&&tp(R)&&go(R).position==="static";)R=Wc(R);return R&&(qo(R)==="html"||qo(R)==="body"&&go(R).position==="static")?x:R||function(ae){var Le=/firefox/i.test(fs());if(/Trident/i.test(fs())&&ha(ae)&&go(ae).position==="fixed")return null;var $e=Vl(ae);for(Hl($e)&&($e=$e.host);ha($e)&&["html","body"].indexOf(qo($e))<0;){var rt=go($e);if(rt.transform!=="none"||rt.perspective!=="none"||rt.contain==="paint"||["transform","perspective"].indexOf(rt.willChange)!==-1||Le&&rt.willChange==="filter"||Le&&rt.filter&&rt.filter!=="none")return $e;$e=$e.parentNode}return null}(V)||x}function Yu(V){return["top","bottom"].indexOf(V)>=0?"x":"y"}function jc(V,x,R){return hs(V,fa(x,R))}function Xu(V){return Object.assign({},{top:0,right:0,bottom:0,left:0},V)}function np(V,x){return x.reduce(function(R,ae){return R[ae]=V,R},{})}const ip={name:"arrow",enabled:!0,phase:"main",fn:function(V){var x,R=V.state,ae=V.name,Le=V.options,$e=R.elements.arrow,rt=R.modifiersData.popperOffsets,gt=fo(R.placement),It=Yu(gt),Xt=[Dt,Kr].indexOf(gt)>=0?"height":"width";if($e&&rt){var Kt=function(ai,Mi){return Xu(typeof(ai=typeof ai=="function"?ai(Object.assign({},Mi.rects,{placement:Mi.placement})):ai)!="number"?ai:np(ai,Et))}(Le.padding,R),Bt=Uo($e),Nn=It==="y"?vr:Dt,gn=It==="y"?cr:Kr,On=R.rects.reference[Xt]+R.rects.reference[It]-rt[It]-R.rects.popper[Xt],wn=rt[It]-R.rects.reference[It],cn=Gl($e),Pi=cn?It==="y"?cn.clientHeight||0:cn.clientWidth||0:0,Ei=On/2-wn/2,mn=Kt[Nn],ki=Pi-Bt[Xt]-Kt[gn],Fn=Pi/2-Bt[Xt]/2+Ei,ni=jc(mn,Fn,ki),pi=It;R.modifiersData[ae]=((x={})[pi]=ni,x.centerOffset=ni-Fn,x)}},effect:function(V){var x=V.state,R=V.options.element,ae=R===void 0?"[data-popper-arrow]":R;ae!=null&&(typeof ae!="string"||(ae=x.elements.popper.querySelector(ae)))&&ps(x.elements.popper,ae)&&(x.elements.arrow=ae)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qs(V){return V.split("-")[1]}var z0={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ju(V){var x,R=V.popper,ae=V.popperRect,Le=V.placement,$e=V.variation,rt=V.offsets,gt=V.position,It=V.gpuAcceleration,Xt=V.adaptive,Kt=V.roundOffsets,Bt=V.isFixed,Nn=rt.x,gn=Nn===void 0?0:Nn,On=rt.y,wn=On===void 0?0:On,cn=typeof Kt=="function"?Kt({x:gn,y:wn}):{x:gn,y:wn};gn=cn.x,wn=cn.y;var Pi=rt.hasOwnProperty("x"),Ei=rt.hasOwnProperty("y"),mn=Dt,ki=vr,Fn=window;if(Xt){var ni=Gl(R),pi="clientHeight",ai="clientWidth";ni===da(R)&&go(ni=Ta(R)).position!=="static"&&gt==="absolute"&&(pi="scrollHeight",ai="scrollWidth"),(Le===vr||(Le===Dt||Le===Kr)&&$e===jn)&&(ki=cr,wn-=(Bt&&ni===Fn&&Fn.visualViewport?Fn.visualViewport.height:ni[pi])-ae.height,wn*=It?1:-1),Le!==Dt&&(Le!==vr&&Le!==cr||$e!==jn)||(mn=Kr,gn-=(Bt&&ni===Fn&&Fn.visualViewport?Fn.visualViewport.width:ni[ai])-ae.width,gn*=It?1:-1)}var Mi,br=Object.assign({position:gt},Xt&&z0),va=Kt===!0?function(bs,ba){var Ui=bs.x,Ha=bs.y,dr=ba.devicePixelRatio||1;return{x:$s(Ui*dr)/dr||0,y:$s(Ha*dr)/dr||0}}({x:gn,y:wn},da(R)):{x:gn,y:wn};return gn=va.x,wn=va.y,It?Object.assign({},br,((Mi={})[ki]=Ei?"0":"",Mi[mn]=Pi?"0":"",Mi.transform=(Fn.devicePixelRatio||1)<=1?"translate("+gn+"px, "+wn+"px)":"translate3d("+gn+"px, "+wn+"px, 0)",Mi)):Object.assign({},br,((x={})[ki]=Ei?wn+"px":"",x[mn]=Pi?gn+"px":"",x.transform="",x))}const bh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(V){var x=V.state,R=V.options,ae=R.gpuAcceleration,Le=ae===void 0||ae,$e=R.adaptive,rt=$e===void 0||$e,gt=R.roundOffsets,It=gt===void 0||gt,Xt={placement:fo(x.placement),variation:qs(x.placement),popper:x.elements.popper,popperRect:x.rects.popper,gpuAcceleration:Le,isFixed:x.options.strategy==="fixed"};x.modifiersData.popperOffsets!=null&&(x.styles.popper=Object.assign({},x.styles.popper,Ju(Object.assign({},Xt,{offsets:x.modifiersData.popperOffsets,position:x.options.strategy,adaptive:rt,roundOffsets:It})))),x.modifiersData.arrow!=null&&(x.styles.arrow=Object.assign({},x.styles.arrow,Ju(Object.assign({},Xt,{offsets:x.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:It})))),x.attributes.popper=Object.assign({},x.attributes.popper,{"data-popper-placement":x.placement})},data:{}};var Qu={passive:!0};const Eh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(V){var x=V.state,R=V.instance,ae=V.options,Le=ae.scroll,$e=Le===void 0||Le,rt=ae.resize,gt=rt===void 0||rt,It=da(x.elements.popper),Xt=[].concat(x.scrollParents.reference,x.scrollParents.popper);return $e&&Xt.forEach(function(Kt){Kt.addEventListener("scroll",R.update,Qu)}),gt&&It.addEventListener("resize",R.update,Qu),function(){$e&&Xt.forEach(function(Kt){Kt.removeEventListener("scroll",R.update,Qu)}),gt&&It.removeEventListener("resize",R.update,Qu)}},data:{}};var $0={left:"right",right:"left",bottom:"top",top:"bottom"};function Zu(V){return V.replace(/left|right|bottom|top/g,function(x){return $0[x]})}var $i={start:"end",end:"start"};function Ai(V){return V.replace(/start|end/g,function(x){return $i[x]})}function ed(V){var x=da(V);return{scrollLeft:x.pageXOffset,scrollTop:x.pageYOffset}}function Kc(V){return po(Ta(V)).left+ed(V).scrollLeft}function td(V){var x=go(V),R=x.overflow,ae=x.overflowX,Le=x.overflowY;return/auto|scroll|overlay|hidden/.test(R+Le+ae)}function xh(V){return["html","body","#document"].indexOf(qo(V))>=0?V.ownerDocument.body:ha(V)&&td(V)?V:xh(Vl(V))}function ml(V,x){var R;x===void 0&&(x=[]);var ae=xh(V),Le=ae===((R=V.ownerDocument)==null?void 0:R.body),$e=da(ae),rt=Le?[$e].concat($e.visualViewport||[],td(ae)?ae:[]):ae,gt=x.concat(rt);return Le?gt:gt.concat(ml(Vl(rt)))}function Sh(V){return Object.assign({},V,{left:V.x,top:V.y,right:V.x+V.width,bottom:V.y+V.height})}function _h(V,x,R){return x===ji?Sh(function(ae,Le){var $e=da(ae),rt=Ta(ae),gt=$e.visualViewport,It=rt.clientWidth,Xt=rt.clientHeight,Kt=0,Bt=0;if(gt){It=gt.width,Xt=gt.height;var Nn=Ku();(Nn||!Nn&&Le==="fixed")&&(Kt=gt.offsetLeft,Bt=gt.offsetTop)}return{width:It,height:Xt,x:Kt+Kc(ae),y:Bt}}(V,R)):za(x)?function(ae,Le){var $e=po(ae,!1,Le==="fixed");return $e.top=$e.top+ae.clientTop,$e.left=$e.left+ae.clientLeft,$e.bottom=$e.top+ae.clientHeight,$e.right=$e.left+ae.clientWidth,$e.width=ae.clientWidth,$e.height=ae.clientHeight,$e.x=$e.left,$e.y=$e.top,$e}(x,R):Sh(function(ae){var Le,$e=Ta(ae),rt=ed(ae),gt=(Le=ae.ownerDocument)==null?void 0:Le.body,It=hs($e.scrollWidth,$e.clientWidth,gt?gt.scrollWidth:0,gt?gt.clientWidth:0),Xt=hs($e.scrollHeight,$e.clientHeight,gt?gt.scrollHeight:0,gt?gt.clientHeight:0),Kt=-rt.scrollLeft+Kc(ae),Bt=-rt.scrollTop;return go(gt||$e).direction==="rtl"&&(Kt+=hs($e.clientWidth,gt?gt.clientWidth:0)-It),{width:It,height:Xt,x:Kt,y:Bt}}(Ta(V)))}function rp(V){var x,R=V.reference,ae=V.element,Le=V.placement,$e=Le?fo(Le):null,rt=Le?qs(Le):null,gt=R.x+R.width/2-ae.width/2,It=R.y+R.height/2-ae.height/2;switch($e){case vr:x={x:gt,y:R.y-ae.height};break;case cr:x={x:gt,y:R.y+R.height};break;case Kr:x={x:R.x+R.width,y:It};break;case Dt:x={x:R.x-ae.width,y:It};break;default:x={x:R.x,y:R.y}}var Xt=$e?Yu($e):null;if(Xt!=null){var Kt=Xt==="y"?"height":"width";switch(rt){case Vt:x[Xt]=x[Xt]-(R[Kt]/2-ae[Kt]/2);break;case jn:x[Xt]=x[Xt]+(R[Kt]/2-ae[Kt]/2)}}return x}function qi(V,x){x===void 0&&(x={});var R=x,ae=R.placement,Le=ae===void 0?V.placement:ae,$e=R.strategy,rt=$e===void 0?V.strategy:$e,gt=R.boundary,It=gt===void 0?Xi:gt,Xt=R.rootBoundary,Kt=Xt===void 0?ji:Xt,Bt=R.elementContext,Nn=Bt===void 0?rr:Bt,gn=R.altBoundary,On=gn!==void 0&&gn,wn=R.padding,cn=wn===void 0?0:wn,Pi=Xu(typeof cn!="number"?cn:np(cn,Et)),Ei=Nn===rr?ua:rr,mn=V.rects.popper,ki=V.elements[On?Ei:Nn],Fn=function(ba,Ui,Ha,dr){var zr=Ui==="clippingParents"?function(Hi){var Bi=ml(Vl(Hi)),Va=["absolute","fixed"].indexOf(go(Hi).position)>=0&&ha(Hi)?Gl(Hi):Hi;return za(Va)?Bi.filter(function(Jl){return za(Jl)&&ps(Jl,Va)&&qo(Jl)!=="body"}):[]}(ba):[].concat(Ui),Yo=[].concat(zr,[Ha]),xl=Yo[0],ar=Yo.reduce(function(Hi,Bi){var Va=_h(ba,Bi,dr);return Hi.top=hs(Va.top,Hi.top),Hi.right=fa(Va.right,Hi.right),Hi.bottom=fa(Va.bottom,Hi.bottom),Hi.left=hs(Va.left,Hi.left),Hi},_h(ba,xl,dr));return ar.width=ar.right-ar.left,ar.height=ar.bottom-ar.top,ar.x=ar.left,ar.y=ar.top,ar}(za(ki)?ki:ki.contextElement||Ta(V.elements.popper),It,Kt,rt),ni=po(V.elements.reference),pi=rp({reference:ni,element:mn,placement:Le}),ai=Sh(Object.assign({},mn,pi)),Mi=Nn===rr?ai:ni,br={top:Fn.top-Mi.top+Pi.top,bottom:Mi.bottom-Fn.bottom+Pi.bottom,left:Fn.left-Mi.left+Pi.left,right:Mi.right-Fn.right+Pi.right},va=V.modifiersData.offset;if(Nn===rr&&va){var bs=va[Le];Object.keys(br).forEach(function(ba){var Ui=[Kr,cr].indexOf(ba)>=0?1:-1,Ha=[vr,cr].indexOf(ba)>=0?"y":"x";br[ba]+=bs[Ha]*Ui})}return br}function nd(V,x){x===void 0&&(x={});var R=x,ae=R.placement,Le=R.boundary,$e=R.rootBoundary,rt=R.padding,gt=R.flipVariations,It=R.allowedAutoPlacements,Xt=It===void 0?fr:It,Kt=qs(ae),Bt=Kt?gt?$o:$o.filter(function(On){return qs(On)===Kt}):Et,Nn=Bt.filter(function(On){return Xt.indexOf(On)>=0});Nn.length===0&&(Nn=Bt);var gn=Nn.reduce(function(On,wn){return On[wn]=qi(V,{placement:wn,boundary:Le,rootBoundary:$e,padding:rt})[fo(wn)],On},{});return Object.keys(gn).sort(function(On,wn){return gn[On]-gn[wn]})}const Ho={name:"flip",enabled:!0,phase:"main",fn:function(V){var x=V.state,R=V.options,ae=V.name;if(!x.modifiersData[ae]._skip){for(var Le=R.mainAxis,$e=Le===void 0||Le,rt=R.altAxis,gt=rt===void 0||rt,It=R.fallbackPlacements,Xt=R.padding,Kt=R.boundary,Bt=R.rootBoundary,Nn=R.altBoundary,gn=R.flipVariations,On=gn===void 0||gn,wn=R.allowedAutoPlacements,cn=x.options.placement,Pi=fo(cn),Ei=It||(Pi!==cn&&On?function(Hi){if(fo(Hi)===Me)return[];var Bi=Zu(Hi);return[Ai(Hi),Bi,Ai(Bi)]}(cn):[Zu(cn)]),mn=[cn].concat(Ei).reduce(function(Hi,Bi){return Hi.concat(fo(Bi)===Me?nd(x,{placement:Bi,boundary:Kt,rootBoundary:Bt,padding:Xt,flipVariations:On,allowedAutoPlacements:wn}):Bi)},[]),ki=x.rects.reference,Fn=x.rects.popper,ni=new Map,pi=!0,ai=mn[0],Mi=0;Mi<mn.length;Mi++){var br=mn[Mi],va=fo(br),bs=qs(br)===Vt,ba=[vr,cr].indexOf(va)>=0,Ui=ba?"width":"height",Ha=qi(x,{placement:br,boundary:Kt,rootBoundary:Bt,altBoundary:Nn,padding:Xt}),dr=ba?bs?Kr:Dt:bs?cr:vr;ki[Ui]>Fn[Ui]&&(dr=Zu(dr));var zr=Zu(dr),Yo=[];if($e&&Yo.push(Ha[va]<=0),gt&&Yo.push(Ha[dr]<=0,Ha[zr]<=0),Yo.every(function(Hi){return Hi})){ai=br,pi=!1;break}ni.set(br,Yo)}if(pi)for(var xl=function(Hi){var Bi=mn.find(function(Va){var Jl=ni.get(Va);if(Jl)return Jl.slice(0,Hi).every(function(mp){return mp})});if(Bi)return ai=Bi,"break"},ar=On?3:1;ar>0&&xl(ar)!=="break";ar--);x.placement!==ai&&(x.modifiersData[ae]._skip=!0,x.placement=ai,x.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ch(V,x,R){return R===void 0&&(R={x:0,y:0}),{top:V.top-x.height-R.y,right:V.right-x.width+R.x,bottom:V.bottom-x.height+R.y,left:V.left-x.width-R.x}}function id(V){return[vr,Kr,cr,Dt].some(function(x){return V[x]>=0})}const Aa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(V){var x=V.state,R=V.name,ae=x.rects.reference,Le=x.rects.popper,$e=x.modifiersData.preventOverflow,rt=qi(x,{elementContext:"reference"}),gt=qi(x,{altBoundary:!0}),It=Ch(rt,ae),Xt=Ch(gt,Le,$e),Kt=id(It),Bt=id(Xt);x.modifiersData[R]={referenceClippingOffsets:It,popperEscapeOffsets:Xt,isReferenceHidden:Kt,hasPopperEscaped:Bt},x.attributes.popper=Object.assign({},x.attributes.popper,{"data-popper-reference-hidden":Kt,"data-popper-escaped":Bt})}},m={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(V){var x=V.state,R=V.options,ae=V.name,Le=R.offset,$e=Le===void 0?[0,0]:Le,rt=fr.reduce(function(Kt,Bt){return Kt[Bt]=function(Nn,gn,On){var wn=fo(Nn),cn=[Dt,vr].indexOf(wn)>=0?-1:1,Pi=typeof On=="function"?On(Object.assign({},gn,{placement:Nn})):On,Ei=Pi[0],mn=Pi[1];return Ei=Ei||0,mn=(mn||0)*cn,[Dt,Kr].indexOf(wn)>=0?{x:mn,y:Ei}:{x:Ei,y:mn}}(Bt,x.rects,$e),Kt},{}),gt=rt[x.placement],It=gt.x,Xt=gt.y;x.modifiersData.popperOffsets!=null&&(x.modifiersData.popperOffsets.x+=It,x.modifiersData.popperOffsets.y+=Xt),x.modifiersData[ae]=rt}},E={name:"popperOffsets",enabled:!0,phase:"read",fn:function(V){var x=V.state,R=V.name;x.modifiersData[R]=rp({reference:x.rects.reference,element:x.rects.popper,placement:x.placement})},data:{}},C={name:"preventOverflow",enabled:!0,phase:"main",fn:function(V){var x=V.state,R=V.options,ae=V.name,Le=R.mainAxis,$e=Le===void 0||Le,rt=R.altAxis,gt=rt!==void 0&&rt,It=R.boundary,Xt=R.rootBoundary,Kt=R.altBoundary,Bt=R.padding,Nn=R.tether,gn=Nn===void 0||Nn,On=R.tetherOffset,wn=On===void 0?0:On,cn=qi(x,{boundary:It,rootBoundary:Xt,padding:Bt,altBoundary:Kt}),Pi=fo(x.placement),Ei=qs(x.placement),mn=!Ei,ki=Yu(Pi),Fn=ki==="x"?"y":"x",ni=x.modifiersData.popperOffsets,pi=x.rects.reference,ai=x.rects.popper,Mi=typeof wn=="function"?wn(Object.assign({},x.rects,{placement:x.placement})):wn,br=typeof Mi=="number"?{mainAxis:Mi,altAxis:Mi}:Object.assign({mainAxis:0,altAxis:0},Mi),va=x.modifiersData.offset?x.modifiersData.offset[x.placement]:null,bs={x:0,y:0};if(ni){if($e){var ba,Ui=ki==="y"?vr:Dt,Ha=ki==="y"?cr:Kr,dr=ki==="y"?"height":"width",zr=ni[ki],Yo=zr+cn[Ui],xl=zr-cn[Ha],ar=gn?-ai[dr]/2:0,Hi=Ei===Vt?pi[dr]:ai[dr],Bi=Ei===Vt?-ai[dr]:-pi[dr],Va=x.elements.arrow,Jl=gn&&Va?Uo(Va):{width:0,height:0},mp=x.modifiersData["arrow#persistent"]?x.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X1=mp[Ui],yp=mp[Ha],vp=jc(0,pi[dr],Jl[dr]),Dh=mn?pi[dr]/2-ar-vp-X1-br.mainAxis:Hi-vp-X1-br.mainAxis,J1=mn?-pi[dr]/2+ar+vp+yp+br.mainAxis:Bi+vp+yp+br.mainAxis,Y0=x.elements.arrow&&Gl(x.elements.arrow),Q_=Y0?ki==="y"?Y0.clientTop||0:Y0.clientLeft||0:0,fd=(ba=va==null?void 0:va[ki])!=null?ba:0,Z_=zr+J1-fd,Q1=jc(gn?fa(Yo,zr+Dh-fd-Q_):Yo,zr,gn?hs(xl,Z_):xl);ni[ki]=Q1,bs[ki]=Q1-zr}if(gt){var bp,Z1=ki==="x"?vr:Dt,eC=ki==="x"?cr:Kr,ru=ni[Fn],Ep=Fn==="y"?"height":"width",X0=ru+cn[Z1],xp=ru-cn[eC],J0=[vr,Dt].indexOf(Pi)!==-1,Sp=(bp=va==null?void 0:va[Fn])!=null?bp:0,Q0=J0?X0:ru-pi[Ep]-ai[Ep]-Sp+br.altAxis,Z0=J0?ru+pi[Ep]+ai[Ep]-Sp-br.altAxis:xp,em=gn&&J0?function(_p,tC,Cp){var tm=jc(_p,tC,Cp);return tm>Cp?Cp:tm}(Q0,ru,Z0):jc(gn?Q0:X0,ru,gn?Z0:xp);ni[Fn]=em,bs[Fn]=em-ru}x.modifiersData[ae]=bs}},requiresIfExists:["offset"]};function P(V,x,R){R===void 0&&(R=!1);var ae,Le,$e=ha(x),rt=ha(x)&&function(Bt){var Nn=Bt.getBoundingClientRect(),gn=$s(Nn.width)/Bt.offsetWidth||1,On=$s(Nn.height)/Bt.offsetHeight||1;return gn!==1||On!==1}(x),gt=Ta(x),It=po(V,rt,R),Xt={scrollLeft:0,scrollTop:0},Kt={x:0,y:0};return($e||!$e&&!R)&&((qo(x)!=="body"||td(gt))&&(Xt=(ae=x)!==da(ae)&&ha(ae)?{scrollLeft:(Le=ae).scrollLeft,scrollTop:Le.scrollTop}:ed(ae)),ha(x)?((Kt=po(x,!0)).x+=x.clientLeft,Kt.y+=x.clientTop):gt&&(Kt.x=Kc(gt))),{x:It.left+Xt.scrollLeft-Kt.x,y:It.top+Xt.scrollTop-Kt.y,width:It.width,height:It.height}}function L(V){var x=new Map,R=new Set,ae=[];function Le($e){R.add($e.name),[].concat($e.requires||[],$e.requiresIfExists||[]).forEach(function(rt){if(!R.has(rt)){var gt=x.get(rt);gt&&Le(gt)}}),ae.push($e)}return V.forEach(function($e){x.set($e.name,$e)}),V.forEach(function($e){R.has($e.name)||Le($e)}),ae}var z={placement:"bottom",modifiers:[],strategy:"absolute"};function Y(){for(var V=arguments.length,x=new Array(V),R=0;R<V;R++)x[R]=arguments[R];return!x.some(function(ae){return!(ae&&typeof ae.getBoundingClientRect=="function")})}function Se(V){V===void 0&&(V={});var x=V,R=x.defaultModifiers,ae=R===void 0?[]:R,Le=x.defaultOptions,$e=Le===void 0?z:Le;return function(rt,gt,It){It===void 0&&(It=$e);var Xt,Kt,Bt={placement:"bottom",orderedModifiers:[],options:Object.assign({},z,$e),modifiersData:{},elements:{reference:rt,popper:gt},attributes:{},styles:{}},Nn=[],gn=!1,On={state:Bt,setOptions:function(cn){var Pi=typeof cn=="function"?cn(Bt.options):cn;wn(),Bt.options=Object.assign({},$e,Bt.options,Pi),Bt.scrollParents={reference:za(rt)?ml(rt):rt.contextElement?ml(rt.contextElement):[],popper:ml(gt)};var Ei,mn,ki=function(Fn){var ni=L(Fn);return gl.reduce(function(pi,ai){return pi.concat(ni.filter(function(Mi){return Mi.phase===ai}))},[])}((Ei=[].concat(ae,Bt.options.modifiers),mn=Ei.reduce(function(Fn,ni){var pi=Fn[ni.name];return Fn[ni.name]=pi?Object.assign({},pi,ni,{options:Object.assign({},pi.options,ni.options),data:Object.assign({},pi.data,ni.data)}):ni,Fn},{}),Object.keys(mn).map(function(Fn){return mn[Fn]})));return Bt.orderedModifiers=ki.filter(function(Fn){return Fn.enabled}),Bt.orderedModifiers.forEach(function(Fn){var ni=Fn.name,pi=Fn.options,ai=pi===void 0?{}:pi,Mi=Fn.effect;if(typeof Mi=="function"){var br=Mi({state:Bt,name:ni,instance:On,options:ai});Nn.push(br||function(){})}}),On.update()},forceUpdate:function(){if(!gn){var cn=Bt.elements,Pi=cn.reference,Ei=cn.popper;if(Y(Pi,Ei)){Bt.rects={reference:P(Pi,Gl(Ei),Bt.options.strategy==="fixed"),popper:Uo(Ei)},Bt.reset=!1,Bt.placement=Bt.options.placement,Bt.orderedModifiers.forEach(function(Mi){return Bt.modifiersData[Mi.name]=Object.assign({},Mi.data)});for(var mn=0;mn<Bt.orderedModifiers.length;mn++)if(Bt.reset!==!0){var ki=Bt.orderedModifiers[mn],Fn=ki.fn,ni=ki.options,pi=ni===void 0?{}:ni,ai=ki.name;typeof Fn=="function"&&(Bt=Fn({state:Bt,options:pi,name:ai,instance:On})||Bt)}else Bt.reset=!1,mn=-1}}},update:(Xt=function(){return new Promise(function(cn){On.forceUpdate(),cn(Bt)})},function(){return Kt||(Kt=new Promise(function(cn){Promise.resolve().then(function(){Kt=void 0,cn(Xt())})})),Kt}),destroy:function(){wn(),gn=!0}};if(!Y(rt,gt))return On;function wn(){Nn.forEach(function(cn){return cn()}),Nn=[]}return On.setOptions(It).then(function(cn){!gn&&It.onFirstUpdate&&It.onFirstUpdate(cn)}),On}}var me=Se(),Re=Se({defaultModifiers:[Eh,E,bh,Gc]}),nt=Se({defaultModifiers:[Eh,E,bh,Gc,m,Ho,C,ip,Aa]});const ot=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Wu,afterRead:ep,afterWrite:zs,applyStyles:Gc,arrow:ip,auto:Me,basePlacements:Et,beforeMain:yh,beforeRead:Fs,beforeWrite:ju,bottom:cr,clippingParents:Xi,computeStyles:bh,createPopper:nt,createPopperBase:me,createPopperLite:Re,detectOverflow:qi,end:jn,eventListeners:Eh,flip:Ho,hide:Aa,left:Dt,main:vh,modifierPhases:gl,offset:m,placements:fr,popper:rr,popperGenerator:Se,popperOffsets:E,preventOverflow:C,read:Ul,reference:ua,right:Kr,start:Vt,top:vr,variationPlacements:$o,viewport:ji,write:Yr},Symbol.toStringTag,{value:"Module"})),je="dropdown",mt=".bs.dropdown",$t=".data-api",Dn="ArrowUp",kn="ArrowDown",Dr=`hide${mt}`,ur=`hidden${mt}`,Vo=`show${mt}`,Go=`shown${mt}`,Vn=`click${mt}${$t}`,gs=`keydown${mt}${$t}`,Kn=`keyup${mt}${$t}`,ui="show",mo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rd=`${mo}.${ui}`,pa=".dropdown-menu",yl=I()?"top-end":"top-start",$a=I()?"top-start":"top-end",ms=I()?"bottom-end":"bottom-start",Us=I()?"bottom-start":"bottom-end",ga=I()?"left-start":"right-start",Yc=I()?"right-start":"left-start",ys={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wo={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ji extends Ze{constructor(x,R){super(x,R),this._popper=null,this._parent=this._element.parentNode,this._menu=Ae.next(this._element,pa)[0]||Ae.prev(this._element,pa)[0]||Ae.findOne(pa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ys}static get DefaultType(){return Wo}static get NAME(){return je}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const x={relatedTarget:this._element};if(!G.trigger(this._element,Vo,x).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const R of[].concat(...document.body.children))G.on(R,"mouseover",p);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ui),this._element.classList.add(ui),G.trigger(this._element,Go,x)}}hide(){if(h(this._element)||!this._isShown())return;const x={relatedTarget:this._element};this._completeHide(x)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(x){if(!G.trigger(this._element,Dr,x).defaultPrevented){if("ontouchstart"in document.documentElement)for(const R of[].concat(...document.body.children))G.off(R,"mouseover",p);this._popper&&this._popper.destroy(),this._menu.classList.remove(ui),this._element.classList.remove(ui),this._element.setAttribute("aria-expanded","false"),Je.removeDataAttribute(this._menu,"popper"),G.trigger(this._element,ur,x)}}_getConfig(x){if(typeof(x=super._getConfig(x)).reference=="object"&&!s(x.reference)&&typeof x.reference.getBoundingClientRect!="function")throw new TypeError(`${je.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return x}_createPopper(){if(ot===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let x=this._element;this._config.reference==="parent"?x=this._parent:s(this._config.reference)?x=l(this._config.reference):typeof this._config.reference=="object"&&(x=this._config.reference);const R=this._getPopperConfig();this._popper=nt(x,this._menu,R)}_isShown(){return this._menu.classList.contains(ui)}_getPlacement(){const x=this._parent;if(x.classList.contains("dropend"))return ga;if(x.classList.contains("dropstart"))return Yc;if(x.classList.contains("dropup-center"))return"top";if(x.classList.contains("dropdown-center"))return"bottom";const R=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return x.classList.contains("dropup")?R?$a:yl:R?Us:ms}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:x}=this._config;return typeof x=="string"?x.split(",").map(R=>Number.parseInt(R,10)):typeof x=="function"?R=>x(R,this._element):x}_getPopperConfig(){const x={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Je.setDataAttribute(this._menu,"popper","static"),x.modifiers=[{name:"applyStyles",enabled:!1}]),{...x,...B(this._config.popperConfig,[x])}}_selectMenuItem({key:x,target:R}){const ae=Ae.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Le=>c(Le));ae.length&&K(ae,R,x===kn,!ae.includes(R)).focus()}static jQueryInterface(x){return this.each(function(){const R=Ji.getOrCreateInstance(this,x);if(typeof x=="string"){if(R[x]===void 0)throw new TypeError(`No method named "${x}"`);R[x]()}})}static clearMenus(x){if(x.button===2||x.type==="keyup"&&x.key!=="Tab")return;const R=Ae.find(rd);for(const ae of R){const Le=Ji.getInstance(ae);if(!Le||Le._config.autoClose===!1)continue;const $e=x.composedPath(),rt=$e.includes(Le._menu);if($e.includes(Le._element)||Le._config.autoClose==="inside"&&!rt||Le._config.autoClose==="outside"&&rt||Le._menu.contains(x.target)&&(x.type==="keyup"&&x.key==="Tab"||/input|select|option|textarea|form/i.test(x.target.tagName)))continue;const gt={relatedTarget:Le._element};x.type==="click"&&(gt.clickEvent=x),Le._completeHide(gt)}}static dataApiKeydownHandler(x){const R=/input|textarea/i.test(x.target.tagName),ae=x.key==="Escape",Le=[Dn,kn].includes(x.key);if(!Le&&!ae||R&&!ae)return;x.preventDefault();const $e=this.matches(mo)?this:Ae.prev(this,mo)[0]||Ae.next(this,mo)[0]||Ae.findOne(mo,x.delegateTarget.parentNode),rt=Ji.getOrCreateInstance($e);if(Le)return x.stopPropagation(),rt.show(),void rt._selectMenuItem(x);rt._isShown()&&(x.stopPropagation(),rt.hide(),$e.focus())}}G.on(document,gs,mo,Ji.dataApiKeydownHandler),G.on(document,gs,pa,Ji.dataApiKeydownHandler),G.on(document,Vn,Ji.clearMenus),G.on(document,Kn,Ji.clearMenus),G.on(document,Vn,mo,function(V){V.preventDefault(),Ji.getOrCreateInstance(this).toggle()}),M(Ji);const ad="backdrop",Wl="show",fi=`mousedown.bs.${ad}`,Xc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},yo={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class vl extends Ge{constructor(x){super(),this._config=this._getConfig(x),this._isAppended=!1,this._element=null}static get Default(){return Xc}static get DefaultType(){return yo}static get NAME(){return ad}show(x){if(!this._config.isVisible)return void B(x);this._append();const R=this._getElement();this._config.isAnimated&&y(R),R.classList.add(Wl),this._emulateAnimation(()=>{B(x)})}hide(x){this._config.isVisible?(this._getElement().classList.remove(Wl),this._emulateAnimation(()=>{this.dispose(),B(x)})):B(x)}dispose(){this._isAppended&&(G.off(this._element,fi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const x=document.createElement("div");x.className=this._config.className,this._config.isAnimated&&x.classList.add("fade"),this._element=x}return this._element}_configAfterMerge(x){return x.rootElement=l(x.rootElement),x}_append(){if(this._isAppended)return;const x=this._getElement();this._config.rootElement.append(x),G.on(x,fi,()=>{B(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(x){U(x,this._getElement(),this._config.isAnimated)}}const od=".bs.focustrap",q0=`focusin${od}`,ap=`keydown.tab${od}`,ka="backward",wh={autofocus:!0,trapElement:null},Hs={autofocus:"boolean",trapElement:"element"};class Jc extends Ge{constructor(x){super(),this._config=this._getConfig(x),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return wh}static get DefaultType(){return Hs}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),G.off(document,od),G.on(document,q0,x=>this._handleFocusin(x)),G.on(document,ap,x=>this._handleKeydown(x)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,G.off(document,od))}_handleFocusin(x){const{trapElement:R}=this._config;if(x.target===document||x.target===R||R.contains(x.target))return;const ae=Ae.focusableChildren(R);ae.length===0?R.focus():this._lastTabNavDirection===ka?ae[ae.length-1].focus():ae[0].focus()}_handleKeydown(x){x.key==="Tab"&&(this._lastTabNavDirection=x.shiftKey?ka:"forward")}}const bl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",qa=".sticky-top",jo="padding-right",sd="margin-right";class Th{constructor(){this._element=document.body}getWidth(){const x=document.documentElement.clientWidth;return Math.abs(window.innerWidth-x)}hide(){const x=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,jo,R=>R+x),this._setElementAttributes(bl,jo,R=>R+x),this._setElementAttributes(qa,sd,R=>R-x)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,jo),this._resetElementAttributes(bl,jo),this._resetElementAttributes(qa,sd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(x,R,ae){const Le=this.getWidth();this._applyManipulationCallback(x,$e=>{if($e!==this._element&&window.innerWidth>$e.clientWidth+Le)return;this._saveInitialAttribute($e,R);const rt=window.getComputedStyle($e).getPropertyValue(R);$e.style.setProperty(R,`${ae(Number.parseFloat(rt))}px`)})}_saveInitialAttribute(x,R){const ae=x.style.getPropertyValue(R);ae&&Je.setDataAttribute(x,R,ae)}_resetElementAttributes(x,R){this._applyManipulationCallback(x,ae=>{const Le=Je.getDataAttribute(ae,R);Le!==null?(Je.removeDataAttribute(ae,R),ae.style.setProperty(R,Le)):ae.style.removeProperty(R)})}_applyManipulationCallback(x,R){if(s(x))R(x);else for(const ae of Ae.find(x,this._element))R(ae)}}const ia=".bs.modal",Vs=`hide${ia}`,Ia=`hidePrevented${ia}`,Ah=`hidden${ia}`,ld=`show${ia}`,op=`shown${ia}`,pe=`resize${ia}`,Pe=`click.dismiss${ia}`,Ke=`mousedown.dismiss${ia}`,Qe=`keydown.dismiss${ia}`,he=`click${ia}.data-api`,ke="modal-open",Ce="show",st="modal-static",ut={backdrop:!0,focus:!0,keyboard:!0},jt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ft extends Ze{constructor(x,R){super(x,R),this._dialog=Ae.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Th,this._addEventListeners()}static get Default(){return ut}static get DefaultType(){return jt}static get NAME(){return"modal"}toggle(x){return this._isShown?this.hide():this.show(x)}show(x){this._isShown||this._isTransitioning||G.trigger(this._element,ld,{relatedTarget:x}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ke),this._adjustDialog(),this._backdrop.show(()=>this._showElement(x)))}hide(){this._isShown&&!this._isTransitioning&&(G.trigger(this._element,Vs).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ce),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){G.off(window,ia),G.off(this._dialog,ia),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new vl({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Jc({trapElement:this._element})}_showElement(x){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const R=Ae.findOne(".modal-body",this._dialog);R&&(R.scrollTop=0),y(this._element),this._element.classList.add(Ce),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,G.trigger(this._element,op,{relatedTarget:x})},this._dialog,this._isAnimated())}_addEventListeners(){G.on(this._element,Qe,x=>{x.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),G.on(window,pe,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),G.on(this._element,Ke,x=>{G.one(this._element,Pe,R=>{this._element===x.target&&this._element===R.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ke),this._resetAdjustments(),this._scrollBar.reset(),G.trigger(this._element,Ah)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(G.trigger(this._element,Ia).defaultPrevented)return;const x=this._element.scrollHeight>document.documentElement.clientHeight,R=this._element.style.overflowY;R==="hidden"||this._element.classList.contains(st)||(x||(this._element.style.overflowY="hidden"),this._element.classList.add(st),this._queueCallback(()=>{this._element.classList.remove(st),this._queueCallback(()=>{this._element.style.overflowY=R},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const x=this._element.scrollHeight>document.documentElement.clientHeight,R=this._scrollBar.getWidth(),ae=R>0;if(ae&&!x){const Le=I()?"paddingLeft":"paddingRight";this._element.style[Le]=`${R}px`}if(!ae&&x){const Le=I()?"paddingRight":"paddingLeft";this._element.style[Le]=`${R}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(x,R){return this.each(function(){const ae=Ft.getOrCreateInstance(this,x);if(typeof x=="string"){if(ae[x]===void 0)throw new TypeError(`No method named "${x}"`);ae[x](R)}})}}G.on(document,he,'[data-bs-toggle="modal"]',function(V){const x=Ae.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&V.preventDefault(),G.one(x,ld,ae=>{ae.defaultPrevented||G.one(x,Ah,()=>{c(this)&&this.focus()})});const R=Ae.findOne(".modal.show");R&&Ft.getInstance(R).hide(),Ft.getOrCreateInstance(x).toggle(this)}),Ue(Ft),M(Ft);const Pt=".bs.offcanvas",Bn=".data-api",nn=`load${Pt}${Bn}`,Un="show",Ar="showing",Br="hiding",kr=".offcanvas.show",Oa=`show${Pt}`,vs=`shown${Pt}`,In=`hide${Pt}`,F1=`hidePrevented${Pt}`,U0=`hidden${Pt}`,sp=`resize${Pt}`,P_=`click${Pt}${Bn}`,M_=`keydown.dismiss${Pt}`,N_={backdrop:!0,keyboard:!0,scroll:!1},lp={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ma extends Ze{constructor(x,R){super(x,R),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return N_}static get DefaultType(){return lp}static get NAME(){return"offcanvas"}toggle(x){return this._isShown?this.hide():this.show(x)}show(x){this._isShown||G.trigger(this._element,Oa,{relatedTarget:x}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Th().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ar),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Un),this._element.classList.remove(Ar),G.trigger(this._element,vs,{relatedTarget:x})},this._element,!0))}hide(){this._isShown&&(G.trigger(this._element,In).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Br),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Un,Br),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Th().reset(),G.trigger(this._element,U0)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const x=!!this._config.backdrop;return new vl({className:"offcanvas-backdrop",isVisible:x,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:x?()=>{this._config.backdrop!=="static"?this.hide():G.trigger(this._element,F1)}:null})}_initializeFocusTrap(){return new Jc({trapElement:this._element})}_addEventListeners(){G.on(this._element,M_,x=>{x.key==="Escape"&&(this._config.keyboard?this.hide():G.trigger(this._element,F1))})}static jQueryInterface(x){return this.each(function(){const R=ma.getOrCreateInstance(this,x);if(typeof x=="string"){if(R[x]===void 0||x.startsWith("_")||x==="constructor")throw new TypeError(`No method named "${x}"`);R[x](this)}})}}G.on(document,P_,'[data-bs-toggle="offcanvas"]',function(V){const x=Ae.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&V.preventDefault(),h(this))return;G.one(x,U0,()=>{c(this)&&this.focus()});const R=Ae.findOne(kr);R&&R!==x&&ma.getInstance(R).hide(),ma.getOrCreateInstance(x).toggle(this)}),G.on(window,nn,()=>{for(const V of Ae.find(kr))ma.getOrCreateInstance(V).show()}),G.on(window,sp,()=>{for(const V of Ae.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(V).position!=="fixed"&&ma.getOrCreateInstance(V).hide()}),Ue(ma),M(ma);const kh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},z1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),cp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,$1=(V,x)=>{const R=V.nodeName.toLowerCase();return x.includes(R)?!z1.has(R)||!!cp.test(V.nodeValue):x.filter(ae=>ae instanceof RegExp).some(ae=>ae.test(R))},q1={allowList:kh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},up={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},U1={entry:"(string|element|function|null)",selector:"(string|element)"};class Ih extends Ge{constructor(x){super(),this._config=this._getConfig(x)}static get Default(){return q1}static get DefaultType(){return up}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(x=>this._resolvePossibleFunction(x)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(x){return this._checkContent(x),this._config.content={...this._config.content,...x},this}toHtml(){const x=document.createElement("div");x.innerHTML=this._maybeSanitize(this._config.template);for(const[Le,$e]of Object.entries(this._config.content))this._setContent(x,$e,Le);const R=x.children[0],ae=this._resolvePossibleFunction(this._config.extraClass);return ae&&R.classList.add(...ae.split(" ")),R}_typeCheckConfig(x){super._typeCheckConfig(x),this._checkContent(x.content)}_checkContent(x){for(const[R,ae]of Object.entries(x))super._typeCheckConfig({selector:R,entry:ae},U1)}_setContent(x,R,ae){const Le=Ae.findOne(ae,x);Le&&((R=this._resolvePossibleFunction(R))?s(R)?this._putElementInTemplate(l(R),Le):this._config.html?Le.innerHTML=this._maybeSanitize(R):Le.textContent=R:Le.remove())}_maybeSanitize(x){return this._config.sanitize?function(R,ae,Le){if(!R.length)return R;if(Le&&typeof Le=="function")return Le(R);const $e=new window.DOMParser().parseFromString(R,"text/html"),rt=[].concat(...$e.body.querySelectorAll("*"));for(const gt of rt){const It=gt.nodeName.toLowerCase();if(!Object.keys(ae).includes(It)){gt.remove();continue}const Xt=[].concat(...gt.attributes),Kt=[].concat(ae["*"]||[],ae[It]||[]);for(const Bt of Xt)$1(Bt,Kt)||gt.removeAttribute(Bt.nodeName)}return $e.body.innerHTML}(x,this._config.allowList,this._config.sanitizeFn):x}_resolvePossibleFunction(x){return B(x,[this])}_putElementInTemplate(x,R){if(this._config.html)return R.innerHTML="",void R.append(x);R.textContent=x.textContent}}const Qc=new Set(["sanitize","allowList","sanitizeFn"]),cd="fade",dp="show",H1=".modal",V1="hide.bs.modal",jl="hover",ud="focus",H0={AUTO:"auto",TOP:"top",RIGHT:I()?"left":"right",BOTTOM:"bottom",LEFT:I()?"right":"left"},R_={allowList:kh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},G1={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Zc extends Ze{constructor(x,R){if(ot===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(x,R),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return R_}static get DefaultType(){return G1}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),G.off(this._element.closest(H1),V1,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const x=G.trigger(this._element,this.constructor.eventName("show")),R=(d(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(x.defaultPrevented||!R)return;this._disposePopper();const ae=this._getTipElement();this._element.setAttribute("aria-describedby",ae.getAttribute("id"));const{container:Le}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Le.append(ae),G.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(ae),ae.classList.add(dp),"ontouchstart"in document.documentElement)for(const $e of[].concat(...document.body.children))G.on($e,"mouseover",p);this._queueCallback(()=>{G.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!G.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(dp),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))G.off(x,"mouseover",p);this._activeTrigger.click=!1,this._activeTrigger[ud]=!1,this._activeTrigger[jl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),G.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(x){const R=this._getTemplateFactory(x).toHtml();if(!R)return null;R.classList.remove(cd,dp),R.classList.add(`bs-${this.constructor.NAME}-auto`);const ae=(Le=>{do Le+=Math.floor(1e6*Math.random());while(document.getElementById(Le));return Le})(this.constructor.NAME).toString();return R.setAttribute("id",ae),this._isAnimated()&&R.classList.add(cd),R}setContent(x){this._newContent=x,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(x){return this._templateFactory?this._templateFactory.changeContent(x):this._templateFactory=new Ih({...this._config,content:x,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(x){return this.constructor.getOrCreateInstance(x.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cd)}_isShown(){return this.tip&&this.tip.classList.contains(dp)}_createPopper(x){const R=B(this._config.placement,[this,x,this._element]),ae=H0[R.toUpperCase()];return nt(this._element,x,this._getPopperConfig(ae))}_getOffset(){const{offset:x}=this._config;return typeof x=="string"?x.split(",").map(R=>Number.parseInt(R,10)):typeof x=="function"?R=>x(R,this._element):x}_resolvePossibleFunction(x){return B(x,[this._element])}_getPopperConfig(x){const R={placement:x,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ae=>{this._getTipElement().setAttribute("data-popper-placement",ae.state.placement)}}]};return{...R,...B(this._config.popperConfig,[R])}}_setListeners(){const x=this._config.trigger.split(" ");for(const R of x)if(R==="click")G.on(this._element,this.constructor.eventName("click"),this._config.selector,ae=>{this._initializeOnDelegatedTarget(ae).toggle()});else if(R!=="manual"){const ae=R===jl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Le=R===jl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");G.on(this._element,ae,this._config.selector,$e=>{const rt=this._initializeOnDelegatedTarget($e);rt._activeTrigger[$e.type==="focusin"?ud:jl]=!0,rt._enter()}),G.on(this._element,Le,this._config.selector,$e=>{const rt=this._initializeOnDelegatedTarget($e);rt._activeTrigger[$e.type==="focusout"?ud:jl]=rt._element.contains($e.relatedTarget),rt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},G.on(this._element.closest(H1),V1,this._hideModalHandler)}_fixTitle(){const x=this._element.getAttribute("title");x&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",x),this._element.setAttribute("data-bs-original-title",x),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(x,R){clearTimeout(this._timeout),this._timeout=setTimeout(x,R)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(x){const R=Je.getDataAttributes(this._element);for(const ae of Object.keys(R))Qc.has(ae)&&delete R[ae];return x={...R,...typeof x=="object"&&x?x:{}},x=this._mergeConfigObj(x),x=this._configAfterMerge(x),this._typeCheckConfig(x),x}_configAfterMerge(x){return x.container=x.container===!1?document.body:l(x.container),typeof x.delay=="number"&&(x.delay={show:x.delay,hide:x.delay}),typeof x.title=="number"&&(x.title=x.title.toString()),typeof x.content=="number"&&(x.content=x.content.toString()),x}_getDelegateConfig(){const x={};for(const[R,ae]of Object.entries(this._config))this.constructor.Default[R]!==ae&&(x[R]=ae);return x.selector=!1,x.trigger="manual",x}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(x){return this.each(function(){const R=Zc.getOrCreateInstance(this,x);if(typeof x=="string"){if(R[x]===void 0)throw new TypeError(`No method named "${x}"`);R[x]()}})}}M(Zc);const D_={...Zc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Lr={...Zc.DefaultType,content:"(null|string|element|function)"};class Fr extends Zc{static get Default(){return D_}static get DefaultType(){return Lr}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(x){return this.each(function(){const R=Fr.getOrCreateInstance(this,x);if(typeof x=="string"){if(R[x]===void 0)throw new TypeError(`No method named "${x}"`);R[x]()}})}}M(Fr);const V0=".bs.scrollspy",B_=`activate${V0}`,G0=`click${V0}`,L_=`load${V0}.data-api`,Kl="active",eu="[href]",hp=".nav-link",dd=`${hp}, .nav-item > ${hp}, .list-group-item`,Oh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ph={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Yl extends Ze{constructor(x,R){super(x,R),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Oh}static get DefaultType(){return Ph}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const x of this._observableSections.values())this._observer.observe(x)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(x){return x.target=l(x.target)||document.body,x.rootMargin=x.offset?`${x.offset}px 0px -30%`:x.rootMargin,typeof x.threshold=="string"&&(x.threshold=x.threshold.split(",").map(R=>Number.parseFloat(R))),x}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(G.off(this._config.target,G0),G.on(this._config.target,G0,eu,x=>{const R=this._observableSections.get(x.target.hash);if(R){x.preventDefault();const ae=this._rootElement||window,Le=R.offsetTop-this._element.offsetTop;if(ae.scrollTo)return void ae.scrollTo({top:Le,behavior:"smooth"});ae.scrollTop=Le}}))}_getNewObserver(){const x={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(R=>this._observerCallback(R),x)}_observerCallback(x){const R=rt=>this._targetLinks.get(`#${rt.target.id}`),ae=rt=>{this._previousScrollData.visibleEntryTop=rt.target.offsetTop,this._process(R(rt))},Le=(this._rootElement||document.documentElement).scrollTop,$e=Le>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Le;for(const rt of x){if(!rt.isIntersecting){this._activeTarget=null,this._clearActiveClass(R(rt));continue}const gt=rt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if($e&&gt){if(ae(rt),!Le)return}else $e||gt||ae(rt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const x=Ae.find(eu,this._config.target);for(const R of x){if(!R.hash||h(R))continue;const ae=Ae.findOne(decodeURI(R.hash),this._element);c(ae)&&(this._targetLinks.set(decodeURI(R.hash),R),this._observableSections.set(R.hash,ae))}}_process(x){this._activeTarget!==x&&(this._clearActiveClass(this._config.target),this._activeTarget=x,x.classList.add(Kl),this._activateParents(x),G.trigger(this._element,B_,{relatedTarget:x}))}_activateParents(x){if(x.classList.contains("dropdown-item"))Ae.findOne(".dropdown-toggle",x.closest(".dropdown")).classList.add(Kl);else for(const R of Ae.parents(x,".nav, .list-group"))for(const ae of Ae.prev(R,dd))ae.classList.add(Kl)}_clearActiveClass(x){x.classList.remove(Kl);const R=Ae.find(`${eu}.${Kl}`,x);for(const ae of R)ae.classList.remove(Kl)}static jQueryInterface(x){return this.each(function(){const R=Yl.getOrCreateInstance(this,x);if(typeof x=="string"){if(R[x]===void 0||x.startsWith("_")||x==="constructor")throw new TypeError(`No method named "${x}"`);R[x]()}})}}G.on(window,L_,()=>{for(const V of Ae.find('[data-bs-spy="scroll"]'))Yl.getOrCreateInstance(V)}),M(Yl);const Ko=".bs.tab",F_=`hide${Ko}`,z_=`hidden${Ko}`,$_=`show${Ko}`,q_=`shown${Ko}`,U_=`click${Ko}`,fp=`keydown${Ko}`,Mh=`load${Ko}`,W1="ArrowLeft",ee="ArrowRight",hd="ArrowUp",Nh="ArrowDown",Ua="Home",Zn="End",tu="active",j1="fade",W0="show",Xl=".dropdown-toggle",j0=`:not(${Xl})`,K1='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',K0=`.nav-link${j0}, .list-group-item${j0}, [role="tab"]${j0}, ${K1}`,H_=`.${tu}[data-bs-toggle="tab"], .${tu}[data-bs-toggle="pill"], .${tu}[data-bs-toggle="list"]`;class nu extends Ze{constructor(x){super(x),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),G.on(this._element,fp,R=>this._keydown(R)))}static get NAME(){return"tab"}show(){const x=this._element;if(this._elemIsActive(x))return;const R=this._getActiveElem(),ae=R?G.trigger(R,F_,{relatedTarget:x}):null;G.trigger(x,$_,{relatedTarget:R}).defaultPrevented||ae&&ae.defaultPrevented||(this._deactivate(R,x),this._activate(x,R))}_activate(x,R){x&&(x.classList.add(tu),this._activate(Ae.getElementFromSelector(x)),this._queueCallback(()=>{x.getAttribute("role")==="tab"?(x.removeAttribute("tabindex"),x.setAttribute("aria-selected",!0),this._toggleDropDown(x,!0),G.trigger(x,q_,{relatedTarget:R})):x.classList.add(W0)},x,x.classList.contains(j1)))}_deactivate(x,R){x&&(x.classList.remove(tu),x.blur(),this._deactivate(Ae.getElementFromSelector(x)),this._queueCallback(()=>{x.getAttribute("role")==="tab"?(x.setAttribute("aria-selected",!1),x.setAttribute("tabindex","-1"),this._toggleDropDown(x,!1),G.trigger(x,z_,{relatedTarget:R})):x.classList.remove(W0)},x,x.classList.contains(j1)))}_keydown(x){if(![W1,ee,hd,Nh,Ua,Zn].includes(x.key))return;x.stopPropagation(),x.preventDefault();const R=this._getChildren().filter(Le=>!h(Le));let ae;if([Ua,Zn].includes(x.key))ae=R[x.key===Ua?0:R.length-1];else{const Le=[ee,Nh].includes(x.key);ae=K(R,x.target,Le,!0)}ae&&(ae.focus({preventScroll:!0}),nu.getOrCreateInstance(ae).show())}_getChildren(){return Ae.find(K0,this._parent)}_getActiveElem(){return this._getChildren().find(x=>this._elemIsActive(x))||null}_setInitialAttributes(x,R){this._setAttributeIfNotExists(x,"role","tablist");for(const ae of R)this._setInitialAttributesOnChild(ae)}_setInitialAttributesOnChild(x){x=this._getInnerElement(x);const R=this._elemIsActive(x),ae=this._getOuterElement(x);x.setAttribute("aria-selected",R),ae!==x&&this._setAttributeIfNotExists(ae,"role","presentation"),R||x.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(x,"role","tab"),this._setInitialAttributesOnTargetPanel(x)}_setInitialAttributesOnTargetPanel(x){const R=Ae.getElementFromSelector(x);R&&(this._setAttributeIfNotExists(R,"role","tabpanel"),x.id&&this._setAttributeIfNotExists(R,"aria-labelledby",`${x.id}`))}_toggleDropDown(x,R){const ae=this._getOuterElement(x);if(!ae.classList.contains("dropdown"))return;const Le=($e,rt)=>{const gt=Ae.findOne($e,ae);gt&&gt.classList.toggle(rt,R)};Le(Xl,tu),Le(".dropdown-menu",W0),ae.setAttribute("aria-expanded",R)}_setAttributeIfNotExists(x,R,ae){x.hasAttribute(R)||x.setAttribute(R,ae)}_elemIsActive(x){return x.classList.contains(tu)}_getInnerElement(x){return x.matches(K0)?x:Ae.findOne(K0,x)}_getOuterElement(x){return x.closest(".nav-item, .list-group-item")||x}static jQueryInterface(x){return this.each(function(){const R=nu.getOrCreateInstance(this);if(typeof x=="string"){if(R[x]===void 0||x.startsWith("_")||x==="constructor")throw new TypeError(`No method named "${x}"`);R[x]()}})}}G.on(document,U_,K1,function(V){["A","AREA"].includes(this.tagName)&&V.preventDefault(),h(this)||nu.getOrCreateInstance(this).show()}),G.on(window,Mh,()=>{for(const V of Ae.find(H_))nu.getOrCreateInstance(V)}),M(nu);const ya=".bs.toast",V_=`mouseover${ya}`,G_=`mouseout${ya}`,W_=`focusin${ya}`,j_=`focusout${ya}`,K_=`hide${ya}`,El=`hidden${ya}`,Y_=`show${ya}`,X_=`shown${ya}`,Y1="hide",pp="show",gp="showing",iu={animation:"boolean",autohide:"boolean",delay:"number"},J_={animation:!0,autohide:!0,delay:5e3};class Rh extends Ze{constructor(x,R){super(x,R),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return J_}static get DefaultType(){return iu}static get NAME(){return"toast"}show(){G.trigger(this._element,Y_).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Y1),y(this._element),this._element.classList.add(pp,gp),this._queueCallback(()=>{this._element.classList.remove(gp),G.trigger(this._element,X_),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(G.trigger(this._element,K_).defaultPrevented||(this._element.classList.add(gp),this._queueCallback(()=>{this._element.classList.add(Y1),this._element.classList.remove(gp,pp),G.trigger(this._element,El)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(pp),super.dispose()}isShown(){return this._element.classList.contains(pp)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(x,R){switch(x.type){case"mouseover":case"mouseout":this._hasMouseInteraction=R;break;case"focusin":case"focusout":this._hasKeyboardInteraction=R}if(R)return void this._clearTimeout();const ae=x.relatedTarget;this._element===ae||this._element.contains(ae)||this._maybeScheduleHide()}_setListeners(){G.on(this._element,V_,x=>this._onInteraction(x,!0)),G.on(this._element,G_,x=>this._onInteraction(x,!1)),G.on(this._element,W_,x=>this._onInteraction(x,!0)),G.on(this._element,j_,x=>this._onInteraction(x,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(x){return this.each(function(){const R=Rh.getOrCreateInstance(this,x);if(typeof x=="string"){if(R[x]===void 0)throw new TypeError(`No method named "${x}"`);R[x](this)}})}}return Ue(Rh),M(Rh),{Alert:ce,Button:Be,Carousel:Oi,Collapse:zo,Dropdown:Ji,Modal:Ft,Offcanvas:ma,Popover:Fr,ScrollSpy:Yl,Tab:nu,Toast:Rh,Tooltip:Zc}})}(dE)),dE.exports}_W();const e8=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},CW={},wW={class:"jumbotron jumbotron-fluid text-center fullwidth fullheight"};function TW(e,t){return ze(),He("div",wW,t[0]||(t[0]=[MP('<div class="container-fluid d-flex flex-column col-xl-6 col-sm-12"><h1>Clounaq - Cloud-native architectural quality</h1><p>This web-based application represents the tooling support for the Clounaq approach. The overall goal is to enable quality evaluations for software architectures of cloud-native application based on a quality model. With this application you can:</p><ul class="feature-list"><li>View the Quality model</li><li>Create models of software architectures</li><li>Evaluate applications based on their modeled architecture and the quality model</li></ul><p> The tool is <span class="font-weight-bold">still in development</span> (source code at: <a href="https://github.com/r0light/cna-quality-tool">https://github.com/r0light/cna-quality-tool</a>), but you can already give it a try. Please use a desktop pc or similar with a suitable screen size. The application, especially the modeling functionality, is not optimized for mobile devices. </p></div>',1)]))}const AW=e8(CW,[["render",TW]]),kW={},IW={class:"p-5 d-flex flex-column"};function OW(e,t){return ze(),He("div",IW,t[0]||(t[0]=[MP('<h4>Imprint</h4><p> Robin Lichtenthäler <br> An der Weberei 5 <br> 96047 Bamberg <br> Email: <a href="mailto:robin.lichtenthaeler@uni-bamberg.de">robin.lichtenthaeler@uni-bamberg.de</a></p><h4>Licenses</h4><h5><a href="https://vuejs.org/">Vue.js</a></h5><p> The MIT License (MIT) <br> Copyright (c) 2018-present, Yuxi (Evan) You and Vue contributors </p><h5><a href="https://www.jointjs.com/">JointJS</a></h5><p> Copyright 2013 client IO <br> http://client.io <br> Mozilla Public License Version 2.0 </p><h5><a href="https://github.com/twbs/bootstrap">Bootstrap</a></h5><p> The MIT License (MIT) <br> Copyright (c) 2011-2025 The Bootstrap Authors </p><h5><a href="https://github.com/mermaid-js/mermaid">Mermaid</a></h5><p> The MIT License (MIT) <br> Copyright (c) 2014 - 2022 Knut Sveidqvist </p><h5><a href="https://github.com/FortAwesome/Font-Awesome">Font Awesome</a></h5><p> Font Awesome Free License <br> Fonticons, Inc. (https://fontawesome.com) <br> # Icons: CC BY 4.0 License (https://creativecommons.org/licenses/by/4.0/) </p><h4>Datenschutzerklärung</h4><p> clounaq.de nimmt den Schutz Ihrer persönlichen Daten sehr ernst. Wir selbst erfassen oder speichern keinerlei persönliche Daten. Allerdings wird diese Seite auf Servern Dritter gehostet. <br> Unser Hoster erhebt in sog. Logfiles folgende Daten, die Ihr Browser übermittelt: <br> IP-Adresse, die Adresse der vorher besuchten Website (Referer Anfrage-Header), Datum und Uhrzeit der Anfrage, Zeitzonendifferenz zur Greenwich Mean Time, Inhalt der Anforderung, HTTP-Statuscode, übertragene Datenmenge, Website, von der die Anforderung kommt und Informationen zu Browser und Betriebssystem. <br> Das ist erforderlich, um unsere Website anzuzeigen und die Stabilität und Sicherheit zu gewährleisten. Dies entspricht unserem berechtigten Interesse im Sinne des Art. 6 Abs. 1 S. 1 lit. f DSGVO. <br> Es erfolgt kein Tracking und wir haben auf diese Daten keinen direkten Zugriff, sondern erhalten lediglich eine anonymisierte, statistische Zusammenfassung. Diese beinhaltet die Adresse der vorher besuchten Seite, die Häufigkeit der jeweils aufgerufenen Seiten und die Anzahl eindeutiger Besucher. Diese Daten führen wir nicht mit anderen Daten zusammen. <br> Wir setzen für die Zurverfügungstellung unserer Website folgenden Hoster ein: <br><br> GitHub Inc.<br> 88 Colin P Kelly Jr St<br> San Francisco, CA 94107<br> United States <br><br> Dieser ist Empfänger Ihrer personenbezogenen Daten. Dies entspricht unserem berechtigten Interesse im Sinne des Art. 6 Abs. 1 S. 1 lit. f DSGVO, selbst keinen Server in unseren Räumlichkeiten vorhalten zu müssen. Serverstandort ist USA. <br> Weitere Informationen zu Widerspruchs- und Beseitigungsmöglichkeiten gegenüber GitHub finden Sie unter: <a href="https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-privacy-statement#github-pages">https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-privacy-statement#github-pages</a><br> Sie haben das Recht der Verarbeitung zu widersprechen. Ob der Widerspruch erfolgreich ist, ist im Rahmen einer Interessenabwägung zu ermitteln. <br> Die Daten werden gelöscht, sobald der Zweck der Verarbeitung entfällt. <br> Die Verarbeitung der unter diesem Abschnitt angegebenen Daten ist weder gesetzlich noch vertraglich vorgeschrieben. Die Funktionsfähigkeit der Website ist ohne die Verarbeitung nicht gewährleistet. <br> GitHub hat Compliance-Maßnahmen für internationale Datenübermittlungen umgesetzt. Diese gelten für alle weltweiten Aktivitäten, bei denen GitHub personenbezogene Daten von natürlichen Personen in der EU verarbeitet. Diese Maßnahmen basieren auf den EU-Standardvertragsklauseln (SCCs). Weitere Informationen finden Sie unter: <a href="https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-data-protection-addendum#attachment-1-the-standard-contractual-clauses-processors">https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-data-protection-addendum#attachment-1-the-standard-contractual-clauses-processors</a><br> Dies setzt immer voraus, dass die jeweiligen Anbieter die IP-Adresse der Nutzer wahr nehmen. Denn ohne die IP-Adresse könnten sie Inhalte nicht an den Browser des jeweiligen Nutzers senden. Die IP-Adresse ist für die Darstellung der Inhalte erforderlich. Wir haben leider keinen Einfluss darauf, falls die Dritt-Anbieter die IP-Adresse z.B. für statistische Zwecke speichern. Soweit uns dieses bekannt ist, klären wir die Nutzer darüber auf.</p>',15)]))}const PW=e8(kW,[["render",OW]]),{round:MW,floor:NW,PI:t8}=Math,RW={linear:function(e,t,n){var i=e[1]-e[0],r=t[1]-t[0];return(n-e[0])/i*r+t[0]||0}},al=function(e){return e%360+(e<0?360:0)},Nf=function(e,t){return t*MW(e/t)},SS=function(e){return 180*e/t8%360},ls=function(e,t){return t=t||!1,e=t?e:e%360,e*t8/180},pT=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const n=e;e=t,t=n}return NW(Math.random()*(t-e+1)+e)},{cos:wb,sin:XC,atan2:DW}=Math,n8=function(e,t){var n=ls(e.y),i=ls(t.y),r=e.x,a=t.x,o=ls(a-r),s=XC(o)*wb(i),l=wb(n)*XC(i)-XC(n)*wb(i)*wb(o),c=SS(DW(s,l)),h=["NE","E","SE","S","SW","W","NW","N"],d=c-22.5;return d<0&&(d+=360),d=parseInt(d/45),h[d]},V2=function(e,t){var n=e.x,i=e.y,r=t.x,a=t.y;return(n-=r)*n+(i-=a)*i},i8=function(e,t){return Math.sqrt(V2(e,t))},Hn={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:qE,cos:gT,sin:mT,sqrt:A5,min:k5,max:I5,atan2:BW,round:O5,pow:LW,PI:P5}=Math,_e=function(e,t){if(!(this instanceof _e))return new _e(e,t);if(typeof e=="string"){var n=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};_e.fromPolar=function(e,t,n){n=new _e(n);var i=qE(e*gT(t)),r=qE(e*mT(t)),a=al(SS(t));return a<90?r=-r:a<180?(i=-i,r=-r):a<270&&(i=-i),new _e(n.x+i,n.y+r)};_e.random=function(e,t,n,i){return new _e(pT(e,t),pT(n,i))};_e.prototype={type:Hn.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new _e(e[0]);for(var n=null,i=1/0,r=0;r<t;r++){var a=new _e(e[r]),o=this.squaredDistance(a);o<i&&(n=a,i=o)}return n},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=k5(I5(this.x,e.x),e.x+e.width),this.y=k5(I5(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return n8(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new _e(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new _e(this.x-(e||0),this.y-(t||0))},distance:function(e){return i8(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var n=this.x,i=this.y;return new _e((1-t)*n+t*e.x,(1-t)*i+t*e.y)},magnitude:function(){return A5(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return qE(e.x-this.x)+qE(e.y-this.y)},move:function(e,t){var n=ls(new _e(e).theta(this)),i=this.offset(gT(n)*t,-mT(n)*t);return i},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new _e(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new _e(0,0),t=ls(al(-t));var n=gT(t),i=mT(t),r=n*(this.x-e.x)-i*(this.y-e.y)+e.x,a=i*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=r,this.y=a,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=LW(10,e);break}return this.x=O5(this.x*t)/t,this.y=O5(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new _e(n)||new _e(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=Nf(this.x,e),this.y=Nf(this.y,t||e),this},squaredDistance:function(e){return V2(this,e)},theta:function(e){e=new _e(e);var t=-(e.y-this.y),n=e.x-this.x,i=BW(t,n);return i<0&&(i=2*P5+i),180*i/P5},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new _e(e)||new _e(0,0);var t=this.x,n=this.y;return this.x=A5((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=ls(e.theta(new _e(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new _e(0,0);return t.angleBetween(this,e)}};_e.prototype.translate=_e.prototype.offset;const UE=_e,{max:JC,min:QC}=Math,Ot=function(e,t){if(!(this instanceof Ot))return new Ot(e,t);if(e instanceof Ot)return new Ot(e.start,e.end);this.start=new _e(e),this.end=new _e(t)};Ot.prototype={type:Hn.Line,angle:function(){var e=new _e(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=QC(this.start.x,this.end.x),t=QC(this.start.y,this.end.y),n=JC(this.start.x,this.end.x),i=JC(this.start.y,this.end.y);return new Tt(e,t,n-e,i-t)},bearing:function(){return n8(this.start,this.end)},clone:function(){return new Ot(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new Ot(this.start,e).vector()),n=QC(1,JC(0,t/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(t.cross(e,n)!==0)return!1;var i=this.length();return!(new Ot(t,e).length()>i||new Ot(e,n).length()>i)},divideAt:function(e){var t=this.pointAt(e);return[new Ot(this.start,t),new Ot(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new Ot(this.start,t),new Ot(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof Ot&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new _e(this.end.x-this.start.x,this.end.y-this.start.y),n=new _e(e.end.x-e.start.x,e.end.y-e.start.y),i=t.x*n.y-t.y*n.x,r=new _e(e.start.x-this.start.x,e.start.y-this.start.y),a=r.x*n.y-r.y*n.x,o=r.x*t.y-r.y*t.x;if(i===0||a*i<0||o*i<0)return null;if(i>0){if(a>i||o>i)return null}else if(a<i||o<i)return null;return[new _e(this.start.x+a*t.x/i,this.start.y+a*t.y/i)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return i8(this.start,this.end)},midpoint:function(){return new _e((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:n,end:i}=t,r=n.clone().rotate(i,270),a=i.clone().rotate(n,90);return n.move(a,e),i.move(r,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,i=!0;e<0&&(i=!1,e=-e);var r=this.length();return e>=r?i?n.clone():t.clone():this.pointAt((i?e:r-e)/r)},pointOffset:function(e){e=new _e(e);var t=this.start,n=this.end,i=(n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x);return i/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return V2(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,i=this.pointAt(e),r=new Ot(t,n);return r.translate(i.x-t.x,i.y-t.y),r},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,i=this.pointAtLength(e),r=new Ot(t,n);return r.translate(i.x-t.x,i.y-t.y),r},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new _e(this.end.x-this.start.x,this.end.y-this.start.y)}};Ot.prototype.intersection=Ot.prototype.intersect;const Tf=Ot,{sqrt:M5,round:Tb,pow:FW}=Math,Io=function(e,t,n){if(!(this instanceof Io))return new Io(e,t,n);if(e instanceof Io)return new Io(new _e(e.x,e.y),e.a,e.b);e=new _e(e),this.x=e.x,this.y=e.y,this.a=t,this.b=n};Io.fromRect=function(e){return e=new Tt(e),new Io(e.center(),e.width/2,e.height/2)};Io.prototype={type:Hn.Ellipse,bbox:function(){return new Tt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new _e(this.x,this.y)},clone:function(){return new Io(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,i=e.end,r=this.a,a=this.b,o=e.vector(),s=n.difference(new _e(this)),l=new _e(o.x/(r*r),o.y/(a*a)),c=new _e(s.x/(r*r),s.y/(a*a)),h=o.dot(l),d=o.dot(c),p=s.dot(c)-1,y=d*d-h*p;if(y<0)return null;if(y>0){var S=M5(y),_=(-d-S)/h,I=(-d+S)/h;if((_<0||1<_)&&(I<0||1<I))return null;0<=_&&_<=1&&t.push(n.lerp(i,_)),0<=I&&I<=1&&t.push(n.lerp(i,I))}else{var M=-d/h;if(0<=M&&M<=1)t.push(n.lerp(i,M));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new _e(e),t&&e.rotate(new _e(this.x,this.y),t);var n=e.x-this.x,i=e.y-this.y,r;if(n===0)return r=this.bbox().pointNearestToPoint(e),t?r.rotate(new _e(this.x,this.y),-t):r;var a=i/n,o=a*a,s=this.a*this.a,l=this.b*this.b,c=M5(1/(1/s+o/l));c=n<0?-c:c;var h=a*c;return r=new _e(this.x+c,this.y+h),t?r.rotate(new _e(this.x,this.y),-t):r},normalizedDistance:function(e){var t=e.x,n=e.y,i=this.a,r=this.b,a=this.x,o=this.y;return(t-a)*(t-a)/(i*i)+(n-o)*(n-o)/(r*r)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=FW(10,e);break}return this.x=Tb(this.x*t)/t,this.y=Tb(this.y*t)/t,this.a=Tb(this.a*t)/t,this.b=Tb(this.b*t)/t,this},tangentTheta:function(e){var t=30,n=e.x,i=e.y,r=this.a,a=this.b,o=this.bbox().center(),s=o.x,l=o.y,c=n>o.x+r/2,h=n<o.x-r/2,d,p;return c||h?(d=n>o.x?i-t:i+t,p=r*r/(n-s)-r*r*(i-l)*(d-l)/(a*a*(n-s))+s):(p=i>o.y?n+t:n-t,d=a*a/(i-l)-a*a*(n-s)*(p-s)/(r*r*(i-l))+l),new _e(p,d).theta(e)},toString:function(){return new _e(this.x,this.y).toString()+" "+this.a+" "+this.b}};const zW=Io,{abs:N5,cos:$W,sin:qW,min:dm,max:R5,round:Ab,pow:UW}=Math,Tt=function(e,t,n,i){if(!(this instanceof Tt))return new Tt(e,t,n,i);Object(e)===e&&(t=e.y,n=e.width,i=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=n===void 0?0:n,this.height=i===void 0?0:i};Tt.fromEllipse=function(e){return e=new Io(e),new Tt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};Tt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new _e;let n,i,r,a;n=i=1/0,r=a=-1/0;for(let o=0;o<e.length;o++){t.update(e[o]);const s=t.x,l=t.y;s<n&&(n=s),s>r&&(r=s),l<i&&(i=l),l>a&&(a=l)}return new Tt(n,i,r-n,a-i)};Tt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new Tt;let n,i,r,a;n=i=1/0,r=a=-1/0;for(let o=0;o<e.length;o++){t.update(e[o]);const s=t.x,l=t.y,c=s+t.width,h=l+t.height;s<n&&(n=s),c>r&&(r=c),l<i&&(i=l),h>a&&(a=h)}return new Tt(n,i,r-n,a-i)};Tt.prototype={type:Hn.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:n}=this,i=ls(e),r=N5(qW(i)),a=N5($W(i)),o=t*a+n*r,s=t*r+n*a;return this.x+=(t-o)/2,this.y+=(n-s)/2,this.width=o,this.height=s,this},bottomLeft:function(){return new _e(this.x,this.y+this.height)},bottomLine:function(){return new Ot(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new _e(this.x+this.width/2,this.y+this.height)},center:function(){return new _e(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Tt(this)},containsPoint:function(e,t){let n,i;return!e||typeof e=="string"?{x:n,y:i}=new _e(e):{x:n=0,y:i=0}=e,t&&t.strict?n>this.x&&n<this.x+this.width&&i>this.y&&i<this.y+this.height:n>=this.x&&n<=this.x+this.width&&i>=this.y&&i<=this.y+this.height},containsRect:function(e){var t=new Tt(this).normalize(),n=new Tt(e).normalize(),i=t.width,r=t.height,a=n.width,o=n.height;if(!i||!r||!a||!o)return!1;var s=t.x,l=t.y,c=n.x,h=n.y;return a+=c,i+=s,o+=h,r+=l,s<=c&&a<=i&&l<=h&&o<=r},corner:function(){return new _e(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Tt(this).normalize(),n=new Tt(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),i=e.origin(),r=e.corner();if(r.x<=t.x||r.y<=t.y||i.x>=n.x||i.y>=n.y)return null;var a=R5(t.x,i.x),o=R5(t.y,i.y);return new Tt(a,o,dm(n.x,r.x)-a,dm(n.y,r.y)-o)},intersectionWithLine:function(e){var t=this,n=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],i=[],r=[],a,o,s=n.length;for(o=0;o<s;o++)a=e.intersect(n[o]),a!==null&&r.indexOf(a.toString())<0&&(i.push(a),r.push(a.toString()));return i.length>0?i:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new _e(e);var n=new _e(this.x+this.width/2,this.y+this.height/2),i;t&&e.rotate(n,t);for(var r=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],a=new Ot(n,e),o=r.length-1;o>=0;--o){var s=r[o].intersection(a);if(s!==null){i=s;break}}return i&&t&&i.rotate(n,-t),i},leftLine:function(){return new Ot(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new _e(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Tt(e),t||(t=e.center());var n,i,r,a,o,s,l,c,h=t.x,d=t.y;n=i=r=a=o=s=l=c=1/0;var p=e.topLeft();p.x<h&&(n=(this.x-h)/(p.x-h)),p.y<d&&(o=(this.y-d)/(p.y-d));var y=e.bottomRight();y.x>h&&(i=(this.x+this.width-h)/(y.x-h)),y.y>d&&(s=(this.y+this.height-d)/(y.y-d));var S=e.topRight();S.x>h&&(r=(this.x+this.width-h)/(S.x-h)),S.y<d&&(l=(this.y-d)/(S.y-d));var _=e.bottomLeft();return _.x<h&&(a=(this.x-h)/(_.x-h)),_.y>d&&(c=(this.y+this.height-d)/(_.y-d)),{sx:dm(n,i,r,a),sy:dm(o,s,l,c)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return dm(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,i=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,i=-this.height),this.x=e,this.y=t,this.width=n,this.height=i,this},offset:function(e,t){return _e.prototype.offset.call(this,e,t)},origin:function(){return new _e(this.x,this.y)},pointNearestToPoint:function(e){if(e=new _e(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new _e(this.x+this.width,e.y);case"left":return new _e(this.x,e.y);case"bottom":return new _e(e.x,this.y+this.height);case"top":return new _e(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new Ot(this.topRight(),this.bottomRight())},rightMiddle:function(){return new _e(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=UW(10,e);break}return this.x=Ab(this.x*t)/t,this.y=Ab(this.y*t)/t,this.width=Ab(this.width*t)/t,this.height=Ab(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new _e(e);var t=e.x-this.x,n=this.x+this.width-e.x,i=e.y-this.y,r=this.y+this.height-e.y,a=t,o="left";return n<a&&(a=n,o="right"),i<a&&(a=i,o="top"),r<a&&(o="bottom"),o},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),i=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=i.x-n.x,this.height=i.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new Ot(this.topLeft(),this.topRight())},topMiddle:function(){return new _e(this.x+this.width/2,this.y)},topRight:function(){return new _e(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Tt.fromRectUnion(this,e)},update:function(e,t,n,i){return Object(e)===e&&(t=e.y,n=e.width,i=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=i||0,this}};Tt.prototype.bottomRight=Tt.prototype.corner;Tt.prototype.topLeft=Tt.prototype.origin;Tt.prototype.translate=Tt.prototype.offset;const HW=Tt;function r8(e){const t=e.trim();if(t==="")return[];const n=[],i=t.split(/\b\s*,\s*|,\s*|\s+/),r=i.length;for(let a=0;a<r;a+=2)n.push({x:+i[a],y:+i[a+1]});return n}function a8(e){const t=e.length;if(t===0)return[];const n=[];for(let i=0;i<t;i++){const r=e[i].clone();n.push(r)}return n}function o8(e){const{abs:t}=Math;var n,i,r=e.length;if(r===0)return[];var a;for(n=0;n<r;n++)(a===void 0||e[n].y<a.y||e[n].y===a.y&&e[n].x>a.x)&&(a=e[n]);var o=[];for(n=0;n<r;n++){var s=a.theta(e[n]);s===0&&(s=360);var l=[e[n],n,s];o.push(l)}if(o.sort(function(se,ue){var de=se[2]-ue[2];return de===0&&(de=ue[1]-se[1]),de}),o.length>2){var c=o[o.length-1];o.unshift(c)}for(var h={},d=[],p,y,S,_,I,M;o.length!==0;)if(p=o.pop(),y=p[0],!h.hasOwnProperty(p[0]+"@@"+p[1]))for(var B=!1;!B;)if(d.length<2)d.push(p),B=!0;else{S=d.pop(),_=S[0],I=d.pop(),M=I[0];var U=M.cross(_,y);if(U<0)d.push(I),d.push(S),d.push(p),B=!0;else if(U===0){var K=1e-10,Q=_.angleBetween(M,y);t(Q-180)<K||_.equals(y)||M.equals(_)?(h[S[0]+"@@"+S[1]]=_,d.push(I)):t((Q+1)%360-1)<K&&(d.push(I),o.push(S))}else h[S[0]+"@@"+S[1]]=_,d.push(I)}d.length>2&&d.pop();var H,g=-1;for(i=d.length,n=0;n<i;n++){var T=d[n][1];(H===void 0||T<H)&&(H=T,g=n)}var A=[];if(g>0){var D=d.slice(g),Z=d.slice(0,g);A=D.concat(Z)}else A=d;var ie=[];for(i=A.length,n=0;n<i;n++)ie.push(A[n][0]);return ie}const er=function(e){if(!(this instanceof er))return new er(e);if(typeof e=="string")return new er.parse(e);this.points=Array.isArray(e)?e.map(_e):[]};er.parse=function(e){return new er(r8(e))};er.fromRect=function(e){return new er([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};er.prototype={type:Hn.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,i=-1/0,r=this.points,a=r.length;if(a===0)return null;for(var o=0;o<a;o++){var s=r[o],l=s.x,c=s.y;l<e&&(e=l),l>t&&(t=l),c<n&&(n=c),c>i&&(i=c)}return new Tt(e,n,t-e,i-n)},clone:function(){return new er(a8(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return 0;for(var i,r=1/0,a=0,o=n-1,s=0;s<o;s++){var l=new Ot(t[s],t[s+1]),c=l.length(),h=l.closestPointNormalizedLength(e),d=l.pointAt(h),p=d.squaredDistance(e);p<r&&(r=p,i=a+h*c),a+=c}return i},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var n=this.length();return n===0?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(n===0)return!1;for(var i=e.x,r=e.y,a=n-1,o=0,s=0,l=new Ot,c=new Ot,h=new _e;o<n;o++){var d=t[a],p=t[o];if(e.equals(d)||(l.start=d,l.end=p,l.containsPoint(e)))return!0;if(r<=d.y&&r>p.y||r>d.y&&r<=p.y){var y=d.x-i>p.x-i?d.x-i:p.x-i;y>=0&&(h.x=i+y,h.y=r,c.start=e,c.end=h,l.intersect(c)&&s++)}a=o}return s%2===1},close:function(){const{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new er(o8(this.points))},equals:function(e){if(!e)return!1;var t=this.points,n=e.points,i=t.length;if(n.length!==i)return!1;for(var r=0;r<i;r++){var a=t[r],o=e.points[r];if(!a.equals(o))return!1}return!0},intersectionWithLine:function(e){for(var t=new Ot(e),n=[],i=this.lengthPoints(),r=new Ot,a=0,o=i.length-1;a<o;a++){r.start=i[a],r.end=i[a+1];var s=t.intersectionWithLine(r);s&&n.push(s[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var n=new Ot,i=t-1,r=0;r<i;r++)if(n.start=e[r],n.end=e[r+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var n=0,i=t-1,r=0;r<i;r++)n+=e[r].distance(e[r+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1||e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var i=this.length(),r=i*e;return this.pointAtLength(r)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0)return null;if(n===1)return t[0].clone();var i=!0;e<0&&(i=!1,e=-e);for(var r=0,a=n-1,o=0;o<a;o++){var s=i?o:a-1-o,l=t[s],c=t[s+1],h=new Ot(l,c),d=l.distance(c);if(e<=r+d)return h.pointAtLength((i?1:-1)*(e-r));r+=d}var p=i?t[n-1]:t[0];return p.clone()},round:function(e){for(var t=this.points,n=t.length,i=0;i<n;i++)t[i].round(e);return this},scale:function(e,t,n){for(var i=this.points,r=i.length,a=0;a<r;a++)i[a].scale(e,t,n);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const n=e.threshold||1e-10;let i=0;for(;t[i+2];){const r=i,a=i+1,o=i+2,s=t[r],l=t[a],c=t[o];new Ot(s,c).closestPoint(l).distance(l)<=n?t.splice(a,1):i+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;e<0&&(e=0),e>1&&(e=1);var i=this.length(),r=i*e;return this.tangentAtLength(r)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(n===0||n===1)return null;var i=!0;e<0&&(i=!1,e=-e);for(var r,a=0,o=n-1,s=0;s<o;s++){var l=i?s:o-1-s,c=t[l],h=t[l+1],d=new Ot(c,h),p=c.distance(h);if(d.isDifferentiable()){if(e<=a+p)return d.tangentAtLength((i?1:-1)*(e-a));r=d}a+=p}if(r){var y=i?1:0;return r.tangentAt(y)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,i=n.length,r=0;r<i;r++)n[r].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var n="",i=0;i<t;i++){var r=e[i];n+=r.x+","+r.y+" "}return n.trim()}};Object.defineProperty(er.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(er.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:kb,sqrt:VW,min:D5,max:B5,pow:ZC}=Math,Ni=function(e,t,n,i){if(!(this instanceof Ni))return new Ni(e,t,n,i);if(e instanceof Ni)return new Ni(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new _e(e),this.controlPoint1=new _e(t),this.controlPoint2=new _e(n),this.end=new _e(i)};Ni.throughPoints=function(){function e(n){var i=[],r=[],a=n.length-1,o;if(a==1)return i[0]=new _e((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),r[0]=new _e(2*i[0].x-n[0].x,2*i[0].y-n[0].y),[i,r];var s=[];for(o=1;o<a-1;o++)s[o]=4*n[o].x+2*n[o+1].x;s[0]=n[0].x+2*n[1].x,s[a-1]=(8*n[a-1].x+n[a].x)/2;var l=t(s);for(o=1;o<a-1;++o)s[o]=4*n[o].y+2*n[o+1].y;s[0]=n[0].y+2*n[1].y,s[a-1]=(8*n[a-1].y+n[a].y)/2;var c=t(s);for(o=0;o<a;o++)i.push(new _e(l[o],c[o])),o<a-1?r.push(new _e(2*n[o+1].x-l[o+1],2*n[o+1].y-c[o+1])):r.push(new _e((n[a].x+l[a-1])/2,(n[a].y+c[a-1])/2));return[i,r]}function t(n){var i=n.length,r=[],a=[],o=2;r[0]=n[0]/o;for(var s=1;s<i;s++)a[s]=1/o,o=(s<i-1?4:3.5)-a[s],r[s]=(n[s]-r[s-1])/o;for(s=1;s<i;s++)r[i-s-1]-=a[i-s]*r[i-s];return r}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var i=e(n),r=[],a=i[0].length,o=0;o<a;o++){var s=new _e(i[0][o].x,i[0][o].y),l=new _e(i[1][o].x,i[1][o].y);r.push(new Ni(n[o],s,l,n[o+1]))}return r}}();Ni.prototype={type:Hn.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,n=this.controlPoint2,i=this.end,r=e.x,a=e.y,o=t.x,s=t.y,l=n.x,c=n.y,h=i.x,d=i.y,p=new Array,y=new Array,S=[new Array,new Array],_,I,M,B,U,K,Q,H,g=0;g<2;++g){if(g===0?(I=6*r-12*o+6*l,_=-3*r+9*o-9*l+3*h,M=3*o-3*r):(I=6*a-12*s+6*c,_=-3*a+9*s-9*c+3*d,M=3*s-3*a),kb(_)<1e-12){if(kb(I)<1e-12)continue;B=-M/I,0<B&&B<1&&y.push(B);continue}Q=I*I-4*M*_,H=VW(Q),!(Q<0)&&(U=(-I+H)/(2*_),0<U&&U<1&&y.push(U),K=(-I-H)/(2*_),0<K&&K<1&&y.push(K))}for(var T=y.length,A=T,D,Z,ie;T--;)B=y[T],D=1-B,Z=D*D*D*r+3*D*D*B*o+3*D*B*B*l+B*B*B*h,S[0][T]=Z,ie=D*D*D*a+3*D*D*B*s+3*D*B*B*c+B*B*B*d,S[1][T]=ie,p[T]={X:Z,Y:ie};y[A]=0,y[A+1]=1,p[A]={X:r,Y:a},p[A+1]={X:h,Y:d},S[0][A]=r,S[1][A]=a,S[0][A+1]=h,S[1][A+1]=d,y.length=A+2,S[0].length=A+2,S[1].length=A+2,p.length=A+2;var se=D5.apply(null,S[0]),ue=D5.apply(null,S[1]),de=B5.apply(null,S[0]),F=B5.apply(null,S[1]);return new Tt(se,ue,de-se,F-ue)},clone:function(){return new Ni(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,r={precision:n,subdivisions:i};return this.lengthAtT(this.closestPointT(e,r),r)},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,r={precision:n,subdivisions:i},a=this.closestPointLength(e,r);if(!a)return 0;var o=this.length(r);return o===0?0:a/o},closestPointT:function(e,t){t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,r,a,o,s,l,c,h,d=i.length,p=d?1/d:0,y=0;y<d;y++){var S=i[y],_=S.start.distance(e),I=S.end.distance(e),M=_+I;(!h||M<h)&&(r=S,a=y*p,o=(y+1)*p,s=_,l=I,c=S.start.distance(S.end),h=M)}for(var B=ZC(10,-n);;){var U=s?kb(s-l)/s:0,K=l?kb(s-l)/l:0,Q=U<B||K<B,H=s?s<c*B:!0,g=l?l<c*B:!0,T=H||g;if(Q||T)return s<=l?a:o;var A=r.divide(.5);p/=2;var D=A[0].start.distance(e),Z=A[0].end.distance(e),ie=D+Z,se=A[1].start.distance(e),ue=A[1].end.distance(e),de=se+ue;ie<=de?(r=A[0],o-=p,s=D,l=Z):(r=A[1],a+=p,s=se,l=ue)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var n=this.toPolyline(t);return n.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(e<=0)return[new Ni(t,t,t,t),new Ni(t,n,i,r)];if(e>=1)return[new Ni(t,n,i,r),new Ni(r,r,r,r)];var a=this.getSkeletonPoints(e),o=a.startControlPoint1,s=a.startControlPoint2,l=a.divider,c=a.dividerControlPoint1,h=a.dividerControlPoint2;return[new Ni(t,o,s,l),new Ni(l,c,h,r)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:i.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:i.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};var a=new Ot(t,n).pointAt(e),o=new Ot(n,i).pointAt(e),s=new Ot(i,r).pointAt(e),l=new Ot(a,o).pointAt(e),c=new Ot(o,s).pointAt(e),h=new Ot(l,c).pointAt(e),d={startControlPoint1:a,startControlPoint2:l,divider:h,dividerControlPoint1:c,dividerControlPoint2:s};return d},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,n=this.start,i=this.controlPoint1,r=this.controlPoint2,a=this.end,o=[new Ni(n,i,r,a)];if(t===0)return o;var s=!this.isDifferentiable();if(s)return o;var l=this.endpointDistance(),c=ZC(10,-t),h=2,d=i.cross(n,a)===0&&r.cross(n,a)===0;d&&(h=2*t);for(var p=0;;){p+=1;for(var y=[],S=o.length,_=0;_<S;_++){var I=o[_],M=I.divide(.5);y.push(M[0],M[1])}for(var B=0,U=y.length,K=0;K<U;K++){var Q=y[K];B+=Q.endpointDistance()}if(p>=h){var H=B!==0?(B-l)/B:0;if(H<c)return y}o=y,l=B}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(i))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,i=0,r=n.length,a=0;a<r;a++){var o=n[a];i+=o.endpointDistance()}return i},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=this.divide(e)[0],r=i.length({precision:n});return r},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,i=t.dividerControlPoint1,r=t.divider,a=new Ot(n,i);return a.translate(r.x-n.x,r.y-n.y),a},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,r={precision:n,subdivisions:i},a=this.length(r),o=a*e;return this.tAtLength(o,r)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e),t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,r=t.subdivisions===void 0?this.getSubdivisions({precision:i}):t.subdivisions,a={precision:i,subdivisions:r},o,s,l,c,h,d=0,p=r.length,y=1/p,S=0;S<p;S++){var _=n?S:p-1-S,I=r[S],M=I.endpointDistance();if(e<=d+M){o=I,s=_*y,l=(_+1)*y,c=n?e-d:M+d-e,h=n?M+d-e:e-d;break}d+=M}if(!o)return n?1:0;for(var B=this.length(a),U=ZC(10,-i);;){var K;if(K=B!==0?c/B:0,K<U)return s;if(K=B!==0?h/B:0,K<U)return l;var Q,H,g=o.divide(.5);y/=2;var T=g[0].endpointDistance(),A=g[1].endpointDistance();c<=T?(o=g[0],l-=y,Q=c,H=T-Q):(o=g[1],s+=y,Q=c-T,H=A-Q),c=Q,h=H}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,n=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,i=[n[0].start.clone()],r=n.length,a=0;a<r;a++){var o=n[a];i.push(o.end.clone())}return i},toPolyline:function(e){return new er(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Ni.prototype.divide=Ni.prototype.divideAtT;function h1(e){var t,n,i=[];for(n=arguments.length,t=1;t<n;t++)i.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var r=Object.create(e);for(n=i.length,t=0;t<n;t++){var a=i[t],o,s;for(s in a)a.hasOwnProperty(s)&&(delete r[s],o=Object.getOwnPropertyDescriptor(a,s),Object.defineProperty(r,s,o))}return r}const Qt=function(e){if(!(this instanceof Qt))return new Qt(e);if(typeof e=="string")return new Qt.parse(e);this.segments=[];var t,n;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(s,l){return s.concat(l)},[]),n=e.length,e[0].isSegment)for(t=0;t<n;t++){var i=e[t];this.appendSegment(i)}else{var r=null;for(t=0;t<n;t++){var a=e[t];if(!(a instanceof Ot||a instanceof Ni))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Qt.createSegment("M",a.start)),r&&!r.end.equals(a.start)&&this.appendSegment(Qt.createSegment("M",a.start)),a instanceof Ot?this.appendSegment(Qt.createSegment("L",a.end)):a instanceof Ni&&this.appendSegment(Qt.createSegment("C",a.controlPoint1,a.controlPoint2,a.end)),r=a}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof Ot)this.appendSegment(Qt.createSegment("M",e.start)),this.appendSegment(Qt.createSegment("L",e.end));else if(e instanceof Ni)this.appendSegment(Qt.createSegment("M",e.start)),this.appendSegment(Qt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof er){if(!(e.points&&e.points.length!==0))return;for(n=e.points.length,t=0;t<n;t++){var o=e.points[t];t===0?this.appendSegment(Qt.createSegment("M",o)):this.appendSegment(Qt.createSegment("L",o))}}else throw new Error("Cannot construct a path from the provided object.")};Qt.parse=function(e){if(!e)return new Qt;for(var t=new Qt,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,i=e.match(n),r=i.length,a=0;a<r;a++){var o=i[a],s=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=o.match(s),c=Qt.createSegment.apply(this,l);t.appendSegment(c)}return t};Qt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Qt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],i=arguments.length,r=1;r<i;r++)n.push(arguments[r]);return Ic(t,n)};Qt.prototype={type:Hn.Path,appendSegment:function(e){var t=this.segments,n=t.length,i,r=n!==0?t[n-1]:null,a=null;if(Array.isArray(e)){if(e=e.reduce(function(c,h){return c.concat(h)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var o=e.length,s=0;s<o;s++){var l=e[s];i=this.prepareSegment(l,r,a),t.push(i),r=i}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,r,a),t.push(i)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n,i=0;i<t;i++){var r=e[i];if(r.isVisible){var a=r.bbox();n=n?n.union(a):a}}if(n)return n;var o=e[t-1];return new Tt(o.end.x,o.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new Qt,i=0;i<t;i++){var r=e[i].clone();n.appendSegment(r)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,r={precision:n,segmentSubdivisions:i},a=this.closestPointT(e,r);return a?this.lengthAtT(a,r):0},closestPointNormalizedLength:function(e,t){t=t||{};var n=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions,r={precision:n,segmentSubdivisions:i},a=this.closestPointLength(e,r);if(a===0)return 0;var o=this.length(r);return o===0?0:a/o},closestPointT:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o,s=1/0,l=0;l<i;l++){var c=n[l],h=a[l];if(c.isVisible){var d=c.closestPointT(e,{precision:r,subdivisions:h}),p=c.pointAtT(d),y=new Ot(p,e).squaredLength();y<s&&(o={segmentIndex:l,value:d},s=y)}}return o||{segmentIndex:i-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o,s=1/0,l=0;l<i;l++){var c=n[l],h=a[l];if(c.isDifferentiable()){var d=c.closestPointT(e,{precision:r,subdivisions:h}),p=c.pointAtT(d),y=new Ot(p,e).squaredLength();y<s&&(o=c.tangentAtT(d),s=y)}}return o||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var i=n.length,r=0,a=0;a<i;a++){var o=n[a];o.containsPoint(e)&&r++}return r%2===1},divideAt:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o={precision:r,segmentSubdivisions:a},s=this.length(o),l=s*e;return this.divideAtLength(l,o)},divideAtLength:function(e,t){var n=this.segments.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o,s,l=0,c,h,d,p,y;for(o=0;o<n;o++){var S=i?o:n-1-o;s=this.getSegment(S);var _=a[S],I=s.length({precision:r,subdivisions:_});if(s.isDifferentiable()&&(d=s,p=S,e<=l+I)){h=S,c=s.divideAtLength((i?1:-1)*(e-l),{precision:r,subdivisions:_});break}l+=I}if(!d)return null;c||(h=p,y=i?1:0,c=d.divideAtT(y));var M=this.clone();M.replaceSegment(h,c);var B=h,U=h+1,K=h+2;c[0].isDifferentiable()||(M.removeSegment(B),U-=1,K-=1);var Q=M.getSegment(U).start;M.insertSegment(U,Qt.createSegment("M",Q)),K+=1,c[1].isDifferentiable()||(M.removeSegment(K-1),K-=1);var H=K-B-1;for(o=K;o<M.segments.length;o++){var g=this.getSegment(o-H);if(s=M.getSegment(o),s.type==="Z"&&!g.subpathStartSegment.end.equals(s.subpathStartSegment.end)){var T=Qt.createSegment("L",g.end);M.replaceSegment(o,T)}}var A=new Qt(M.segments.slice(0,U)),D=new Qt(M.segments.slice(U));return[A,D]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,i=t.length;if(n.length!==i)return!1;for(var r=0;r<i;r++){var a=t[r],o=n[r];if(a.type!==o.type||!a.equals(o))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,n=t.length;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,r=[],a=0;a<n;a++){var o=t[a],s=o.getSubdivisions({precision:i});r.push(s)}return r},getSubpaths:function(){const t=this.clone().validate().segments,n=t.length,i=[];for(let r=0;r<n;r++){const a=t[r];a.isSubpathStart?i.push(new Qt(a)):i[i.length-1].appendSegment(a)}return i},insertSegment:function(e,t){var n=this.segments,i=n.length;if(e<0&&(e=i+e+1),e>i||e<0)throw new Error("Index out of range.");var r,a=null,o=null;if(i!==0&&(e>=1?(a=n[e-1],o=a.nextSegment):o=n[0]),Array.isArray(t)){if(t=t.reduce(function(h,d){return h.concat(d)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var s=t.length,l=0;l<s;l++){var c=t[l];r=this.prepareSegment(c,a,o),n.splice(e+l,0,r),a=r}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,a,o),n.splice(e,0,r)}},intersectionWithLine:function(e,t){var n=null,i=this.toPolylines(t);if(!i)return null;for(var r=0,a=i.length;r<a;r++){var o=i[r],s=e.intersect(o);s&&(n||(n=[]),Array.isArray(s)?Array.prototype.push.apply(n,s):n.push(s))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++){var i=e[n];if(i.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,n=t.length;if(n===0)return 0;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a=0,o=0;o<n;o++){var s=t[o],l=r[o];a+=s.length({subdivisions:l})}return a},lengthAtT:function(e,t){var n=this.segments,i=n.length;if(i===0)return 0;var r=e.segmentIndex;if(r<0)return 0;var a=e.value;r>=i?(r=i-1,a=1):a<0?a=0:a>1&&(a=1),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,l,c=0,h=0;h<r;h++){var d=n[h];l=s[h],c+=d.length({precisison:o,subdivisions:l})}return d=n[r],l=s[r],c+=d.lengthAtT(a,{precisison:o,subdivisions:l}),c},pointAt:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o={precision:r,segmentSubdivisions:a},s=this.length(o),l=s*e;return this.pointAtLength(l,o)},pointAtLength:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;if(e===0)return this.start.clone();var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,s,l=0,c=0;c<i;c++){var h=r?c:i-1-c,d=n[h],p=o[h],y=d.length({precision:a,subdivisions:p});if(d.isVisible){if(e<=l+y)return d.pointAtLength((r?1:-1)*(e-l),{precision:a,subdivisions:p});s=d}l+=y}if(s)return r?s.end:s.start;var S=n[i-1];return S.end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var i=e.segmentIndex;if(i<0)return t[0].pointAtT(0);if(i>=n)return t[n-1].pointAtT(1);var r=e.value;return r<0?r=0:r>1&&(r=1),t[i].pointAtT(r)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var i=e;return e.isSubpathStart&&(e.subpathStartSegment=e,i=n),i&&this.updateSubpathStartSegment(i),e},removeSegment:function(e){var t=this.segments,n=t.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i=t.splice(e,1)[0],r=i.previousSegment,a=i.nextSegment;r&&(r.nextSegment=a),a&&(a.previousSegment=r),i.isSubpathStart&&a&&this.updateSubpathStartSegment(a)},replaceSegment:function(e,t){var n=this.segments,i=n.length;if(i===0)throw new Error("Path has no segments.");if(e<0&&(e=i+e),e>=i||e<0)throw new Error("Index out of range.");var r,a=n[e],o=a.previousSegment,s=a.nextSegment,l=a.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(p,y){return p.concat(y)},[]),!t[0].isSegment)throw new Error("Segments required.");n.splice(e,1);for(var c=t.length,h=0;h<c;h++){var d=t[h];r=this.prepareSegment(d,o,s),n.splice(e+h,0,r),o=r,l&&r.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,o,s),n.splice(e,1,r),l&&r.isSubpathStart&&(l=!1)}l&&s&&this.updateSubpathStartSegment(s)},round:function(e){for(var t=this.segments,n=t.length,i=0;i<n;i++){var r=t[i];r.round(e)}return this},scale:function(e,t,n){for(var i=this.segments,r=i.length,a=0;a<r;a++){var o=i[a];o.scale(e,t,n)}return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o={precision:r,segmentSubdivisions:a},s=this.length(o),l=s*e;return this.segmentIndexAtLength(l,o)},segmentIndexAtLength:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,s=null,l=0,c=0;c<i;c++){var h=r?c:i-1-c,d=n[h],p=o[h],y=d.length({precision:a,subdivisions:p});if(d.isVisible){if(e<=l+y)return h;s=h}l+=y}return s},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o={precision:r,segmentSubdivisions:a},s=this.length(o),l=s*e;return this.tangentAtLength(l,o)},tangentAtLength:function(e,t){var n=this.segments,i=n.length;if(i===0)return null;var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,s,l=0,c=0;c<i;c++){var h=r?c:i-1-c,d=n[h],p=o[h],y=d.length({precision:a,subdivisions:p});if(d.isDifferentiable()){if(e<=l+y)return d.tangentAtLength((r?1:-1)*(e-l),{precision:a,subdivisions:p});s=d}l+=y}if(s){var S=r?1:0;return s.tangentAtT(S)}return null},tangentAtT:function(e){var t=this.segments,n=t.length;if(n===0)return null;var i=e.segmentIndex;if(i<0)return t[0].tangentAtT(0);if(i>=n)return t[n-1].tangentAtT(1);var r=e.value;return r<0?r=0:r>1&&(r=1),t[i].tangentAtT(r)},toPoints:function(e){var t=this.segments,n=t.length;if(n===0)return null;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a=[],o=[],s=0;s<n;s++){var l=t[s];if(l.isVisible){var c=r[s];if(c.length>0){var h=c.map(function(d){return d.start});Array.prototype.push.apply(o,h)}else o.push(l.start)}else o.length>0&&(o.push(t[s-1].end),a.push(o),o=[])}return o.length>0&&(o.push(this.end),a.push(o)),a},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var i=0,r=n.length;i<r;i++)t.push(new er(n[i]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",i=0;i<t;i++){var r=e[i];n+=r.serialize()+" "}return n.trim()},translate:function(e,t){for(var n=this.segments,i=n.length,r=0;r<i;r++){var a=n[r];a.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Qt.createSegment("M",0,0)),this}};Object.defineProperty(Qt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=0;n<t;n++){var i=e[n];if(i.isVisible)return i.start}return e[t-1].end}});Object.defineProperty(Qt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var n=t-1;n>=0;n--){var i=e[n];if(i.isVisible)return i.end}return e[t-1].end}});function Ic(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var qf={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(qf,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(qf,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(qf,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Da=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Da))return Ic(Da,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var i;if(e[0]instanceof Ot){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new _e(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var r;for(i=[],n=0;n<t;n+=2)r=e.slice(n,n+2),i.push(Ic(Da,r));return i}else{if(t===1)return this.end=new _e(e[0]),this;var a;for(i=[],n=0;n<t;n+=1)a=e[n],i.push(new Da(a));return i}},s8={clone:function(){return new Da(this.end)},divideAt:function(e){var t=new Ot(this.start,this.end),n=t.divideAt(e);return[new Da(n[0]),new Da(n[1])]},divideAtLength:function(e){var t=new Ot(this.start,this.end),n=t.divideAtLength(e);return[new Da(n[0]),new Da(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(s8,"type",{configurable:!0,enumerable:!0,value:"L"});Da.prototype=h1(qf,Ot.prototype,s8);var Ts=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Ts))return Ic(Ts,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var i;if(e[0]instanceof Ni){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new _e(+e[0],+e[1]),this.controlPoint2=new _e(+e[2],+e[3]),this.end=new _e(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var r;for(i=[],n=0;n<t;n+=6)r=e.slice(n,n+6),i.push(Ic(Ts,r));return i}else{if(t===3)return this.controlPoint1=new _e(e[0]),this.controlPoint2=new _e(e[1]),this.end=new _e(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var a;for(i=[],n=0;n<t;n+=3)a=e.slice(n,n+3),i.push(Ic(Ts,a));return i}},l8={clone:function(){return new Ts(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var n=new Ni(this.start,this.controlPoint1,this.controlPoint2,this.end),i=n.divideAt(e,t);return[new Ts(i[0]),new Ts(i[1])]},divideAtLength:function(e,t){var n=new Ni(this.start,this.controlPoint1,this.controlPoint2,this.end),i=n.divideAtLength(e,t);return[new Ts(i[0]),new Ts(i[1])]},divideAtT:function(e){var t=new Ni(this.start,this.controlPoint1,this.controlPoint2,this.end),n=t.divideAtT(e);return[new Ts(n[0]),new Ts(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(i))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(l8,"type",{configurable:!0,enumerable:!0,value:"C"});Ts.prototype=h1(qf,Ni.prototype,l8);var Zh=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof Zh))return Ic(Zh,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var i;if(e[0]instanceof Ot){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof Ni){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new _e(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var r;for(i=[],n=0;n<t;n+=2)r=e.slice(n,n+2),n===0?i.push(Ic(Zh,r)):i.push(Ic(Da,r));return i}else{if(t===1)return this.end=new _e(e[0]),this;var a;for(i=[],n=0;n<t;n+=1)a=e[n],n===0?i.push(new Zh(a)):i.push(new Da(a));return i}},G2={bbox:function(){return null},clone:function(){return new Zh(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(G2,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(G2,"type",{configurable:!0,enumerable:!0,value:"M"});Zh.prototype=h1(qf,G2);var l0=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof l0))return Ic(l0,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},W2={clone:function(){return new l0},divideAt:function(e){var t=new Ot(this.start,this.end),n=t.divideAt(e);return[n[1].isDifferentiable()?new Da(n[0]):this.clone(),new Da(n[1])]},divideAtLength:function(e){var t=new Ot(this.start,this.end),n=t.divideAtLength(e);return[n[1].isDifferentiable()?new Da(n[0]):this.clone(),new Da(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(W2,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(W2,"type",{configurable:!0,enumerable:!0,value:"Z"});l0.prototype=h1(qf,Ot.prototype,W2);var GW=Qt.segmentTypes={L:Da,C:Ts,M:Zh,Z:l0,z:l0};Qt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(GW).join("")+",.]*$");Qt.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const WW={curveThroughPoints:function(e){return console.warn("deprecated"),new Qt(Ni.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],n=[],i=e.length-1,r;if(i==1)return t[0]=new _e((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),n[0]=new _e(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,n];var a=[];for(r=1;r<i-1;r++)a[r]=4*e[r].x+2*e[r+1].x;a[0]=e[0].x+2*e[1].x,a[i-1]=(8*e[i-1].x+e[i].x)/2;var o=this.getFirstControlPoints(a);for(r=1;r<i-1;++r)a[r]=4*e[r].y+2*e[r+1].y;a[0]=e[0].y+2*e[1].y,a[i-1]=(8*e[i-1].y+e[i].y)/2;var s=this.getFirstControlPoints(a);for(r=0;r<i;r++)t.push(new _e(o[r],s[r])),r<i-1?n.push(new _e(2*e[r+1].x-o[r+1],2*e[r+1].y-s[r+1])):n.push(new _e((e[i].x+o[i-1])/2,(e[i].y+s[i-1])/2));return[t,n]},getCurveDivider:function(e,t,n,i){console.warn("deprecated");var r=new Ni(e,t,n,i);return function(o){var s=r.divide(o);return[{p0:s[0].start,p1:s[0].controlPoint1,p2:s[0].controlPoint2,p3:s[0].end},{p0:s[1].start,p1:s[1].controlPoint1,p2:s[1].controlPoint2,p3:s[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],i=[],r=2;n[0]=e[0]/r;for(var a=1;a<t;a++)i[a]=1/r,r=(a<t-1?4:3.5)-i[a],n[a]=(e[a]-n[a-1])/r;for(a=1;a<t;a++)n[t-a-1]-=i[t-a]*n[t-a];return n},getInversionSolver:function(e,t,n,i){console.warn("deprecated");var r=new Ni(e,t,n,i);return function(o){return r.closestPointT(o)}}},cs=function(e){if(!(this instanceof cs))return new cs(e);if(typeof e=="string")return new cs.parse(e);this.points=Array.isArray(e)?e.map(_e):[]};cs.parse=function(e){return new cs(r8(e))};cs.fromRect=function(e){return new cs([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};cs.prototype=h1(er.prototype,{type:Hn.Polygon,clone:function(){return new cs(a8(this.points))},convexHull:function(){return new cs(o8(this.points))},lengthPoints:function(){const{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});function c8(e,t,n,i){switch(e.type){case Hn.Line:{switch(t.type){case Hn.Line:return ef(e,t)}break}case Hn.Ellipse:{switch(t.type){case Hn.Line:return j2(e,t);case Hn.Ellipse:return u8(e,t)}break}case Hn.Rect:{switch(t.type){case Hn.Line:return d8(e,t);case Hn.Ellipse:return h8(e,t);case Hn.Rect:return K2(e,t)}break}case Hn.Polyline:{switch(t.type){case Hn.Line:return _S(e,t);case Hn.Ellipse:return Y2(e,t);case Hn.Rect:return f8(e,t);case Hn.Polyline:return p8(e,t)}break}case Hn.Polygon:{switch(t.type){case Hn.Line:return X2(e,t);case Hn.Ellipse:return CS(e,t);case Hn.Rect:return g8(e,t);case Hn.Polyline:return m8(e,t);case Hn.Polygon:return y8(e,t)}break}case Hn.Path:{switch(t.type){case Hn.Line:return v8(e,t,n);case Hn.Ellipse:return b8(e,t,n);case Hn.Rect:return E8(e,t,n);case Hn.Polyline:return J2(e,t,n);case Hn.Polygon:return wS(e,t,n);case Hn.Path:return x8(e,t,n,i)}break}}switch(t.type){case Hn.Ellipse:case Hn.Rect:case Hn.Polyline:case Hn.Polygon:case Hn.Path:return c8(t,e,i,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function ef(e,t){const n=e.start.x,i=e.start.y,r=e.end.x,a=e.end.y,o=t.start.x,s=t.start.y,l=t.end.x,c=t.end.y,h=r-n,d=a-i,p=l-o,y=c-s,S=n-o,_=i-s,I=h*y-p*d,M=(h*_-d*S)/I,B=(p*_-y*S)/I;return M>=0&&M<=1&&B>=0&&B<=1}function j2(e,t){const n=e.a,i=e.b,r=e.x,a=e.y,o=t.start.x-r,s=t.end.x-r,l=t.start.y-a,c=t.end.y-a,h=n*n,d=i*i,p=s-o,y=c-l,S=p*p/h+y*y/d,_=2*o*p/h+2*l*y/d,I=o*o/h+l*l/d-1,M=_*_-4*S*I;if(M===0){const B=-_/2/S;return B>=0&&B<=1}else if(M>0){const B=Math.sqrt(M),U=(-_+B)/2/S,K=(-_-B)/2/S;return U>=0&&U<=1||K>=0&&K<=1}return!1}function u8(e,t){return jW(e,0,t,0)}function d8(e,t){const{start:n,end:i}=t,{x:r,y:a,width:o,height:s}=e;return n.x>r+o&&i.x>r+o||n.x<r&&i.x<r||n.y>a+s&&i.y>a+s||n.y<a&&i.y<a?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:ef(e.topLine(),t)||ef(e.rightLine(),t)||ef(e.bottomLine(),t)||ef(e.leftLine(),t)}function h8(e,t){return K2(e,Tt.fromEllipse(t))?CS(cs.fromRect(e),t):!1}function K2(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function _S(e,t){return S8(e,t,{interior:!1})}function Y2(e,t){return _8(e,t,{interior:!1})}function f8(e,t){return C8(e,t,{interior:!1})}function p8(e,t){return TS(e,t,{interior:!1})}function X2(e,t){return S8(e,t,{interior:!0})}function CS(e,t){return _8(e,t,{interior:!0})}function g8(e,t){return C8(e,t,{interior:!0})}function m8(e,t){return TS(e,t,{interior:!0})}function y8(e,t){return Q2(e,t,{interior:!0})}function v8(e,t,n){return e.getSubpaths().some(i=>{const[r]=i.toPolylines(n),{type:a}=i.getSegment(-1);return a==="Z"?X2(r,t):_S(r,t)})}function b8(e,t,n){return e.getSubpaths().some(i=>{const[r]=i.toPolylines(n),{type:a}=i.getSegment(-1);return a==="Z"?CS(r,t):Y2(r,t)})}function E8(e,t,n){return wS(e,cs.fromRect(t),n)}function J2(e,t,n){return w8(e,t,n,{interior:!1})}function wS(e,t,n){return w8(e,t,n,{interior:!0})}function x8(e,t,n,i){return e.getSubpaths().some(r=>{const[a]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?wS(t,a,i):J2(t,a,i)})}function S8(e,t,n={}){const{interior:i=!1}=n;let r;if(i){if(e.containsPoint(t.start))return!0;const{start:s,end:l,points:c}=e;r=l.equals(s)?c:[...c,s]}else r=e.points;const{length:a}=r,o=new Ot;for(let s=0;s<a-1;s++)if(o.start=r[s],o.end=r[s+1],ef(t,o))return!0;return!1}function _8(e,t,n={}){const{start:i,end:r,points:a}=e;if(t.containsPoint(i))return!0;let o;const{interior:s=!1}=n;if(s){if(e.containsPoint(t.center()))return!0;o=r.equals(i)?a:[...a,i]}else o=a;const{length:l}=o,c=new Ot;for(let h=0;h<l-1;h++)if(c.start=o[h],c.end=o[h+1],j2(t,c))return!0;return!1}function C8(e,t,n){const i=cs.fromRect(t);return Q2(e,i,n)}function w8(e,t,n,i){return e.getSubpaths().some(r=>{const[a]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?Q2(t,a,i):TS(t,a,i)})}function TS(e,t,n={}){const{interior:i=!1}=n;let r;if(i){const{start:l}=t;if(e.containsPoint(l))return!0;r=e.clone().close()}else r=e;const a=t.points,{length:o}=a,s=new Ot;for(let l=0;l<o-1;l++)if(s.start=a[l],s.end=a[l+1],_S(r,s))return!0;return!1}function Q2(e,t,n){return t.containsPoint(e.start)||TS(e,t.clone().close(),n)}function jW(e,t,n,i){const{cos:r,sin:a}=Math,o=a(t),s=r(t),l=a(i),c=r(i),h=o*o,d=s*s,p=o*s,y=l*l,S=c*c,_=l*c,I=e.a*e.a,M=e.b*e.b,B=n.a*n.a,U=n.b*n.b,K=I*h+M*d,Q=B*y+U*S,H=I*d+M*h,g=B*S+U*y;let T=2*(M-I)*p,A=2*(U-B)*_,D=-2*K*e.x-T*e.y,Z=-2*Q*n.x-A*n.y,ie=-T*e.x-2*H*e.y,se=-A*n.x-2*g*n.y;const ue=K*e.x*e.x+H*e.y*e.y+T*e.x*e.y-I*M,de=Q*n.x*n.x+g*n.y*n.y+A*n.x*n.y-B*U;T=T/2,A=A/2,D=D/2,Z=Z/2,ie=ie/2,se=se/2;const F=bd([[K,T,D],[T,H,ie],[D,ie,ue]]),$=bd([[Q,A,Z],[A,g,se],[Z,se,de]]),W=.33333333*(bd([[Q,T,D],[A,H,ie],[Z,ie,ue]])+bd([[K,A,D],[T,g,ie],[D,se,ue]])+bd([[K,T,Z],[T,H,se],[D,ie,de]])),J=.33333333*(bd([[K,A,Z],[T,g,se],[D,se,de]])+bd([[Q,T,Z],[A,H,se],[Z,ie,de]])+bd([[Q,A,D],[A,g,ie],[Z,se,ue]])),G=Ib([[F,W],[W,J]]),le=Ib([[F,J],[W,$]]),Ie=Ib([[W,J],[J,$]]);return!(Ib([[2*G,le],[le,2*Ie]])>0&&(J>0||W>0))}function Ib(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function bd(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const KW=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:u8,ellipseWithLine:j2,exists:c8,lineWithLine:ef,pathWithEllipse:b8,pathWithLine:v8,pathWithPath:x8,pathWithPolygon:wS,pathWithPolyline:J2,pathWithRect:E8,polygonWithEllipse:CS,polygonWithLine:X2,polygonWithPolygon:y8,polygonWithPolyline:m8,polygonWithRect:g8,polylineWithEllipse:Y2,polylineWithLine:_S,polylineWithPolyline:p8,polylineWithRect:f8,rectWithEllipse:h8,rectWithLine:d8,rectWithRect:K2},Symbol.toStringTag,{value:"Module"})),tf=KW,YW=Object.freeze(Object.defineProperty({__proto__:null,Curve:Ni,Ellipse:Io,Line:Ot,Path:Qt,Point:_e,Polygon:cs,Polyline:er,Rect:Tt,bezier:WW,ellipse:zW,intersection:tf,line:Tf,normalizeAngle:al,point:UE,random:pT,rect:HW,scale:RW,snapToGrid:Nf,toDeg:SS,toRad:ls,types:Hn},Symbol.toStringTag,{value:"Module"})),lt=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",i=Math,r=i.PI,a=i.atan2,o=i.sqrt,s=i.min,l=i.max,c=i.cos,h=i.sin,d=function(g,T,A){if(!(this instanceof d))return d.apply(Object.create(d.prototype),arguments);if(g){if(d.isV(g)&&(g=g.node),T=T||{},d.isString(g)){if(g=g.trim(),g.toLowerCase()==="svg")g=d.createSvgDocument();else if(g[0]==="<"){var D=d.createSvgDocument(g);if(D.childNodes.length>1){var Z=[],ie,se;for(ie=0,se=D.childNodes.length;ie<se;ie++){var ue=D.childNodes[ie];Z.push(new d(document.importNode(ue,!0)))}return Z}g=document.importNode(D.firstChild,!0)}else g=document.createElementNS(t.svg,g);d.ensureId(g)}return this.node=g,this.setAttributes(T),A&&this.append(A),this}},p=d.prototype;Object.defineProperty(p,"id",{enumerable:!0,get:function(){return this.node.id},set:function(g){this.node.id=g}}),p.getTransformToElement=function(g){var T=this.node;if(d.isSVGGraphicsElement(g)&&d.isSVGGraphicsElement(T)){var A=d.toNode(g).getScreenCTM(),D=T.getScreenCTM();if(A&&D)return A.inverse().multiply(D)}return d.createSVGMatrix()},p.transform=function(g,T){var A=this.node;if(d.isUndefined(g))return d.transformStringToMatrix(this.attr("transform"));if(T&&T.absolute)return this.attr("transform",d.matrixToTransformString(g));var D=d.createSVGTransform(g);return A.transform.baseVal.appendItem(D),this},p.translate=function(g,T,A){A=A||{},T=T||0;var D=this.attr("transform")||"",Z=d.parseTransformString(D);if(D=Z.value,d.isUndefined(g))return Z.translate;D=D.replace(/translate\([^)]*\)/g,"").trim();var ie=A.absolute?g:Z.translate.tx+g,se=A.absolute?T:Z.translate.ty+T,ue="translate("+ie+","+se+")";return this.attr("transform",(ue+" "+D).trim()),this},p.rotate=function(g,T,A,D){D=D||{};var Z=this.attr("transform")||"",ie=d.parseTransformString(Z);if(Z=ie.value,d.isUndefined(g))return ie.rotate;Z=Z.replace(/rotate\([^)]*\)/g,"").trim(),g%=360;var se=D.absolute?g:ie.rotate.angle+g,ue=T!==void 0&&A!==void 0?","+T+","+A:"",de="rotate("+se+ue+")";return this.attr("transform",(Z+" "+de).trim()),this},p.scale=function(g,T){T=d.isUndefined(T)?g:T;var A=this.attr("transform")||"",D=d.parseTransformString(A);if(A=D.value,d.isUndefined(g))return D.scale;A=A.replace(/scale\([^)]*\)/g,"").trim();var Z="scale("+g+","+T+")";return this.attr("transform",(A+" "+Z).trim()),this},p.bbox=function(g,T){var A,D=this.node,Z=D.ownerSVGElement;if(!Z)return new Tt(0,0,0,0);try{A=D.getBBox()}catch{A={x:D.clientLeft,y:D.clientTop,width:D.clientWidth,height:D.clientHeight}}if(g)return new Tt(A);var ie=this.getTransformToElement(T||Z);return d.transformRect(A,ie)},p.getBBox=function(g){var T={},A,D=this.node,Z=D.ownerSVGElement;if(!Z||!d.isSVGGraphicsElement(D))return new Tt(0,0,0,0);if(g&&(g.target&&(T.target=d.toNode(g.target)),g.recursive&&(T.recursive=g.recursive)),T.recursive){var se=this.children(),ue=se.length;if(ue===0)return this.getBBox({target:T.target,recursive:!1});T.target||(T.target=this);for(var de=0;de<ue;de++){var F=se[de],$;F.children().length===0?$=F.getBBox({target:T.target,recursive:!1}):$=F.getBBox({target:T.target,recursive:!0}),A?A=A.union($):A=$}return A}else{try{A=D.getBBox()}catch{A={x:D.clientLeft,y:D.clientTop,width:D.clientWidth,height:D.clientHeight}}if(T.target){var ie=this.getTransformToElement(T.target);return d.transformRect(A,ie)}else return new Tt(A)}};function y(g,T){g||(g={});var A=d("textPath"),D=g.d;if(D&&g["xlink:href"]===void 0){var Z=d("path").attr("d",D).appendTo(T.defs());A.attr("xlink:href","#"+Z.id)}return d.isObject(g)&&A.attr(g),A.node}function S(g,T,A){A||(A={});for(var D=A.includeAnnotationIndices,Z=A.eol,ie=A.lineHeight,se=A.baseSize,ue=0,de={},F=T.length-1,$=0;$<=F;$++){var W=T[$],J=null;if(d.isObject(W)){var G=W.attrs,le=d("tspan",G),Ie=le.node,it=W.t;Z&&$===F&&(it+=Z),Ie.textContent=it;var Je=G.class;Je&&le.addClass(Je),D&&le.attr("annotations",W.annotations),J=parseFloat(G["font-size"]),isFinite(J)||(J=se),J&&J>ue&&(ue=J)}else Z&&$===F&&(W+=Z),Ie=document.createTextNode(W||" "),se&&se>ue&&(ue=se);g.appendChild(Ie)}return ue&&(de.maxFontSize=ue),ie?de.lineHeight=ie:ue&&(de.lineHeight=ue*1.2),de}var _=/em$/;function I(g,T){var A=parseFloat(g);return _.test(g)?A*T:A}function M(g,T,A,D){if(!Array.isArray(T))return 0;var Z=T.length;if(!Z)return 0;for(var ie=T[0],se=I(ie.maxFontSize,A)||A,ue=0,de=I(D,A),F=1;F<Z;F++){ie=T[F];var $=I(ie.lineHeight,A)||de;ue+=$}var W=I(ie.maxFontSize,A)||A,J;switch(g){case"middle":J=se/2-.15*W-ue/2;break;case"bottom":J=-(.25*W)-ue;break;case"top":default:J=.8*se;break}return J}p.text=function(g,T){if(g&&typeof g!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");g=d.sanitizeText(g),T||(T={});var A=T.displayEmpty,D=T.eol,Z=T.textPath,ie=T.textVerticalAnchor,se=ie==="middle"||ie==="bottom"||ie==="top",ue=T.x;ue===void 0&&(ue=this.attr("x")||0);var de=T.includeAnnotationIndices,F=T.annotations;F&&!d.isArray(F)&&(F=[F]);var $=T.lineHeight,W=$==="auto",J=W?"1.5em":$||"1em";this.empty(),this.attr({"xml:space":"preserve",display:g||A?null:"none"});var G=parseFloat(this.attr("font-size"));G||(G=16,(se||F)&&this.attr("font-size",G));var le=document,Ie;Z?(typeof Z=="string"&&(Z={d:Z}),Ie=y(Z,this)):Ie=le.createDocumentFragment();for(var it=0,Je=g.split(`
`),Ge=[],Ze,Te=0,Ae=Je.length-1;Te<=Ae;Te++){var Ue=J,Xe="v-line",dt=le.createElementNS(t.svg,"tspan"),te=Je[Te],ce;if(te)if(F){var fe=d.annotateString(te,F,{offset:-it,includeAnnotationIndices:de});ce=S(dt,fe,{includeAnnotationIndices:de,eol:Te!==Ae&&D,lineHeight:W?null:J,baseSize:G});var Be=ce.lineHeight;Be&&W&&Te!==0&&(Ue=Be),Te===0&&(Ze=ce.maxFontSize*.8)}else D&&Te!==Ae&&(te+=D),dt.textContent=te;else{dt.textContent="-",Xe+=" v-empty-line";var we=dt.style;if(we.fillOpacity=0,we.strokeOpacity=0,F){ce={},fe=d.findAnnotationsAtIndex(F,it);let Ee=G;for(let ve=fe.length;ve>0;ve--){const We=fe[ve-1].attrs;if(!We||!("font-size"in We))continue;const tt=parseFloat(We["font-size"]);if(isFinite(tt)){Ee=tt;break}}W&&(Te>0?Ue=Ee*1.2:Ze=Ee*.8),dt.setAttribute("font-size",Ee),ce.maxFontSize=Ee}}ce&&Ge.push(ce),Te>0&&dt.setAttribute("dy",Ue),(Te>0||Z)&&dt.setAttribute("x",ue),dt.className.baseVal=Xe,Ie.appendChild(dt),it+=te.length+1}if(se)if(F)Ue=M(ie,Ge,G,J);else if(ie==="top")Ue="0.8em";else{var re;switch(Ae>0?(re=parseFloat(J)||1,re*=Ae,_.test(J)||(re/=G)):re=0,ie){case"middle":Ue=.3-re/2+"em";break;case"bottom":Ue=-re-.3+"em";break}}else ie===0?Ue="0em":ie?Ue=ie:(Ue=0,this.attr("y")===null&&this.attr("y",Ze||"0.8em"));return Ie.firstChild.setAttribute("dy",Ue),this.append(Ie),this},p.removeAttr=function(g){const T=Q[g],{ns:A,local:D}=d.qualifyAttr(T),Z=this.node;return A?Z.hasAttributeNS(A,D)&&Z.removeAttributeNS(A,D):Z.hasAttribute(T)&&Z.removeAttribute(T),this},p.attr=function(g,T){if(d.isUndefined(g)){for(var A=this.node.attributes,D={},Z=0;Z<A.length;Z++)D[A[Z].name]=A[Z].value;return D}if(d.isString(g)&&d.isUndefined(T))return this.node.getAttribute(Q[g]);if(typeof g=="object")for(var ie in g)g.hasOwnProperty(ie)&&this.setAttribute(ie,g[ie]);else this.setAttribute(g,T);return this},p.normalizePath=function(){var g=this.tagName();return g==="PATH"&&this.attr("d",d.normalizePathData(this.attr("d"))),this},p.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},p.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},p.setAttributes=function(g){for(var T in g)g.hasOwnProperty(T)&&this.setAttribute(T,g[T]);return this},p.append=function(g){d.isArray(g)||(g=[g]);for(var T=0,A=g.length;T<A;T++)this.node.appendChild(d.toNode(g[T]));return this},p.prepend=function(g){var T=this.node.firstChild;return T?d(T).before(g):this.append(g)},p.before=function(g){var T=this.node,A=T.parentNode;if(A){d.isArray(g)||(g=[g]);for(var D=0,Z=g.length;D<Z;D++)A.insertBefore(d.toNode(g[D]),T)}return this},p.appendTo=function(g){return d.toNode(g).appendChild(this.node),this},p.svg=function(){return this.node instanceof window.SVGSVGElement?this:d(this.node.ownerSVGElement)},p.tagName=function(){return this.node.tagName.toUpperCase()},p.defs=function(){var g=this.svg()||this,T=g.node.getElementsByTagName("defs")[0];return T?d(T):d("defs").appendTo(g)},p.clone=function(){var g=d(this.node.cloneNode(!0));return g.node.id=d.uniqueId(),g},p.findOne=function(g){var T=this.node.querySelector(g);return T?d(T):void 0},p.find=function(g){var T=[],A=this.node.querySelectorAll(g);if(A)for(var D=0;D<A.length;D++)T.push(d(A[D]));return T},p.children=function(){for(var g=this.node.childNodes,T=[],A=0;A<g.length;A++){var D=g[A];D.nodeType===1&&T.push(d(g[A]))}return T},p.parent=function(){return d(this.node.parentNode)||null},p.index=function(){for(var g=0,T=this.node.previousSibling;T;)T.nodeType===1&&g++,T=T.previousSibling;return g},p.findParentByClass=function(g,T){for(var A=this.node.ownerSVGElement,D=this.node.parentNode;D&&D!==T&&D!==A;){var Z=d(D);if(Z.hasClass(g))return Z;D=D.parentNode}return null},p.contains=function(g){var T=this.node,A=d.toNode(g),D=A&&A.parentNode;return T===D||!!(D&&D.nodeType===1&&T.compareDocumentPosition(D)&16)},p.toLocalPoint=function(g,T){var A=this.svg().node,D=A.createSVGPoint();D.x=g,D.y=T;try{var Z=D.matrixTransform(A.getScreenCTM().inverse()),ie=this.getTransformToElement(A).inverse()}catch{return D}return Z.matrixTransform(ie)},p.translateCenterToPoint=function(g){var T=this.getBBox({target:this.svg()}),A=T.center();return this.translate(g.x-A.x,g.y-A.y),this},p.translateAndAutoOrient=function(g,T,A){g=new _e(g),T=new _e(T),A||(A=this.svg());var D=this.scale();this.attr("transform","");var Z=this.getBBox({target:A}).scale(D.sx,D.sy),ie=d.createSVGTransform();ie.setTranslate(-Z.x-Z.width/2,-Z.y-Z.height/2);var se=d.createSVGTransform(),ue=g.angleBetween(T,g.clone().offset(1,0));ue&&se.setRotate(ue,0,0);var de=d.createSVGTransform(),F=g.clone().move(T,Z.width/2);de.setTranslate(2*g.x-F.x,2*g.y-F.y);var $=this.getTransformToElement(A),W=d.createSVGTransform();return W.setMatrix(de.matrix.multiply(se.matrix.multiply(ie.matrix.multiply($.scale(D.sx,D.sy))))),this.attr("transform",d.matrixToTransformString(W.matrix)),this},p.animateAlongPath=function(g,T){T=d.toNode(T);var A=d.ensureId(T),D=d("animateMotion",g),Z=d("mpath",{"xlink:href":"#"+A});D.append(Z),this.append(D);try{D.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var ie=D.node;ie.animators=[];var se=ie.getAttribute("id");se&&(id2anim[se]=ie);for(var ue=getTargets(ie),de=0,F=ue.length;de<F;de++){var $=ue[de],W=new Animator(ie,$,de);animators.push(W),ie.animators[de]=W,W.register()}}}return this};const B=/[^\x20\t\r\n\f]+/g;function U(g){return d.isString(g)?g.trim().match(B)||[]:[]}p.hasClass=function(g){return d.isString(g)?this.node.classList.contains(g.trim()):!1},p.addClass=function(g){return this.node.classList.add(...U(g)),this},p.removeClass=function(g){return this.node.classList.remove(...U(g)),this},p.toggleClass=function(g,T){const A=U(g);for(let D=0;D<A.length;D++)this.node.classList.toggle(A[D],T);return this},p.sample=function(g){g=g||1;for(var T=this.node,A=T.getTotalLength(),D=[],Z=0,ie;Z<A;)ie=T.getPointAtLength(Z),D.push({x:ie.x,y:ie.y,distance:Z}),Z+=g;return D},p.convertToPath=function(){var g=d("path");g.attr(this.attr());var T=this.convertToPathData();return T&&g.attr("d",T),g},p.convertToPathData=function(){var g=this.tagName();switch(g){case"PATH":return this.attr("d");case"LINE":return d.convertLineToPathData(this.node);case"POLYGON":return d.convertPolygonToPathData(this.node);case"POLYLINE":return d.convertPolylineToPathData(this.node);case"ELLIPSE":return d.convertEllipseToPathData(this.node);case"CIRCLE":return d.convertCircleToPathData(this.node);case"RECT":return d.convertRectToPathData(this.node)}throw new Error(g+" cannot be converted to PATH.")},d.prototype.toGeometryShape=function(){var g,T,A,D,Z,ie,se,ue,de,F,$,W,J,G,le;switch(this.tagName()){case"RECT":return g=parseFloat(this.attr("x"))||0,T=parseFloat(this.attr("y"))||0,A=parseFloat(this.attr("width"))||0,D=parseFloat(this.attr("height"))||0,new Tt(g,T,A,D);case"CIRCLE":return Z=parseFloat(this.attr("cx"))||0,ie=parseFloat(this.attr("cy"))||0,se=parseFloat(this.attr("r"))||0,new Io({x:Z,y:ie},se,se);case"ELLIPSE":return Z=parseFloat(this.attr("cx"))||0,ie=parseFloat(this.attr("cy"))||0,ue=parseFloat(this.attr("rx"))||0,de=parseFloat(this.attr("ry"))||0,new Io({x:Z,y:ie},ue,de);case"POLYLINE":return F=d.getPointsFromSvgNode(this),new er(F);case"POLYGON":return F=d.getPointsFromSvgNode(this),F.length>1&&F.push(F[0]),new er(F);case"PATH":return $=this.attr("d"),Qt.isDataSupported($)||($=d.normalizePathData($)),new Qt($);case"LINE":return W=parseFloat(this.attr("x1"))||0,G=parseFloat(this.attr("y1"))||0,J=parseFloat(this.attr("x2"))||0,le=parseFloat(this.attr("y2"))||0,new Ot({x:W,y:G},{x:J,y:le})}return this.getBBox()},p.findIntersection=function(g,T){var A=this.svg().node;T=T||A;var D=this.getBBox({target:T}),Z=D.center();if(D.intersectionWithLineFromCenterToPoint(g)){var ie,se=this.tagName();if(se==="RECT"){var ue=new Tt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),de=this.getTransformToElement(T),F=d.decomposeMatrix(de),$=A.createSVGTransform();$.setRotate(-F.rotation,Z.x,Z.y);var W=d.transformRect(ue,$.matrix.multiply(de));ie=new Tt(W).intersectionWithLineFromCenterToPoint(g,F.rotation)}else if(se==="PATH"||se==="POLYGON"||se==="POLYLINE"||se==="CIRCLE"||se==="ELLIPSE"){var J=se==="PATH"?this:this.convertToPath(),G=J.sample(),le=1/0,Ie=[],it,Je,Ge,Ze,Te,Ae;for(it=0;it<G.length;it++)Je=G[it],Ge=d.createSVGPoint(Je.x,Je.y),Ge=Ge.matrixTransform(this.getTransformToElement(T)),Je=new _e(Ge),Ze=Je.distance(Z),Te=Je.distance(g)*1.1,Ae=Ze+Te,Ae<le?(le=Ae,Ie=[{sample:Je,refDistance:Te}]):Ae<le+1&&Ie.push({sample:Je,refDistance:Te});Ie.sort(function(Ue,Xe){return Ue.refDistance-Xe.refDistance}),Ie[0]&&(ie=Ie[0].sample)}return ie}},p.setAttribute=function(g,T){const A=this.node;if(T===null)return this.removeAttr(g),this;const D=Q[g],{ns:Z}=d.qualifyAttr(D);return Z?A.setAttributeNS(Z,D,T):D==="id"?A.id=T:A.setAttribute(D,T),this},d.createSvgDocument=function(g){if(g){const A=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${n}">${g}</svg>`,{documentElement:D}=d.parseXML(A,{async:!1});return D}const T=document.createElementNS(t.svg,"svg");return T.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),T.setAttribute("version",n),T},d.createSVGStyle=function(g){const{node:T}=d("style",{type:"text/css"},[d.createCDATASection(g)]);return T},d.createCDATASection=function(g=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(g)},d.idCounter=0,d.uniqueId=function(){return"v-"+ ++d.idCounter},d.toNode=function(g){return d.isV(g)?g.node:g.nodeName&&g||g[0]},d.ensureId=function(g){return g=d.toNode(g),g.id||(g.id=d.uniqueId())},d.sanitizeText=function(g){return(g||"").replace(/ /g," ")},d.isUndefined=function(g){return typeof g>"u"},d.isString=function(g){return typeof g=="string"},d.isObject=function(g){return g&&typeof g=="object"},d.isArray=Array.isArray,d.parseXML=function(g,T){T=T||{};var A;try{var D=new DOMParser;d.isUndefined(T.async)||(D.async=T.async),A=D.parseFromString(g,"text/xml")}catch{A=void 0}if(!A||A.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+g);return A};const K=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(g=>K[g]=g),K.xlinkShow="xlink:show",K.xlinkRole="xlink:role",K.xlinkActuate="xlink:actuate",K.xlinkHref="xlink:href",K.xlinkType="xlink:type",K.xlinkTitle="xlink:title",K.xmlBase="xml:base",K.xmlLang="xml:lang",K.xmlSpace="xml:space";const Q=new Proxy(K,{get(g,T){return d.supportCamelCaseAttributes?T in g?g[T]:g[T]=T.replace(/[A-Z]/g,"-$&").toLowerCase():T}});Object.defineProperty(d,"attributeNames",{enumerable:!0,value:Q,writable:!1}),Object.defineProperty(d,"supportCamelCaseAttributes",{enumerable:!0,value:!0,writable:!0}),d.qualifyAttr=function(g){if(g.indexOf(":")!==-1){var T=g.split(":");return{ns:t[T[0]],local:T[1]}}return{ns:null,local:g}},d.transformSeparatorRegex=/[ ,]+/,d.transformRegex=/\b\w+\([^()]+\)/g,d.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,d.transformTranslateRegex=/\btranslate\(([^()]+)\)/,d.transformRotateRegex=/\brotate\(([^()]+)\)/,d.transformScaleRegex=/\bscale\(([^()]+)\)/,d.transformStringToMatrix=function(g){let T=d.createSVGMatrix();const A=g&&g.match(d.transformRegex);if(!A)return T;const D=A.length;for(let Z=0;Z<D;Z++){const se=A[Z].match(d.transformFunctionRegex);if(se){let ue,de,F,$,W,J=d.createSVGMatrix();const G=se[1].toLowerCase(),le=se[2].split(d.transformSeparatorRegex);switch(G){case"scale":ue=parseFloat(le[0]),de=le[1]===void 0?ue:parseFloat(le[1]),J=J.scaleNonUniform(ue,de);break;case"translate":F=parseFloat(le[0]),$=parseFloat(le[1]),J=J.translate(F,$);break;case"rotate":W=parseFloat(le[0]),F=parseFloat(le[1])||0,$=parseFloat(le[2])||0,F!==0||$!==0?J=J.translate(F,$).rotate(W).translate(-F,-$):J=J.rotate(W);break;case"skewx":W=parseFloat(le[0]),J=J.skewX(W);break;case"skewy":W=parseFloat(le[0]),J=J.skewY(W);break;case"matrix":J.a=parseFloat(le[0]),J.b=parseFloat(le[1]),J.c=parseFloat(le[2]),J.d=parseFloat(le[3]),J.e=parseFloat(le[4]),J.f=parseFloat(le[5]);break;default:continue}T=T.multiply(J)}}return T},d.matrixToTransformString=function(g){return g||(g=!0),"matrix("+(g.a!==void 0?g.a:1)+","+(g.b!==void 0?g.b:0)+","+(g.c!==void 0?g.c:0)+","+(g.d!==void 0?g.d:1)+","+(g.e!==void 0?g.e:0)+","+(g.f!==void 0?g.f:0)+")"},d.parseTransformString=function(g){var T,A,D;if(g){var Z=d.transformSeparatorRegex;if(g.trim().indexOf("matrix")>=0){var ie=d.transformStringToMatrix(g),se=d.decomposeMatrix(ie);T=[se.translateX,se.translateY],D=[se.scaleX,se.scaleY],A=[se.rotation];var ue=[];(T[0]!==0||T[1]!==0)&&ue.push("translate("+T+")"),(D[0]!==1||D[1]!==1)&&ue.push("scale("+D+")"),A[0]!==0&&ue.push("rotate("+A+")"),g=ue.join(" ")}else{const F=g.match(d.transformTranslateRegex);F&&(T=F[1].split(Z));const $=g.match(d.transformRotateRegex);$&&(A=$[1].split(Z));const W=g.match(d.transformScaleRegex);W&&(D=W[1].split(Z))}}var de=D&&D[0]?parseFloat(D[0]):1;return{value:g,translate:{tx:T&&T[0]?parseInt(T[0],10):0,ty:T&&T[1]?parseInt(T[1],10):0},rotate:{angle:A&&A[0]?parseInt(A[0],10):0,cx:A&&A[1]?parseInt(A[1],10):void 0,cy:A&&A[2]?parseInt(A[2],10):void 0},scale:{sx:de,sy:D&&D[1]?parseFloat(D[1]):de}}},d.deltaTransformPoint=function(g,T){var A=T.x*g.a+T.y*g.c+0,D=T.x*g.b+T.y*g.d+0;return{x:A,y:D}},d.decomposeMatrix=function(g){var T=d.deltaTransformPoint(g,{x:0,y:1}),A=d.deltaTransformPoint(g,{x:1,y:0}),D=180/r*a(T.y,T.x)-90,Z=180/r*a(A.y,A.x);return{translateX:g.e,translateY:g.f,scaleX:o(g.a*g.a+g.b*g.b),scaleY:o(g.c*g.c+g.d*g.d),skewX:D,skewY:Z,rotation:D}},d.matrixToScale=function(g){var T,A,D,Z;return g?(T=d.isUndefined(g.a)?1:g.a,Z=d.isUndefined(g.d)?1:g.d,A=g.b,D=g.c):T=Z=1,{sx:A?o(T*T+A*A):T,sy:D?o(D*D+Z*Z):Z}},d.matrixToRotate=function(g){var T={x:0,y:1};return g&&(T=d.deltaTransformPoint(g,T)),{angle:al(SS(a(T.y,T.x))-90)}},d.matrixToTranslate=function(g){return{tx:g&&g.e||0,ty:g&&g.f||0}},d.isV=function(g){return g instanceof d},d.isVElement=d.isV,d.isSVGGraphicsElement=function(g){return g?(g=d.toNode(g),g instanceof SVGElement&&typeof g.getScreenCTM=="function"):!1};var H=d("svg").node;return d.createSVGMatrix=function(g){var T=H.createSVGMatrix();for(var A in g)T[A]=g[A];return T},d.createSVGTransform=function(g){return d.isUndefined(g)?H.createSVGTransform():(g instanceof SVGMatrix||(g=d.createSVGMatrix(g)),H.createSVGTransformFromMatrix(g))},d.createSVGPoint=function(g,T){var A=H.createSVGPoint();return A.x=g,A.y=T,A},d.transformRect=function(g,T){var A=H.createSVGPoint();A.x=g.x,A.y=g.y;var D=A.matrixTransform(T);A.x=g.x+g.width,A.y=g.y;var Z=A.matrixTransform(T);A.x=g.x+g.width,A.y=g.y+g.height;var ie=A.matrixTransform(T);A.x=g.x,A.y=g.y+g.height;var se=A.matrixTransform(T),ue=s(D.x,Z.x,ie.x,se.x),de=l(D.x,Z.x,ie.x,se.x),F=s(D.y,Z.y,ie.y,se.y),$=l(D.y,Z.y,ie.y,se.y);return new Tt(ue,F,de-ue,$-F)},d.transformPoint=function(g,T){return new _e(d.createSVGPoint(g.x,g.y).matrixTransform(T))},d.transformLine=function(g,T){return new Ot(d.transformPoint(g.start,T),d.transformPoint(g.end,T))},d.transformPolyline=function(g,T){var A=g instanceof er?g.points:g;d.isArray(A)||(A=[]);for(var D=[],Z=0,ie=A.length;Z<ie;Z++)D[Z]=d.transformPoint(A[Z],T);return new er(D)},d.styleToObject=function(g){for(var T={},A=g.split(";"),D=0;D<A.length;D++){var Z=A[D],ie=Z.split("=");T[ie[0].trim()]=ie[1].trim()}return T},d.createSlicePathData=function(g,T,A,D){var Z=2*r-1e-6,ie=g,se=T,ue=A,de=D,F=(de<ue&&(F=ue,ue=de,de=F),de-ue),$=F<r?"0":"1",W=c(ue),J=h(ue),G=c(de),le=h(de);return F>=Z?ie?"M0,"+se+"A"+se+","+se+" 0 1,1 0,"+-se+"A"+se+","+se+" 0 1,1 0,"+se+"M0,"+ie+"A"+ie+","+ie+" 0 1,0 0,"+-ie+"A"+ie+","+ie+" 0 1,0 0,"+ie+"Z":"M0,"+se+"A"+se+","+se+" 0 1,1 0,"+-se+"A"+se+","+se+" 0 1,1 0,"+se+"Z":ie?"M"+se*W+","+se*J+"A"+se+","+se+" 0 "+$+",1 "+se*G+","+se*le+"L"+ie*G+","+ie*le+"A"+ie+","+ie+" 0 "+$+",0 "+ie*W+","+ie*J+"Z":"M"+se*W+","+se*J+"A"+se+","+se+" 0 "+$+",1 "+se*G+","+se*le+"L0,0Z"},d.mergeAttrs=function(g,T){for(var A in T)A==="class"?g[A]=g[A]?g[A]+" "+T[A]:T[A]:A==="style"?d.isObject(g[A])&&d.isObject(T[A])?g[A]=d.mergeAttrs(g[A],T[A]):d.isObject(g[A])?g[A]=d.mergeAttrs(g[A],d.styleToObject(T[A])):d.isObject(T[A])?g[A]=d.mergeAttrs(d.styleToObject(g[A]),T[A]):g[A]=d.mergeAttrs(d.styleToObject(g[A]),d.styleToObject(T[A])):g[A]=T[A];return g},d.annotateString=function(g,T,A){T=T||[],A=A||{};for(var D=A.offset||0,Z=[],ie,se=[],ue,de,F=0;F<g.length;F++){ue=se[F]=g[F];for(var $=0;$<T.length;$++){var W=T[$],J=W.start+D,G=W.end+D;F>=J&&F<G&&(d.isObject(ue)?ue.attrs=d.mergeAttrs(d.mergeAttrs({},ue.attrs),W.attrs):ue=se[F]={t:g[F],attrs:W.attrs},A.includeAnnotationIndices&&(ue.annotations||(ue.annotations=[])).push($))}de=se[F-1],de?d.isObject(ue)&&d.isObject(de)?JSON.stringify(ue.attrs)===JSON.stringify(de.attrs)?ie.t+=ue.t:(Z.push(ie),ie=ue):d.isObject(ue)||d.isObject(de)?(Z.push(ie),ie=ue):ie=(ie||"")+ue:ie=ue}return ie&&Z.push(ie),Z},d.findAnnotationsAtIndex=function(g,T){var A=[];return g&&g.forEach(function(D){D.start<T&&T<=D.end&&A.push(D)}),A},d.findAnnotationsBetweenIndexes=function(g,T,A){var D=[];return g&&g.forEach(function(Z){(T>=Z.start&&T<Z.end||A>Z.start&&A<=Z.end||Z.start>=T&&Z.end<A)&&D.push(Z)}),D},d.shiftAnnotations=function(g,T,A){return g&&g.forEach(function(D){D.start<T&&D.end>=T?D.end+=A:D.start>=T&&(D.start+=A,D.end+=A)}),g},d.convertLineToPathData=function(g){g=d(g);var T=["M",g.attr("x1"),g.attr("y1"),"L",g.attr("x2"),g.attr("y2")].join(" ");return T},d.convertPolygonToPathData=function(g){var T=d.getPointsFromSvgNode(g);return T.length===0?null:d.svgPointsToPath(T)+" Z"},d.convertPolylineToPathData=function(g){var T=d.getPointsFromSvgNode(g);return T.length===0?null:d.svgPointsToPath(T)},d.svgPointsToPath=function(g){for(var T=0,A=g.length;T<A;T++)g[T]=g[T].x+" "+g[T].y;return"M "+g.join(" L")},d.getPointsFromSvgNode=function(g){g=d.toNode(g);var T=[],A=g.points;if(A)for(var D=0,Z=A.numberOfItems;D<Z;D++)T.push(A.getItem(D));return T},d.KAPPA=.551784,d.convertCircleToPathData=function(g){g=d(g);var T=parseFloat(g.attr("cx"))||0,A=parseFloat(g.attr("cy"))||0,D=parseFloat(g.attr("r")),Z=D*d.KAPPA,ie=["M",T,A-D,"C",T+Z,A-D,T+D,A-Z,T+D,A,"C",T+D,A+Z,T+Z,A+D,T,A+D,"C",T-Z,A+D,T-D,A+Z,T-D,A,"C",T-D,A-Z,T-Z,A-D,T,A-D,"Z"].join(" ");return ie},d.convertEllipseToPathData=function(g){g=d(g);var T=parseFloat(g.attr("cx"))||0,A=parseFloat(g.attr("cy"))||0,D=parseFloat(g.attr("rx")),Z=parseFloat(g.attr("ry"))||D,ie=D*d.KAPPA,se=Z*d.KAPPA,ue=["M",T,A-Z,"C",T+ie,A-Z,T+D,A-se,T+D,A,"C",T+D,A+se,T+ie,A+Z,T,A+Z,"C",T-ie,A+Z,T-D,A+se,T-D,A,"C",T-D,A-se,T-ie,A-Z,T,A-Z,"Z"].join(" ");return ue},d.convertRectToPathData=function(g){return g=d(g),d.rectToPath({x:parseFloat(g.attr("x"))||0,y:parseFloat(g.attr("y"))||0,width:parseFloat(g.attr("width"))||0,height:parseFloat(g.attr("height"))||0,rx:parseFloat(g.attr("rx"))||0,ry:parseFloat(g.attr("ry"))||0})},d.rectToPath=function(g){var T,A=g.x,D=g.y,Z=g.width,ie=g.height,se=s(g.rx||g["top-rx"]||0,Z/2),ue=s(g.rx||g["bottom-rx"]||0,Z/2),de=s(g.ry||g["top-ry"]||0,ie/2),F=s(g.ry||g["bottom-ry"]||0,ie/2);return se||ue||de||F?T=["M",A,D+de,"v",ie-de-F,"a",ue,F,0,0,0,ue,F,"h",Z-2*ue,"a",ue,F,0,0,0,ue,-F,"v",-(ie-F-de),"a",se,de,0,0,0,-se,-de,"h",-(Z-2*se),"a",se,de,0,0,0,-se,de,"Z"]:T=["M",A,D,"H",A+Z,"V",D+ie,"H",A,"V",D,"Z"],T.join(" ")},d.normalizePathData=function(){var g=`	
\v\f\r   ᠎             　\u2028\u2029`,T=new RegExp("([a-z])["+g+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+g+"]*,?["+g+"]*)+)","ig"),A=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+g+"]*,?["+g+"]*","ig"),D=Math,Z=D.PI,ie=D.sin,se=D.cos,ue=D.tan,de=D.asin,F=D.sqrt,$=D.abs;function W(Je,Ge,Ze,Te,Ae,Ue){var Xe=.3333333333333333,dt=2/3;return[Xe*Je+dt*Ze,Xe*Ge+dt*Te,Xe*Ae+dt*Ze,Xe*Ue+dt*Te,Ae,Ue]}function J(Je,Ge,Ze){var Te=Je*se(Ze)-Ge*ie(Ze),Ae=Je*ie(Ze)+Ge*se(Ze);return{x:Te,y:Ae}}function G(Je,Ge,Ze,Te,Ae,Ue,Xe,dt,te,ce){var fe=Z*120/180,Be=Z/180*(+Ae||0),we=[],re;if(ce)At=ce[0],Gt=ce[1],Nt=ce[2],at=ce[3];else{re=J(Je,Ge,-Be),Je=re.x,Ge=re.y,re=J(dt,te,-Be),dt=re.x,te=re.y;var Ee=(Je-dt)/2,ve=(Ge-te)/2,We=Ee*Ee/(Ze*Ze)+ve*ve/(Te*Te);We>1&&(We=F(We),Ze=We*Ze,Te=We*Te);var tt=Ze*Ze,yt=Te*Te,xt=(Ue==Xe?-1:1)*F($((tt*yt-tt*ve*ve-yt*Ee*Ee)/(tt*ve*ve+yt*Ee*Ee)));if(!Number.isFinite(xt))return[Je,Ge,dt,te,dt,te];var Nt=xt*Ze*ve/Te+(Je+dt)/2,at=xt*-Te*Ee/Ze+(Ge+te)/2,At=de(((Ge-at)/Te).toFixed(9)),Gt=de(((te-at)/Te).toFixed(9));At=Je<Nt?Z-At:At,Gt=dt<Nt?Z-Gt:Gt,At<0&&(At=Z*2+At),Gt<0&&(Gt=Z*2+Gt),Xe&&At>Gt&&(At=At-Z*2),!Xe&&Gt>At&&(Gt=Gt-Z*2)}var tn=Gt-At;if($(tn)>fe){var wi=Gt,ii=dt,ir=te;Gt=At+fe*(Xe&&Gt>At?1:-1),dt=Nt+Ze*se(Gt),te=at+Te*ie(Gt),we=G(dt,te,Ze,Te,Ae,0,Xe,ii,ir,[Gt,wi,Nt,at])}tn=Gt-At;var Ti=se(At),bi=ie(At),Fi=se(Gt),ri=ie(Gt),zi=ue(tn/4),mr=4/3*(Ze*zi),Fa=4/3*(Te*zi),la=[Je,Ge],yr=[Je+mr*bi,Ge-Fa*Ti],ta=[dt+mr*ri,te-Fa*Fi],Qn=[dt,te];if(yr[0]=2*la[0]-yr[0],yr[1]=2*la[1]-yr[1],ce)return[yr,ta,Qn].concat(we);we=[yr,ta,Qn].concat(we).join().split(",");for(var ca=[],et=we.length,_n=0;_n<et;_n++)ca[_n]=_n%2?J(we[_n-1],we[_n],Be).y:J(we[_n],we[_n+1],Be).x;return ca}function le(Je){if(!Je)return null;var Ge={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Ze=[];return String(Je).replace(T,function(Te,Ae,Ue){var Xe=[],dt=Ae.toLowerCase();for(Ue.replace(A,function(te,ce){ce&&Xe.push(+ce)}),dt==="m"&&Xe.length>2&&(Ze.push([Ae].concat(Xe.splice(0,2))),dt="l",Ae=Ae==="m"?"l":"L");Xe.length>=Ge[dt]&&(Ze.push([Ae].concat(Xe.splice(0,Ge[dt]))),!!Ge[dt]););}),Ze}function Ie(Je){if((!Array.isArray(Je)||!Array.isArray(Je&&Je[0]))&&(Je=le(Je)),!Je||!Je.length)return[["M",0,0]];for(var Ge=[],Ze=0,Te=0,Ae=0,Ue=0,Xe=0,dt,te=Je.length,ce=Xe;ce<te;ce++){var fe=[];Ge.push(fe);var Be=Je[ce];if(dt=Be[0],dt!=dt.toUpperCase()){fe[0]=dt.toUpperCase();var we,re;switch(fe[0]){case"A":fe[1]=Be[1],fe[2]=Be[2],fe[3]=Be[3],fe[4]=Be[4],fe[5]=Be[5],fe[6]=+Be[6]+Ze,fe[7]=+Be[7]+Te;break;case"V":fe[1]=+Be[1]+Te;break;case"H":fe[1]=+Be[1]+Ze;break;case"M":for(Ae=+Be[1]+Ze,Ue=+Be[2]+Te,we=Be.length,re=1;re<we;re++)fe[re]=+Be[re]+(re%2?Ze:Te);break;default:for(we=Be.length,re=1;re<we;re++)fe[re]=+Be[re]+(re%2?Ze:Te);break}}else for(var Ee=Be.length,ve=0;ve<Ee;ve++)fe[ve]=Be[ve];switch(fe[0]){case"Z":Ze=+Ae,Te=+Ue;break;case"H":Ze=fe[1];break;case"V":Te=fe[1];break;case"M":Ae=fe[fe.length-2],Ue=fe[fe.length-1],Ze=fe[fe.length-2],Te=fe[fe.length-1];break;default:Ze=fe[fe.length-2],Te=fe[fe.length-1];break}}return Ge}function it(Je){var Ge=Ie(Je),Ze={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function Te(we,re,Ee){var ve,We;if(!we)return["C",re.x,re.y,re.x,re.y,re.x,re.y];switch(we[0]in{T:1,Q:1}||(re.qx=null,re.qy=null),we[0]){case"M":re.X=we[1],re.Y=we[2];break;case"A":parseFloat(we[1])===0||parseFloat(we[2])===0?we=["L",we[6],we[7]]:we=["C"].concat(G.apply(0,[re.x,re.y].concat(we.slice(1))));break;case"S":Ee==="C"||Ee==="S"?(ve=re.x*2-re.bx,We=re.y*2-re.by):(ve=re.x,We=re.y),we=["C",ve,We].concat(we.slice(1));break;case"T":Ee==="Q"||Ee==="T"?(re.qx=re.x*2-re.qx,re.qy=re.y*2-re.qy):(re.qx=re.x,re.qy=re.y),we=["C"].concat(W(re.x,re.y,re.qx,re.qy,we[1],we[2]));break;case"Q":re.qx=we[1],re.qy=we[2],we=["C"].concat(W(re.x,re.y,we[1],we[2],we[3],we[4]));break;case"H":we=["L"].concat(we[1],re.y);break;case"V":we=["L"].concat(re.x,we[1]);break}return we}function Ae(we,re){if(we[re].length>7){we[re].shift();for(var Ee=we[re];Ee.length;)Ue[re]="A",we.splice(re++,0,["C"].concat(Ee.splice(0,6)));we.splice(re,1),te=Ge.length}}for(var Ue=[],Xe="",dt="",te=Ge.length,ce=0;ce<te;ce++){Ge[ce]&&(Xe=Ge[ce][0]),Xe!=="C"&&(Ue[ce]=Xe,ce>0&&(dt=Ue[ce-1])),Ge[ce]=Te(Ge[ce],Ze,dt),Ue[ce]!=="A"&&Xe==="C"&&(Ue[ce]="C"),Ae(Ge,ce);var fe=Ge[ce],Be=fe.length;Ze.x=fe[Be-2],Ze.y=fe[Be-1],Ze.bx=parseFloat(fe[Be-4])||Ze.x,Ze.by=parseFloat(fe[Be-3])||Ze.y}return(!Ge[0][0]||Ge[0][0]!=="M")&&Ge.unshift(["M",0,0]),Ge}return function(Je){return it(Je).join(",").split(",").join(" ")}}(),d.namespace=t,d.g=YW,d}(),fy="[object Arguments]",yT="[object Array]",AS="[object Boolean]",Z2="[object Date]",T8="[object Error]",XW="[object Function]",f1="[object Map]",kS="[object Number]",JW="[object Null]",Zp="[object Object]",eA="[object RegExp]",p1="[object Set]",IS="[object String]",OS="[object Symbol]",QW="[object Undefined]",ZW="[object WeakMap]",tA="[object ArrayBuffer]",nA="[object DataView]",A8="[object Float32Array]",k8="[object Float64Array]",I8="[object Int8Array]",O8="[object Int16Array]",P8="[object Int32Array]",M8="[object Uint8Array]",N8="[object Uint8ClampedArray]",R8="[object Uint16Array]",D8="[object Uint32Array]",ej={[fy]:!0,[yT]:!0,[tA]:!0,[nA]:!0,[AS]:!0,[Z2]:!0,[A8]:!0,[k8]:!0,[I8]:!0,[O8]:!0,[P8]:!0,[f1]:!0,[kS]:!0,[Zp]:!0,[eA]:!0,[p1]:!0,[IS]:!0,[OS]:!0,[M8]:!0,[N8]:!0,[R8]:!0,[D8]:!0,[T8]:!1,[XW]:!1,[ZW]:!1},iA="\\ud800-\\udfff",tj="\\u0300-\\u036f",nj="\\ufe20-\\ufe2f",ij="\\u20d0-\\u20ff",rj="\\u1ab0-\\u1aff",aj="\\u1dc0-\\u1dff",oj=tj+nj+ij+rj+aj,B8="\\u2700-\\u27bf",L8="a-z\\xdf-\\xf6\\xf8-\\xff",sj="\\xac\\xb1\\xd7\\xf7",lj="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cj="\\u2000-\\u206f",uj=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",F8="A-Z\\xc0-\\xd6\\xd8-\\xde",dj="\\ufe0e\\ufe0f",z8=sj+lj+cj+uj,$8="['’]",L5=`[${z8}]`,rA=`[${oj}]`,q8="\\d",hj=`[${B8}]`,U8=`[${L8}]`,H8=`[^${iA}${z8+q8+B8+L8+F8}]`,vT="\\ud83c[\\udffb-\\udfff]",fj=`(?:${rA}|${vT})`,V8=`[^${iA}]`,aA="(?:\\ud83c[\\udde6-\\uddff]){2}",oA="[\\ud800-\\udbff][\\udc00-\\udfff]",Yp=`[${F8}]`,pj="\\u200d",F5=`(?:${U8}|${H8})`,gj=`(?:${Yp}|${H8})`,z5=`(?:${$8}(?:d|ll|m|re|s|t|ve))?`,$5=`(?:${$8}(?:D|LL|M|RE|S|T|VE))?`,G8=`${fj}?`,W8=`[${dj}]?`,mj=`(?:${pj}(?:${[V8,aA,oA].join("|")})${W8+G8})*`,yj="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vj="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",j8=W8+G8+mj,bj=`(?:${[hj,aA,oA].join("|")})${j8}`,Ej=RegExp([`${Yp}?${U8}+${z5}(?=${[L5,Yp,"$"].join("|")})`,`${gj}+${$5}(?=${[L5,Yp+F5,"$"].join("|")})`,`${Yp}?${F5}+${z5}`,`${Yp}+${$5}`,vj,yj,`${q8}+`,bj].join("|"),"g"),sA=200,bT="__hash_undefined__",xj=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,Sj=`[${iA}]`,_j=`${V8}${rA}?`,Cj=`(?:${[_j,rA,aA,oA,Sj].join("|")})`,K8=RegExp(`${vT}(?=${vT})|${Cj+j8}`,"g"),wj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tj=/^\w*$/,Aj=46,kj=/\\(\\)?/g,Ij=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),Oj=/^(?:0|[1-9]\d*)$/,Pj=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),Mj=4294967294,Nj=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Y8=e=>K8.test(e),Rj=e=>e.match(K8)||[],Dj=e=>e.split(""),X8=e=>Y8(e)?Rj(e):Dj(e),Bj=e=>e==null?[]:g1(e).map(t=>e[t]),g1=e=>dl(e)?J8(e):Object.keys(Object(e)),Lj=e=>{if(!PS(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&n!="constructor"&&t.push(n);return t},J8=(e,t)=>{const n=Array.isArray(e),i=!n&&Fl(e)&&ol(e)===fy,r=!n&&!i&&y1(e),a=n||i||r,o=e.length,s=new Array(a?o:0);let l=a?-1:o;for(;++l<o;)s[l]=`${l}`;for(const c in e)(t||hasOwnProperty.call(e,c))&&!(a&&(c==="length"||hA(c,o)))&&s.push(c);return s},Ob=(e,t)=>{let{length:n}=e;for(;n--;)if(k0(e[n][0],t))return n;return-1},k0=(e,t)=>e===t||e!==e&&t!==t,Fl=e=>e!=null&&typeof e=="object",HE=(e,t,n)=>{if(!hi(n))return!1;const i=typeof t;return(i=="number"?dl(n)&&t>-1&&t<n.length:i=="string"&&t in n)?k0(n[t],e):!1},Fj=e=>Fl(e)&&ol(e)==p1,zj=e=>Fl(e)&&ol(e)==f1,PS=e=>{const t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Object.prototype;return e===n},I0=(e,t,n)=>{const i=e[t];(!(hasOwnProperty.call(e,t)&&k0(i,n))||n===void 0&&!(t in e))&&(e[t]=n)},m1=(e,t,n)=>{let i=-1;const r=t.length;for(;++i<r;){const a=t[i];I0(n,a,e[a])}return n},dl=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,c0=e=>typeof e=="symbol"||Fl(e)&&ol(e)===OS,$j=e=>{const t=e.length;let n=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n},lA=(e,t)=>{let n=-1;const i=e.length;for(t||(t=new Array(i));++n<i;)t[n]=e[n];return t},ol=e=>e==null?e===void 0?QW:JW:Object.prototype.toString.call(e),cA=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},Q8=(e,t)=>{const n=t?cA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},qj=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},Z8=e=>typeof e.constructor=="function"&&!PS(e)?Object.create(Object.getPrototypeOf(e)):{},uA=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(n=>propertyIsEnumerable.call(e,n))),Uj=(e,t)=>m1(e,uA(e),t);function Hj(e,t){const n=t?cA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}const Vj=(e,t,n)=>{const i=e.constructor;switch(t){case tA:return cA(e);case AS:case Z2:return new i(+e);case nA:return Hj(e,n);case A8:case k8:case I8:case O8:case P8:case M8:case N8:case R8:case D8:return Q8(e,n);case f1:return new i(e);case kS:case IS:return new i(e);case eA:return qj(e);case p1:return new i;case OS:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},y1=e=>Fl(e)&&xj.test(ol(e)),ET=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...uA(Object(e))),t},eM=e=>{const t=[];for(;e;)t.push(...uA(e)),e=Object.getPrototypeOf(Object(e));return t},tM=e=>{const t=[];for(const n in e)t.push(n);return Array.isArray(e)||t.push(...eM(e)),t},Pb=({__data__:e},t)=>{const n=e;return nK(t)?n[typeof t=="string"?"string":"hash"]:n.map},Gj=(e,t,n,i)=>{const r=ET(e),a=r.length,s=ET(t).length;if(a!=s)return!1;let l,c=a;for(;c--;)if(l=r[c],!hasOwnProperty.call(t,l))return!1;const h=i.get(e),d=i.get(t);if(h&&d)return h==t&&d==e;let p=!0;i.set(e,t),i.set(t,e);let y;for(;++c<a;){l=r[c];const S=e[l],_=t[l];if(!(S===_||n(S,_,i))){p=!1;break}y||(y=l=="constructor")}if(p&&!y){const S=e.constructor,_=t.constructor;S!=_&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return i.delete(e),i.delete(t),p},MS=(e,t,n)=>e===t?!0:e==null||t==null||!Fl(e)&&!Fl(t)?e!==e&&t!==t:Wj(e,t,MS,n),Wj=(e,t,n,i)=>{let r=Array.isArray(e);const a=Array.isArray(t);let o=r?yT:ol(e),s=a?yT:ol(t);o=o==fy?Zp:o,s=s==fy?Zp:s;let l=o==Zp;const c=s==Zp,h=o==s;if(h&&!l)return i||(i=new hg),r||y1(e)?nM(e,t,!1,n,i):Yj(e,t,o,n,i);const d=l&&hasOwnProperty.call(e,"__wrapped__"),p=c&&hasOwnProperty.call(t,"__wrapped__");if(d||p){const y=d?e.value():e,S=p?t.value():t;return i||(i=new hg),n(y,S,i)}return h?(i||(i=new hg),Gj(e,t,n,i)):!1},nM=(e,t,n,i,r)=>{const a=e.length,o=t.length;if(a!=o)return!1;const s=r.get(e),l=r.get(t);if(s&&l)return s==t&&l==e;let c=-1,h=!0;const d=n?new gy:void 0;for(r.set(e,t),r.set(t,e);++c<a;){const p=e[c],y=t[c];if(d){if(!jj(t,(S,_)=>{if(!Kj(d,_)&&(p===S||i(p,S,r)))return d.push(_)})){h=!1;break}}else if(!(p===y||i(p,y,r))){h=!1;break}}return r.delete(e),r.delete(t),h},jj=(e,t)=>{let n=-1;const i=e==null?0:e.length;for(;++n<i;)if(t(e[n],n,e))return!0;return!1},Kj=(e,t)=>e.has(t),q5=(e,t,n,i)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),i)),Yj=(e,t,n,i,r)=>{switch(n){case nA:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,q5(e,t,i,r));case tA:return q5(e,t,i,r);case AS:case Z2:case kS:return k0(+e,+t);case T8:return e.name==t.name&&e.message==t.message;case eA:case IS:return e==`${t}`;case f1:var a=iM;case p1:if(a||(a=NS),e.size!=t.size)return!1;const o=r.get(e);if(o)return o==t;r.set(e,t);const s=nM(a(e),a(t),!0,i,r);return r.delete(e),s;case OS:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},iM=e=>{let t=-1,n=Array(e.size);return e.forEach((i,r)=>{n[++t]=[r,i]}),n},NS=e=>{let t=-1;const n=new Array(e.size);return e.forEach(i=>{n[++t]=i}),n},dA=(e,t)=>{if(Array.isArray(e))return!1;const n=typeof e;return n==="number"||n==="boolean"||e==null||c0(e)?!0:Tj.test(e)||!wj.test(e)||t!=null&&e in Object(t)},Xj=e=>{const t=[];return e.charCodeAt(0)===Aj&&t.push(""),e.replace(Ij,(n,i,r,a)=>{let o=n;r?o=a.replace(kj,"$1"):i&&(o=i.trim()),t.push(o)}),t},dh=(e,t)=>Array.isArray(e)?e:dA(e,t)?[e]:Xj(`${e}`),v1=(e,t)=>{t=dh(t,e);let n=0;const i=t.length;for(;e!=null&&n<i;)e=e[hh(t[n])],n++;return n&&n==i?e:void 0};function Jj(e,t){if(e!==t){const n=e!==void 0,i=e===null,r=e===e,a=c0(e),o=t!==void 0,s=t===null,l=t===t,c=c0(t);if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||i&&o&&l||!n&&l||!r)return 1;if(!i&&!a&&!c&&e<t||c&&n&&r&&!i&&!a||s&&n&&r||!o&&r||!l)return-1}return 0}function Qj(e,t,n){let i=-1;const r=e.criteria,a=t.criteria,o=r.length,s=n.length;for(;++i<o;){const l=i<s?n[i]:null,h=(l&&typeof l=="function"?l:Jj)(r[i],a[i]);if(h)return l&&typeof l!="function"?h*(l=="desc"?-1:1):h}return e.index-t.index}const rM=(e,t)=>{let n=(o,s)=>!!(o==null?0:o.length)&&o.indexOf(s)>-1,i=!0;const r=[],a=t.length;if(!e.length)return r;t.length>=sA&&(n=(o,s)=>o.has(s),i=!1,t=new gy(t));e:for(let o in e){let s=e[o];const l=s;if(s=s!==0?s:0,i&&l===l){let c=a;for(;c--;)if(t[c]===l)continue e;r.push(s)}else n(t,l)||r.push(s)}return r},hh=e=>{if(typeof e=="string"||c0(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},Af=(e,t=!1,n=!1,i=!0,r,a,o,s)=>{let l;if(r&&(l=o?r(e,a,o,s):r(e)),l!==void 0)return l;if(!hi(e))return e;const c=Array.isArray(e),h=ol(e);if(c){if(l=$j(e),!t)return lA(e,l)}else{const S=typeof e=="function";if(h===Zp||h===fy||S&&!o){if(l=n||S?{}:Z8(e),!t)return n?Zj(e,m1(e,Object.keys(e),l)):Uj(e,Object.assign(l,e))}else{if(S||!ej[h])return o?e:{};l=Vj(e,h,t)}}s||(s=new hg);const d=s.get(e);if(d)return d;if(s.set(e,l),zj(e))return e.forEach((S,_)=>{l.set(_,Af(S,t,n,i,r,_,e,s))}),l;if(Fj(e))return e.forEach(S=>{l.add(Af(S,t,n,i,r,S,e,s))}),l;if(y1(e))return l;const y=c?void 0:(i?n?tM:ET:n?oM:g1)(e);return(y||e).forEach((S,_)=>{y&&(_=S,S=e[_]),I0(l,_,Af(S,t,n,i,r,_,e,s))}),l},Zj=(e,t)=>m1(e,eM(e),t),aM=(e,t)=>t.length<2?e:v1(e,t.slice(0,-1)),eK=(e,t,n)=>{if(!hi(e))return e;t=dh(t,e);const i=t.length,r=i-1;let a=-1,o=e;for(;o!=null&&++a<i;){const s=hh(t[a]);let l=n;if(a!=r){const c=o[s];l=void 0,l===void 0&&(l=hi(c)?c:hA(t[a+1])?[]:{})}I0(o,s,l),o=o[s]}return e},hA=(e,t)=>{const n=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(n==="number"||n!=="symbol"&&Oj.test(e))&&e>-1&&e%1==0&&e<t},tK=(e,t)=>{t=dh(t,e),e=aM(e,t);const n=t[t.length-1];return e==null||delete e[hh(n)]},nK=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},oM=e=>{const t=[];for(const n in e)t.push(n);return t},iK=e=>{e=Object(e);const t={};for(const n in e)t[n]=e[n];return t},U5=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function sM(e,t=!1){return(n,...i)=>{let r=-1,a=i.length,o=a>1?i[a-1]:void 0;const s=a>2?i[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):t?(l,c)=>{if(Array.isArray(l)&&!Array.isArray(c))return c}:void 0,s&&HE(i[0],i[1],s)&&(o=a<3?void 0:o,a=1),n=Object(n);++r<a;){const l=i[r];l&&e(n,l,r,o)}return n}}const fA=(e,t,n,i,r)=>{e!==t&&Ec(t,(a,o)=>{if(hi(a))r||(r=new hg),rK(e,t,o,n,fA,i,r);else{let s=i?i(e[o],a,`${o}`,e,t,r):void 0;s===void 0&&(s=a),xT(e,o,s)}})},rK=(e,t,n,i,r,a,o)=>{const s=U5(e,n),l=U5(t,n),c=o.get(l);if(c){xT(e,n,c);return}let h=a?a(s,l,`${n}`,e,t,o):void 0,d=h===void 0;if(d){const p=Array.isArray(l),y=!p&&y1(l);h=l,p||y?Array.isArray(s)?h=s:Fl(s)&&dl(s)?h=lA(s):y?(d=!1,h=Q8(l,!0)):h=[]:Hr(l)||py(l)?(h=s,py(s)?h=iK(s):(typeof s=="function"||!hi(s))&&(h=Z8(l))):d=!1}d&&(o.set(l,h),r(h,l,i,a,o),o.delete(l)),xT(e,n,h)},xT=(e,t,n)=>{(n!==void 0&&!k0(e[t],n)||n===void 0&&!(t in e))&&I0(e,t,n)};function aK(e,t,n){const i=Object(e),r=n(e);let{length:a}=r,o=-1;for(;a--;){const s=r[++o];if(t(i[s],s,i)===!1)break}return e}const oK=(e,t)=>e&&aK(e,t,g1),pA=(e,t)=>{if(e==null)return e;if(!dl(e))return oK(e,t);const n=e.length,i=Object(e);let r=-1;for(;++r<n&&t(i[r],r,i)!==!1;);return e};function sK(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const lK=Set&&1/NS(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function lM(e,t,n,i,r,a){return hi(e)&&hi(t)&&(a.set(t,e),fA(e,t,void 0,lM,a),a.delete(t)),e}function cK(e,t,n){t.length?t=t.map(o=>Array.isArray(o)?s=>v1(s,o.length===1?o[0]:o):o):t=[o=>o];let i=-1,r=-1;const a=dl(e)?new Array(e.length):[];return pA(e,o=>{const s=t.map(l=>l(o));a[++r]={criteria:s,index:++i,value:o}}),uK(a,(o,s)=>Qj(o,s,n))}function uK(e,t){let{length:n}=e;for(e.sort(t);n--;)e[n]=e[n].value;return e}function cM(e){return e===e&&!hi(e)}function uM(e,t){return n=>n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}function dM(e,t){return e!=null&&TK(e,t,wK)}function dK(e,t){return dA(e)&&cM(t)?uM(hh(e),t):n=>{const i=v1(n,e);return i===void 0&&i===t?dM(n,e):MS(t,i)}}function hM(e){const t=hK(e);return t.length===1&&t[0][2]?uM(t[0][0],t[0][1]):n=>n===e||fK(n,e,t)}function hK(e){const t=g1(e);let n=t.length;for(;n--;){const i=t[n],r=e[i];t[n]=[i,r,cM(r)]}return t}function fK(e,t,n,i){let r=n.length;const a=r;if(e==null)return!a;let o;for(e=Object(e);r--;)if(o=n[r],o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1;for(;++r<a;){o=n[r];const s=o[0],l=e[s],c=o[1];if(o[2]){if(l===void 0&&!(s in e))return!1}else{const h=new hg;if(!MS(c,l,h))return!1}}return!0}function pK(e){return dA(e)?gK(hh(e)):mK(e)}function gK(e){return t=>t==null?void 0:t[e]}function mK(e){return t=>v1(t,e)}function yK(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?dK(e[0],e[1]):hM(e):pK(e)}function RS(){const e=yK;return arguments.length?e(arguments[0]):e}const vK=(e,t,n,i)=>{let r=-1;const a=e==null?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n},bK=(e,t,n,i,r)=>(r(e,(a,o,s)=>{n=i?(i=!1,a):t(n,a,o,s)}),n);function EK(e,t,n){const i=Array.isArray(e)?vK:bK,r=arguments.length<3;return i(e,t,n,r,pA)}const xK=e=>Array.isArray(e)||py(e)||!!(e&&e[Symbol.isConcatSpreadable]);function fM(e,t,n,i,r){let a=-1;const o=e.length;for(n||(n=xK),r||(r=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?fM(s,t-1,n,i,r):r.push(...s):r[r.length]=s}return r}const py=e=>Fl(e)&&ol(e)=="[object Arguments]",SK=(e,t)=>_K(e,t,(n,i)=>dM(e,i)),_K=(e,t,n)=>{let i=-1;const r=t.length,a={};for(;++i<r;){const o=t[i],s=v1(e,o);n(s,o)&&eK(a,dh(o,e),s)}return a},CK=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,wK=(e,t)=>e!=null&&t in Object(e),TK=(e,t,n)=>{t=dh(t,e);for(var i=-1,r=t.length,a=!1;++i<r;){var o=hh(t[i]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++i!=r?a:(r=e==null?0:e.length,!!r&&CK(r)&&hA(o,r)&&(Array.isArray(e)||py(e)))},AK=e=>e.match(Nj),kK=e=>e.match(Ej),IK=(e,t)=>(Pj(e)?kK(e):AK(e))||[],OK=(e,t,n)=>{const{length:i}=e;return n=n===void 0?i:n,e.slice(t,n)},PK=MK("toUpperCase");function MK(e){return t=>{if(!t)return"";const n=Y8(t)?X8(t):void 0,i=n?n[0]:t[0],r=n?OK(n,1).join(""):t.slice(1);return i[e]()+r}}function NK(e){return hM(Af(e,!0))}let hg=class{constructor(t){const n=this.__data__=new ew(t);this.size=n.size}clear(){this.__data__=new ew,this.size=0}delete(t){const n=this.__data__,i=n.delete(t);return this.size=n.size,i}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,n){let i=this.__data__;if(i instanceof ew){const r=i.__data__;if(r.length<sA-1)return r.push([t,n]),this.size=++i.size,this;i=this.__data__=new pM(r)}return i.set(t,n),this.size=i.size,this}},ew=class{constructor(t){let n=-1;const i=t==null?0:t.length;for(this.clear();++n<i;){const r=t[n];this.set(r[0],r[1])}}clear(){this.__data__=[],this.size=0}delete(t){const n=this.__data__,i=Ob(n,t);if(i<0)return!1;const r=n.length-1;return i==r?n.pop():n.splice(i,1),--this.size,!0}get(t){const n=this.__data__,i=Ob(n,t);return i<0?void 0:n[i][1]}has(t){return Ob(this.__data__,t)>-1}set(t,n){const i=this.__data__,r=Ob(i,t);return r<0?(++this.size,i.push([t,n])):i[r][1]=n,this}},pM=class{constructor(t){let n=-1;const i=t==null?0:t.length;for(this.clear();++n<i;){const r=t[n];this.set(r[0],r[1])}}clear(){this.size=0,this.__data__={hash:new H5,map:new Map,string:new H5}}delete(t){const n=Pb(this,t).delete(t);return this.size-=n?1:0,n}get(t){return Pb(this,t).get(t)}has(t){return Pb(this,t).has(t)}set(t,n){const i=Pb(this,t),r=i.size;return i.set(t,n),this.size+=i.size==r?0:1,this}},H5=class{constructor(t){let n=-1;const i=t==null?0:t.length;for(this.clear();++n<i;){const r=t[n];this.set(r[0],r[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}get(t){const i=this.__data__[t];return i===bT?void 0:i}has(t){return this.__data__[t]!==void 0}set(t,n){const i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=n===void 0?bT:n,this}};class gy{constructor(t){let n=-1;const i=t==null?0:t.length;for(this.__data__=new pM;++n<i;)this.add(t[n])}add(t){return this.__data__.set(t,bT),this}has(t){return this.__data__.has(t)}}gy.prototype.push=gy.prototype.add;const RK=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===AS},hi=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},Co=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===kS},Gr=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===IS},zt=sM((e,t)=>{if(PS(t)||dl(t)){m1(t,g1(t),e);return}for(var n in t)hasOwnProperty.call(t,n)&&I0(e,n,t[n])}),DK=(e,...t)=>{let n=-1,i=t.length;const r=i>2?t[2]:void 0;for(r&&HE(t[0],t[1],r)&&(i=1);++n<i;){const a=t[n];if(a==null)continue;const o=Object.keys(a),s=o.length;let l=-1;for(;++l<s;){const c=o[l],h=e[c];(h===void 0||k0(h,Object.prototype[c])&&!hasOwnProperty.call(e,c))&&(e[c]=a[c])}}return e},ks=DK,BK=function(...t){return t.push(void 0,lM),ra.apply(void 0,t)},gA=BK,Sc=(e,t,...n)=>{let i=-1;const r=typeof t=="function",a=dl(e)?new Array(e.length):[];return pA(e,o=>{a[++i]=r?t.apply(o,n):LK(o,t,...n)}),a},LK=(e,t,...n)=>{t=dh(t,e),e=aM(e,t);const i=e==null?e:e[hh(sK(t))];return i==null?void 0:i.apply(e,n)},gM=(e,t,n)=>{let i=0,r=e==null?0:e.length;if(r==0)return 0;n=RS(n,2),t=n(t);const a=t!==t,o=t===null,s=c0(t),l=t===void 0;for(;i<r;){let c;const h=Math.floor((i+r)/2),d=n(e[h]),p=d!==void 0,y=d===null,S=d===d,_=c0(d);a?c=S:l?c=S&&p:o?c=S&&p&&!y:s?c=S&&p&&!y&&!_:y||_?c=!1:c=d<t,c?i=h+1:r=h}return Math.min(r,Mj)},Rf=(e,t)=>{let n=-1,i=(l,c)=>!!(l==null?0:l.length)&&l.indexOf(c)>-1;t=RS(t,2);let r=!0;const{length:a}=e,o=[];let s=o;if(a>=sA){const l=t?null:lK(e);if(l)return NS(l);r=!1,i=(c,h)=>c.has(h),s=new gy}else s=t?[]:o;e:for(;++n<a;){let l=e[n];const c=t?t(l):l;if(l=l!==0?l:0,r&&c===c){let h=s.length;for(;h--;)if(s[h]===c)continue e;t&&s.push(c),o.push(l)}else i(s,c)||(s!==o&&s.push(c),o.push(l))}return o},Ca=e=>Af(e),eo=e=>Af(e,!0),Ps=e=>{if(e==null)return!0;if(dl(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||y1(e)||py(e)))return!e.length;const t=ol(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(PS(e))return!Lj(e).length;for(const n in e)if(hasOwnProperty.call(e,n))return!1;return!0},Yd=(e,t)=>MS(e,t),Ri=e=>typeof e=="function",Hr=e=>{if(!Fl(e)||ol(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},vi=e=>{if(!e)return[];if(dl(e))return Gr(e)?X8(e):lA(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const i=e[Symbol.iterator]();let r;const a=[];for(;!(r=i.next()).done;)a.push(r.value);return a}const t=ol(e);return(t==f1?iM:t==p1?NS:Bj)(e)};function FK(e,t,n){if(typeof e!="function")throw new TypeError("Expected a function");let i,r,a,o,s,l,c=0,h=!1,d=!1,p=!0;const y=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,hi(n)&&(h=!!n.leading,d="maxWait"in n,a=d?Math.max(20,t):a,p="trailing"in n?!!n.trailing:p);function S(g){const T=i,A=r;return i=r=void 0,c=g,o=e.apply(A,T),o}function _(g,T){return y?(window.cancelAnimationFrame(s),window.requestAnimationFrame(g)):setTimeout(g,T)}function I(g){if(y)return window.cancelAnimationFrame(g);clearTimeout(g)}function M(g){return c=g,s=_(K,t),h?S(g):o}function B(g){const T=g-l,A=g-c,D=t-T;return d?Math.min(D,a-A):D}function U(g){const T=g-l,A=g-c;return l===void 0||T>=t||T<0||d&&A>=a}function K(){const g=Date.now();if(U(g))return Q(g);s=_(K,B(g))}function Q(g){return s=void 0,p&&i?S(g):(i=r=void 0,o)}function H(...g){const T=Date.now(),A=U(T);if(i=g,r=this,l=T,A){if(s===void 0)return M(l);if(d)return s=_(K,t),S(l)}return s===void 0&&(s=_(K,t)),o}return H.cancel=()=>{s!==void 0&&I(s),c=0,i=l=r=s=void 0},H.flush=()=>s===void 0?o:Q(Date.now()),H.pending=()=>s!==void 0,H}const zK=(e,t)=>(t=RS(t,2),EK(e,(n,i)=>{const r=t(i);return hasOwnProperty.call(n,r)?n[r].push(i):I0(n,r,[i]),n},{})),hE=(e,t=[])=>{if(e==null)return[];const n=t.length;return n>1&&HE(e,t[0],t[1])?t=[]:n>2&&HE(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[RS(t,2)]),cK(e,t.flat(1),[])},$K=e=>(e==null?0:e.length)?fM(e,1/0):[],V5=(e,...t)=>dl(e)?rM(e,t):[],qK=(e,...t)=>Fl(e)&&dl(e)?rM(e,t.flat(1)):[],ST=(...e)=>{const t=e.flat(1);return Rf(t)},_c=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let n=-1,i=e;for(;++n<t.length;){if(!i||!hasOwnProperty.call(i,t[n]))return!1;i=i[t[n]]}return!0},Yi=(e,t,n)=>{t=dh(t,e);let i=-1,r=t.length;for(r||(r=1,e=void 0);++i<r;){let a=e==null?void 0:e[hh(t[i])];a===void 0&&(i=r,a=n),e=typeof a=="function"?a.call(e):a}return e},b1=(e,...t)=>{let n={};if(e==null)return n;let i=!1;t=t.flat(1).map(a=>(a=dh(a,e),i||(i=a.length>1),a)),m1(e,tM(e),n),i&&(n=Af(n,!0,!0,!0,a=>Hr(a)?void 0:a));let r=t.length;for(;r--;)tK(n,t[r]);return n},UK=(e,...t)=>e==null?{}:SK(e,t.flat(1/0)),Ec=(e,t=n=>n)=>{let n=-1;const i=Object(e),r=dl(e)?J8(e,!0):oM(e);let a=r.length;for(;a--;){const o=r[++n];if(t(i[o],o,i)===!1)break}},mM=(e="")=>IK(`${e}`.replace(/['\u2019]/g,"")).reduce((t,n,i)=>(n=n.toLowerCase(),t+(i?PK(n):n)),"");let HK=0;const my=(e="")=>{const t=++HK;return`${e}`+t},ra=sM((e,t,n,i)=>{fA(e,t,n,i)},!0);class yM{constructor(){this.map=new WeakMap}has(t,n){return n===void 0?this.map.has(t):n in this.map.get(t)}create(t){return this.has(t)||this.map.set(t,Object.create(null)),this.get(t)}get(t,n){if(!this.has(t))return;const i=this.map.get(t);return n===void 0?i:i[n]}set(t,n,i){if(n===void 0)return;const r=this.create(t);typeof n=="string"?r[n]=i:Object.assign(r,n)}remove(t,n){if(this.has(t))if(n===void 0)this.map.delete(t);else{const i=this.map.get(t);delete i[n]}}}const Rl=new yM,vM=new yM,Df=function(e,t){if(!(this instanceof Df))return new Df(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?fE:pE,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Object.assign(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this.envelope=!0};Df.prototype={constructor:Df,isDefaultPrevented:pE,isPropagationStopped:pE,isImmediatePropagationStopped:pE,preventDefault:function(){const e=this.originalEvent;this.isDefaultPrevented=fE,e&&e.preventDefault()},stopPropagation:function(){const e=this.originalEvent;this.isPropagationStopped=fE,e&&e.stopPropagation()},stopImmediatePropagation:function(){const e=this.originalEvent;this.isImmediatePropagationStopped=fE,e&&e.stopImmediatePropagation(),this.stopPropagation()}};["altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which"].forEach(e=>VK(e));function VK(e){Object.defineProperty(Df.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})}function fE(){return!0}function pE(){return!1}const u0=typeof window<"u"?window.document:null,GK=u0&&u0.documentElement,bM=/^([^.]*)(?:\.(.+)|)/,EM=/[^\x20\t\r\n\f]+/g,Ct=function(e){return new Ct.Dom(e)};Ct.fn=Ct.prototype={constructor:Ct,length:0};Ct.guid=1;Ct.data=vM;Ct.merge=function(e,t){let n=+t.length,i=e.length;for(let r=0;r<n;r++)e[i++]=t[r];return e.length=i,e};Ct.parseHTML=function(e){const t=u0.implementation.createHTMLDocument(),n=t.createElement("base");n.href=u0.location.href,t.head.appendChild(n),t.body.innerHTML=e;const i=t.getElementsByTagName("script");for(let r=0;r<i.length;r++)i[r].remove();return Array.from(t.body.childNodes)};typeof Symbol=="function"&&(Ct.fn[Symbol.iterator]=Array.prototype[Symbol.iterator]);Ct.fn.toArray=function(){return Array.from(this)};Ct.fn.pushStack=function(e){const t=Ct.merge(this.constructor(),e);return t.prevObject=this,t};Ct.fn.find=function(e){const[t]=this,n=this.pushStack([]);if(!t)return n;const{nodeType:i}=t;return i!==1&&i!==9&&i!==11||(typeof e!="string"?t!==e&&t.contains(e)&&Ct.merge(n,[e]):Ct.merge(n,t.querySelectorAll(e))),n};Ct.fn.add=function(e){const t=Ct(e).toArray(),n=this.toArray(),i=this.pushStack([]);return Ct.merge(i,Rf(n.concat(t))),i};Ct.fn.addBack=function(){return this.add(this.prevObject)};Ct.fn.filter=function(e){const t=[];for(let n=0;n<this.length;n++){const i=this[n];i.matches(e)&&t.push(i)}return this.pushStack(t)};const WK=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;function jK(e){return e[0]==="<"&&e[e.length-1]===">"&&e.length>=3}const xM=function(e){if(!e)return this;if(typeof e=="function")throw new Error("function not supported");if(arguments.length>1)throw new Error("selector with context not supported");if(e.nodeType)return this[0]=e,this.length=1,this;let t;if(jK(e+""))t=[null,e,null];else if(typeof e=="string")t=WK.exec(e);else return Ct.merge(this,e);if(!t||!t[1])return KK.find(e);if(t[1])return Ct.merge(this,Ct.parseHTML(t[1])),this;const n=u0.getElementById(t[2]);return n&&(this[0]=n,this.length=1),this};Ct.Dom=xM;xM.prototype=Ct.fn;Ct.Event=Df;Ct.event={special:Object.create(null)};Ct.event.has=function(e,t){const n=Rl.get(e,"events");return n?t?Array.isArray(n[t])&&n[t].length>0:!0:!1};Ct.event.on=function(e,t,n,i,r,a){if(typeof t=="object"){typeof n!="string"&&(i=i||n,n=void 0);for(let o in t)Ct.event.on(e,o,n,i,t[o],a);return e}if(i==null&&r==null?(r=n,i=n=void 0):r==null&&(typeof n=="string"?(r=i,i=void 0):(r=i,i=n,n=void 0)),!r)return e;if(a===1){const o=r;r=function(s){return Ct().off(s),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Ct.guid++)}for(let o=0;o<e.length;o++)Ct.event.add(e[o],t,r,i,n)};Ct.event.add=function(e,t,n,i,r){if(typeof e!="object")return;const a=Rl.create(e);let o;n.handler&&(o=n,n=o.handler,r=o.selector),r&&GK.matches(r),n.guid||(n.guid=Ct.guid++);let s;(s=a.events)||(s=a.events=Object.create(null));let l;(l=a.handle)||(l=a.handle=function(d){return typeof Ct<"u"?Ct.event.dispatch.apply(e,arguments):void 0});const c=(t||"").match(EM)||[""];let h=c.length;for(;h--;){const[,d,p=""]=bM.exec(c[h]);if(!d)continue;const y=p.split(".").sort();let S=Ct.event.special[d];const _=S&&(r?S.delegateType:S.bindType)||d;S=Ct.event.special[_];const I=Object.assign({type:_,origType:d,data:i,handler:n,guid:n.guid,selector:r,namespace:y.join(".")},o);let M;(M=s[_])||(M=s[_]=[],M.delegateCount=0,(!S||!S.setup||S.setup.call(e,i,y,l)===!1)&&e.addEventListener&&e.addEventListener(_,l)),S&&S.add&&(S.add.call(e,I),I.handler.guid||(I.handler.guid=n.guid)),r?M.splice(M.delegateCount++,0,I):M.push(I)}};Ct.event.remove=function(e,t,n,i,r){const a=Rl.get(e);if(!a||!a.events)return;const o=a.events,s=(t||"").match(EM)||[""];let l=s.length;for(;l--;){const[,c,h=""]=bM.exec(s[l]);if(!c){for(const B in o)Ct.event.remove(e,B+s[l],n,i,!0);continue}const d=Ct.event.special[c],p=d&&(i?d.delegateType:d.bindType)||c,y=o[p];if(!y||y.length===0)continue;const S=h.split(".").sort(),_=h?new RegExp("(^|\\.)"+S.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,I=y.length;let M=I;for(;M--;){const B=y[M];(r||c===B.origType)&&(!n||n.guid===B.guid)&&(!_||_.test(B.namespace))&&(!i||i===B.selector||i==="**"&&B.selector)&&(y.splice(M,1),B.selector&&y.delegateCount--,d&&d.remove&&d.remove.call(e,B))}I&&y.length===0&&((!d||!d.teardown||d.teardown.call(e,S,a.handle)===!1)&&e.removeEventListener&&e.removeEventListener(p,a.handle),delete o[p])}Ps(o)&&(Rl.remove(e,"handle"),Rl.remove(e,"events"))};Ct.event.dispatch=function(e){const t=this,n=Ct.event.fix(e);n.delegateTarget=t;const i=Array.from(arguments);i[0]=n;const r=Rl.get(t,"events"),a=r&&r[n.type]||[],o=Ct.event.special[n.type];if(o&&o.preDispatch&&o.preDispatch.call(t,n)===!1)return;const s=Ct.event.handlers.call(t,n,a);let l=0,c;for(;(c=s[l++])&&!n.isPropagationStopped();){n.currentTarget=c.elem;let h=0,d;for(;(d=c.handlers[h++])&&!n.isImmediatePropagationStopped();){n.handleObj=d,n.data=d.data;const p=Ct.event.special[d.origType];let y;p&&p.handle?y=p.handle:y=d.handler;const S=y.apply(c.elem,i);S!==void 0&&(n.result=S)===!1&&(n.preventDefault(),n.stopPropagation())}}return o&&o.postDispatch&&o.postDispatch.call(t,n),n.result};Ct.event.handlers=function(e,t){const n=t.delegateCount,i=[];if(n&&!(e.type==="click"&&e.button>=1)){for(let r=e.target;r!==this;r=r.parentNode||this)if(r.nodeType===1&&!(e.type==="click"&&r.disabled===!0)){const a=[],o={};for(let s=0;s<n;s++){const l=t[s],c=l.selector+" ";o[c]===void 0&&(o[c]=r.matches(c)),o[c]&&a.push(l)}a.length&&i.push({elem:r,handlers:a})}}return n<t.length&&i.push({elem:this,handlers:t.slice(n)}),i};Ct.event.fix=function(e){return e.envelope?e:new Df(e)};const KK=Ct(u0);function mA(e){let t=e.length;for(;t--;)SM(e[t])}function SM(e){Ct.event.remove(e),Rl.remove(e),vM.remove(e)}function _M(e){for(let t=0;t<e.length;t++){const n=e[t];n.parentNode&&n.parentNode.removeChild(n)}}function YK(){for(let e=0;e<this.length;e++){const t=this[e];SM(t),mA(t.getElementsByTagName("*"))}return _M(this),this}function XK(){return _M(this),this}function JK(){for(let e=0;e<this.length;e++){const t=this[e];t.nodeType===1&&(mA(t.getElementsByTagName("*")),t.textContent="")}return this}function QK(){const e=[];for(let t=0;t<this.length;t++)e.push(this[t].cloneNode(!0));return this.pushStack(e)}function ZK(e){const[t]=this;if(!t)return null;if(arguments.length===0)return t.innerHTML;if(e===void 0)return this;if(mA(t.getElementsByTagName("*")),typeof e=="string"||typeof e=="number")t.innerHTML=e;else return t.innerHTML="",this.append(e);return this}function eY(...e){const[t]=this;return t?(e.forEach(n=>{n&&(typeof n=="string"?t.append(...Ct.parseHTML(n)):n.toString()==="[object Object]"?this.append(...Array.from(n)):Array.isArray(n)?this.append(...n):t.appendChild(n))}),this):this}function tY(...e){const[t]=this;return t?(e.forEach(n=>{n&&(typeof n=="string"?t.prepend(...Ct.parseHTML(n)):n.toString()==="[object Object]"?this.prepend(...Array.from(n)):Array.isArray(n)?this.prepend(...n):t.insertBefore(n,t.firstChild))}),this):this}function nY(e){return Ct(e).append(this),this}function iY(e){return Ct(e).prepend(this),this}const CM={};["width","height","top","bottom","left","right","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","margin","marginTop","marginBottom","marginLeft","marginRight"].forEach(e=>{CM[e]=!0});function rY(e,t,n){typeof n=="number"&&CM[mM(t)]&&(n+="px"),e.style[t]=n}function aY(e,t){let n;if(typeof e=="string")if(t===void 0){const[i]=this;return i?i.style[e]:null}else n={[e]:t};else if(e)n=e;else throw new Error("no styles provided");for(let i in n)if(n.hasOwnProperty(i))for(let r=0;r<this.length;r++)rY(this[r],i,n[i]);return this}function oY(e,t){if(arguments.length<2){const[n]=this;return n?e===void 0?n.dataset:n.dataset[e]:null}for(let n=0;n<this.length;n++)this[n].dataset[e]=t;return this}function yA(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];lt.prototype[e].apply({node:r},n)}}function sY(){return yA("removeClass",this,arguments),this}function lY(){return yA("addClass",this,arguments),this}function cY(){return yA("toggleClass",this,arguments),this}function uY(){const[e]=this;return e?lt.prototype.hasClass.apply({node:e},arguments):!1}function dY(e){const t=[];for(let n=0;n<this.length;n++){const i=this[n];let r=Array.from(i.children);typeof e=="string"&&(r=r.filter(a=>a.matches(e))),t.push(...r)}return this.pushStack(t)}function hY(e){const t=[];for(let n=0;n<this.length;n++){const i=this[n];if(typeof e=="string"){const r=i.closest(e);r&&t.push(r)}else{const[r]=Ct(e);r&&r.contains(i)&&t.push(r)}}return this.pushStack(t)}function fY(e,t,n,i){return Ct.event.on(this,e,t,n,i),this}function pY(e,t,n,i){return Ct.event.on(this,e,t,n,i,1),this}function gY(e,t,n){if(e&&e.preventDefault&&e.handleObj){const i=e.handleObj;return Ct(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if(typeof e=="object"){for(let i in e)this.off(i,t,e[i]);return this}(t===!1||typeof t=="function")&&(n=t,t=void 0);for(let i=0;i<this.length;i++)Ct.event.remove(this[i],e,n,t);return this}function mY(){const[e]=this;if(e===window)return e.document.documentElement.clientWidth;if(!e)return;const t=window.getComputedStyle(e),n=e.offsetWidth,i=parseFloat(t.borderTopWidth),r=parseFloat(t.borderBottomWidth),a=parseFloat(t.paddingTop),o=parseFloat(t.paddingBottom);return n-r-i-a-o}function yY(){const[e]=this;if(e===window)return e.document.documentElement.clientHeight;if(!e)return;const t=window.getComputedStyle(e),n=e.offsetHeight,i=parseFloat(t.borderLeftWidth),r=parseFloat(t.borderRightWidth),a=parseFloat(t.paddingLeft),o=parseFloat(t.paddingRight);return n-i-r-a-o}function vY(){const[e]=this;if(!e)return;let t=Ct(e),n,i,r,a={top:0,left:0};if(t.css("position")==="fixed")i=e.getBoundingClientRect();else{i=t.offset(),r=e.ownerDocument,n=e.offsetParent||r.documentElement;const l=c=>{const{position:h}=getComputedStyle(c);return h==="static"};for(;n&&n!==r.documentElement&&l(n);)n=n.offsetParent||r.documentElement;if(n&&n!==e&&n.nodeType===1&&!l(n)){const c=window.getComputedStyle(n),h=parseFloat(c.borderTopWidth)||0,d=parseFloat(c.borderLeftWidth)||0;a=Ct(n).offset(),a.top+=h,a.left+=d}}const o=parseFloat(window.getComputedStyle(e).marginTop)||0,s=parseFloat(window.getComputedStyle(e).marginLeft)||0;return{top:i.top-a.top-o,left:i.left-a.left-s}}function bY(e){const[t]=this;if(e===void 0){if(!t)return null;if(!t.getClientRects().length)return{top:0,left:0};const o=t.getBoundingClientRect();return{top:o.top+window.scrollY,left:o.left+window.scrollX}}if(!t)return this;const n=window.getComputedStyle(t);n.position==="static"&&this.css("position","relative");const i=this.offset(),r=e.top-i.top,a=e.left-i.left;return this.css({top:(parseFloat(n.top)||0)+r+"px",left:(parseFloat(n.left)||0)+a+"px"}),this}const EY=Object.freeze(Object.defineProperty({__proto__:null,addClass:lY,append:eY,appendTo:nY,children:dY,clone:QK,closest:hY,css:aY,data:oY,detach:XK,empty:JK,hasClass:uY,height:yY,html:ZK,off:gY,offset:bY,on:fY,one:pY,position:vY,prepend:tY,prependTo:iY,remove:YK,removeClass:sY,toggleClass:cY,width:mY},Symbol.toStringTag,{value:"Module"})),VE="animationFrameId",rc={};rc["transition-property"]=rc["transition-duration"]=rc["transition-delay"]=rc["transition-timing-function"]=rc["animation-name"]=rc["animation-duration"]=rc["animation-delay"]=rc["animation-timing-function"]="";function xY(e,t={}){this.stop();for(let n=0;n<this.length;n++)SY(this[n],e,t);return this}function SY(e,t,n={}){let{duration:i=400,easing:r="ease-in-out",delay:a=0,complete:o}=n;const s=setTimeout(function(){const l=Ct(e);let c=!1,h="transitionend";i=i/1e3,a=a/1e3;const d={};if(typeof t=="string")d["animation-name"]=t,d["animation-duration"]=i+"s",d["animation-delay"]=a+"s",d["animation-timing-function"]=r,h="animationend";else{const S=[];for(var p in t)t.hasOwnProperty(p)&&(d[p]=t[p],S.push(p));i>0&&(d["transition-property"]=S.join(", "),d["transition-duration"]=i+"s",d["transition-delay"]=a+"s",d["transition-timing-function"]=r)}const y=function(S){if(S){if(S.target!==S.currentTarget)return;S.target.removeEventListener(h,y)}else e.removeEventListener(h,y);c=!0,l.css(rc),o&&o.call(e)};if(i>0){e.addEventListener(h,y);const S=setTimeout(function(){c||y(null)},(i+a)*1e3+25);Rl.set(e,VE,{id:S,stop:()=>{clearTimeout(S),e.removeEventListener(h,y)}})}l.css(d),i<=0&&y(null)});Rl.set(e,VE,{stop:()=>clearTimeout(s)})}function _Y(){for(let e=0;e<this.length;e++){const t=this[e],n=Rl.get(t,VE);n&&(n.stop(),Rl.remove(t,VE))}return this.css(rc),this}const CY=Object.freeze(Object.defineProperty({__proto__:null,animate:xY,stop:_Y},Symbol.toStringTag,{value:"Module"})),G5={outerWidth:"offsetWidth",outerHeight:"offsetHeight",innerWidth:"clientWidth",innerHeight:"clientHeight",scrollLeft:"scrollLeft",scrollTop:"scrollTop",val:"value",text:"textContent"},W5={disabled:"disabled",value:"value",text:"textContent"};function wY(e,t){if(!e)throw new Error("no property provided");if(arguments.length===1){const[n]=this;return n?n[e]:null}if(t===void 0)return this;for(let n=0;n<this.length;n++)this[n][e]=t;return this}function TY(e,t){let n;if(typeof e=="string")if(t===void 0){const[i]=this;return i?i.getAttribute(e):null}else n={[e]:t};else if(e)n=e;else throw new Error("no attributes provided");for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];if(W5[i]){this.prop(W5[i],r);continue}for(let a=0;a<this.length;a++)r===null?this[a].removeAttribute(i):this[a].setAttribute(i,r)}return this}const wM={prop:wY,attr:TY};Object.keys(G5).forEach(e=>{wM[e]=function(...t){return this.prop(G5[e],...t)}});const fg={useCSSSelectors:!1,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},DS=Object.create(null);DS.load={noBubble:!0};[["mouseenter","mouseover"],["mouseleave","mouseout"],["pointerenter","pointerover"],["pointerleave","pointerout"]].forEach(([e,t])=>{DS[e]={delegateType:t,bindType:t,handle:function(n){const i=this,r=n.relatedTarget,a=n.handleObj;let o;return(!r||!i.contains(r))&&(n.type=a.origType,o=a.handler.apply(i,arguments),n.type=t),o}}});const AY=fg.doubleTapInterval,kY=30;DS.dbltap={bindType:"touchend",delegateType:"touchend",handle:function(e,...t){const{handleObj:n,target:i}=e,r=Ct.data.create(i),a=new Date().getTime(),o="lastTouch"in r?a-r.lastTouch:0;o<AY&&o>kY?(r.lastTouch=null,e.type=n.origType,n.handler.call(this,e,...t)):r.lastTouch=a}};Object.assign(Ct.fn,EY);Object.assign(Ct.fn,CY);Object.assign(Ct.fn,wM);Object.assign(Ct.event.special,DS);const ku=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,fg.classNamePrefix.length)!==fg.classNamePrefix&&(t=fg.classNamePrefix+t),t}).join(" ")},GE=function(e,t){const n={},i={},r=lt.namespace.svg,a=t||r,o=document.createDocumentFragment(),s=function(l,c,h){for(let d=0;d<l.length;d++){const p=l[d];if(typeof p=="string"){const Q=document.createTextNode(p);c.appendChild(Q);continue}if(!p.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const y=p.tagName;let S;const _=p.hasOwnProperty("namespaceURI")?p.namespaceURI:h;S=document.createElementNS(_,y);const I=_===r,M=I?lt(S):Ct(S),B=p.attributes;B&&M.attr(B);const U=p.style;if(U&&Ct(S).css(U),p.hasOwnProperty("className")){const Q=p.className;I?S.className.baseVal=Q:S.className=Q}if(p.hasOwnProperty("textContent")&&(S.textContent=p.textContent),p.hasOwnProperty("selector")){const Q=p.selector;if(n[Q])throw new Error("json-dom-parser: selector must be unique");n[Q]=S,M.attr("joint-selector",Q)}if(p.hasOwnProperty("groupSelector")){let Q=p.groupSelector;Array.isArray(Q)||(Q=[Q]);for(let H=0;H<Q.length;H++){const g=Q[H];let T=i[g];T||(T=i[g]=[]),T.push(S)}}c.appendChild(S);const K=p.children;Array.isArray(K)&&s(K,S,_)}};return s(e,o,a),{fragment:o,selectors:n,groupSelectors:i}},Mb=function(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t=(t<<5)-t+i,t=t&t}return t},d0=function(e,t,n){for(var i=Array.isArray(t)?t:t.split(n||"/"),r,a=0,o=i.length;a<o;)if(r=i[a++],Object(e)===e&&r in e)e=e[r];else return;return e},TM=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},j5=function(e,t,n,i){const r=Array.isArray(t)?t:t.split(i||"/"),a=r.length-1;let o=e,s=0;for(;s<a;s++){const l=r[s];if(!TM(o,l))return e;o=o[l]||(o[l]={})}return o[r[a]]=n,e},K5=function(e,t,n){const i=Array.isArray(t)?t:t.split(n),r=i.length-1;let a=e,o=0;for(;o<r;o++){const s=i[o];if(!TM(a,s))return e;const l=a[s];if(!l)return e;a=l}return delete a[i[r]],e},IY=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})},eg=function(e){return eg.id=eg.id||1,e===void 0?"j_"+eg.id++:(e.id=e.id===void 0?"j_"+eg.id++:e.id,e.id)},Ki=function(e){if(e.normalized)return e;const{originalEvent:t,target:n}=e,i=t&&t.changedTouches&&t.changedTouches[0];if(i)for(let r in i)e[r]===void 0&&(e[r]=i[r]);if(n){const r=n.correspondingUseElement;r&&(e.target=r)}return e.normalized=!0,e},OY=function(e){let r=0,a=0,o=0,s=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(r=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=a,a=0),o="deltaX"in e?e.deltaX:r*10,s="deltaY"in e?e.deltaY:a*10,(o||s)&&e.deltaMode&&(e.deltaMode==1?(o*=40,s*=40):(o*=800,s*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(o=s,s=0,r=a,a=0),o&&!r&&(r=o<1?-1:1),s&&!a&&(a=s<1?-1:1),{spinX:r,spinY:a,deltaX:o,deltaY:s}},PY=function(e,t){return e>t?t:e<-50?-50:e},_T=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(n){var i=new Date().getTime(),r=Math.max(0,16-(i-t)),a=setTimeout(function(){n(i+r)},r);return t=i+r,a}}return function(n,i,...r){return e(i!==void 0?n.bind(i,...r):n)}}(),gE=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),oa=function(e){return Gr(e)&&e.slice(-1)==="%"},MY=function(e,t){function n(s){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+s+")$").exec(e);return l?l[1]:null}var i=parseFloat(e);if(Number.isNaN(i))return null;var r={};r.value=i;var a;if(t==null)a="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;a=t.join("|")}else Gr(t)&&(a=t);var o=n(a);return o===null?null:(r.unit=o,r)},Vm=0;function NY(e,t){const n=e.split(t);let i=1;for(let r=0,a=n.length-1;r<a;r++){const o=[];(r>0||n[0]!=="")&&o.push(Vm),o.push(t),(r<a-1||n[a]!=="")&&o.push(Vm),n.splice(i,0,...o),i+=o.length+1}return n.filter(r=>r!=="")}function Y5(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const WE=function(e,t,n={},i={}){var r=t.width,a=t.height,o=i.svgDocument||lt("svg").node,s=lt("tspan").node,l=lt("text").attr(n).append(s).node,c=document.createTextNode("");l.style.opacity=0,l.style.display="block",s.style.display="block",s.appendChild(c),o.appendChild(l),i.svgDocument||document.body.appendChild(o);const h=i.preserveSpaces,d=" ",p=i.separator||i.separator===""?i.separator:d,y=typeof p=="string"?p:d;var S=i.eol||`
`,_=i.hyphen?new RegExp(i.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,I=i.maxLineCount;Co(I)||(I=1/0);var M=e.split(p),B=[],U=[],K,Q,H;h&&lt(s).attr("xml:space","preserve");for(var g=0,T=0,A=M.length;g<A;g++){var D=M[g];if(!(!D&&!h)&&typeof D=="string"){var Z=!1;if(D.indexOf(S)>=0)if(D.length>1){const G=NY(M[g],S);M.splice(g,1,...G),g--,A=M.length;continue}else{if(h&&typeof M[g-1]=="string"){M.splice(g,Vm,"",Vm),A+=2,g--;continue}U[++T]=!h||typeof M[g+1]=="string"?"":void 0,Z=!0}if(!Z){let G;if(h?G=U[T]!==void 0?U[T]+y+D:D:G=U[T]?U[T]+y+D:D,c.data=G,s.getComputedTextLength()<=r)U[T]=G,(K||Q)&&(B[T++]=!0,K=0,Q=0);else{if(!U[T]||K){var ie=!!K;if(K=D.length-1,ie||!K){if(!K){if(!U[T]){U=[];break}M.splice(g,2,D+M[g+1]),A--,B[T++]=!0,g--;continue}M[g]=D.substring(0,K);const le=M[g+1];M[g+1]=D.substring(K)+(le===void 0||le===Vm?"":le)}else{if(Q)M.splice(g,2,M[g]+M[g+1]),Q=0;else{var se=D.search(_);se>-1&&se!==D.length-1&&se!==0&&(Q=se+1,K=0),M.splice(g,1,D.substring(0,Q||K),D.substring(Q||K)),A++}T&&!B[T-1]&&T--}(!h||U[T]!=="")&&g--;continue}T++,g--}}var ue=null;if(U.length>I)ue=I-1;else if(a!==void 0){if(H===void 0&&c.data!=="")if(n.lineHeight==="auto")H=Y5({value:1.5,unit:"em"},l);else{const G=MY(n.lineHeight,["em","px",""]);H=Y5(G,l)}H*U.length>a&&(ue=Math.floor(a/H)-1)}if(ue!==null){U.splice(ue+1);var de=i.ellipsis;if(!de||ue<0)break;typeof de!="string"&&(de="…");var F=U[ue];if(!F&&!Z)break;var $=F.length,W,J;do{if(J=F[$],W=F.substring(0,$),J?J.match(p)&&(W+=J):W+=y,W+=de,c.data=W,s.getComputedTextLength()<=r){U[ue]=W;break}$--}while($>=0);break}}}return i.svgDocument?o.removeChild(l):document.body.removeChild(o),U.join(S)},RY=function(e,t){e=Ct(e).toArray();var n=e.map(function(r){var a=r.parentNode,o=a.insertBefore(document.createTextNode(""),r.nextSibling);return function(){if(a===this)throw new Error("You can't sort elements if any one is a descendant of another.");a.insertBefore(this,o),a.removeChild(o)}});e.sort(t);for(var i=0;i<n.length;i++)n[i].call(e[i]);return e},Ru=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,i,r,a;return n=i=r=a=0,isFinite(e.vertical)&&(n=r=+e.vertical),isFinite(e.horizontal)&&(i=a=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(i=+e.right),isFinite(e.bottom)&&(r=+e.bottom),isFinite(e.left)&&(a=+e.left),{top:n,right:i,bottom:r,left:a}},DY={linear:function(e){return e}},AM={number:function(e,t){var n=t-e;return function(i){return e+n*i}},object:function(e,t){var n=Object.keys(e);return function(i){var r,a,o={};for(r=n.length-1;r!=-1;r--)a=n[r],o[a]=e[a]+(t[a]-e[a])*i;return o}}},BY={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(e.margin)?e.margin:2,i=Number.isFinite(e.width)?e.width:1;return Cl(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:n+i,innerRadius:n})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Cl(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Cl('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Cl(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Cl('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Cl('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Cl('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Cl('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Cl('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Cl('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Cl('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},Cl=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(i){for(var r=Array.from(arguments),a=r.slice(1,4).find(function(l){return!!l}),o=a.split("."),s=n[o.shift()];s!==void 0&&o.length;)s=s[o.shift()];return s!==void 0?s:""})}},X5=function(e){var t=window.top.document;e=e||t.body;function n(i,r){for(var a=["webkit","moz","ms","o",""],o=0;o<a.length;o++){var s=a[o],l=s?s+r:r.substr(0,1).toLowerCase()+r.substr(1);if(i[l]!==void 0)return Ri(i[l])?i[l]():i[l]}}n(t,"FullscreenElement")||n(t,"FullScreenElement")?n(t,"ExitFullscreen")||n(t,"CancelFullScreen"):n(e,"RequestFullscreen")||n(e,"RequestFullScreen")};function kM(e,t,n,i){if(n===i)return{};const r={};return Object.keys(e).forEach(a=>{const o=e[a],s=t[a];if(!Array.isArray(o)&&!Array.isArray(s)&&hi(o)&&hi(s)){const l=n+1,c=kM(o,s,l,i);Object.keys(c).length>0?r[a]=c:(n===0||l===i)&&(r[a]={})}else Yd(o,s)||(r[a]=o)}),r}function LY(e,t,n){const{maxDepth:i=Number.POSITIVE_INFINITY}=n||{};return kM(e,t,0,i)}var Ro={},J5=/\s+/,Nd,Uf=function(e,t,n,i,r){var a=0,o;if(n&&typeof n=="object")for(i!==void 0&&("context"in r)&&r.context===void 0&&(r.context=i),o=Object.keys(n);a<o.length;a++)t=Uf(e,t,o[a],n[o[a]],r);else if(n&&J5.test(n))for(o=n.split(J5);a<o.length;a++)t=e(t,o[a],i,r);else t=e(t,n,i,r);return t};Ro.on=function(e,t,n){if(this._events=Uf(FY,this._events||{},e,t,{context:n,ctx:this,listening:Nd}),Nd){var i=this._listeners||(this._listeners={});i[Nd.id]=Nd,Nd.interop=!1}return this};Ro.listenTo=function(e,t,n){if(!e)return this;var i=e._listenId||(e._listenId=my("l")),r=this._listeningTo||(this._listeningTo={}),a=Nd=r[i];a||(this._listenId||(this._listenId=my("l")),a=Nd=r[i]=new BS(this,e));var o=zY(e,t,n,this);if(Nd=void 0,o)throw o;return a.interop&&a.on(t,n),this};var FY=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),a=i.context,o=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:a,ctx:a||o,listening:s})}return e},zY=function(e,t,n,i){try{e.on(t,n,i)}catch(r){return r}};Ro.off=function(e,t,n){return this._events?(this._events=Uf(IM,this._events,e,t,{context:n,listeners:this._listeners}),this):this};Ro.stopListening=function(e,t,n){var i=this._listeningTo;if(!i)return this;for(var r=e?[e._listenId]:Object.keys(i),a=0;a<r.length;a++){var o=i[r[a]];if(!o)break;o.obj.off(t,n,this),o.interop&&o.off(t,n)}return Ps(i)&&(this._listeningTo=void 0),this};var IM=function(e,t,n,i){if(e){var r=i.context,a=i.listeners,o=0,s;if(!t&&!r&&!n){if(a!=null)for(s=Object.keys(a);o<s.length;o++)a[s[o]].cleanup();return}for(s=t?[t]:Object.keys(e);o<s.length;o++){t=s[o];var l=e[t];if(!l)break;for(var c=[],h=0;h<l.length;h++){var d=l[h];if(n&&n!==d.callback&&n!==d.callback._callback||r&&r!==d.context)c.push(d);else{var p=d.listening;p&&p.off(t,n)}}c.length?e[t]=c:delete e[t]}return e}};Ro.once=function(e,t,n){var i=Uf(OM,{},e,t,this.off.bind(this));return typeof e=="string"&&n==null&&(t=void 0),this.on(i,t,n)};Ro.listenToOnce=function(e,t,n){var i=Uf(OM,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,i)};var OM=function(e,t,n,i){if(n){var r=e[t]=$Y(function(){i(t,r),n.apply(this,arguments)});r._callback=n}return e},$Y=function(e){var t;if(typeof e!="function")throw new TypeError("Expected a function");var n=2;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=void 0),t}};Ro.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return Uf(qY,this._events,e,void 0,n),this};var qY=function(e,t,n,i){if(e){var r=e[t],a=e.all;r&&a&&(a=a.slice()),r&&Q5(r,i),a&&Q5(a,[t].concat(i))}return e},Q5=function(e,t){var n,i=-1,r=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},BS=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};BS.prototype.on=Ro.on;BS.prototype.off=function(e,t){var n;this.interop?(this._events=Uf(IM,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=this.count===0),n&&this.cleanup()};BS.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]};Ro.bind=Ro.on;Ro.unbind=Ro.off;var vA=function(e,t){var n=this,i;return e&&_c(e,"constructor")?i=e.constructor:i=function(){return n.apply(this,arguments)},zt(i,n,t),i.prototype=Object.assign(Object.create(n.prototype),e),i.prototype.constructor=i,i.__super__=n.prototype,i},UY=function(e,t,n,i){switch(t){case 1:return function(){return e[n](this[i])};case 2:return function(r){return e[n](this[i],r)};case 3:return function(r,a){return e[n](this[i],Z5(r,this),a)};case 4:return function(r,a,o){return e[n](this[i],Z5(r,this),a,o)};default:return function(){var r=Array.prototype.slice.call(arguments);return r.unshift(this[i]),e[n].apply(e,r)}}},HY=function(e,t,n,i){Ec(n,function(r,a){t[a]&&(e.prototype[a]=UY(t,r,a,i))})},Z5=function(e,t){return Ri(e)?e:hi(e)&&!t._isModel(e)?VY(e):Gr(e)?function(n){return n.get(e)}:e},VY=function(e){var t=NK(e);return function(n){return t(n.attributes)}},Qs=function(e,t){var n=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=my(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection);var i=Yi(this,"defaults");n=ks(zt({},i,n),i),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};zt(Qs.prototype,Ro,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return Ca(this.attributes)},get:function(e){return this.attributes[e]},has:function(e){return this.get(e)!=null},set:function(e,t,n){if(e==null)return this;var i;if(typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;var r=n.unset,a=n.silent,o=[],s=this._changing;this._changing=!0,s||(this._previousAttributes=Ca(this.attributes),this.changed={});var l=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in i)t=i[d],Yd(l[d],t)||o.push(d),Yd(h[d],t)?delete c[d]:c[d]=t,r?delete l[d]:l[d]=t;if(this.idAttribute in i){var p=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,p,n)}if(!a){o.length&&(this._pending=n);for(var y=0;y<o.length;y++)this.trigger("change:"+o[y],this,l[o[y]],n)}if(s)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,zt({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,zt({},e,{unset:!0}))},hasChanged:function(e){return e==null?!Ps(this.changed):_c(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?Ca(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,n={},i;for(var r in e){var a=e[r];Yd(t[r],a)||(n[r]=a,i=!0)}return i?n:!1},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return Ca(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isValid:function(e){return this._validate({},zt({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=zt({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,zt(t,{validationError:n})),!1):!0}});Qs.extend=vA;function PM(e){e=Rf(e);const t=vi(e).reduce(function(n,i){return n[i.id]=i.clone(),n},{});return vi(e).forEach(function(n){const i=t[n.id];if(i.isLink()){const o=i.source(),s=i.target();o.id&&t[o.id]&&i.prop("source/id",t[o.id].id),s.id&&t[s.id]&&i.prop("target/id",t[s.id].id)}const r=n.get("parent");r&&t[r]&&i.set("parent",t[r].id);const a=vi(n.get("embeds")).reduce(function(o,s){return t[s]&&o.push(t[s].id),o},[]);Ps(a)||i.set("embeds",a)}),t}const GY=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],WY=GY.reduce((e,t)=>(e[t]=!0,e),{}),jY={qualify:function(e){return Hr(e)},set:function(e,t,n){Object.keys(e).forEach(function(i){if(WY[i]&&i in n){const r=e[i];n.tagName==="SELECT"&&Array.isArray(r)?Array.from(n.options).forEach(function(a,o){a.selected=r.includes(a.value)}):n[i]=r}})}};function Nb(e,t,n){return function(i,r){var a=oa(i);i=parseFloat(i),a&&(i/=100);var o;if(isFinite(i)){var s=r[n]();a||i>0&&i<1?o=s[e]+r[t]*i:o=s[e]+i}var l=_e();return l[e]=o||0,l}}function Ed(e,t){return function(n,i){var r=oa(n);n=parseFloat(n),r&&(n/=100);var a={};if(isFinite(n)){var o=r||n>=0&&n<=1?n*i[t]:Math.max(n+i[t],0);a[e]=o}return a}}const Do={"ref-x":{position:Nb("x","width","origin")},"ref-y":{position:Nb("y","height","origin")},"ref-dx":{position:Nb("x","width","corner")},"ref-dy":{position:Nb("y","height","corner")},"ref-width":{set:Ed("width","width")},"ref-height":{set:Ed("height","height")},"ref-rx":{set:Ed("rx","width")},"ref-ry":{set:Ed("ry","height")},"ref-cx":{set:Ed("cx","width")},"ref-cy":{set:Ed("cy","height")},"ref-r-inscribed":{set:function(e){var t=Ed(e,"width"),n=Ed(e,"height");return function(i,r){var a=r.height>r.width?t:n;return a(i,r)}}("r")},"ref-r-circumscribed":{set:function(e,t){var n=oa(e);e=parseFloat(e),n&&(e/=100);var i=Math.sqrt(t.height*t.height+t.width*t.width),r;return isFinite(e)&&(n||e>=0&&e<=1?r=e*i:r=Math.max(e+i,0)),{r}}}};Do.refX=Do["ref-x"];Do.refY=Do["ref-y"];Do["ref-x2"]=Do["ref-x"];Do["ref-y2"]=Do["ref-y"];Do["ref-width2"]=Do["ref-width"];Do["ref-height2"]=Do["ref-height"];Do["ref-r"]=Do["ref-r-inscribed"];const bu={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},KY=Object.keys(bu).map(e=>bu[e]).join(""),tw="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",YY=/\s/g,eI=new RegExp(`^(${tw}\\*)?([${KY}])(/${tw})?([-+]{1,2}${tw})?$`,"g");function MM(e){throw new Error(`Invalid calc() expression: ${e}`)}function XY(e,t){const n=eI.exec(e.replace(YY,""));n||MM(e),eI.lastIndex=0;const[,i,r,a,o]=n,{x:s,y:l,width:c,height:h}=t;let d=0;switch(r){case bu.width:{d=c;break}case bu.height:{d=h;break}case bu.x:{d=s;break}case bu.y:{d=l;break}case bu.minimum:{d=Math.min(h,c);break}case bu.maximum:{d=Math.max(h,c);break}case bu.diagonal:{d=Math.sqrt(h*h+c*c);break}}return i&&(d*=parseFloat(i)),a&&(d/=parseFloat(a.slice(1))),o&&(d+=JY(o)),d}function JY(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function eh(e){return typeof e=="string"&&e.includes("calc")}const NM="calc(",tI=NM.length;function th(e,t){let n=e,i=0;do{let r=n.indexOf(NM,i);if(r===-1)return n;let a=r+tI,o=1;e:do{switch(n[a]){case"(":{o++;break}case")":{if(o--,o===0)break e;break}case void 0:MM(n)}a++}while(!0);let s=n.slice(r+tI,a);eh(s)&&(s=th(s,t));const l=String(XY(s,t));n=n.slice(0,r)+l+n.slice(a+1),i=r+l.length}while(!0)}function Pp(e,t,n){return n.text!==void 0}const nw=["font-weight","font-family","font-size","letter-spacing","text-transform"],RM={"line-height":{qualify:Pp},"text-vertical-anchor":{qualify:Pp},"text-path":{qualify:Pp},annotations:{qualify:Pp},eol:{qualify:Pp},"display-empty":{qualify:Pp},text:{qualify:function(e,t,n){const i=n["text-wrap"];return!i||!Hr(i)},unset:function(e){e.textContent=""},set:function(e,t,n,i){const r="joint-text",a=Ct.data.get(n,r),o=i["line-height"],s=i["text-vertical-anchor"],l=i["display-empty"],c=i["font-size"],h=i.annotations,d=i.eol,p=i.x;let y=i["text-path"];const S=JSON.stringify([e,o,h,s,d,l,y,p,c]);if(a===void 0||a!==S){if(c&&n.setAttribute("font-size",c),hi(y)){const _=y.selector;if(typeof _=="string"){const I=this.findNode(_);I instanceof SVGPathElement&&(y=zt({"xlink:href":"#"+I.id},y))}}lt(n).text(""+e,{lineHeight:o,annotations:h,textPath:y,x:p,textVerticalAnchor:s,eol:d,displayEmpty:l}),Ct.data.set(n,r,S)}}},"text-wrap":{qualify:Hr,set:function(e,t,n,i){var r={},a=e.width||0;oa(a)?r.width=t.width*parseFloat(a)/100:eh(a)?r.width=Number(th(a,t)):e.width===null?r.width=1/0:a<=0?r.width=t.width+a:r.width=a;var o=e.height||0;oa(o)?r.height=t.height*parseFloat(o)/100:eh(o)?r.height=Number(th(o,t)):e.height===null||(o<=0?r.height=t.height+o:r.height=o);var s,l=e.text;if(l===void 0&&(l=i.text),l!==void 0){const c=e.breakText||WE,h=getComputedStyle(n),d={};for(let p=0;p<nw.length;p++){const y=nw[p];y in i&&n.setAttribute(y,i[y]),d[y]=h[y]}d.lineHeight=i["line-height"],s=c(""+l,r,d,{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else s="";RM.text.set.call(this,s,t,n,i)},FONT_ATTRIBUTES:nw},title:{qualify:function(e,t){return t instanceof SVGElement},unset:function(e){Ct.data.remove(e,"joint-title");const t=e.firstElementChild;t&&t.remove()},set:function(e,t,n){var i="joint-title",r=Ct.data.get(n,i);if(r===void 0||r!==e){if(Ct.data.set(n,i,e),n.tagName==="title"){n.textContent=e;return}var a=n.firstElementChild;if(a&&a.tagName==="title")a.textContent=e;else{var o=document.createElementNS(n.namespaceURI,"title");o.textContent=e,n.insertBefore(o,a)}}}}};function Rb(e,t){var n=new _e(1,0);return function(i){var r,a,o=this[e](i);return o?(a=t.rotate?o.vector().vectorAngle(n):0,r=o.start):(r=this.path.start,a=0),a===0?{transform:"translate("+r.x+","+r.y+")"}:{transform:"translate("+r.x+","+r.y+") rotate("+a+")"}}}function hm(){return this.model.isLink()}const yy={connection:{qualify:hm,unset:"d",set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let n;e<0?n=(this.getConnectionLength()+e)/2:n=e;const i=this.getConnection(),r=this.getConnectionSubdivisions(),a=i.divideAtLength(n,{segmentSubdivisions:r}),o=i.divideAtLength(-n,{segmentSubdivisions:r});a&&o&&(t=`${a[0].serialize()} ${o[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},"at-connection-length-keep-gradient":{qualify:hm,unset:"transform",set:Rb("getTangentAtLength",{rotate:!0})},"at-connection-length-ignore-gradient":{qualify:hm,unset:"transform",set:Rb("getTangentAtLength",{rotate:!1})},"at-connection-ratio-keep-gradient":{qualify:hm,unset:"transform",set:Rb("getTangentAtRatio",{rotate:!0})},"at-connection-ratio-ignore-gradient":{qualify:hm,unset:"transform",set:Rb("getTangentAtRatio",{rotate:!1})}};yy["at-connection-length"]=yy["at-connection-length-keep-gradient"];yy["at-connection-ratio"]=yy["at-connection-ratio-keep-gradient"];function DM(e,t){var n="joint-shape",i=t&&t.resetOffset;return function(r,a,o){var s=Ct.data.get(o,n);if(!s||s.value!==r){var l=e(r);s={value:r,shape:l,shapeBBox:l.bbox()},Ct.data.set(o,n,s)}var c=s.shape.clone(),h=s.shapeBBox.clone(),d=h.origin(),p=a.origin();h.x=p.x,h.y=p.y;var y=a.maxRectScaleToFit(h,p),S=h.width===0||a.width===0?1:y.sx,_=h.height===0||a.height===0?1:y.sy;return c.scale(S,_,d),i&&c.translate(-d.x,-d.y),c}}function nI(e){function t(i){return new Qt(lt.normalizePathData(i))}var n=DM(t,e);return function(i,r,a){var o=n(i,r,a);return{d:o.serialize()}}}function iI(e){var t=DM(er,e);return function(n,i,r){var a=t(n,i,r);return{points:a.serialize()}}}const vy={"ref-d-reset-offset":{unset:"d",set:nI({resetOffset:!0})},"ref-d-keep-offset":{unset:"d",set:nI({resetOffset:!1})},"ref-points-reset-offset":{unset:"points",set:iI({resetOffset:!0})},"ref-points-keep-offset":{unset:"points",set:iI({resetOffset:!1})}};vy["ref-d"]=vy["ref-d-reset-offset"];vy["ref-points"]=vy["ref-points-reset-offset"];function iw(e){var t={},n=e.stroke;typeof n=="string"&&(t.stroke=n,t.fill=n);var i=e["stroke-opacity"];return i===void 0&&(i=e.opacity),i!==void 0&&(t["stroke-opacity"]=i,t["fill-opacity"]=i),t}function rI(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const QY={"source-marker":{qualify:Hr,unset:"marker-start",set:function(e,t,n,i){return e=zt(iw(i),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},"target-marker":{qualify:Hr,unset:"marker-end",set:function(e,t,n,i){return e=zt(iw(i),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},"vertex-marker":{qualify:Hr,unset:"marker-mid",set:function(e,t,n,i){return e=zt(iw(i),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},fill:{qualify:Hr,set:rI},stroke:{qualify:Hr,set:rI},filter:{qualify:Hr,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}}};function aI(e,t,n){return function(i,r){var a;i==="middle"?a=r[t]/2:i===n?a=r[t]:isFinite(i)?a=i>-1&&i<1?-r[t]*i:-i:oa(i)?a=r[t]*parseFloat(i)/100:a=0;var o=new _e;return o[e]=-(r[e]+a),o}}const ZY={"x-alignment":{offset:aI("x","width","right")},"y-alignment":{offset:aI("y","height","bottom")},"reset-offset":{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}}};function oI(e){return function(n,i,r){const a=lt(r);a.attr(e)!==n&&a.attr(e,n)}}const Hf={ref:{},href:{set:oI("href")},"xlink:href":{set:oI("xlink:href")},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:Hr,set:function(e,t,n){Ct(n).css(e)}},html:{unset:function(e){Ct(e).empty()},set:function(e,t,n){Ct(n).html(e+"")}},props:jY};zt(Hf,Do);zt(Hf,RM);zt(Hf,yy);zt(Hf,vy);zt(Hf,QY);zt(Hf,ZY);const BM=Hf,eX=function(e,t){if(Array.isArray(e))return t};function sI(e){for(const t in e){const n=e[t];hi(n)&&!Array.isArray(n)&&Ps(n)&&delete e[t]}}const Oc=Qs.extend({constructor:function(e,t){var n,i=e||{};if(typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=my("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(i=this.parse(i,t)||{}),n=Yi(this,"defaults")){const r=t&&t.mergeArrays===!0?!1:eX;i=ra({},n,i,r)}this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(e){const{ignoreDefaults:t,ignoreEmptyAttributes:n=!1}=e||{},i=Yi(this.constructor.prototype,"defaults");if(t===!1){const s=eo(this.attributes);return n&&sI(s),s}let r={},a=eo(this.attributes);t===!0?r=i:(Array.isArray(t)?t:["attrs"]).forEach(l=>{r[l]=i[l]||{}});const o=LY(a,b1(r,"id","type"),{maxDepth:4});return n&&sI(o),o},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return IY()},processPorts:function(){var e=this.ports,t={};Ec(this.get("attrs"),function(a,o){a&&a.port&&(a.port.id!==void 0?t[a.port.id]=a.port:t[a.port]={id:a.port})});var n={};if(Ec(e,function(a,o){t[o]||(n[o]=!0)}),this.graph&&!Ps(n)){var i=this.graph.getConnectedLinks(this,{inbound:!0});i.forEach(function(a){n[a.get("target").port]&&a.remove()});var r=this.graph.getConnectedLinks(this,{outbound:!0});r.forEach(function(a){n[a.get("source").port]&&a.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");const i=this.getParentCell();i&&i.unembed(this,e);const r=this.getEmbeddedCells();for(let a=0,o=r.length;a<o;a++){const s=r[a];s&&s.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=ks(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:hE(n,l=>l.z());let a=t.maxZIndex()-n.length+1;const o=t.get("cells");let s=o.toArray().indexOf(i[0])!==o.length-n.length;s||(s=i.some(function(l,c){return l.z()!==a+c})),s&&(this.startBatch("to-front"),a=a+n.length,i.forEach(function(l,c){l.set("z",a+c,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=ks(e||{},{foregroundEmbeds:!0});let i;e.deep?(i=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),i.unshift(this)):i=[this];const r=e.foregroundEmbeds?i:hE(i,s=>s.z());let a=t.minZIndex();var n=t.get("cells");let o=n.toArray().indexOf(r[0])!==0;o||(o=r.some(function(s,l){return s.z()!==a+l})),o&&(this.startBatch("to-back"),a-=i.length,r.forEach(function(s,l){s.set("z",a+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t={}){const n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(t.reparent)Rf(n.map(r=>r.getParentCell())).forEach(r=>{r&&r._unembedCells(n,t)});else if(n.some(i=>i.isEmbedded()&&this.id!==i.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){const n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(e,t){const n="embed";this.startBatch(n);const i=zt([],this.get("embeds"));e.forEach(r=>{i[r.isLink()?"unshift":"push"](r.id),r.parent(this.id,t)}),this.set("embeds",Rf(i),t),this.stopBatch(n)},_unembedCells:function(e,t){const n="unembed";this.startBatch(n),e.forEach(i=>i.unset("parent",t)),this.set("embeds",V5(this.get("embeds"),...e.map(i=>i.id)),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(Ps(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=hE(n,i=>i.z())),n},_getEmbeddedCellsBfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const i=n.shift();t.push(i);const r=i.getEmbeddedCells({sortSiblings:e});n.push(...r)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const i=n.pop();t.push(i);const r=i.getEmbeddedCells({sortSiblings:e});for(let a=r.length-1;a>=0;--a)n.push(r[a])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=Gr(e)?e:e.id,i=this.parent();if(t=zt({deep:!0},t),this.graph&&t.deep){for(;i;){if(i===n)return!0;i=this.graph.getCell(i).parent()}return!1}else return i===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return vi(PM([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Qs.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var i="/",r=Gr(e);if(r||Array.isArray(e))if(arguments.length>1){var a,o;r?(a=e,o=a.split("/")):(a=e.join(i),o=e.slice());var s=o[0],l=o.length;const U=n||{};U.propertyPath=a,U.propertyValue=t,U.propertyPathArray=o,"rewrite"in U||(U.rewrite=!1);for(var c={},h=c,d=s,p=1;p<l;p++){var y=o[p],S=Number.isFinite(r?Number(y):y);h=h[d]=S?[]:{},d=y}c=j5(c,o,t,"/");var _=ra({},this.attributes);U.rewrite&&K5(_,a,"/");var I=ra(_,c);return this.set(s,I[s],U)}else return d0(this.attributes,e,i);const M=t||{};M.propertyPath=null,M.propertyValue=e,M.propertyPathArray=[],"rewrite"in M||(M.rewrite=!1);const B={};for(const U in e){const{changedValue:K}=ra({},{changedValue:this.attributes[U]},{changedValue:e[U]});B[U]=K}return this.set(B,M)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),i=n[0];if(i==="attrs"&&(t.dirty=!0),n.length===1)return this.unset(e,t);var r=n.slice(1),a=this.get(i);return a==null?this:(a=eo(a),K5(a,r,"/"),this.set(i,a,t))},attr:function(e,t,n){var i=Array.from(arguments);return i.length===0?this.get("attrs"):(Array.isArray(e)?i[0]=["attrs"].concat(e):Gr(e)?i[0]="attrs/"+e:i[0]={attrs:e},this.prop.apply(this,i))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,i){i=i||"/";var r={duration:100,delay:10,timingFunction:DY.linear,valueFunction:AM.number};n=zt(r,n);var a=0,o,s=(function(d){var p,y,S;a=a||d,d-=a,y=d/n.duration,y<1?this._transitionIds[e]=p=_T(s):(y=1,delete this._transitionIds[e]),S=o(n.timingFunction(y)),n.transitionId=p,this.prop(e,S,n),p||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let c;var h=d=>{l[e]&&(l[e]=V5(l[e],c),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,i),o=n.valueFunction(d0(this.attributes,e,i),t),this._transitionIds[e]=_T(d),this.trigger("transition:start",this,e)};return c=setTimeout(h,n.delay,s),l[e]||(l[e]=[]),l[e].push(c),c},getTransitions:function(){return ST(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:n={}}=this;let i=Object.keys(n);if(e){const r=e.split(t);i=i.filter(a=>Yd(r,a.split(t).slice(0,r.length)))}return i.forEach(r=>{n[r].forEach(o=>clearTimeout(o)),delete n[r]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:n={}}=this;let i=Object.keys(n);if(e){const r=e.split(t);i=i.filter(a=>Yd(r,a.split(t).slice(0,r.length)))}i.forEach(r=>{const a=n[r];gE(a),delete n[r],this.trigger("transition:end",this,r)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,zt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,zt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)!e.hasOwnProperty(n)||!this.hasChanged(n)||(t|=e[n]);return t},angle:function(){return 0},position:function(){return new _e(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new _e},getBBox:function(){return new Tt(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){const i=new _e(t,n);return e&&i.rotate(this.getBBox().center(),e),i},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,n=BM;return t&&t[e]||n[e]},define:function(e,t,n,i){n=zt({defaults:gA({type:e},t,this.prototype.defaults)},n);var r=this.extend(n,i);return typeof joint<"u"&&_c(joint,"shapes")&&j5(joint.shapes,e,r,"."),r}}),tX=function(e,t,n){if(Gr(n)){if(!CT[n])throw new Error('Unknown wrapper: "'+n+'"');n=CT[n]}if(!Ri(n))throw new Error("Wrapper must be a function.");vi(t).forEach(function(i){e[i]=n(e[i])})},CT={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,i=n>0&&t[0]||[],r=n>1&&t[n-1]||{};return Array.isArray(i)||(r instanceof Oc?i=t:i instanceof Oc&&(t.length>1&&t.pop(),i=t)),r instanceof Oc&&(r={}),e.call(this,i,r)}}},Pr={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function LM(e,t){const n=new Tt(e);switch(t){case void 0:throw new Error("Position required");case Pr.LEFT:case"leftMiddle":return n.leftMiddle();case Pr.RIGHT:case"rightMiddle":return n.rightMiddle();case Pr.TOP:case"topMiddle":return n.topMiddle();case Pr.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Pr.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Pr.TOP_RIGHT:case"topRight":return n.topRight();case Pr.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Pr.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Pr.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}function FM(e,t,n){var i=e.toJSON();return i.angle=t||0,ks({},n,i)}function E1(e,t,n,i){return e.map(function(r,a,o){var s=this.pointAt((a+.5)/o.length);return(r.dx||r.dy)&&s.offset(r.dx||0,r.dy||0),FM(s.round(),0,bA(i,r))},Tf(t,n))}function zM(e,t,n,i){var r=t.center(),a=t.width/t.height,o=t.topMiddle(),s=Io.fromRect(t);return e.map(function(l,c,h){var d=n+i(c,h.length),p=o.clone().rotate(r,-d).scale(a,1,r),y=l.compensateRotation?-s.tangentTheta(p):0;return(l.dx||l.dy)&&p.offset(l.dx||0,l.dy||0),l.dr&&p.move(r,l.dr),FM(p.round(),y,bA(t,l))})}function bA(e,t){let{x:n,y:i,angle:r}=t;return oa(n)?n=parseFloat(n)/100*e.width:eh(n)&&(n=Number(th(n,e))),oa(i)?i=parseFloat(i)/100*e.height:eh(i)&&(i=Number(th(i,e))),{x:n,y:i,angle:r}}function wT(e,t){const{x:n,y:i}=bA(e,t);return new _e(n||0,i||0)}const nX=function(e,t){return e.map(n=>{const i=wT(t,n).round().toJSON();return i.angle=n.angle||0,i})},iX=function(e,t,n){return n.fn(e,t,n)},rX=function(e,t,n){var i=wT(t,n.start||t.origin()),r=wT(t,n.end||t.corner());return E1(e,i,r,t)},aX=function(e,t,n){return E1(e,t.origin(),t.bottomLeft(),t)},oX=function(e,t,n){return E1(e,t.topRight(),t.corner(),t)},sX=function(e,t,n){return E1(e,t.origin(),t.topRight(),t)},lX=function(e,t,n){return E1(e,t.bottomLeft(),t.corner(),t)},cX=function(e,t,n){var i=n.startAngle||0,r=n.step||360/e.length;return zM(e,t,i,function(a){return a*r})},uX=function(e,t,n){var i=n.startAngle||0,r=n.step||20;return zM(e,t,i,function(a,o){return(a+.5-o/2)*r})},dX=Object.freeze(Object.defineProperty({__proto__:null,absolute:nX,bottom:lX,ellipse:uX,ellipseSpread:cX,fn:iX,left:aX,line:rX,right:oX,top:sX},Symbol.toStringTag,{value:"Module"}));function fh(e,t){return gA({},e,t,{x:0,y:0,angle:0,attrs:{}})}function $M(e){var t=e.center(),n=t.theta(e.origin()),i=t.theta(e.bottomLeft()),r=t.theta(e.corner()),a=t.theta(e.topRight());return[n,a,r,i]}function qM(e,t,n,i){i=ks({},i,{offset:15});var r=t.center().theta(e),a,o,s,l,c=i.offset,h=0;const[d,p,y,S]=$M(t);r<p||r>y?(s=".3em",a=c,o=0,l="start"):r<d?(a=0,o=-c,n?(h=-90,l="start",s=".3em"):(l="middle",s="0")):r<S?(s=".3em",a=-c,o=0,l="end"):(a=0,o=c,n?(h=90,l="start",s=".3em"):(l="middle",s=".6em"));var _=Math.round;return fh(i,{x:_(a),y:_(o),angle:h,attrs:{labelText:{y:s,textAnchor:l}}})}function UM(e,t,n,i){i=ks({},i,{offset:15});var r=t.center().theta(e),a,o,s,l,c=i.offset,h=0;const[d,p,y,S]=$M(t);r<p||r>y?(s=".3em",a=-c,o=0,l="end"):r<d?(a=0,o=c,n?(h=90,l="start",s=".3em"):(l="middle",s=".6em")):r<S?(s=".3em",a=c,o=0,l="start"):(a=0,o=-c,n?(h=-90,l="start",s=".3em"):(l="middle",s="0"));var _=Math.round;return fh(i,{x:_(a),y:_(o),angle:h,attrs:{labelText:{y:s,textAnchor:l}}})}function HM(e,t,n){n=ks({},n,{offset:20});var i=UE(0,0),r=-e.theta(i),a=r,o=e.clone().move(i,n.offset).difference(e).round(),s=".3em",l;(r+90)%180===0?(l=t?"end":"middle",!t&&r===-270&&(s="0em")):r>-270&&r<-90?(l="start",a=r-180):l="end";var c=Math.round;return fh(n,{x:c(o.x),y:c(o.y),angle:t?a:0,attrs:{labelText:{y:s,textAnchor:l}}})}const hX=function(e,t,n){return fh(n)},fX=function(e,t,n){return fh(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},pX=function(e,t,n){return fh(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},gX=function(e,t,n){return fh(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},mX=function(e,t,n){return fh(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},yX=function(e,t,n){return qM(e,t,!0,n)},vX=function(e,t,n){return qM(e,t,!1,n)},bX=function(e,t,n){return UM(e,t,!0,n)},EX=function(e,t,n){return UM(e,t,!1,n)},xX=function(e,t,n){return HM(e.difference(t.center()),!1,n)},SX=function(e,t,n){return HM(e.difference(t.center()),!0,n)},_X=Object.freeze(Object.defineProperty({__proto__:null,bottom:mX,inside:EX,insideOriented:bX,left:fX,manual:hX,outside:vX,outsideOriented:yX,radial:xX,radialOriented:SX,right:pX,top:gX},Symbol.toStringTag,{value:"Module"}));var VM=function(e){var t=eo(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=dX,this.portLabelLayoutNamespace=_X,this._init(t)};VM.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),i=this.getPortsByGroup(e),r=n.position||{},a=r.name,o=this.portLayoutNamespace;o[a]||(a="left");var s=r.args||{},l=i.map(function(d){return d&&d.position&&d.position.args}),c=o[a](l,t,s),h={ports:i,result:[]};return vi(c).reduce((function(d,p,y){var S=d.ports[y];return d.result.push({portId:S.id,portTransformation:p,labelTransformation:this._getPortLabelLayout(S,_e(p),t),portAttrs:S.attrs,portSize:S.size,labelSize:S.label.size}),d}).bind(this),h),h.result},_getPortLabelLayout:function(e,t,n){var i=this.portLabelLayoutNamespace,r=e.label.position.name||"left";return i[r]?i[r](t,n,e.label.position.args):null},_init:function(e){if(hi(e.groups))for(var t=Object.keys(e.groups),n=0,i=t.length;n<i;n++){var r=t[n];this.groups[r]=this._evaluateGroup(e.groups[r])}for(var a=vi(e.items),o=0,s=a.length;o<s;o++)this.ports.push(this._evaluatePort(a[o]))},_evaluateGroup:function(e){return ra(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=zt({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=ra({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=ra({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=zt({},n.size,t.size),t},_getZIndex:function(e,t){return Co(t.z)?t.z:Co(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return ra({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var n={},i;Ri(e)?(i="fn",n.fn=e):Gr(e)?i=e:e===void 0?i=t?"left":null:Array.isArray(e)?(i="absolute",n.x=e[0],n.y=e[1]):hi(e)&&(i=e.name,zt(n,e.args));var r={args:n};return i&&(r.name=i),r},_getLabel:function(e,t){var n=e.label||{},i=n;return i.position=this._getPosition(n.position,t),i}};const CX={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};vi(e.items).forEach(function(s){t[s.id]=!0});var n=this.previous("ports")||{},i={};vi(n.items).forEach(function(s){t[s.id]||(i[s.id]=!0)});var r=this.graph;if(r&&!Ps(i)){var a=r.getConnectedLinks(this,{inbound:!0});a.forEach(function(s){i[s.get("target").port]&&s.remove()});var o=r.getConnectedLinks(this,{outbound:!0});o.forEach(function(s){i[s.get("source").port]&&s.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return eo(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=vi(this.prop(["ports","items"])).filter(n=>n.group===e);return eo(t)},getPort:function(e){return eo(vi(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortGroupNames:function(){return Object.keys(this._portSettingsData.groups)},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,Tt(this.size()));return t.reduce(function(n,i){var r=i.portTransformation;return n[i.portId]={x:r.x,y:r.y,angle:r.angle},n},{})},getPortIndex:function(e){var t=hi(e)?e.id:e;return this._isValidPortId(t)?vi(this.prop("ports/items")).findIndex(function(n){return n.id===t}):-1},addPort:function(e,t){if(!hi(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=zt([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){const i=typeof e=="number"?e:this.getPortIndex(e);if(!hi(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const r=zt([],this.prop("ports/items"));return r.splice(i,0,t),this.prop("ports/items",r,n),this},portProp:function(e,t,n,i){var r=this.getPortIndex(e);if(r===-1)throw new Error("Element: unable to find port with id "+e);var a=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?a[0]=["ports","items",r].concat(t):Gr(t)?a[0]=["ports/items/",r,"/",t].join(""):(a=["ports/items/"+r],Hr(t)&&(a.push(t),a.push(n))),this.prop.apply(this,a)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var n=vi(e.items);return n.forEach(function(i){typeof i!="object"&&t.push("Element: invalid port ",i),this._isValidPortId(i.id)||(i.id=this.generatePortId())},this),Rf(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!hi(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",zt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const n=t||{},i=this.getPortIndex(e);if(i!==-1){const r=zt([],this.prop(["ports","items"]));r.splice(i,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],r,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,i;if(Array.isArray(e)){if(n=t||{},e.length===0)return this.this;i=zt([],this.prop(["ports","items"])).filter(function(a){return!e.some(function(o){const s=hi(o)?o.id:o;return a.id===s})})}else n=e||{},i=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],i,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new VM(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var i=n.filter(function(a){if(!t.find(function(o){return o.id===a.id}))return a}),r=t.filter(function(a){if(!n.find(function(o){return o.id===a.id}))return a});r.length>0&&this.trigger("ports:remove",this,r),i.length>0&&this.trigger("ports:add",this,i)}}},wX={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,i=t.node.childNodes.length;n<i;n++)e.push(t.node.childNodes[n]);var r=zK(this.model._portSettingsData.getPorts(),"z"),a="auto";vi(r[a]).forEach(function(h){var d=this._getPortElement(h);t.append(d),e.push(d)},this);for(var o=Object.keys(r),s=0;s<o.length;s++){var l=o[s];if(l!==a){var c=parseInt(l,10);this._appendPorts(r[l],c,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var i=this._getContainerElement(),r=vi(e).map(this._getPortElement,this);n[t]||t<0?lt(n[Math.max(t,0)]).before(r):i.append(r)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNodes:function(e,t){const n=this._portElementsCache[e];if(!n)return[];if(!t)return[n.portContentElement.node];const i=n.portElement.node,r=n.portSelectors;return this.findBySelector(t,i,r)},findPortNode:function(e,t){const[n=null]=this.findPortNodes(e,t);return n},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){Sc(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,i,r;var a=lt(this.portContainerMarkup).addClass("joint-port"),o=this._getPortMarkup(e);if(Array.isArray(o)){var s=this.parseDOMJSON(o,a.node),l=s.fragment;l.childNodes.length>1?t=lt("g").append(l):t=lt(l.firstChild),r=s.selectors}else t=lt(o),Array.isArray(t)&&(t=lt("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group}),Co(e.id)&&t.attr("port-id-type","number");const c=this._getPortLabelMarkup(e.label);if(Array.isArray(c)){const{fragment:_,selectors:I}=this.parseDOMJSON(c,a.node),M=_.childNodes.length;M>0&&(i=I,n=M===1?lt(_.firstChild):lt("g").append(_))}else n=lt(c),Array.isArray(n)&&(n=lt("g").append(n));var h;if(r&&i){for(var d in i)if(r[d]&&d!==this.selector)throw new Error("ElementView: selectors within port must be unique.");h=zt({},r,i)}else h=r||i||{};const p="portRoot",y="labelRoot",S="labelText";if(p in h||(h[p]=t.node),n){const _=n.node;if(y in h||(h[y]=_),!(S in h)){const I=n.tagName()==="TEXT"?_:Array.from(_.querySelectorAll("text"));h[S]=I,i||(i={}),i[S]=I}}return a.append(t.addClass("joint-port-body")),n&&a.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:a,portLabelElement:n,portSelectors:h,portLabelSelectors:i,portContentElement:t,portContentSelectors:r},a},_updatePortGroup:function(e){for(var t=Tt(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),i=0,r=n.length;i<r;i++){var a=n[i],o=a.portId,s=this._portElementsCache[o]||{},l=a.portTransformation,c=a.labelTransformation;c&&s.portLabelElement&&(this.updateDOMSubtreeAttributes(s.portLabelElement.node,c.attrs,{rootBBox:new Tt(a.labelSize),selectors:s.portLabelSelectors}),this.applyPortTransform(s.portLabelElement,c,-l.angle||0)),this.updateDOMSubtreeAttributes(s.portElement.node,a.portAttrs,{rootBBox:new Tt(a.portSize),selectors:s.portSelectors}),this.applyPortTransform(s.portElement,l)}},applyPortTransform:function(e,t,n){var i=lt.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(i,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},nr=Oc.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Oc.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){const i=Co(t);n=(i?n:e)||{};const{parentRelative:r,deep:a,restrictedArea:o}=n;let s;if(r){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(s=l.get("position"))}if(i){if(s&&(e+=s.x,t+=s.y),a||o){const{x:l,y:c}=this.get("position");this.translate(e-l,t-c,n)}else this.set("position",{x:e,y:t},n);return this}else{const l=_e(this.get("position"));return r?l.difference(s):l}},translate:function(e,t,n){if(e=e||0,t=t||0,e===0&&t===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var i=this.get("position")||{x:0,y:0},r=n.restrictedArea;if(r&&n.translateBy===this.id)if(typeof r=="function"){var a=r.call(this,i.x+e,i.y+t,n);e=a.x-i.x,t=a.y-i.y}else{var o=this.getBBox({deep:!0}),s=i.x-o.x,l=i.y-o.y,c=Math.max(r.x+s,Math.min(r.x+r.width+s-o.width,i.x+e)),h=Math.max(r.y+l,Math.min(r.y+r.height+l-o.height,i.y+t));e=c-i.x,t=h-i.y}var d={x:i.x+e,y:i.y+t};return n.tx=e,n.ty=t,n.transition?(hi(n.transition)||(n.transition={}),this.transition("position",d,zt({},n.transition,{valueFunction:AM.object})),Sc(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",d,n),Sc(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var i=this.get("size");return e===void 0?{width:i.width,height:i.height}:(hi(e)&&(n=t,t=Co(e.height)?e.height:i.height,e=Co(e.width)?e.width:i.width),this.resize(e,t,n))},resize:function(e,t,n){if(n=n||{},this.startBatch("resize",n),n.direction){var i=this.get("size");switch(n.direction){case"left":case"right":t=i.height;break;case"top":case"bottom":e=i.width;break}var r=al(this.get("angle")||0),a=this.getBBox(),o;if(r){var s={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(s+=Math.floor((r+45)/90),s%=4);var l=a[["bottomLeft","corner","topRight","origin"][s]](),c=_e(l).rotate(a.center(),-r),h=Math.sqrt(e*e+t*t)/2,d=s*Math.PI/2;d+=Math.atan(s%2==0?t/e:e/t),d-=ls(r);var p=_e.fromPolar(h,d,c);o=_e(p).offset(e/-2,t/-2)}else switch(o=a.topLeft(),n.direction){case"top":case"top-right":o.offset(0,a.height-t);break;case"left":case"bottom-left":o.offset(a.width-e,0);break;case"top-left":o.offset(a.width-e,a.height-t);break}this.set("size",{width:e,height:t},n),this.position(o.x,o.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,i){var r=this.getBBox().scale(e,t,n);return this.startBatch("scale",i),this.position(r.x,r.y,i),this.resize(r.width,r.height,i),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&Sc(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const i=n.getEmbeddedCells().filter(r=>r.isElement());return i.length===0?this:(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:i},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:n,shrinkOnly:i}=e;if(n&&i)return;let{x:r,y:a,width:o,height:s}=t;const{left:l,right:c,top:h,bottom:d}=Ru(e.padding);r-=l,a-=h,o+=l+c,s+=d+h;let p=new Tt(r,a,o,s);if(n)p=this.getBBox().union(p);else if(i){const y=this.getBBox().intersect(p);if(!y)return;p=y}this.set({position:{x:p.x,y:p.y},size:{width:p.width,height:p.height}},e)},rotate:function(e,t,n,i){if(n){var r=this.getBBox().center(),a=this.get("size"),o=this.get("position");r.rotate(n,this.get("angle")-e);var s=r.x-a.width/2-o.x,l=r.y-a.height/2-o.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(o.x+s,o.y+l,i),this.rotate(e,t,null,i),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,i);return this},angle:function(){return al(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:n}=this,{deep:i,rotate:r}=e;if(i&&t){const d=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return d.push(this),t.getCellsBBox(d,e)}const{angle:a=0,position:{x:o,y:s},size:{width:l,height:c}}=n,h=new Tt(o,s,l,c);return r&&h.rotateAroundCenter(a),h},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),i=n.center(),r=e.get(t);if(!r)return i;var a=r.port;if(!a||!this.hasPort(a))return i;var o=this.portProp(a,["group"]),s=this.getPortsPositions(o),l=new _e(s[a]).offset(n.origin()),c=this.angle();return c&&l.rotate(i,-c),l}});zt(nr.prototype,CX);const x1=Oc.extend({defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,x:"calc(x)",y:"calc(y)",width:"calc(w)",height:"calc(h)"}},position:{distance:.5}}},defaults:{source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){if(e===void 0)return Ca(this.get("source"));var i,r,a=e instanceof Oc;if(a)return i=Ca(t)||{},i.id=e.id,r=n,this.set("source",i,r);var o=!Hr(e);return o?(i=Ca(t)||{},i.x=e.x,i.y=e.y,r=n,this.set("source",i,r)):(i=e,r=t,this.set("source",i,r))},target:function(e,t,n){if(e===void 0)return Ca(this.get("target"));var i,r,a=e instanceof Oc;if(a)return i=Ca(t)||{},i.id=e.id,r=n,this.set("target",i,r);var o=!Hr(e);return o?(i=Ca(t)||{},i.x=e.x,i.y=e.y,r=n,this.set("target",i,r)):(i=e,r=t,this.set("target",i,r))},router:function(e,t,n){if(e===void 0){var i=this.get("router");return i?typeof i=="object"?Ca(i):i:null}var r=typeof e=="object"||typeof e=="function",a=r?e:{name:e,args:t},o=r?t:n;return this.set("router",a,o)},connector:function(e,t,n){if(e===void 0){var i=this.get("connector");return i?typeof i=="object"?Ca(i):i:null}var r=typeof e=="object"||typeof e=="function",a=r?e:{name:e,args:t},o=r?t:n;return this.set("connector",a,o)},label:function(e,t,n){var i=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=i.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var i=this.labels(),r=i.length;return e=isFinite(e)&&e!==null?e|0:r,e<0&&(e=r+e+1),i.splice(e,0,t),this.labels(i,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var i=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=i.length+e),arguments.length<=1)return this.prop(["vertices",e]);var r=this._normalizeVertex(t);return this.prop(["vertices",e],r,n)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],i=0;i<e.length;i++){var r=e[i],a=this._normalizeVertex(r);n.push(a)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var i=this.vertices(),r=i.length;e=isFinite(e)&&e!==null?e|0:r,e<0&&(e=r+e+1);var a=this._normalizeVertex(t);return i.splice(e,0,a),this.vertices(i,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){var t=!Hr(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(i){return{x:(i.x||0)+e,y:(i.y||0)+t}},n)},scale:function(e,t,n,i){return this.applyToPoints(function(r){return _e(r).scale(e,t,n).toJSON()},i)},applyToPoints:function(e,t){if(!Ri(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:i,target:r}=this.attributes;i.id||(n.source=e(i)),r.id||(n.target=e(r));var a=this.vertices();return a.length>0&&(n.vertices=a.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new _e(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new _e(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(_e),this.getTargetPoint()];return new er(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),i=this.getTargetElement(),r=this.getParentCell();n&&i&&(n===i||n.isEmbeddedIn(i)?t=i:i.isEmbeddedIn(n)?t=n:t=this.graph.getCommonAncestor(n,i)),r&&(!t||t.id!==r.id)&&r.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,i=t.id,r=n.id;if(!i||!r)return!1;var a=i===r;if(!a&&e.deep&&this.graph){var o=this.getSourceCell(),s=this.getTargetCell();a=o.isEmbeddedIn(s)||s.isEmbeddedIn(o)}return a},getSourceCell:function(){const{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Gr(e)||Co(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var n=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&n}}),GM={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))},isSafari:function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(typeof n<"u")return n;try{n=t()}catch{n=!1}return this._results[e]=n,n}},TX=nr.define("standard.Rectangle",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),EA=nr.define("standard.Circle",{attrs:{root:{cursor:"move"},body:{cx:"calc(s/2)",cy:"calc(s/2)",r:"calc(s/2)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),AX=nr.define("standard.Ellipse",{attrs:{root:{cursor:"move"},body:{cx:"calc(w/2)",cy:"calc(h/2)",rx:"calc(w/2)",ry:"calc(h/2)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),kX=nr.define("standard.Path",{attrs:{root:{cursor:"move"},body:{d:"M 0 0 H calc(w) V calc(h) H 0 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),IX=nr.define("standard.Polygon",{attrs:{root:{cursor:"move"},body:{points:"0 0 calc(w) 0 calc(w) calc(h) 0 calc(h)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),OX=nr.define("standard.Polyline",{attrs:{root:{cursor:"move"},body:{points:"0 0 calc(w) 0 calc(w) calc(h) 0 calc(h)",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),PX=nr.define("standard.Image",{attrs:{root:{cursor:"move"},image:{width:"calc(w)",height:"calc(h)"},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),MX=nr.define("standard.BorderedImage",{attrs:{root:{cursor:"move"},border:{width:"calc(w)",height:"calc(h)",stroke:"#333333",strokeWidth:2},background:{width:"calc(w-1)",height:"calc(h-1)",x:.5,y:.5,fill:"#FFFFFF"},image:{width:"calc(w-1)",height:"calc(h-1)",x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),NX=nr.define("standard.EmbeddedImage",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{width:"calc(0.3*w)",height:"calc(h-20)",x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",x:"calc(0.3*w+20)",y:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),RX=nr.define("standard.InscribedImage",{attrs:{root:{cursor:"move"},border:{rx:"calc(w/2)",ry:"calc(h/2)",cx:"calc(w/2)",cy:"calc(h/2)",stroke:"#333333",strokeWidth:2},background:{rx:"calc(w/2)",ry:"calc(h/2)",cx:"calc(w/2)",cy:"calc(h/2)",fill:"#FFFFFF"},image:{width:"calc(0.68*w)",height:"calc(0.68*h)",x:"calc(0.16*w)",y:"calc(0.16*h)",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+10)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),DX=nr.define("standard.HeaderedRectangle",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{width:"calc(w)",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h/2+15)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var rw=10;const WM=nr.define("standard.Cylinder",{attrs:{root:{cursor:"move"},body:{lateralArea:rw,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{cx:"calc(w/2)",cy:rw,rx:"calc(w/2)",ry:rw,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",x:"calc(w/2)",y:"calc(h+15)",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var n={lateralArea:e},i=oa(e),r=i?`calc(${parseFloat(e)/100}*h)`:e,a={cy:r,ry:r};return this.attr({body:n,top:a},t)}},{attributes:{"lateral-area":{set:function(e,t){var n=oa(e);n&&(e=parseFloat(e)/100);var i=t.x,r=t.y,a=t.width,o=t.height,s=a/2,l=n?o*e:e,c=lt.KAPPA,h=c*s,d=c*(n?o*e:e),p=i,y=i+a/2,S=i+a,_=r+l,I=_-l,M=r+o-l,B=r+o,U=["M",p,_,"L",p,M,"C",i,M+d,y-h,B,y,B,"C",y+h,B,S,M+d,S,M,"L",S,_,"C",S,_-d,y+h,I,y,I,"C",y-h,I,p,_-d,p,_,"Z"];return{d:U.join(" ")}},unset:"d"}}});var BX={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},LX={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},FX=GM.test("svgforeignobject")?BX:LX;const zX=nr.define("standard.TextBlock",{attrs:{root:{cursor:"move"},body:{width:"calc(w)",height:"calc(h)",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{width:"calc(w)",height:"calc(h)"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},FX]},{attributes:{text:{set:function(e,t,n,i){if(n instanceof HTMLElement)n.textContent=e;else{var r=i.style||{},a={text:e,width:-5,height:"100%"},o=zt({"text-vertical-anchor":"middle"},r);return BM["text-wrap"].set.call(this,a,t,n,o),{fill:r.color||null}}},unset:function(e){if(e.textContent="",e instanceof SVGElement)return"fill"},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),LS=x1.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),$X=x1.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),qX=x1.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,transform:"translate(3,6)",stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]}),UX=Object.freeze(Object.defineProperty({__proto__:null,BorderedImage:MX,Circle:EA,Cylinder:WM,DoubleLink:$X,Ellipse:AX,EmbeddedImage:NX,HeaderedRectangle:DX,Image:PX,InscribedImage:RX,Link:LS,Path:kX,Polygon:IX,Polyline:OX,Rectangle:TX,ShadowLink:qX,TextBlock:zX},Symbol.toStringTag,{value:"Module"})),jM=Object.freeze(Object.defineProperty({__proto__:null,standard:UX},Symbol.toStringTag,{value:"Module"})),Xp={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},HX=Object.values(Xp),VX=10,GX=1,xA=function(e,t,n=[],i={}){const{cornerType:r=Xp.POINT,cornerRadius:a=VX,cornerPreserveAspectRatio:o=!1,precision:s=GX,raw:l=!1}=i;if(HX.indexOf(r)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let c;if(r===Xp.POINT||!a){const h=[e].concat(n).concat([t]),d=new er(h);c=new Qt(d)}else{c=new Qt,c.appendSegment(Qt.createSegment("M",e));let h;const d=n.length;for(let p=0;p<d;p++){const y=new _e(n[p]),S=n[p-1]||e,_=n[p+1]||t,I=h||y.distance(S)/2;h=y.distance(_)/2;let M,B;o?M=B=-Math.min(a,I,h):(M=-Math.min(a,I),B=-Math.min(a,h));const U=y.clone().move(S,M).round(s),K=y.clone().move(_,B).round(s);switch(c.appendSegment(Qt.createSegment("L",U)),r){case Xp.CUBIC:{const Q=.3333333333333333,H=2/3,g=new _e(Q*U.x+H*y.x,H*y.y+Q*U.y),T=new _e(Q*K.x+H*y.x,H*y.y+Q*K.y);c.appendSegment(Qt.createSegment("C",g,T,K));break}case Xp.LINE:{c.appendSegment(Qt.createSegment("L",K));break}case Xp.GAP:{c.appendSegment(Qt.createSegment("M",K));break}}}c.appendSegment(Qt.createSegment("L",t))}return l?c:c.serialize()};var WX=5,lI=["arc","gap","cubic"],jX=0,cI=1,KX=["smooth"],Db=1/3,Bb=2/3;function uI(e,t){let{x:n,y:i}=e,{x:r,y:a}=t;if(n>r){let o=n;n=r,r=o,o=i,i=a,a=o}if(i>a){let o=n;n=r,r=o,o=i,i=a,a=o}return[new _e(n,i),new _e(r,a)]}function YX(e,t){const[{x:n,y:i},{x:r,y:a}]=uI(e.start,e.end),[{x:o,y:s},{x:l,y:c}]=uI(t.start,t.end),h=n<=l&&o<=r,d=i<=c&&s<=a;return h&&d}function aw(e,t,n){var i=[].concat(e,n,t);return i.reduce(function(r,a,o){var s=i[o+1];return s!=null&&(r[o]=Tf(a,s)),r},[])}function XX(e){var t=e.paper,n=t._jumpOverUpdateList;if(n==null){n=t._jumpOverUpdateList=[];var i=t.model;i.on("batch:stop",function(){this.hasActiveBatch()||JX(t)}),i.on("reset",function(){n=t._jumpOverUpdateList=[]})}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",function(){n.splice(n.indexOf(e),1)}))}function JX(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){const i=t[n],r=i.getFlag(i.constructor.Flags.CONNECTOR);i.requestUpdate(r)}}function QX(e,t){return vi(t).reduce(function(n,i){var r=e.intersection(i);return r&&n.push(r),n},[])}function dI(e,t){return Tf(e,t).squaredLength()}function ZX(e,t,n){return t.reduce(function(i,r,a){if(r.skip===!0)return i;var o=i.pop()||e,s=UE(r).move(o.start,-n),l=UE(r).move(o.start,+n),c=t[a+1];if(c!=null){var h=l.distance(c);h<=n&&(l=c.move(o.start,h),c.skip=!0)}else{var d=s.distance(o.end);if(d<n*2+cI)return i.push(o),i}var p=l.distance(o.start);if(p<n*2+cI)return i.push(o),i;var y=Tf(s,l);return y.isJump=!0,i.push(Tf(o.start,s),y,Tf(l,o.end)),i},[])}function hI(e,t,n,i){var r=new Qt,a;return a=Qt.createSegment("M",e[0].start),r.appendSegment(a),vi(e).forEach(function(o,s){if(o.isJump){var l,c,h,d;if(n==="arc"){l=-90,c=o.start.difference(o.end);var p=+(c.x<0||c.x===0&&c.y<0);p&&(l+=180);var y=o.midpoint(),S=new Ot(y,o.end).rotate(y,l),_;_=new Ot(o.start,y),h=_.pointAt(2/3).rotate(o.start,l),d=S.pointAt(1/3).rotate(S.end,-l),a=Qt.createSegment("C",h,d,S.end),r.appendSegment(a),_=new Ot(y,o.end),h=S.pointAt(1/3).rotate(S.end,l),d=_.pointAt(1/3).rotate(o.end,-l),a=Qt.createSegment("C",h,d,o.end),r.appendSegment(a)}else if(n==="gap")a=Qt.createSegment("M",o.end),r.appendSegment(a);else if(n==="cubic"){l=o.start.theta(o.end);var I=t*.6,M=t*1.35;c=o.start.difference(o.end),p=+(c.x<0||c.x===0&&c.y<0),p&&(M*=-1),h=_e(o.start.x+I,o.start.y+M).rotate(o.start,l),d=_e(o.end.x-I,o.end.y+M).rotate(o.end,l),a=Qt.createSegment("C",h,d,o.end),r.appendSegment(a)}}else{var B=e[s+1];i==0||!B||B.isJump?(a=Qt.createSegment("L",o.end),r.appendSegment(a)):eJ(i,r,o.end,o.start,B.end)}}),r}function eJ(e,t,n,i,r){var a=n.distance(i)/2,o=n.distance(r)/2,s=-Math.min(e,a),l=-Math.min(e,o),c=n.clone().move(i,s).round(),h=n.clone().move(r,l).round(),d=new _e(Db*c.x+Bb*n.x,Bb*n.y+Db*c.y),p=new _e(Db*h.x+Bb*n.x,Bb*n.y+Db*h.y),y;y=Qt.createSegment("L",c),t.appendSegment(y),y=Qt.createSegment("C",d,p,h),t.appendSegment(y)}const tJ=function(e,t,n,i){XX(this);var r=i.raw,a=i.size||WX,o=i.jump&&(""+i.jump).toLowerCase(),s=i.radius||jX,l=i.ignoreConnectors||KX;lI.indexOf(o)===-1&&(o=lI[0]);var c=this.paper,h=c.model,d=h.getLinks();if(d.length===1)return hI(aw(e,t,n),a,o,s);var p=this.model,y=d.indexOf(p),S=c.options.defaultConnector||{},_=d.filter(function(Q,H){var g=Q.get("connector")||S;return vi(l).includes(g.name)?!1:H>y?g.name!=="jumpover":!0}),I=_.map(function(Q){return c.findViewByModel(Q)}),M=aw(e,t,n),B=I.map(function(Q){return Q==null?[]:Q===this?M:aw(Q.sourcePoint,Q.targetPoint,Q.route)},this),U=M.reduce(function(Q,H){var g=_.reduce(function(T,A,D){if(A!==p){const Z=B[D].slice(),ie=Z.findIndex(ue=>YX(H,ue));ie>-1&&H.containsPoint(Z[ie].end)&&Z.splice(ie+1,1);const se=QX(H,Z);T.push.apply(T,se)}return T},[]).sort(function(T,A){return dI(H.start,T)-dI(H.start,A)});return g.length>0?Q.push.apply(Q,ZX(H,g,a)):Q.push(H),Q},[]),K=hI(U,a,o,s);return r?K:K.serialize()},nJ=function(e,t,n=[],i={}){const{raw:r}=i;return xA(e,t,n,{cornerType:"point",raw:r})},iJ=10,rJ=0,aJ=function(e,t,n=[],i={}){const{radius:r=iJ,raw:a}=i;return xA(e,t,n,{cornerType:"cubic",cornerRadius:r,precision:rJ,raw:a})},oJ=function(e,t,n,i){var r=i&&i.raw,a;if(n&&n.length!==0){var o=[e].concat(n).concat([t]),s=Ni.throughPoints(o);a=new Qt(s)}else{a=new Qt;var l;if(l=Qt.createSegment("M",e),a.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var c=(e.x+t.x)/2;l=Qt.createSegment("C",c,e.y,c,t.y,t.x,t.y),a.appendSegment(l)}else{var h=(e.y+t.y)/2;l=Qt.createSegment("C",e.x,h,t.x,h,t.x,t.y),a.appendSegment(l)}}return r?a:a.serialize()},Zs={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},wo={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},SA=function(e,t,n=[],i={},r){const a=!!i.raw,{direction:o=Zs.AUTO,precision:s=3}=i,l={coeff:i.distanceCoefficient||.6,angleTangentCoefficient:i.angleTangentCoefficient||80,tau:i.tension||.5,sourceTangent:i.sourceTangent?new _e(i.sourceTangent):null,targetTangent:i.targetTangent?new _e(i.targetTangent):null,rotate:!!i.rotate};typeof i.sourceDirection=="string"?l.sourceDirection=i.sourceDirection:typeof i.sourceDirection=="number"?l.sourceDirection=new _e(1,0).rotate(null,i.sourceDirection):l.sourceDirection=i.sourceDirection?new _e(i.sourceDirection).normalize():null,typeof i.targetDirection=="string"?l.targetDirection=i.targetDirection:typeof i.targetDirection=="number"?l.targetDirection=new _e(1,0).rotate(null,i.targetDirection):l.targetDirection=i.targetDirection?new _e(i.targetDirection).normalize():null;const c=[e,...n,t].map(_=>new _e(_));let h;if(l.sourceTangent)h=l.sourceTangent;else{const _=dJ(r,c,o,l),I=c[0].distance(c[1])*l.coeff,M=c[1].difference(c[0]).normalize(),B=TT(_,M);if(B>Math.PI/4){const U=I+(B-Math.PI/4)*l.angleTangentCoefficient;h=_.clone().scale(U,U)}else h=_.clone().scale(I,I)}let d;if(l.targetTangent)d=l.targetTangent;else{const _=hJ(r,c,o,l),I=c.length-1,M=c[I-1].distance(c[I])*l.coeff,B=c[I-1].difference(c[I]).normalize(),U=TT(_,B);if(U>Math.PI/4){const K=M+(U-Math.PI/4)*l.angleTangentCoefficient;d=_.clone().scale(K,K)}else d=_.clone().scale(M,M)}const y=pJ(c,h,d,l).map(_=>gJ(_,l)),S=new Qt(y).round(s);return a?S:S.serialize()};SA.Directions=Zs;SA.TangentDirections=wo;function sJ(e,t,n){const{sourceBBox:i}=e;let r,a;if(!e.sourceView)i.x>t[1].x?r="right":r="left";else if(a=e.sourceView.model.angle(),n.rotate&&a){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(i.center(),a),r=s.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[0]);let o;switch(r){case"left":o=new _e(-1,0);break;case"right":default:o=new _e(1,0);break}return n.rotate&&a&&o.rotate(null,-a),o}function lJ(e,t,n){const{targetBBox:i}=e;let r,a;if(!e.targetView)i.x>t[t.length-2].x?r="left":r="right";else if(a=e.targetView.model.angle(),n.rotate&&a){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(i.center(),a),r=s.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[t.length-1]);let o;switch(r){case"left":o=new _e(-1,0);break;case"right":default:o=new _e(1,0);break}return n.rotate&&a&&o.rotate(null,-a),o}function cJ(e,t,n){const{sourceBBox:i}=e;let r,a;if(!e.sourceView)i.y>t[1].y?r="bottom":r="top";else if(a=e.sourceView.model.angle(),n.rotate&&a){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(i.center(),a),r=s.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[0]);let o;switch(r){case"top":o=new _e(0,-1);break;case"bottom":default:o=new _e(0,1);break}return n.rotate&&a&&o.rotate(null,-a),o}function uJ(e,t,n){const{targetBBox:i}=e;let r,a;if(!e.targetView)i.y>t[t.length-2].y?r="top":r="bottom";else if(a=e.targetView.model.angle(),n.rotate&&a){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(i.center(),a),r=s.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[t.length-1]);let o;switch(r){case"top":o=new _e(0,-1);break;case"bottom":default:o=new _e(0,1);break}return n.rotate&&a&&o.rotate(null,-a),o}function fI(e,t,n){const{sourceBBox:i}=e;let r,a;if(!e.sourceView)r=i.sideNearestToPoint(t[1]);else if(a=e.sourceView.model.angle(),n.rotate&&a){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(i.center(),a),r=s.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[0]);let o;switch(r){case"top":o=new _e(0,-1);break;case"bottom":o=new _e(0,1);break;case"right":o=new _e(1,0);break;case"left":o=new _e(-1,0);break}return n.rotate&&a&&o.rotate(null,-a),o}function pI(e,t,n){const{targetBBox:i}=e;let r,a;if(!e.targetView)r=i.sideNearestToPoint(t[t.length-2]);else if(a=e.targetView.model.angle(),n.rotate&&a){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(i.center(),a),r=s.sideNearestToPoint(l)}else r=i.sideNearestToPoint(t[t.length-1]);let o;switch(r){case"top":o=new _e(0,-1);break;case"bottom":o=new _e(0,1);break;case"right":o=new _e(1,0);break;case"left":o=new _e(-1,0);break}return n.rotate&&a&&o.rotate(null,-a),o}function gI(e,t,n){return t[1].difference(t[0]).normalize()}function mI(e,t,n){const i=t.length-1;return t[i-1].difference(t[i]).normalize()}function yI(e,t,n){const{sourceBBox:i}=e,r=i.center();return t[0].difference(r).normalize()}function vI(e,t,n){const{targetBBox:i}=e,r=i.center();return t[t.length-1].difference(r).normalize()}function dJ(e,t,n,i){if(i.sourceDirection)switch(i.sourceDirection){case wo.UP:return new _e(0,-1);case wo.DOWN:return new _e(0,1);case wo.LEFT:return new _e(-1,0);case wo.RIGHT:return new _e(1,0);case wo.AUTO:return fI(e,t,i);case wo.CLOSEST_POINT:return gI(e,t);case wo.OUTWARDS:return yI(e,t);default:return i.sourceDirection}switch(n){case Zs.HORIZONTAL:return sJ(e,t,i);case Zs.VERTICAL:return cJ(e,t,i);case Zs.CLOSEST_POINT:return gI(e,t);case Zs.OUTWARDS:return yI(e,t);case Zs.AUTO:default:return fI(e,t,i)}}function hJ(e,t,n,i){if(i.targetDirection)switch(i.targetDirection){case wo.UP:return new _e(0,-1);case wo.DOWN:return new _e(0,1);case wo.LEFT:return new _e(-1,0);case wo.RIGHT:return new _e(1,0);case wo.AUTO:return pI(e,t,i);case wo.CLOSEST_POINT:return mI(e,t);case wo.OUTWARDS:return vI(e,t);default:return i.targetDirection}switch(n){case Zs.HORIZONTAL:return lJ(e,t,i);case Zs.VERTICAL:return uJ(e,t,i);case Zs.CLOSEST_POINT:return mI(e,t);case Zs.OUTWARDS:return vI(e,t);case Zs.AUTO:default:return pI(e,t,i)}}function fJ(e,t){const n=Math.cos(t),i=Math.sin(t),r=n*e.x-i*e.y,a=i*e.x+n*e.y;e.x=r,e.y=a}function TT(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function bI(e,t){return e.x*t.y-e.y*t.x}function pJ(e,t,n,i){const{tau:r,coeff:a}=i,o=[],s=[],l=[],c=e.length-1;for(let h=0;h<c;h++)o[h]=e[h].distance(e[h+1]);s[0]=t,s[c]=n;for(let h=1;h<c;h++){let d,p;h===1?d=e[h-1].clone().offset(s[h-1].x,s[h-1].y):d=e[h-1].clone(),h===c-1?p=e[h+1].clone().offset(s[h+1].x,s[h+1].y):p=e[h+1].clone();const y=d.difference(e[h]).normalize(),S=p.difference(e[h]).normalize(),_=TT(y,S);let I=(Math.PI-_)/2,M;const B=bI(y,S);let U;U=bI(e[h].difference(e[h+1]),e[h].difference(e[h-1])),B<0&&(I=-I),_<Math.PI/2&&(I<0&&U<0||I>0&&U>0)&&(I=I-Math.PI),M=S.clone(),fJ(M,I);const K=M.clone(),Q=M.clone(),H=o[h-1]*a,g=o[h]*a;K.scale(H,H),Q.scale(g,g),s[h]=[K,Q]}for(let h=0;h<c;h++){let d,p;h===0?d=e[h+1].difference(s[h].x/r,s[h].y/r):d=e[h+1].difference(s[h][1].x/r,s[h][1].y/r),h===c-1?p=e[h].clone().offset(s[h+1].x/r,s[h+1].y/r):p=e[h].difference(s[h+1][0].x/r,s[h+1][0].y/r),l[h]=[d,e[h],e[h+1],p]}return l}function gJ(e,t){const{tau:n}=t,i=new _e;i.x=e[1].x+(e[2].x-e[0].x)/(6*n),i.y=e[1].y+(e[2].y-e[0].y)/(6*n);const r=new _e;return r.x=e[2].x+(e[3].x-e[1].x)/(6*n),r.y=e[2].y+(e[3].y-e[1].y)/(6*n),new Ni(e[1],i,r,e[2])}const mJ=Object.freeze(Object.defineProperty({__proto__:null,curve:SA,jumpover:tJ,normal:nJ,rounded:aJ,smooth:oJ,straight:xA},Symbol.toStringTag,{value:"Module"}));var nf=function(e){this.cid=my("view"),this.preinitialize.apply(this,arguments),zt(this,UK(e,vJ)),this._ensureElement(),this.initialize.apply(this,arguments)},yJ=/^(\S+)\s*(.*)$/,vJ=["model","collection","el","id","attributes","className","tagName","events","style"];zt(nf.prototype,Ro,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof Ct?e:Ct(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=Yi(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var n=e[t];if(Ri(n)||(n=this[n]),!!n){var i=t.match(yJ);this.delegate(i[1],i[2],n.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(Yi(this,"el"));else{var e=zt({},Yi(this,"attributes"));this.id&&(e.id=Yi(this,"id")),this.className&&(e.class=Yi(this,"className")),this.setElement(this._createElement(Yi(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});nf.extend=vA;const Qh={},Pc=nf.extend({options:{},theme:null,themeClassNamePrefix:ku("theme-"),requireSetThemeOverride:!1,defaultTheme:fg.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=zt({},this.options,e),nf.call(this,e)},initialize:function(){Qh[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Yi(this,"children")),e){var t=this.svgElement,n=lt.namespace[t?"svg":"xhtml"],i=GE(e,n);(t?this.vel:this.$el).empty().append(i.fragment),this.childNodes=i.selectors}return this},findAttributeNode:function(e,t){let n=t;for(;n&&n.nodeType===1;){if(n.getAttribute(e))return n;if(n===this.el)return null;n=n.parentNode}return null},findAttribute:function(e,t){const n=this.findAttributeNode(e,t);return n&&n.getAttribute(e)},_ensureElement:function(){if(this.el)this.setElement(Yi(this,"el"));else{var e=Yi(this,"tagName"),t=zt({},Yi(this,"attributes")),n=zt({},Yi(this,"style"));this.id&&(t.id=Yi(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(lt.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Ct?e:Ct(e),this.el=this.$el[0],this.svgElement&&(this.vel=lt(this.el))},_ensureElClassName:function(){var e=Yi(this,"className");if(e){var t=ku(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Qh[this.cid]=null,nf.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var i=this.getEventNamespace();for(var r in t){var a=t[r];typeof a!="function"&&(a=this[a]),a&&Ct(e).on(r+i,n,a.bind(this))}return this},undelegateElementEvents:function(e){return Ct(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Yi(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,i="__"+this.cid+"__";return t===void 0?n?n[i]||{}:{}:(n||(n=e.data={}),n[i]||(n[i]={}),zt(n[i],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&zt({},e[0])||{},n=e[1]&&zt({},e[1])||{},i=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof i=="function"&&i.apply(this,arguments),this.render.__render__===i&&this.onRender(),this},t.render.__render__=i,nf.extend.call(this,t,n)}});var Xd=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,zt({silent:!0},t))},bJ={add:!0,remove:!0,merge:!0},EJ={add:!0,remove:!1},EI=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var i=Array(e.length-n),r=t.length,a;for(a=0;a<i.length;a++)i[a]=e[a+n];for(a=0;a<r;a++)e[a+n]=t[a];for(a=0;a<i.length;a++)e[a+r+n]=i[a]};zt(Xd.prototype,Ro,{model:Qs,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){return this.set(e,zt({merge:!1},t,EJ))},remove:function(e,t){t=zt({},t);var n=!Array.isArray(e);e=n?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),n?i[0]:i},set:function(e,t){if(e!=null){t=zt({},bJ,t);var n=!Array.isArray(e);e=n?[e]:e.slice();var i=t.at;i!=null&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var r=[],a=[],o=[],s=[],l={},c=t.add,h=t.merge,d=t.remove,p=!1,y=this.comparator&&i==null&&t.sort!==!1,S=Gr(this.comparator)?this.comparator:null,_,I;for(I=0;I<e.length;I++){_=e[I];var M=this.get(_);if(M){if(h&&_!==M){var B=this._isModel(_)?_.attributes:_;M.set(B,t),o.push(M),y&&!p&&(p=M.hasChanged(S))}l[M.cid]||(l[M.cid]=!0,r.push(M)),e[I]=M}else c&&(_=e[I]=this._prepareModel(_,t),_&&(a.push(_),this._addReference(_,t),l[_.cid]=!0,r.push(_)))}if(d){for(I=0;I<this.length;I++)_=this.models[I],l[_.cid]||s.push(_);s.length&&this._removeModels(s,t)}var U=!1,K=!y&&c&&d;if(r.length&&K?(U=this.length!==r.length||this.models.some(function(Q,H){return Q!==r[H]}),this.models.length=0,EI(this.models,r,0),this.length=this.models.length):a.length&&(y&&(p=!0),EI(this.models,a,i??this.length),this.length=this.models.length),p&&this.sort({silent:!0}),!t.silent){for(I=0;I<a.length;I++)i!=null&&(t.index=i+I),_=a[I],_.trigger("add",_,this,t);(p||U)&&this.trigger("sort",this,t),(a.length||s.length||o.length)&&(t.changes={added:a,removed:s,merged:o},this.trigger("update",this,t))}return n?e[0]:e}},reset:function(e,t){t=t?Ca(t):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,zt({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,zt({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,zt({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return Array.prototype.slice.apply(this.models,arguments)},get:function(e){if(e!=null)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e,e.idAttribute)]||e.cid&&this._byId[e.cid]},has:function(e){return this.get(e)!=null},at:function(e){return e<0&&(e+=this.length),this.models[e]},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var n=t.length;return Ri(t)&&(t=t.bind(this)),n===1||Gr(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e,t){return e[t||this.model.prototype.idAttribute||"id"]},values:function(){return new Gm(this,KM)},keys:function(){return new Gm(this,YM)},entries:function(){return new Gm(this,xJ)},each:function(e,t){this.models.forEach(e,t)},filter:function(e,t){return this.models.filter(e,t)},find:function(e,t){return this.models.find(e,t)},findIndex:function(e,t){return this.models.findIndex(e,t)},first:function(){return this.models[0]},includes:function(e){return this.models.includes(e)},last:function(){return this.models[this.models.length-1]},isEmpty:function(){return!this.models.length},map:function(e,t){return this.models.map(e,t)},reduce:function(e,t=this.first()){return this.models.reduce(e,t)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?Ca(t):{},t.collection=this;var n;return this.model.prototype?n=new this.model(e,t):n=this.model(e,t),n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var a=this.models.indexOf(r);this.models.splice(a,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes,r.idAttribute);o!=null&&delete this._byId[o],t.silent||(t.index=a,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return e.length>0&&!t.silent&&delete t.index,n},_isModel:function(e){return e instanceof Qs},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes,e.idAttribute);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes,e.idAttribute);n!=null&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if(t){if((e==="add"||e==="remove")&&n!==this)return;if(e==="changeId"){var r=this.modelId(t.previousAttributes(),t.idAttribute),a=this.modelId(t.attributes,t.idAttribute);r!=null&&delete this._byId[r],a!=null&&(this._byId[a]=t)}}this.trigger.apply(this,arguments)}});var jE=typeof Symbol=="function"&&Symbol.iterator;jE&&(Xd.prototype[jE]=Xd.prototype.values);var Gm=function(e,t){this._collection=e,this._kind=t,this._index=0},KM=1,YM=2,xJ=3;jE&&(Gm.prototype[jE]=function(){return this});Gm.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e=this._collection.at(this._index);this._index++;var t;if(this._kind===KM)t=e;else{var n=this._collection.modelId(e.attributes,e.idAttribute);this._kind===YM?t=n:t=[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var SJ={toArray:1,sortBy:3},_J=[Xd,SJ,"models"];function CJ(e){var t=e[0],n=e[1],i=e[2];HY(t,{sortBy:hE,toArray:vi},n,i)}CJ(_J);Xd.extend=vA;function fm(e){return e?Array.isArray(e)?e:[e]:[]}const Ol=Pc.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform()):this.postponedUpdate=!0,0},findNode(e,t=null){let n;if(typeof t=="string")n=e.findNode(t);else if(Hr(t)){const i=e.model.isLink(),{label:r=null,port:a,selector:o}=t;i&&r!==null?n=e.findLabelNode(r,o):!i&&a?n=e.findPortNode(a,o):n=e.findNode(o)}else t&&(n=lt.toNode(t),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(e,t){const{options:n}=this,{layer:i}=n,{rotatableNode:r}=e,a=e.getNodeMatrix(t);return r?i?r.contains(t)?a:e.getRootRotateMatrix().inverse().multiply(a):e.getNodeRotateMatrix(t).multiply(a):a},mount(){const{MOUNTABLE:e,cellView:t,el:n,options:i,transformGroup:r,detachedTransformGroup:a,postponedUpdate:o,nodeSelector:s}=this;if(!e||r)return;if(o){this.update(t,s),this.transform();return}const{vel:l,paper:c}=t,{layer:h}=i;if(h){let d;a?(d=a,this.detachedTransformGroup=null):d=lt("g").addClass("highlight-transform").append(n),this.transformGroup=d,c.getLayerView(h).insertSortedNode(d.node,i.z)}else(!n.parentNode||n.nextSibling)&&l.append(n)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;const i=t.getRootTranslateMatrix(),r=t.getRootRotateMatrix(),a=i.multiply(r);e.attr("transform",lt.matrixToTransformString(a))},update(){const{node:e,cellView:t,nodeSelector:n,updateRequested:i,id:r}=this;if(i)return;this.postponedUpdate=!1;const a=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),a?(this.highlight(t,a),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",r,this))},onRemove(){const{node:e,cellView:t,id:n,constructor:i}=this;e&&this.unhighlight(t,e),this.unmount(),i._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Yi(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:n}=e;Yi(this,"UPDATE_ATTRIBUTES").some(r=>t.hasChanged(r))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){const i=this.uniqueId(t,n);this.add(e,t,i,n)},unhighlight:function(e,t,n){const i=this.uniqueId(t,n);this.remove(e,i)},get(e,t=null){const{cid:n}=e,{_views:i}=this,r=i[n];if(t===null){const a=[];if(!r)return a;for(let o in r){const s=r[o];s instanceof this&&a.push(s)}return a}else{if(!r)return null;if(t in r){const a=r[t];if(a instanceof this)return a}return null}},add(e,t,n,i={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const r=Ol.get(e,n);r&&r.remove();const a=new this(i);return a.id=n,this._addRef(e,n,a),a.requestUpdate(e,t),a.listenToUpdateAttributes(e),a},_addRef(e,t,n){const{cid:i}=e,{_views:r}=this;let a=r[i];a||(a=r[i]={}),a[t]=n},_removeRef(e,t){const{cid:n}=e,{_views:i}=this,r=i[n];if(r){t&&delete r[t];for(let a in r)return;delete i[n]}},remove(e,t=null){fm(this.get(e,t)).forEach(n=>{n.remove()})},getAll(e,t=null){const n=[],{_views:i}=this;for(let r in i)for(let a in i[r]){const o=i[r][a];o.cellView.paper===e&&o instanceof this&&(t===null||a===t)&&n.push(o)}return n},removeAll(e,t=null){this.getAll(e,t).forEach(n=>n.remove())},update(e,t=null,n=!1){fm(this.get(e,t)).forEach(i=>{(n||i.UPDATABLE)&&i.update()})},transform(e,t=null){fm(this.get(e,t)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(e,t=null){fm(this.get(e,t)).forEach(n=>n.unmount())},mount(e,t=null){fm(this.get(e,t)).forEach(n=>n.mount())},uniqueId(e,t=""){return lt.ensureId(e)+JSON.stringify(t)}}),Iu=Ol.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:n}=this,{useFirstSubpath:i}=n;let r;try{const a=lt(t);if(r=a.convertToPathData().trim(),a.tagName()==="PATH"&&i){const o=r.search(/.M/i)+1;o>0&&(r=r.substr(0,o))}}catch{const o=e.getNodeBoundingRect(t);r=lt.rectToPath(zt({},n,o.toJSON()))}return r},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:n,options:i}=this,{padding:r,layer:a}=i;let o=this.getNodeMatrix(e,t);if(r){!a&&t===e.el&&n.remove();let s=e.getNodeBoundingRect(t);const l=s.x+s.width/2,c=s.y+s.height/2;s=lt.transformRect(s,o);const h=Math.max(s.width,1),d=Math.max(s.height,1),p=(h+r)/h,y=(d+r)/d,S=lt.createSVGMatrix({a:p,b:0,c:0,d:y,e:l-p*l,f:c-y*c});o=o.multiply(S)}n.attr({d:this.getPathData(e,t),transform:lt.matrixToTransformString(o)})},highlight(e,t){const{vel:n,options:i}=this;n.attr(i.attrs),i.nonScalingStroke&&n.attr("vector-effect","non-scaling-stroke"),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),xI=20;function wJ(e,t){const n=e.children();for(;n.length>0;){const i=n.shift();t(i)&&n.push(...i.children())}}const TJ=Ol.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:xI,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:i,MASK_REMOVE_TAGS:r}=this,a=t.tagName();if(!lt.isSVGGraphicsElement(t)||r.includes(a))return t.remove(),!1;if(i.includes(a)){const o=e.vel.findOne(`#${t.id}`);if(o){const{node:s}=o;let l=e.getNodeBoundingRect(s);e.model.isElement()&&(l=lt.transformRect(l,e.getNodeMatrix(s)));const c=lt("rect",l.toJSON()),{x:h,y:d}=l.center(),{angle:p,cx:y=h,cy:S=d}=o.rotate();p&&c.rotate(p,y,S),t.parent().append(c)}return t.remove(),!1}return n.forEach(o=>{o==="fill"&&t.attr("fill")==="none"||t.removeAttr(o)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(i=>{t.removeAttr(i)})},getMaskShape(e,t){const{options:n,MASK_REPLACE_TAGS:i}=this,{deep:r}=n,a=t.tagName();let o;if(a==="G"){if(!r)return null;o=t.clone(),wJ(o,s=>this.transformMaskChild(e,s))}else{if(i.includes(a))return null;o=t.clone()}return this.transformMaskRoot(e,o),o},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:n,INVISIBLE:i,options:r}=this,{padding:a,attrs:o}=r,s=parseFloat(lt("g").attr(o).attr("stroke-width")),l=t.attr("fill")!=="none";let c=parseFloat(t.attr("stroke-width"));isNaN(c)&&(c=1);const h=c+a*2,d=h+s*2;let p=this.getMaskShape(e,t);if(!p){const y=e.getNodeBoundingRect(t.node);y.inflate(y.width?0:.5,y.height?0:.5),p=lt("rect",y.toJSON())}return p.attr(o),lt("mask",{id:this.getMaskId()}).append([p.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":d}),p.clone().attr({fill:l?i:"none",stroke:i,"stroke-width":h})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:n,vel:i}=this,{padding:r,attrs:a,maskClip:o=xI,layer:s}=n,l="stroke"in a?a.stroke:"#000000";!s&&t===e.el&&i.remove();const c=e.getNodeBoundingRect(t).inflate(r+o),h=this.getNodeMatrix(e,t),d=this.getMask(e,lt(t));this.addMask(e.paper,d),i.attr(c.toJSON()),i.attr({transform:lt.matrixToTransformString(h),mask:`url(#${d.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),AJ=Ol.extend({UPDATABLE:!1,MOUNTABLE:!1,highlight:function(e,t){const{alphaValue:n=.3}=this.options;t.style.opacity=n},unhighlight:function(e,t){t.style.opacity=""}}),SI=ku("highlighted"),kJ=Ol.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:SI},highlight:function(e,t){lt(t).addClass(this.options.className)},unhighlight:function(e,t){lt(t).removeClass(this.options.className)}},{className:SI}),ow={ROW:"row",COLUMN:"column"},IJ=Ol.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const n=e.model,{attribute:i,size:r=20,gap:a=5,direction:o=ow.ROW}=this.options;if(!i)throw new Error("List: attribute is required");const s=typeof r=="number"?{width:r,height:r}:r,l=o===ow.ROW,c=l?s.width:s.height;let h=n.get(i);Array.isArray(h)||(h=[]);const d=this._prevItems||[],p=h.map((I,M)=>Yd(d[M],h[M]));if(d.length!==h.length||p.some(I=>!I)){const I=this.vel.children(),M=h.map((B,U)=>{const K=U in I?I[U].node:null;if(p[U])return K;const Q=this.createListItem(B,s,K);if(!Q)return null;if(!(Q instanceof SVGElement))throw new Error("List: item must be an SVGElement");Q.dataset.index=U,Q.dataset.attribute=i;const H=U*(c+a);return Q.setAttribute("transform",l?`translate(${H}, 0)`:`translate(0, ${H})`),Q});this.vel.empty().append(M),this._prevItems=h}const y=h.length,S=y===0?0:y*c+(y-1)*a,_=l?{width:S,height:s.height}:{width:s.width,height:S};this.position(n,_)},position(e,t){const{vel:n,options:i}=this,{margin:r=5,position:a="top-left"}=i,{width:o,height:s}=e.size(),{left:l,right:c,top:h,bottom:d}=Ru(r),p=new Tt(l,h,o-(l+c),s-(h+d));let{x:y,y:S}=LM(p,a);switch(a){case Pr.CENTER:case Pr.TOP:case Pr.BOTTOM:{y-=t.width/2;break}case Pr.RIGHT:case Pr.BOTTOM_RIGHT:case Pr.TOP_RIGHT:{y-=t.width;break}}switch(a){case Pr.CENTER:case Pr.RIGHT:case Pr.LEFT:{S-=t.height/2;break}case Pr.BOTTOM:case Pr.BOTTOM_RIGHT:case Pr.BOTTOM_LEFT:{S-=t.height;break}}n.attr("transform",`translate(${y}, ${S})`)}},{Directions:ow,Positions:Pr}),OJ=Object.freeze(Object.defineProperty({__proto__:null,addClass:kJ,list:IJ,mask:TJ,opacity:AJ,stroke:Iu},Symbol.toStringTag,{value:"Module"}));function FS(e,t,n){if(Hr(n)){const{x:r,y:a}=n;if(isFinite(a)){const o=new Ot(t,e),{start:s,end:l}=o.parallel(a);t=s,e=l}n=r}if(!isFinite(n))return e;var i=e.distance(t);return n===0&&i>0?e:e.move(t,-Math.min(n,i-1))}function _A(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function PJ(e,t,n=0){let i,r,a,o;const{start:s,end:l}=e;switch(t){case"left":i="x",r=l,a=s,o=-1;break;case"right":i="x",r=s,a=l,o=1;break;case"top":i="y",r=l,a=s,o=-1;break;case"bottom":i="y",r=s,a=l,o=1;break;default:return}s[i]<l[i]?r[i]=a[i]:a[i]=r[i],isFinite(n)&&(r[i]+=o*n,a[i]+=o*n)}function MJ(e,t,n,i){let{offset:r,alignOffset:a,align:o}=i;return o&&PJ(e,o,a),FS(e.end,e.start,r)}function XM(e,t,n,i){var r=t.getNodeBBox(n);i.stroke&&r.inflate(_A(n)/2);var a=e.intersect(r),o=a?e.start.chooseClosest(a):e.end;return FS(o,e.start,i.offset)}function NJ(e,t,n,i){var r=t.model.angle();if(r===0)return XM(e,t,n,i);var a=t.getNodeUnrotatedBBox(n);i.stroke&&a.inflate(_A(n)/2);var o=a.center(),s=e.clone().rotate(o,r),l=s.setLength(1e6).intersect(a),c=l?s.start.chooseClosest(l).rotate(o,-r):e.end;return FS(c,e.start,i.offset)}function RJ(e){if(!e)return null;var t=e;do{var n=t.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")t=t.firstElementChild;else if(n==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var sw="segmentSubdivisons",lw="shapeBBox";function DJ(e,t,n,i){var r,a,o=i.selector,s=e.end;if(typeof o=="string"?r=t.findNode(o):o===!1?r=n:Array.isArray(o)?r=d0(n,o):r=RJ(n),!lt.isSVGGraphicsElement(r)){if(r===n||!lt.isSVGGraphicsElement(n))return s;r=n}var l=t.getNodeShape(r),c=t.getNodeMatrix(r),h=t.getRootTranslateMatrix(),d=t.getRootRotateMatrix(),p=h.multiply(d).multiply(c),y=p.inverse(),S=lt.transformLine(e,y),_=S.start.clone(),I=t.getNodeData(r);if(i.insideout===!1){I[lw]||(I[lw]=l.bbox());var M=I[lw];if(M.containsPoint(_))return s}var B;if(l instanceof Qt){var U=i.precision||2;I[sw]||(I[sw]=l.getSegmentSubdivisions({precision:U})),B={precision:U,segmentSubdivisions:I[sw]}}i.extrapolate===!0&&S.setLength(1e6),a=S.intersect(l,B),a?lt.isArray(a)&&(a=_.chooseClosest(a)):i.sticky===!0&&(l instanceof Tt?a=l.pointNearestToPoint(_):l instanceof Io?a=l.intersectionWithLineFromCenterToPoint(_):a=l.closestPoint(_,B));var K=a?lt.transformPoint(a,p):s,Q=i.offset||0;return i.stroke&&(Q+=_A(r)/2),FS(K,e.start,Q)}const BJ=MJ,LJ=XM,FJ=NJ,zJ=DJ,$J=Object.freeze(Object.defineProperty({__proto__:null,anchor:BJ,bbox:LJ,boundary:zJ,rectangle:FJ},Symbol.toStringTag,{value:"Module"}));function _I(e,t){if(t===0)return"0%";const n=1e3;return`${Math.round(e/t*100*n)/n}%`}function qJ(e){return function(t,n,i,r){var a=n.isNodeConnection(i)?HJ:UJ;return a(e,t,n,i,r)}}function UJ(e,t,n,i,r){var a=n.model.angle(),o=n.getNodeUnrotatedBBox(i),s=n.model.getBBox().center();r.rotate(s,a);var l=r.x-o.x,c=r.y-o.y;return e&&(l=_I(l,o.width),c=_I(c,o.height)),t.anchor={name:"topLeft",args:{dx:l,dy:c,rotate:!0}},t}function HJ(e,t,n,i,r){var a=n.getConnection();if(!a)return t;var o=a.closestPointLength(r);if(e){var s=a.length();t.anchor={name:"connectionRatio",args:{ratio:o/s}}}else t.anchor={name:"connectionLength",args:{length:o}};return t}const VJ=qJ(!0),GJ=function(e,t,n){return e},WJ=function(e,t,n){var i=t.side||"bottom",r=Ru(t.padding||40),a=n.sourceBBox,o=n.targetBBox,s=a.center(),l=o.center(),c,h,d;switch(i){case"bottom":d=1,c="y",h="height";break;case"top":d=-1,c="y",h="height";break;case"left":d=-1,c="x",h="width";break;case"right":d=1,c="x",h="width";break;default:throw new Error("Router: invalid side")}return s[c]+=d*(a[h]/2+r[i]),l[c]+=d*(o[h]/2+r[i]),d*(s[c]-l[c])>0?l[c]=s[c]:s[c]=l[c],[s].concat(e,l)};var jJ={N:"S",S:"N",E:"W",W:"E"},KJ={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function KE(e,t,n){var i=new _e(e.x,t.y);return n.containsPoint(i)&&(i=new _e(t.x,e.y)),i}function AT(e,t){return e[t==="W"||t==="E"?"width":"height"]}function Oo(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function Lb(e){return new Tt(e.x,e.y,0,0)}function YE(e){var t=Ru(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function JM(e,t){return e.sourceBBox.clone().moveAndExpand(YE(t))}function QM(e,t){return e.targetBBox.clone().moveAndExpand(YE(t))}function YJ(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=JM(e,t);return n.center()}function XJ(e,t){if(e.targetAnchor)return e.targetAnchor;var n=QM(e,t);return n.center()}function ZM(e,t,n){var i=new _e(e.x,t.y),r=new _e(t.x,e.y),a=Oo(e,i),o=Oo(e,r),s=jJ[n],l=a===n||a!==s&&(o===s||o!==n)?i:r;return{points:[l],direction:Oo(l,t)}}function mE(e,t,n){var i=KE(e,t,n);return{points:[i],direction:Oo(i,t)}}function JJ(e,t,n,i){var r={},a=[new _e(e.x,t.y),new _e(t.x,e.y)],o=a.filter(function(d){return!n.containsPoint(d)}),s=o.filter(function(d){return Oo(d,e)!==i}),l;if(s.length>0)l=s.filter(function(d){return Oo(e,d)===i}).pop(),l=l||s[0],r.points=[l],r.direction=Oo(l,t);else{l=qK(a,o)[0];var c=new _e(t).move(l,-AT(n,i)/2),h=KE(c,e,n);r.points=[h,c],r.direction=Oo(c,t)}return r}function QJ(e,t,n,i){var r=mE(t,e,i),a=r.points[0];if(n.containsPoint(a)){r=mE(e,t,n);var o=r.points[0];if(i.containsPoint(o)){var s=new _e(e).move(o,-AT(n,Oo(e,o))/2),l=new _e(t).move(a,-AT(i,Oo(t,a))/2),c=new Ot(s,l).midpoint(),h=mE(e,c,n),d=ZM(c,t,h.direction);r.points=[h.points[0],d.points[0]],r.direction=d.direction}}return r}function cw(e,t,n,i,r){var a={},o=n.union(i).inflate(1),s=o.center().distance(t)>o.center().distance(e),l=s?t:e,c=s?e:t,h,d,p;return r?(h=_e.fromPolar(o.width+o.height,KJ[r],l),h=o.pointNearestToPoint(h).move(h,-1)):h=o.pointNearestToPoint(l).move(l,1),d=KE(h,c,o),h.round().equals(d.round())?(d=_e.fromPolar(o.width+o.height,ls(h.theta(l))+Math.PI/2,c),d=o.pointNearestToPoint(d).move(c,1).round(),p=KE(h,d,o),a.points=s?[d,p,h]:[h,p,d]):a.points=s?[d,h]:[h,d],a.direction=Oo(s?h:d,t),a}function kT(e,t,n){var i=JM(n,t),r=QM(n,t),a=YJ(n,t),o=XJ(n,t);i=i.union(Lb(a)),r=r.union(Lb(o)),e=vi(e).map(_e),e.unshift(a),e.push(o);for(var s,l=[],c=0,h=e.length-1;c<h;c++){var d=null,p=e[c],y=e[c+1],S=!!Oo(p,y);if(c===0)c+1===h?i.intersect(r.clone().inflate(1))?d=cw(p,y,i,r):S||(d=QJ(p,y,i,r)):i.containsPoint(y)?d=cw(p,y,i,Lb(y).moveAndExpand(YE(t))):S||(d=mE(p,y,i));else if(c+1===h){var _=S&&Oo(y,p)===s;r.containsPoint(p)||_?d=cw(p,y,Lb(p).moveAndExpand(YE(t)),r,s):S||(d=JJ(p,y,r,s))}else S||(d=ZM(p,y,s));d?(Array.prototype.push.apply(l,d.points),s=d.direction):s=Oo(p,y),c+1<h&&l.push(y)}return l}var eN={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!Ri(kT))throw new Error("Manhattan requires the orthogonal router as default fallback.");return kT(e,zt({},eN,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function CA(e){this.map={},this.options=e,this.mapGridSize=100}CA.prototype.build=function(e,t){var n=this.options,i=vi(n.excludeEnds).reduce(function(l,c){var h=t.get(c);if(h){var d=e.getCell(h.id);d&&l.push(d)}return l},[]),r=[],a=e.getCell(t.get("source").id);a&&(r=ST(r,a.getAncestors().map(function(l){return l.id})));var o=e.getCell(t.get("target").id);o&&(r=ST(r,o.getAncestors().map(function(l){return l.id})));var s=this.mapGridSize;return e.getElements().reduce(function(l,c){var h=vi(n.excludeTypes).includes(c.get("type")),d=i.find(function(K){return K.id===c.id}),p=r.includes(c.id),y=h||d||p;if(!y)for(var S=c.getBBox().moveAndExpand(n.paddingBox),_=S.origin().snapToGrid(s),I=S.corner().snapToGrid(s),M=_.x;M<=I.x;M+=s)for(var B=_.y;B<=I.y;B+=s){var U=M+"@"+B;l[U]=l[U]||[],l[U].push(S)}return l},this.map),this};CA.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return vi(this.map[t]).every(function(n){return!n.containsPoint(e)})};function Vf(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Vf.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=gM(this.items,e,(function(i){return this.values[i]}).bind(this));this.items.splice(n,0,e)};Vf.prototype.remove=function(e){this.hash[e]=this.CLOSE};Vf.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};Vf.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};Vf.prototype.isEmpty=function(){return this.items.length===0};Vf.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function tN(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function nN(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function iN(e,t){if(e.sourceAnchor)return e.sourceAnchor;var n=tN(e,t);return n.center()}function ZJ(e,t){if(e.targetAnchor)return e.targetAnchor;var n=nN(e,t);return n.center()}function uw(e,t,n,i,r){var a=360/n,o=e.theta(eQ(e,t,i,r)),s=al(o+a/2);return a*Math.floor(s/a)}function eQ(e,t,n,i){var r=i.step,a=t.x-e.x,o=t.y-e.y,s=a/n.x,l=o/n.y,c=s*r,h=l*r;return new _e(e.x+c,e.y+h)}function CI(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function tQ(e,t,n){var i=n.step;vi(n.directions).forEach(function(r){r.gridOffsetX=r.offsetX/i*t.x,r.gridOffsetY=r.offsetY/i*t.y})}function nQ(e,t,n){return{source:t.clone(),x:wI(n.x-t.x,e),y:wI(n.y-t.y,e)}}function wI(e,t){if(!e)return t;var n=Math.abs(e),i=Math.round(n/t);if(!i)return n;var r=i*t,a=n-r,o=a/i;return t+o}function iQ(e,t){var n=t.source,i=Nf(e.x-n.x,t.x)+n.x,r=Nf(e.y-n.y,t.y)+n.y;return new _e(i,r)}function Cm(e,t){return e.round(t)}function yE(e,t,n){return Cm(iQ(e.clone(),t),n)}function Wm(e){return e.clone().toString()}function dw(e){return new _e(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function rQ(e,t,n,i,r,a,o){for(var s=[],l=dw(r.difference(n)),c=Wm(n),h=e[c],d;h;){d=t[c];var p=dw(d.difference(h));p.equals(l)||(s.unshift(d),l=p),c=Wm(h),h=e[c]}var y=t[c],S=dw(y.difference(i));return S.equals(l)||s.unshift(y),s}function TI(e,t){for(var n=1/0,i=0,r=t.length;i<r;i++){var a=e.manhattanDistance(t[i]);a<n&&(n=a)}return n}function AI(e,t,n,i,r){var a=r.precision,o=r.directionMap,s=e.difference(t.center()),l=hi(o)?Object.keys(o):[],c=vi(n),h=l.reduce(function(d,p){if(c.includes(p)){for(var y=o[p],S=new _e(e.x+y.x*(Math.abs(s.x)+t.width),e.y+y.y*(Math.abs(s.y)+t.height)),_=new Ot(e,S),I=_.intersect(t)||[],M=I.length,B,U=null,K=0;K<M;K++){var Q=I[K],H=e.squaredDistance(Q);(B===void 0||H>B)&&(B=H,U=Q)}if(U){var g=yE(U,i,a);t.containsPoint(g)&&(g=yE(g.offset(y.x*i.x,y.y*i.y),i,a)),d.push(g)}}return d},[]);return t.containsPoint(e)||h.push(yE(e,i,a)),h}function aQ(e,t,n,i){var r=i.precision,a,o;e instanceof Tt?a=Cm(iN(this,i).clone(),r):a=Cm(e.clone(),r),t instanceof Tt?o=Cm(ZJ(this,i).clone(),r):o=Cm(t.clone(),r);var s=nQ(i.step,a,o),l,c,h,d;if(e instanceof Tt?(l=a,h=AI(l,e,i.startDirections,s,i)):(l=a,h=[l]),t instanceof Tt?(c=o,d=AI(o,t,i.endDirections,s,i)):(c=o,d=[c]),h=h.filter(dt=>!n(dt)),d=d.filter(dt=>!n(dt)),h.length>0&&d.length>0){for(var p=new Vf,y={},S={},_={},I=0,M=h.length;I<M;I++){var B=h[I],U=Wm(B);p.add(U,TI(B,d)),y[U]=B,_[U]=0}var K=i.previousDirectionAngle,Q=K===void 0,H,g,T=i.directions;tQ(T,s,i);for(var A=T.length,D=vi(d).reduce(function(dt,te){var ce=Wm(te);return dt.push(ce),dt},[]),Z=i.maximumLoops;!p.isEmpty()&&Z>0;){var ie=p.pop(),se=y[ie],ue=S[ie],de=_[ie],F=ue===void 0,$=se.equals(l),W;F?Q?$?W=null:W=uw(l,se,A,s,i):W=K:W=uw(ue,se,A,s,i);var J=h.length===d.length;if(J){for(var G=0;G<h.length;G++)if(!h[G].equals(d[G])){J=!1;break}}var le=F&&J;if(!le&&D.indexOf(ie)>=0)return i.previousDirectionAngle=W,rQ(S,y,se,l,c);for(I=0;I<A;I++){H=T[I];var Ie=H.angle;if(g=CI(W,Ie),!(!(Q&&$)&&g>i.maxAllowedDirectionChange)){var it=yE(se.clone().offset(H.gridOffsetX,H.gridOffsetY),s,r),Je=Wm(it);if(!(p.isClose(Je)||n(it))){if(D.indexOf(Je)>=0){var Ge=it.equals(c);if(!Ge){var Ze=uw(it,c,A,s,i),Te=CI(Ie,Ze);if(Te>i.maxAllowedDirectionChange)continue}}var Ae=H.cost,Ue=$?0:i.penalties[g],Xe=de+Ae+Ue;(!p.isOpen(Je)||Xe<_[Je])&&(y[Je]=it,S[Je]=se,_[Je]=Xe,p.add(Je,Xe+TI(it,d)))}}}Z--}}return i.fallbackRoute.call(this,l,c,i)}function oQ(e){if(e.directions=Yi(e,"directions"),e.penalties=Yi(e,"penalties"),e.paddingBox=Yi(e,"paddingBox"),e.padding=Yi(e,"padding"),e.padding){var t=Ru(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}vi(e.directions).forEach(function(n){var i=new _e(0,0),r=new _e(n.offsetX,n.offsetY);n.angle=al(i.theta(r))})}function sQ(e,t,n){oQ(t),n.options.perpendicular=!!t.perpendicular;var i=tN(n,t),r=nN(n,t),a=iN(n,t);let o;if(typeof t.isPointObstacle=="function")o=t.isPointObstacle;else{const U=new CA(t);U.build(n.paper.model,n.model),o=K=>!U.isPointAccessible(K)}for(var s=vi(e).map(_e),l=[],c=a,h,d,p=0,y=s.length;p<=y;p++){var S=null;if(d=h||i,h=s[p],!h){h=r;var _=!n.model.get("source").id||!n.model.get("target").id;if(_&&Ri(t.draggingRoute)){var I=d===i?a:d,M=h.origin();S=t.draggingRoute.call(n,I,M,t)}}if(S=S||aQ.call(n,d,h,o,t),S===null)return t.fallbackRouter(e,t,n);var B=S[0];B&&B.equals(c)&&S.shift(),c=S[S.length-1]||c,Array.prototype.push.apply(l,S)}return l}const IT=function(e,t,n){return sQ(e,zt({},eN,t),n)};var lQ={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var i=e.theta(t),r=[],a={x:t.x,y:e.y},o={x:e.x,y:t.y};if(i%180>90){var s=a;a=o,o=s}var l=i%90<45?a:o,c=new Ot(e,l),h=90*Math.ceil(i/90),d=_e.fromPolar(c.squaredLength(),ls(h+135),l),p=new Ot(t,d),y=c.intersection(p),S=y||t,_=y?S:e,I=360/n.directions.length,M=_.theta(t),B=al(M+I/2),U=I*Math.floor(B/I);return n.previousDirectionAngle=U,S&&r.push(S.round()),r.push(t),r}};const cQ=function(e,t,n){if(!Ri(IT))throw new Error("Metro requires the manhattan router.");return IT(e,zt({},lQ,t),n)},ct={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},kI=[ct.LEFT,ct.RIGHT,ct.TOP,ct.BOTTOM],Tu={[ct.LEFT]:ct.RIGHT,[ct.RIGHT]:ct.LEFT,[ct.TOP]:ct.BOTTOM,[ct.BOTTOM]:ct.TOP},uQ=[ct.TOP,ct.BOTTOM],Cd={0:ct.RIGHT,180:ct.LEFT,270:ct.TOP,90:ct.BOTTOM};function ac(e){return e.angle()}function Mp(e){return new er(e).simplify({threshold:1}).points}function jm(e,t){const{point:n,x0:i,y0:r,view:a,bbox:o,direction:s}=e,{point:l,x0:c,y0:h,view:d,bbox:p,direction:y}=t;let S;if(a)a.model.isLink()?S=II(l,n,a):s===ct.ANCHOR_SIDE?S=o.sideNearestToPoint(n):s===ct.MAGNET_SIDE?S=a.model.getBBox().sideNearestToPoint(n):S=s;else{const I=new Tt(i,r,0,0);S=kI.includes(s)?s:I.sideNearestToPoint(l)}let _;if(d)d.model.isLink()?_=II(n,l,d):y===ct.ANCHOR_SIDE?_=p.sideNearestToPoint(l):y===ct.MAGNET_SIDE?_=d.model.getBBox().sideNearestToPoint(l):_=y;else{const I=new Tt(c,h,0,0);_=kI.includes(y)?y:I.sideNearestToPoint(n)}return[S,_]}function dQ(e,t,n){const{x0:i,y0:r,width:a,height:o,point:s,margin:l}=e,c=i+a,h=r+o,d=i-l,p=c+l,y=r-l,{x:S}=s,{x0:_,y0:I}=t;return _===S&&I<r?ct.BOTTOM:_<S&&I<y?n.point.x===S?ct.BOTTOM:ct.RIGHT:_>S&&I<y?n.point.x===S?ct.BOTTOM:ct.LEFT:_<d&&I>y||_>p&&I>y?ct.TOP:_>=d&&_<=S&&I>h||_<=p&&_>=S&&I>h?n.point.x<_?ct.RIGHT:ct.LEFT:ct.BOTTOM}function hQ(e,t,n){const{x0:i,y0:r,width:a,height:o,point:s,margin:l}=e,c=i+a,h=r+o,d=i-l,p=c+l,y=h+l,{x:S}=s,{x0:_,y0:I}=t;return _===S&&I>h?ct.TOP:_<S&&I>y?n.point.x===S?ct.TOP:ct.RIGHT:_>S&&I>y?n.point.x===S?ct.TOP:ct.LEFT:_<d&&I<y||_>p&&I<y?ct.BOTTOM:_>=d&&_<=S&&I<r||_<=p&&_>=S&&I<r?n.point.x<_?ct.RIGHT:ct.LEFT:ct.TOP}function fQ(e,t,n){const{y0:i,x0:r,width:a,height:o,point:s,margin:l}=e,c=r+a,h=i+o,d=r-l,p=i-l,y=h+l,{x:S,y:_}=s,{x0:I,y0:M}=t;return I<S&&M===_?ct.RIGHT:I<=d&&M<_?ct.BOTTOM:I<=d&&M>_?ct.TOP:I>=d&&M<p||I>=d&&M>y?ct.LEFT:I>c&&M>=p&&M<=_||I>c&&M<=y&&M>=_?n.point.y<M?ct.BOTTOM:ct.TOP:ct.RIGHT}function pQ(e,t,n){const{y0:i,x0:r,width:a,height:o,point:s,margin:l}=e,c=r+a,h=i+o,d=c+l,p=i-l,y=h+l,{x:S,y:_}=s,{x0:I,y0:M}=t;return I>S&&M===_?ct.LEFT:I>=d&&M<_?ct.BOTTOM:I>=d&&M>_?ct.TOP:I<=d&&M<p||I<=d&&M>y?ct.RIGHT:I<r&&M>=p&&M<=_||I<r&&M<=y&&M>=_?n.point.y<M?ct.BOTTOM:ct.TOP:ct.LEFT}function gQ(e,t,n){const[i]=jm(e,t);switch(i){case ct.TOP:return dQ(e,t,n);case ct.RIGHT:return pQ(e,t,n);case ct.BOTTOM:return hQ(e,t,n);case ct.LEFT:return fQ(e,t,n)}}function II(e,t,n){const i=n.getTangentAtLength(n.getClosestPointLength(t)),r=Math.round(ac(i)/90)*90;if(r%180===0&&e.y===t.y)return e.x<t.x?ct.LEFT:ct.RIGHT;if(e.x===t.x)return e.y<t.y?ct.TOP:ct.BOTTOM;switch(r){case 0:case 180:case 360:return e.y<t.y?ct.TOP:ct.BOTTOM;case 90:case 270:return e.x<t.x?ct.LEFT:ct.RIGHT}}function OI(e,t,n,i,r,a,o){i===ct.AUTO&&(i=r?ct.MAGNET_SIDE:ct.ANCHOR_SIDE);const s=e&&e.model.isElement(),{x:l,y:c,width:h=0,height:d=0}=s?Tt.fromRectUnion(n,e.model.getBBox()):a;return{point:t,x0:l,y0:c,view:e,bbox:n,width:h,height:d,direction:i,margin:s?o:0}}function mQ({x:e,y:t}){const n=new _e(e,t);return{point:n,x0:n.x,y0:n.y,view:null,bbox:new Tt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function XE(e,t,n){const i=t.point.clone(),{x0:r,y0:a,width:o,height:s}=t;switch(e){case"left":i.x=r-n;break;case"right":i.x=r+o+n;break;case"top":i.y=a-n;break;case"bottom":i.y=a+s+n;break}return i}function OT(e,t,{dx:n=0,dy:i=0}){const r={x:e.point.x+n,y:e.point.y+i},a={x:t.point.x+n,y:t.point.y+i};return[e.point,r,a,t.point]}function PI(e,t,n,i){const r=al(n-90);let a=0,o=0;r===90?o=-i:r===180?a=-i:r===270?o=i:r===0&&(a=i);const s=OT(e,t,{dx:a,dy:o}),l=s[2],c=new Ot(t.point,l),h=Cd[ac(c)];return{loopRoute:s,continueDirection:h}}function yQ(e,t){const{x0:n,x1:i,outsidePoint:r}=e,{x0:a,x1:o,outsidePoint:s}=t;let l=Math.min(n,a),c=Math.max(i,o);if(e.direction===t.direction){const B=e.y0<t.y0?e:t,U=B===e?t:e,K=e.direction===ct.TOP?B:U;l=K.x0,c=K.x1}const{x:h}=r,{x:d}=s,p=Math.abs(h-l),y=Math.abs(d-l),S=p+y,_=Math.abs(h-c),I=Math.abs(d-c),M=_+I;return[S,M]}function vQ(e,t){const{y0:n,y1:i,outsidePoint:r}=e,{y0:a,y1:o,outsidePoint:s}=t;let l=Math.min(n,a),c=Math.max(i,o);if(e.direction===t.direction){const B=e.x0<t.x0?e:t,U=B===e?t:e,K=e.direction===ct.LEFT?B:U;l=K.y0,c=K.y1}const{y:h}=r,{y:d}=s,p=Math.abs(h-l),y=Math.abs(d-l),S=p+y,_=Math.abs(h-c),I=Math.abs(d-c),M=_+I;return[S,M]}function MI(e,t,n){switch(t){case ct.LEFT:e.inflate(0,n).moveAndExpand({x:-n,width:n});break;case ct.RIGHT:e.inflate(0,n).moveAndExpand({width:n});break;case ct.TOP:e.inflate(n,0).moveAndExpand({y:-n,height:n});break;case ct.BOTTOM:e.inflate(n,0).moveAndExpand({height:n});break}return e}function xd(e,t,n={}){const{point:i,x0:r,y0:a,width:o,height:s,margin:l}=e,{point:c,x0:h,y0:d,width:p,height:y,margin:S}=t,{targetInSourceBBox:_=!1}=n,I=h+p,M=d+y,B=r+o,U=a+s,K=r-l,Q=B+l,H=a-l,g=U+l,T=h-S,A=I+S,D=d-S,Z=M+S,[ie,se]=jm(e,t),ue=XE(ie,{point:i,x0:r,y0:a,width:o,height:s},l),de=XE(se,{point:c,x0:h,y0:d,width:p,height:y},S),{x:F,y:$}=ue,{x:W,y:J}=de,G=(h+I)/2,le=(d+M)/2,Ie=(r+B)/2,it=(a+U)/2,Je=(Ie<G?B+h:I+r)/2,Ge=(it<le?U+d:M+a)/2,Ze=new Tt(r,a,o,s),Te=new Tt(h,d,p,y),Ae=Ze.clone().inflate(l),Ue=Te.clone().inflate(S),Xe=Object.assign({},e,{x1:B,y1:U,outsidePoint:ue,direction:ie}),dt=Object.assign({},t,{x1:I,y1:M,outsidePoint:de,direction:se}),[te,ce]=yQ(Xe,dt),[fe,Be]=vQ(Xe,dt);if(ie==="left"&&se==="right"){const we=Ae.containsPoint(de),re=Ue.containsPoint(ue);if(we||re){const ve=($+J)/2;return[{x:F,y:$},{x:F,y:ve},{x:W,y:ve},{x:W,y:J}]}if(K<W){let ve=Ge,We=F,tt=W;const yt=fe<Be;return(ve>=H&&ve<=g||ve>=D&&ve<=Z)&&(g>=D&&yt?ve=Math.min(D,H):H<=Z&&!yt&&(ve=Math.max(Z,g)),We=Math.min(F,T),tt=Math.max(W,Q),yt&&$<d||!yt&&$>M?We=F:(yt&&J<a||!yt&&J>U)&&(tt=W)),[{x:We,y:$},{x:We,y:ve},{x:tt,y:ve},{x:tt,y:J}]}const Ee=(F+W)/2;return[{x:Ee,y:$},{x:Ee,y:J}]}else if(ie==="right"&&se==="left"){const we=Ae.containsPoint(de),re=Ue.containsPoint(ue);if(we||re){const ve=($+J)/2;return[{x:F,y:$},{x:F,y:ve},{x:W,y:ve},{x:W,y:J}]}if(Q>W){let ve=Ge,We=F,tt=W;const yt=fe<Be;return(ve>=H&&ve<=g||ve>=D&&ve<=Z)&&(g>=D&&yt?ve=Math.min(D,H):H<=Z&&!yt&&(ve=Math.max(Z,g)),We=Math.max(F,A),tt=Math.min(W,K),yt&&$<d||!yt&&$>M?We=F:(yt&&J<a||!yt&&J>U)&&(tt=W)),[{x:We,y:$},{x:We,y:ve},{x:tt,y:ve},{x:tt,y:J}]}const Ee=(F+W)/2;return[{x:Ee,y:$},{x:Ee,y:J}]}else if(ie==="top"&&se==="bottom"){const we=Ae.containsPoint(de),re=Ue.containsPoint(ue);if(we||re){const ve=(F+W)/2;return[{x:F,y:$},{x:ve,y:$},{x:ve,y:J},{x:W,y:J}]}if(H<J){let ve=Je,We=$,tt=J;const yt=te<ce;return(ve>=K&&ve<=Q||ve>=T&&ve<=A)&&(Q>=T&&yt?ve=Math.min(T,K):K<=A&&!yt&&(ve=Math.max(A,Q)),We=Math.min($,D),tt=Math.max(J,g),yt&&F<h||!yt&&F>I?We=$:(yt&&W<r||!yt&&W>B)&&(tt=J)),[{x:F,y:We},{x:ve,y:We},{x:ve,y:tt},{x:W,y:tt}]}const Ee=($+J)/2;return[{x:F,y:Ee},{x:W,y:Ee}]}else if(ie==="bottom"&&se==="top"){const we=Ae.containsPoint(de),re=Ue.containsPoint(ue);if(we||re){const ve=(F+W)/2;return[{x:F,y:$},{x:ve,y:$},{x:ve,y:J},{x:W,y:J}]}if(g>J){let ve=Je,We=$,tt=J;const yt=te<ce;return(ve>=K&&ve<=Q||ve>=T&&ve<=A)&&(Q>=T&&yt?ve=Math.min(T,K):K<=A&&!yt&&(ve=Math.max(A,Q)),We=Math.max($,Z),tt=Math.min(J,H),yt&&F<h||!yt&&F>I?We=$:(yt&&W<r||!yt&&W>B)&&(tt=J)),[{x:F,y:We},{x:ve,y:We},{x:ve,y:tt},{x:W,y:tt}]}const Ee=($+J)/2;return[{x:F,y:Ee},{x:W,y:Ee}]}else if(ie==="top"&&se==="top"){if((_||tf.rectWithRect(Ae,Te)||$<=d&&(Ae.bottomRight().x<=W||Ae.bottomLeft().x>=W)||$>=d&&(Ue.bottomRight().x<=F||Ue.bottomLeft().x>=F))&&F!==W)return[{x:F,y:Math.min($,J)},{x:W,y:Math.min($,J)}];let re,Ee=Math.min((U+d)/2,J),ve=Math.min((a+M)/2,$);return J<$?ce>te?re=Math.min(F,T):re=Math.max(F,A):ce>te?re=Math.min(W,K):re=Math.max(W,Q),[{x:F,y:ve},{x:re,y:ve},{x:re,y:Ee},{x:W,y:Ee}]}else if(ie==="bottom"&&se==="bottom"){if((_||tf.rectWithRect(Ae,Te)||$>=J&&(Ae.topRight().x<=W||Ae.topLeft().x>=W)||$<=J&&(Ue.topRight().x<=F||Ue.topLeft().x>=F))&&F!==W)return[{x:F,y:Math.max($,J)},{x:W,y:Math.max($,J)}];let re,Ee=Math.max((a+M)/2,J),ve=Math.max((U+d)/2,$);return J>$?ce>te?re=Math.min(F,T):re=Math.max(F,A):ce>te?re=Math.min(W,K):re=Math.max(W,Q),[{x:F,y:ve},{x:re,y:ve},{x:re,y:Ee},{x:W,y:Ee}]}else if(ie==="left"&&se==="left"){if((_||tf.rectWithRect(Ae,Te)||F<=W&&(Ae.bottomRight().y<=J||Ae.topRight().y>=J)||F>=W&&(Ue.bottomRight().y<=$||Ue.topRight().y>=$))&&$!==J)return[{x:Math.min(F,W),y:$},{x:Math.min(F,W),y:J}];let re,Ee=Math.min((B+h)/2,W),ve=Math.min((r+I)/2,F);return W>F?fe<=Be?re=Math.min(H,J):re=Math.max(g,J):fe<=Be?re=Math.min(D,$):re=Math.max(Z,$),[{x:ve,y:$},{x:ve,y:re},{x:Ee,y:re},{x:Ee,y:J}]}else if(ie==="right"&&se==="right"){if((_||tf.rectWithRect(Ae,Te)||F>=W&&(Ae.bottomLeft().y<=J||Ae.topLeft().y>=J)||F<=W&&(Ue.bottomLeft().y<=$||Ue.topLeft().y>=$))&&$!==J)return[{x:Math.max(F,W),y:$},{x:Math.max(F,W),y:J}];let re,Ee=Math.max((r+I)/2,W),ve=Math.max((B+h)/2,F);return W<=F?fe<=Be?re=Math.min(H,J):re=Math.max(g,J):fe<=Be?re=Math.min(D,$):re=Math.max(Z,$),[{x:ve,y:$},{x:ve,y:re},{x:Ee,y:re},{x:Ee,y:J}]}else if(ie==="top"&&se==="right"){if(Ae.containsPoint(c)){if(F<=A){const ve=Math.max(F+l,W),We=Math.min(H,D);return[{x:F,y:We},{x:ve,y:We},{x:ve,y:J}]}const Ee=(F-l+W)/2;return[{x:F,y:$},{x:Ee,y:$},{x:Ee,y:J}]}if(H>J){if(F<W){let Ee=D;return Z<=H&&A>=F&&(Ee=Ge),[{x:F,y:Ee},{x:W,y:Ee},{x:W,y:J}]}return[{x:F,y:J}]}const re=Math.max(Je,A);if(F>W&&U>=J)return[{x:F,y:$},{x:re,y:$},{x:re,y:J}];if(re>K&&$<M){const Ee=Math.min(H,D),ve=Math.max(Q,A);return[{x:F,y:Ee},{x:ve,y:Ee},{x:ve,y:J}]}return[{x:F,y:$},{x:re,y:$},{x:re,y:J}]}else if(ie==="top"&&se==="left"){if(Ae.containsPoint(c)){if(F>=T){const ve=Math.min(F-l,W),We=Math.min(H,D);return[{x:F,y:We},{x:ve,y:We},{x:ve,y:J}]}const Ee=(F+l+W)/2;return[{x:F,y:$},{x:Ee,y:$},{x:Ee,y:J}]}if(H>J){if(F>W){let Ee=D;return Z<=H&&T<=F&&(Ee=Ge),[{x:F,y:Ee},{x:W,y:Ee},{x:W,y:J}]}return[{x:F,y:J}]}const re=Math.min(T,Je);if(F<W&&U>=J)return[{x:F,y:$},{x:re,y:$},{x:re,y:J}];if(re<Q&&$<M){const Ee=Math.min(H,D),ve=Math.min(K,T);return[{x:F,y:Ee},{x:ve,y:Ee},{x:ve,y:J}]}return[{x:F,y:$},{x:re,y:$},{x:re,y:J}]}else if(ie==="bottom"&&se==="right"){if(Ae.containsPoint(c)){if(F<=A){const ve=Math.max(F+l,W),We=Math.max(g,Z);return[{x:F,y:We},{x:ve,y:We},{x:ve,y:J}]}const Ee=(F-l+W)/2;return[{x:F,y:$},{x:Ee,y:$},{x:Ee,y:J}]}if(g<J){if(F<W){let Ee=Z;return D>=g&&A>=F&&(Ee=Ge),[{x:F,y:Ee},{x:W,y:Ee},{x:W,y:J}]}return[{x:F,y:J}]}const re=Math.max(Je,A);if(F>W&&a<=J)return[{x:F,y:$},{x:re,y:$},{x:re,y:J}];if(re>K&&$>d){const Ee=Math.max(g,Z),ve=Math.max(Q,A);return[{x:F,y:Ee},{x:ve,y:Ee},{x:ve,y:J}]}return[{x:F,y:$},{x:re,y:$},{x:re,y:J}]}else if(ie==="bottom"&&se==="left"){if(Ae.containsPoint(c)){if(F>=T){const ve=Math.min(F-l,W),We=Math.max(g,Z);return[{x:F,y:We},{x:ve,y:We},{x:ve,y:J}]}const Ee=(F+l+W)/2;return[{x:F,y:$},{x:Ee,y:$},{x:Ee,y:J}]}if(g<J){if(F>W){let Ee=Z;return D>=g&&T<=F&&(Ee=Ge),[{x:F,y:Ee},{x:W,y:Ee},{x:W,y:J}]}return[{x:F,y:J}]}const re=Math.min(T,Je);if(F<W&&a<=J)return[{x:F,y:$},{x:re,y:$},{x:re,y:J}];if(re<Q&&$>d){const Ee=Math.max(g,Z),ve=Math.min(K,T);return[{x:F,y:Ee},{x:ve,y:Ee},{x:ve,y:J}]}return[{x:F,y:$},{x:re,y:$},{x:re,y:J}]}else if(ie==="left"&&se==="bottom"){if(Ae.containsPoint(c)){if($<=Z){const ve=Math.min(K,T),We=Math.max($+l,J);return[{x:ve,y:$},{x:ve,y:We},{x:W,y:We}]}const Ee=($-l+J)/2;return[{x:F,y:$},{x:F,y:Ee},{x:W,y:Ee}]}if(K>W){if($<J){let Ee=T;return A<=K&&Z>=$&&(Ee=Je),[{x:Ee,y:$},{x:Ee,y:J},{x:W,y:J}]}return[{x:W,y:$}]}const re=Math.max(Z,Ge);if($>J&&B>=W)return[{x:F,y:$},{x:F,y:re},{x:W,y:re}];if(re>H&&F<I){const Ee=Math.min(K,T),ve=Math.max(g,Z);return[{x:Ee,y:$},{x:Ee,y:ve},{x:W,y:ve}]}return[{x:F,y:$},{x:F,y:re},{x:W,y:re}]}else if(ie==="left"&&se==="top"){if(Ae.containsPoint(c)){if($>=D){const ve=Math.min($-l,J),We=Math.min(K,T);return[{x:We,y:$},{x:We,y:ve},{x:W,y:ve}]}const Ee=($+l+J)/2;return[{x:F,y:$},{x:F,y:Ee},{x:W,y:Ee}]}if(K>W){if($>J){let Ee=T;return A<=K&&D<=$&&(Ee=Je),[{x:Ee,y:$},{x:Ee,y:J},{x:W,y:J}]}return[{x:W,y:$}]}const re=Math.min(D,Ge);if($<J&&B>=W)return[{x:F,y:$},{x:F,y:re},{x:W,y:re}];if(re<g&&F<I){const Ee=Math.min(K,T),ve=Math.min(H,D);return[{x:Ee,y:$},{x:Ee,y:ve},{x:W,y:ve}]}return[{x:F,y:$},{x:F,y:re},{x:W,y:re}]}else if(ie==="right"&&se==="top"){if(Ae.containsPoint(c)){if($>=D){const ve=Math.max(Q,A),We=Math.min($-l,J);return[{x:ve,y:$},{x:ve,y:We},{x:W,y:We}]}const Ee=($+l+J)/2;return[{x:F,y:$},{x:F,y:Ee},{x:W,y:Ee}]}if(Q<W){if($>J){let Ee=A;return T>=Q&&D<=$&&(Ee=Je),[{x:Ee,y:$},{x:Ee,y:J},{x:W,y:J}]}return[{x:W,y:$}]}const re=Math.min(D,Ge);if($<J&&r<=W)return[{x:F,y:$},{x:F,y:re},{x:W,y:re}];if(re<g&&F>h){const Ee=Math.max(Q,A),ve=Math.min(H,D);return[{x:Ee,y:$},{x:Ee,y:ve},{x:W,y:ve}]}return[{x:F,y:$},{x:F,y:re},{x:W,y:re}]}else if(ie==="right"&&se==="bottom"){if(Ae.containsPoint(c)){if($<=Z){const ve=Math.max(Q,A),We=Math.max($+l,J);return[{x:ve,y:$},{x:ve,y:We},{x:W,y:We}]}const Ee=($-l+J)/2;return[{x:F,y:$},{x:F,y:Ee},{x:W,y:Ee}]}if(Q<W){if($<J){let Ee=A;return T>=Q&&Z>=$&&(Ee=Je),[{x:Ee,y:$},{x:Ee,y:J},{x:W,y:J}]}return[{x:W,y:$}]}const re=Math.max(Z,Ge);if($>J&&r<=W)return[{x:F,y:$},{x:F,y:re},{x:W,y:re}];if(re>H&&F>h){const Ee=Math.max(Q,A),ve=Math.max(g,Z);return[{x:Ee,y:$},{x:Ee,y:ve},{x:W,y:ve}]}return[{x:F,y:$},{x:F,y:re},{x:W,y:re}]}}function NI(e,t,n){const i=e===ct.LEFT||e===ct.RIGHT;let r=0,a=0;switch(al(Math.round(t))){case 0:case 90:r=i?0:n,a=i?n:0;break;case 180:case 270:r=i?0:-n,a=i?-n:0;break}return{dx:r,dy:a}}function rN(e,t,n){const{sourceDirection:i=ct.AUTO,targetDirection:r=ct.AUTO}=t,a=t.margin||20,o=t.useVertices||!1,s=!!n.model.source().port,l=OI(n.sourceView,n.sourceAnchor,n.sourceBBox,i,s,n.sourceAnchor,a),c=!!n.model.target().port,h=OI(n.targetView,n.targetAnchor,n.targetBBox,r,c,n.targetAnchor,a);let d=[];if(!o||e.length===0)return Mp(xd(l,h));const p=e.map(U=>mQ(U)),[y]=p,[S]=jm(l,y),_=l.view&&l.view.model.isElement(),I=_?MI(l.view.model.getBBox(),S,a):null,M=_?I.containsPoint(y.point):!1;if(M){const U=XE(S,l,a),K=U.equals(y.point),Q=l.point.x===y.point.x,H=l.point.y===y.point.y,g=Q&&(S===ct.TOP||S===ct.BOTTOM),T=H&&(S===ct.LEFT||S===ct.RIGHT),A=new Ot(l.point,U),D=A.containsPoint(y.point),Z=M&&(T||g);if(K)d.push(l.point,y.point),y.direction=Tu[S];else if(D||Z){const ie=ac(D?A:new Ot(l.point,y.point)),{dx:se,dy:ue}=NI(S,ie,a),de=OT({point:U},y,{dx:se,dy:ue}),F=de[2],$=new Ot(y.point,F),W=Cd[ac($)];y.direction=W,d.push(...de)}else y.direction=S,y.margin=a,d.push(...xd(l,y,{targetInSourceBBox:!0}),y.point)}else{const U=p[1]||h,K=gQ(l,y,U);y.direction=K,d.push(...xd(l,y),y.point)}for(let U=0;U<p.length-1;U++){const K=p[U],Q=p[U+1],H=new Ot(K.point,Q.point),g=ac(H);if(g%90===0){const D=Cd[g],Z=Mp([...d,K.point]),ie=new Ot(Z[Z.length-2],Z[Z.length-1]),se=Cd[Math.round(ac(ie))];if(D!==Tu[se]){d.push(K.point,Q.point);const[,ue]=jm(K,Q);Q.direction=ue}else{const{loopRoute:ue,continueDirection:de}=PI(K,Q,g,a);Q.direction=de,d.push(...ue)}continue}const[T,A]=RI(K,Q);K.direction=T,Q.direction=A,d.push(...xd(K,Q),Q.point)}const B=p[p.length-1];if(h.view&&h.view.model.isElement()){const[,U]=jm(B,h),K=XE(U,h,a),Q=Mp([...d,B.point]),H=new Ot(Q[Q.length-2],Q[Q.length-1]),g=Math.round(ac(H)),T=Cd[g],A=K.equals(B.point);if(!A||A&&T===U){B.direction=T;let D=xd(B,h);const[Z,ie]=Mp([...D,h.point]),se=new Ot(Z,ie),ue=Math.round(ac(se)),de=Cd[ue],F=MI(h.view.model.getBBox(),U,a),$=B.point.x===h.point.x,W=B.point.y===h.point.y,J=F.containsPoint(B.point),G=$&&(U===ct.TOP||U===ct.BOTTOM),le=W&&(U===ct.LEFT||U===ct.RIGHT);if(!A&&J&&(le||G)){const{dx:Ie,dy:it}=NI(U,g,a);D=OT(B,{point:K},{dx:Ie,dy:it})}else J&&U!==Tu[T]?(B.margin=a,B.direction=U,D=xd(B,h)):de!==T&&T===Tu[de]&&(B.margin=a,D=xd(B,h));d.push(...D)}}else{const U=B,K=h,Q=new Ot(U.point,K.point),H=ac(Q);if(H%90===0){const g=Cd[H],T=Mp(d),A=new Ot(T[T.length-2],U.point),D=Cd[Math.round(ac(A))];if(g!==Tu[D])d.push(U.point);else{const{loopRoute:Z}=PI(U,K,H,a);Z.pop(),d.push(...Z)}}else{const[g,T]=RI(U,K);U.direction=g,K.direction=T,d.push(...xd(U,K))}}return Mp(d)}function RI(e,t){const n=e.direction,i=uQ.includes(n);let r=e.direction,a=t.direction;if(i){const o=e.point.y>t.point.y,s=t.point.x-e.point.x;n===ct.BOTTOM?(r=o?Tu[n]:s>=0?ct.RIGHT:ct.LEFT,s>0?a=o?ct.LEFT:ct.TOP:s<0&&(a=o?ct.RIGHT:ct.TOP)):(r=o?s>=0?ct.RIGHT:ct.LEFT:Tu[n],s>0?a=o?ct.BOTTOM:ct.LEFT:s<0&&(a=o?ct.BOTTOM:ct.RIGHT))}else{const o=e.point.x>t.point.x,s=t.point.y-e.point.y;n===ct.RIGHT?(r=o?Tu[n]:s>=0?ct.BOTTOM:ct.TOP,s>0?a=o?ct.TOP:ct.LEFT:s<0&&(a=o?ct.BOTTOM:ct.LEFT)):(r=o?s>=0?ct.BOTTOM:ct.TOP:Tu[n],s>0?a=o?ct.RIGHT:ct.TOP:s<0&&(a=o?ct.RIGHT:ct.BOTTOM))}return[r,a]}rN.Directions=ct;const bQ=rN,aN=Object.freeze(Object.defineProperty({__proto__:null,manhattan:IT,metro:cQ,normal:GJ,oneSide:WJ,orthogonal:kT,rightAngle:bQ},Symbol.toStringTag,{value:"Module"}));function EQ(e,t,n,i){var r="ratio"in i?i.ratio:.5;return e.getPointAtRatio(r)}function xQ(e,t,n,i){var r="length"in i?i.length:20;return e.getPointAtLength(r)}function SQ(e,t,n,i){var r=1e6,a=e.getConnection(),o=e.getConnectionSubdivisions(),s=new Ot(n.clone().offset(0,r),n.clone().offset(0,-1e6)),l=new Ot(n.clone().offset(r,0),n.clone().offset(-1e6,0)),c=s.intersect(a,{segmentSubdivisions:o}),h=l.intersect(a,{segmentSubdivisions:o}),d=[];return c&&Array.prototype.push.apply(d,c),h&&Array.prototype.push.apply(d,h),d.length>0?n.chooseClosest(d):"fallbackAt"in i?oN(e,i.fallbackAt):sN(e,t,n,i)}function _Q(e,t,n,i){var r=e.getClosestPoint(n);return r||new _e}function S1(e){return function(t,n,i,r){if(i instanceof Element){var a=this.paper.findView(i),o;if(a)if(a.isNodeConnection(i)){var s="fixedAt"in r?r.fixedAt:"50%";o=oN(a,s)}else o=a.getNodeBBox(i).center();else o=new _e;return e.call(this,t,n,o,r)}return e.apply(this,arguments)}}function oN(e,t){var n=parseFloat(t);return oa(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}const CQ=S1(SQ),sN=S1(_Q),wQ=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:sN,connectionLength:xQ,connectionPerpendicular:CQ,connectionRatio:EQ,resolveRef:S1},Symbol.toStringTag,{value:"Module"}));function qu(e){return function(t,n,i,r){var a=!!r.rotate,o=a?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),s=o[e](),l=r.dx;if(l){var c=oa(l);l=parseFloat(l),isFinite(l)&&(c&&(l/=100,l*=o.width),s.x+=l)}var h=r.dy;if(h){var d=oa(h);h=parseFloat(h),isFinite(h)&&(d&&(h/=100,h*=o.height),s.y+=h)}return a?s.rotate(t.model.getBBox().center(),-t.model.angle()):s}}function TQ(e,t,n,i){var r=e.model.angle(),a=e.getNodeBBox(t),o=a.center(),s=a.origin(),l=a.corner(),c=i.padding;if(isFinite(c)||(c=0),s.y+c<=n.y&&n.y<=l.y-c){var h=n.y-o.y;o.x+=r===0||r===180?0:h*1/Math.tan(ls(r)),o.y+=h}else if(s.x+c<=n.x&&n.x<=l.x-c){var d=n.x-o.x;o.y+=r===90||r===270?0:d*Math.tan(ls(r)),o.x+=d}return o}function AQ(e,t,n,i){var r=!!i.rotate,a,o,s;r?(a=e.getNodeUnrotatedBBox(t),s=e.model.getBBox().center(),o=e.model.angle()):a=e.getNodeBBox(t);var l=i.padding;isFinite(l)&&a.inflate(l),r&&n.rotate(s,o);var c=a.sideNearestToPoint(n),h;switch(c){case"left":h=a.leftMiddle();break;case"right":h=a.rightMiddle();break;case"top":h=a.topMiddle();break;case"bottom":h=a.bottomMiddle();break}return r?h.rotate(s,-o):h}function kQ(e,t,n,i,r){return e.model.getPointFromConnectedLink(this.model,r).offset(i.dx,i.dy)}const IQ=qu("center"),OQ=qu("topMiddle"),PQ=qu("bottomMiddle"),MQ=qu("leftMiddle"),NQ=qu("rightMiddle"),RQ=qu("origin"),DQ=qu("topRight"),BQ=qu("bottomLeft"),LQ=qu("corner"),FQ=S1(TQ),zQ=S1(AQ),$Q=kQ,qQ=Object.freeze(Object.defineProperty({__proto__:null,bottom:PQ,bottomLeft:BQ,bottomRight:LQ,center:IQ,left:MQ,midSide:zQ,modelCenter:$Q,perpendicular:FQ,right:NQ,top:OQ,topLeft:RQ,topRight:DQ},Symbol.toStringTag,{value:"Module"})),UQ=Xd.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&_c(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){const i=t.collection.cellNamespace,{type:r}=e,a=d0(i,r,".");if(!a)throw new Error(`dia.Graph: Could not find cell constructor for type: '${r}'. Make sure to add the constructor to 'cellNamespace'.`);return new a(e,t)},_addReference:function(e,t){Xd.prototype._addReference.apply(this,arguments),!t.dry&&!e.graph&&(e.graph=this.graph)},_removeReference:function(e,t){Xd.prototype._removeReference.apply(this,arguments),!t.dry&&e.graph===this.graph&&(e.graph=null)},comparator:function(e){return e.get("z")||0}}),Gf=Qs.extend({initialize:function(e,t){t=t||{};var n=new UQ([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Qs.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(e={}){var t=Qs.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(e.cellAttributes),t},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var i;return typeof e=="object"?(i=e,n=t):(i={})[e]=t,i.hasOwnProperty("cells")&&(this.resetCells(i.cells,n),i=b1(i,"cells")),Qs.prototype.set.call(this,i,n)},clear:function(e){e=zt({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var n=t.sortBy(function(i){return i.isLink()?1:2});do n.shift().remove(e);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e){let t;if(e instanceof Qs?t=e.attributes:t=e,!Gr(t.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Qs?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=$K(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(n){this.addCell(n,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var n=vi(e).map(function(i){return this._prepareCell(i,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Sc(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0})},transferCellEmbeds:function(e,t,n={}){const i="transfer-embeds";this.startBatch(i);const r=e.getEmbeddedCells();t.embed(r,{...n,reparent:!0}),this.stopBatch(i)},transferCellConnectedLinks:function(e,t,n={}){const i="transfer-connected-links";this.startBatch(i),this.getConnectedLinks(e,n).forEach(a=>{a.getSourceCell()===e&&a.prop(["source","id"],t.id,n),a.getTargetCell()===e&&a.prop(["target","id"],t.id,n)}),this.stopBatch(i)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").toArray().filter(e=>e.isElement())},getLinks:function(){return this.get("cells").toArray().filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var n=t.indirect,i=t.inbound,r=t.outbound;i===void 0&&r===void 0&&(i=r=!0);var a=[],o={};r&&s(this,e),i&&l(this,e);function s(d,p){if(Ec(d.getOutboundEdges(p.id),(function(S,_){if(!o[_]){var I=d.getCell(_);a.push(I),o[_]=!0,n&&(i&&l(d,I),r&&s(d,I))}}).bind(d)),n&&p.isLink()){var y=p.getTargetCell();y&&y.isLink()&&(o[y.id]||(a.push(y),s(d,y)))}}function l(d,p){if(Ec(d.getInboundEdges(p.id),(function(S,_){if(!o[_]){var I=d.getCell(_);a.push(I),o[_]=!0,n&&(i&&l(d,I),r&&s(d,I))}}).bind(d)),n&&p.isLink()){var y=p.getSourceCell();y&&y.isLink()&&(o[y.id]||(a.push(y),l(d,y)))}}if(t.deep){var c=e.getEmbeddedCells({deep:!0}),h={};c.forEach(function(d){d.isElement()&&(h[d.id]=!0)}),c.forEach(function(d){d.isLink()||(r&&Ec(this.getOutboundEdges(d.id),(function(p,y){if(!o[y]){var S=this.getCell(y),{source:_,target:I}=S.attributes,M=_.id,B=I.id;if(!t.includeEnclosed&&M&&h[M]&&B&&h[B])return;a.push(this.getCell(y)),o[y]=!0}}).bind(this)),i&&Ec(this.getInboundEdges(d.id),(function(p,y){if(!o[y]){var S=this.getCell(y),{source:_,target:I}=S.attributes,M=_.id,B=I.id;if(!t.includeEnclosed&&M&&h[M]&&B&&h[B])return;a.push(this.getCell(y)),o[y]=!0}}).bind(this)))},this)}return a},getNeighbors:function(e,t){t||(t={});var n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var r=this.getConnectedLinks(e,t).reduce((function(s,l){var{source:c,target:h}=l.attributes,d=l.hasLoop(t);if(n&&_c(c,"id")&&!s[c.id]){var p=this.getCell(c.id);p.isElement()&&(d||p&&p!==e&&(!t.deep||!p.isEmbeddedIn(e)))&&(s[c.id]=p)}if(i&&_c(h,"id")&&!s[h.id]){var y=this.getCell(h.id);y.isElement()&&(d||y&&y!==e&&(!t.deep||!y.isEmbeddedIn(e)))&&(s[h.id]=y)}return s}).bind(this),{});if(e.isLink()){if(n){var a=e.getSourceCell();a&&a.isElement()&&!r[a.id]&&(r[a.id]=a)}if(i){var o=e.getTargetCell();o&&o.isElement()&&!r[o.id]&&(r[o.id]=o)}}return vi(r)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(n){for(var i=[],r=n.get("parent");r;)i.push(r),r=this.getCell(r).get("parent");return i},this);e=e.sort(function(n,i){return n.length-i.length});var t=vi(e.shift()).find(function(n){return e.every(function(i){return i.includes(n)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var n=[];return this.search(e,function(i){i!==e&&n.push(i)},zt({},t,{outbound:!0})),n},cloneCells:PM,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],i={},r=[],a=[];return vi(e).forEach(function(o){if(i[o.id]||(n.push(o),i[o.id]=o,o.isLink()?a.push(o):r.push(o)),t.deep){var s=o.getEmbeddedCells({deep:!0});s.forEach(function(l){i[l.id]||(n.push(l),i[l.id]=l,l.isLink()?a.push(l):r.push(l))})}}),a.forEach(function(o){var{source:s,target:l}=o.attributes;if(s.id&&!i[s.id]){var c=this.getCell(s.id);n.push(c),i[c.id]=c,r.push(c)}if(l.id&&!i[l.id]){var h=this.getCell(l.id);n.push(this.getCell(l.id)),i[h.id]=h,r.push(h)}},this),r.forEach(function(o){var s=this.getConnectedLinks(o,t);s.forEach(function(l){var{source:c,target:h}=l.attributes;!i[l.id]&&c.id&&i[c.id]&&h.id&&i[h.id]&&(n.push(l),i[l.id]=l)})},this),n},getPredecessors:function(e,t){t=t||{};var n=[];return this.search(e,function(i){i!==e&&n.push(i)},zt({},t,{inbound:!0})),n},search:function(e,t,n){n=n||{},n.breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n={}){const i={},r={},a=[];for(a.push(e),r[e.id]=0;a.length>0;){var o=a.shift();if(i[o.id]||(i[o.id]=!0,t.call(this,o,r[o.id])===!1))continue;const s=this.getNeighbors(o,n);for(let l=0,c=s.length;l<c;l++){const h=s[l];r[h.id]=r[o.id]+1,a.push(h)}}},dfs:function(e,t,n={}){const i={},r={},a=[];for(a.push(e),r[e.id]=0;a.length>0;){const o=a.pop();if(i[o.id]||(i[o.id]=!0,t.call(this,o,r[o.id])===!1))continue;const s=this.getNeighbors(o,n),l=a.length;for(let c=0,h=s.length;c<h;c++){const d=s[c];r[d.id]=r[o.id]+1,a.splice(l,0,d)}}},getSources:function(){var e=[];return Ec(this._nodes,(function(t,n){(!this._in[n]||Ps(this._in[n]))&&e.push(this.getCell(n))}).bind(this)),e},getSinks:function(){var e=[];return Ec(this._nodes,(function(t,n){(!this._out[n]||Ps(this._out[n]))&&e.push(this.getCell(n))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||Ps(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Ps(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(i){if(i===t&&i!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(i){if(i===t&&i!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){n=n||{};var i=n.inbound,r=n.outbound;i===void 0&&r===void 0&&(i=r=!0);var a=!1;return this.getConnectedLinks(e,n).forEach(function(o){var{source:s,target:l}=o.attributes;if(i&&_c(s,"id")&&s.id===t.id||r&&_c(l,"id")&&l.id===t.id)return a=!0,!1}),a},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Sc(this.getConnectedLinks(e),"remove",t)},findElementsAtPoint:function(e,t){return this._filterAtPoint(this.getElements(),e,t)},findLinksAtPoint:function(e,t){return this._filterAtPoint(this.getLinks(),e,t)},findCellsAtPoint:function(e,t){return this._filterAtPoint(this.getCells(),e,t)},_filterAtPoint:function(e,t,n={}){return e.filter(i=>i.getBBox({rotate:!0}).containsPoint(t,n))},findElementsInArea:function(e,t={}){return this._filterInArea(this.getElements(),e,t)},findLinksInArea:function(e,t={}){return this._filterInArea(this.getLinks(),e,t)},findCellsInArea:function(e,t={}){return this._filterInArea(this.getCells(),e,t)},_filterInArea:function(e,t,n={}){const i=new Tt(t),{strict:r=!1}=n,a=r?"containsRect":"intersect";return e.filter(o=>i[a](o.getBBox({rotate:!0})))},findElementsUnderElement:function(e,t){return this._filterCellsUnderElement(this.getElements(),e,t)},findLinksUnderElement:function(e,t){return this._filterCellsUnderElement(this.getLinks(),e,t)},findCellsUnderElement:function(e,t){return this._filterCellsUnderElement(this.getCells(),e,t)},_isValidElementUnderElement:function(e,t){return e.id!==t.id&&!e.isEmbeddedIn(t)},_isValidLinkUnderElement:function(e,t){return e.source().id!==t.id&&e.target().id!==t.id&&!e.isEmbeddedIn(t)},_validateCellsUnderElement:function(e,t){return e.filter(n=>n.isLink()?this._isValidLinkUnderElement(n,t):this._isValidElementUnderElement(n,t))},_getFindUnderElementGeometry:function(e,t="bbox"){const n=e.getBBox({rotate:!0});return t!=="bbox"?LM(n,t):n},_filterCellsUnderElement:function(e,t,n={}){const i=this._getFindUnderElementGeometry(t,n.searchBy),r=i.type===Hn.Point?this._filterAtPoint(e,i):this._filterInArea(e,i,n);return this._validateCellsUnderElement(r,t)},findModelsInArea:function(e,t){return this.findElementsInArea(e,t)},findModelsFromPoint:function(e){return this.findElementsAtPoint(e)},findModelsUnderElement:function(e,t){return this.findElementsUnderElement(e,t)},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:n=!0}=t;return vi(e).reduce(function(i,r){const a=r.getBBox({rotate:n});return a?i?i.union(a):a:i},null)},translate:function(e,t,n){var i=this.getCells().filter(function(r){return!r.isEmbedded()});return Sc(i,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,i){var r=this.getCellsBBox(n);if(r){var a=Math.max(e/r.width,0),o=Math.max(t/r.height,0);Sc(n,"scale",a,o,r.origin(),i)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",zt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",zt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let n;return arguments.length===0?n=Object.keys(t):Array.isArray(e)?n=e:n=[e],n.some(i=>t[i]>0)}},{validations:{multiLinks:function(e,t){var{source:n,target:i}=t.attributes;if(n.id&&i.id){var r=t.getSourceCell();if(r){var a=e.getConnectedLinks(r,{outbound:!0}),o=a.filter(function(s){var{source:l,target:c}=s.attributes;return l&&l.id===n.id&&(!l.port||l.port===n.port)&&c&&c.id===i.id&&(!c.port||c.port===i.port)});if(o.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:n,target:i}=t.attributes;return n.id&&i.id}}});tX(Gf.prototype,["resetCells","addCells","removeCells"],CT.cells);const Ja={GRID:"grid",CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},PT=Pc.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return ku(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:n}=this;e=+e,e||(e=0);let i=n[e];if(i)return i;i=n[e]=document.createComment("z-index:"+(e+1));let r=-1/0;for(let a in n)a=+a,a<e&&a>r&&(r=a,e-1);if(r!==-1/0){const a=n[r];t.insertBefore(i,a.nextSibling)}else t.insertBefore(i,t.firstChild);return i},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}}),HQ=["transform","x","y","cx","cy","dx","dy","x1","y1","x2","y2","points","d","r","rx","ry","width","height","stroke-width","font-size"],VQ=["r","rx","ry","width","height","stroke-width","font-size"],GQ=HQ.reduce((e,t)=>(e[t]=!0,e),{}),WQ=VQ.reduce((e,t)=>(e[t]=!0,e),{});function DI(e,t){const n={};for(let i in e)e.hasOwnProperty(i)&&(n[i]=lN(i,e[i],t));return n}function lN(e,t,n){if(e in GQ&&eh(t)){let i=th(t,n);return e in WQ&&(i=Math.max(0,i)),i}return t}const Np={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},jQ={TOOLS:"TOOLS"},Jn=Pc.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(n,i,r){e.push("type-"+r.slice(0,i+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},n=0,i,r,a,o=Yi(this,"presentationAttributes");for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];for(Array.isArray(l)||(l=[l]),i=0,r=l.length;i<r;i++){a=l[i];var c=e[a];c||(c=e[a]=1<<n++),t[s]|=c}}var h=Yi(this,"initFlag");for(Array.isArray(h)||(h=[h]),i=0,r=h.length;i<r;i++)a=h[i],e[a]||(e[a]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var i=0,r=e.length;i<r;i++)n|=t[e[i]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||eg(this),Pc.call(this,e)},initialize:function(){this.setFlags(),Pc.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!n||(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){const{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=GE(e),i=n.selectors,r=n.groupSelectors;for(var a in r){if(i[a])throw new Error("dia.CellView: ambiguous group selector");i[a]=r[a]}if(t){var o=this.selector;if(i[o])throw new Error("dia.CellView: ambiguous root selector.");i[o]=t}return{fragment:n.fragment,selectors:i}},can:function(e){var t=Ri(this.options.interactive)?this.options.interactive(this):this.options.interactive;return hi(t)&&t[e]!==!1||RK(t)&&t!==!1},findBySelector:function(e,t,n){if(!e||e===".")return[t];if(n){var i=n[e];if(i)return Array.isArray(i)?i:[i]}return this.useCSSSelectors?Ct(t).find(e).toArray():[]},findNodes:function(e){return this.findBySelector(e,this.el,this.selectors)},findNode:function(e){const[t=null]=this.findNodes(e);return t},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),i=this.getNodeMatrix(e);return lt.transformRect(t,n.multiply(i))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():lt.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),i=this.getRootTranslateMatrix();return lt.transformRect(t,i.multiply(n))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),n=lt.createSVGMatrix().translate(t.x,t.y);return n},getRootRotateMatrix:function(){var e=lt.createSVGMatrix(),t=this.model,n=t.angle();if(n){var i=t.getBBox(),r=i.width/2,a=i.height/2;e=e.translate(r,a).rotate(n).translate(-r,-a)}return e},_notifyHighlight:function(e,t,n={}){const{el:i}=this;let r;if(typeof t=="string"?r=this.findNode(t)||i:[r=i]=this.$(t),n.partial=r!==i,n.type===void 0){let a;switch(!0){case n.embedding:a=Np.EMBEDDING;break;case n.connecting:a=Np.CONNECTING;break;case n.magnetAvailability:a=Np.MAGNET_AVAILABILITY;break;case n.elementAvailability:a=Np.ELEMENT_AVAILABILITY;break;default:a=Np.DEFAULT;break}n.type=a}return this.notify(e,r,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let n=this.$(e)[0];n||(n=t);do{const i=n.getAttribute("magnet"),r=n===t;if((i||r)&&i!=="false")return n;if(r)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const i=this.findNode(n);if(i)return i}return e},getSelector:function(e,t){var n;if(e===this.el)return typeof t=="string"&&(n=":scope > "+t),n;if(e){var i=lt(e).index()+1;n=e.tagName+":nth-child("+i+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var i=this.paper,r=i.model,a=i.getDefaultLink(this,e);return a.set({source:this.getLinkEnd(e,t,n,a,"source"),target:{x:t,y:n}}).addTo(r,{async:!1,ui:!0}),a.findView(i)},getLinkEnd:function(e,...t){const n=this.model,i=n.id,r=this.findAttributeNode("port",e),a=e.getAttribute("joint-selector"),o={id:i};if(a!=null&&(o.magnet=a),r!=null){let s=r.getAttribute("port");r.getAttribute("port-id-type")==="number"&&(s=parseInt(s,10)),o.port=s,!n.hasPort(s)&&!a&&(o.selector=this.getSelector(e))}else a==null&&this.el!==e&&(o.selector=this.getSelector(e));return this.customizeLinkEnd(o,e,...t)},customizeLinkEnd:function(e,t,n,i,r,a){const{paper:o}=this,{connectionStrategy:s}=o.options;if(typeof s=="function"){var l=s.call(o,e,this,t,new _e(n,i),r,a,o);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=e.port,n=e.magnet,i=this.model,r;return t!=null&&i.isElement()&&i.hasPort(t)?r=this.findPortNode(t,n)||this.el:(n||(n=e.selector),!n&&t!=null&&(n='[port="'+t+'"]'),r=this.findNode(n)),this.findProxyNode(r,"magnet")},dragLinkStart:function(e,t,n,i){this.model.startBatch("add-link");const r=this.addLinkFromMagnet(t,n,i);r.notifyPointerdown(e,n,i),r.eventData(e,r.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:r})},dragLink:function(e,t,n){var i=this.eventData(e),r=i.linkView;if(r)r.pointermove(e,t,n);else{var a=this.paper,o=a.options.magnetThreshold,s=this.getEventTarget(e),l=i.targetMagnet;if(o==="onleave"){if(l===s||lt(l).contains(s))return}else if(a.eventData(e).mousemoved<=o)return;this.dragLinkStart(e,l,t,n)}},dragLinkEnd:function(e,t,n){var i=this.eventData(e),r=i.linkView;r&&(r.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Ps(t)||(e instanceof SVGElement?lt(e).attr(t):Ct(e).attr(t))},processNodeAttributes:function(e,t){var n,i,r,a,o,s,l,c,h,d=[];const p={};for(n in t)t.hasOwnProperty(n)&&(p[lt.attributeNames[n]]=t[n]);for(n in p)if(p.hasOwnProperty(n))if(i=p[n],r=this.getAttributeDefinition(n),r)if(i===null){let y;if(Ri(r.unset)?y=r.unset.call(this,e,p,this):y=r.unset,!y&&Gr(r.set)&&(y=r.set),y||(y=n),Gr(y)&&y){if(s||(s={}),y in s)continue;s[y]=i}else if(Array.isArray(y)&&y.length>0)for(s||(s={}),a=0,o=y.length;a<o;a++){const S=y[a];S in s||(s[S]=i)}}else!Ri(r.qualify)||r.qualify.call(this,i,e,p,this)?(Gr(r.set)&&(s||(s={}),s[r.set]=i),d.push(n,r)):(s||(s={}),s[n]=i);else s||(s={}),s[n]=i;for(a=0,o=d.length;a<o;a+=2)n=d[a],r=d[a+1],i=t[n],Ri(r.set)&&(l||(l={}),l[n]=i),Ri(r.position)&&(c||(c={}),c[n]=i),Ri(r.offset)&&(h||(h={}),h[n]=i);return{raw:p,normal:s,set:l,position:c,offset:h}},updateRelativeAttributes:function(e,t,n,i){i||(i={});var r,a,o,s=DI(t.raw||{},n),l=t.normal||{};for(const T in l)l[T]=s[T];var c=t.set,h=t.position,d=t.offset;for(r in c){a=s[r],o=this.getAttributeDefinition(r);var p=o.set.call(this,a,n.clone(),e,s,this);hi(p)?zt(l,p):p!==void 0&&(l[r]=p)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var y=l.transform,S=lt.transformStringToMatrix(y),_=_e(S.e,S.f);y&&(l=b1(l,"transform"),S.e=S.f=0);var I,M,B;if(h||d){var U=this.getNodeScale(e,i.scalableNode);I=U.sx,M=U.sy}var K=!1;for(r in h)a=s[r],o=this.getAttributeDefinition(r),B=o.position.call(this,a,n.clone(),e,s,this),B&&(_.offset(_e(B).scale(I,M)),K||(K=!0));this.setNodeAttributes(e,l);var Q=!1;if(d){var H=this.getNodeBoundingRect(e);if(H.width>0&&H.height>0){var g=lt.transformRect(H,S).scale(1/I,1/M);for(r in d)a=s[r],o=this.getAttributeDefinition(r),B=o.offset.call(this,a,g,e,s,this),B&&(_.offset(_e(B).scale(I,M)),Q||(Q=!0))}}(y!==void 0||K||Q)&&(_.round(1),S.e=_.x,S.f=_.y,e.setAttribute("transform",lt.matrixToTransformString(S)))},getNodeScale:function(e,t){var n,i;if(t&&t.contains(e)){var r=t.scale();n=1/r.sx,i=1/r.sy}else n=1,i=1;return{sx:n,sy:i}},cleanNodesCache:function(){this.metrics={}},cleanNodeCache:function(e){const t=e.id;t&&delete this.metrics[t]},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=lt.ensureId(e),i=t[n];return i||(i=t[n]={}),i},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=lt(e).getBBox()),new Tt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:n,el:i}=this;let r;n&&n.contains(e)?r=n:r=i,t.magnetMatrix=lt(e).getTransformToElement(r)}return lt.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=lt(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,i){var r,a,o,s,l={},c=[];for(var h in e)if(e.hasOwnProperty(h)&&(o=e[h],!!Hr(o))){var d=n[h]=this.findBySelector(h,t,i);for(r=0,a=d.length;r<a;r++){var p=d[r];s=lt.ensureId(p);var y=i&&i[h]===p,S=l[s];if(S){S.array||(c.push(s),S.array=!0,S.attributes=[S.attributes],S.selectedLength=[S.selectedLength]);var _=S.attributes,I=S.selectedLength;if(y)_.unshift(o),I.unshift(-1);else{var M=gM(I,a);_.splice(M,0,o),I.splice(M,0,a)}}else l[s]={attributes:o,selectedLength:y?-1:a,node:p,array:!1}}}for(r=0,a=c.length;r<a;r++)s=c[r],o=l[s],o.attributes=ra({},...o.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:n,type:i,clientX:r=0,clientY:a=0}=e;return t.fromPoint||i==="touchmove"||i==="touchend"||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(r,a):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=Tt()),n.selectors||(n.selectors=this.selectors);var i={},r={},a=[],o=[],s,l,c,h,d,p=n.roAttributes,y=this.findNodesAttributes(p||t,e,i,n.selectors),S=p?this.findNodesAttributes(t,e,i,n.selectors):y;for(var _ in y)if(h=y[_],c=h.attributes,l=h.node,d=this.processNodeAttributes(l,c),!d.set&&!d.position&&!d.offset&&!d.raw.ref)this.setNodeAttributes(l,DI(d.normal,n.rootBBox));else{var I=S[_]&&S[_].attributes,M=I&&c.ref===void 0?I.ref:c.ref,B;if(M){if(B=(i[M]||this.findBySelector(M,e,n.selectors))[0],!B)throw new Error('dia.CellView: "'+M+'" reference does not exist.')}else B=null;if(s={node:l,refNode:B,processedAttributes:d,allAttributes:I},B){var U=o.findIndex(function(K){return K.refNode===l});U>-1?o.splice(U,0,s):o.push(s)}else a.push(s)}a.push(...o);for(let K=0,Q=a.length;K<Q;K++){s=a[K],l=s.node,B=s.refNode;const H=B?lt.ensureId(B):"";let g=r[H];g||(g=r[H]=B?lt(B).getBBox({target:KQ(l,B)}):n.rootBBox),p?(d=this.processNodeAttributes(l,s.allAttributes),this.mergeProcessedAttributes(d,s.processedAttributes)):d=s.processedAttributes,this.updateRelativeAttributes(l,d,g,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),zt(e.set,t.set),zt(e.position,t.position),zt(e.offset,t.offset);var n=e.normal&&e.normal.transform;n!==void 0&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),Ol.mount(this))},onDetach(){this.unmountTools(),Ol.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){Ol.remove(this)},updateHighlighters:function(e=!1){Ol.update(this,null,e)},transformHighlighters:function(){Ol.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){const{model:i}=this,{graph:r}=i;r&&(i.startBatch("pointer"),this.eventData(e,{graph:r})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){const{graph:i}=this.eventData(e);this.notify("cell:pointerup",e,t,n),i&&i.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,i){this.notify("cell:mousewheel",e,t,n,i)},onevent:function(e,t,n,i){this.notify(t,e,n,i)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){const a=n.getSourceElement();if(a){const s=t.findViewByModel(a);s&&(t.dumpView(s),t.checkViewVisibility(s))}const o=n.getTargetElement();if(o){const s=t.findViewByModel(o);s&&(t.dumpView(s),t.checkViewVisibility(s))}}t.dumpView(this),t.checkViewVisibility(this)}const i=this.getEventTarget(e,{fromPoint:!0}),r=t.findView(i);r!==this&&(this.mouseleave(e),r&&r.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e},isIntersecting:function(e,t){return tf.exists(e,this.getNodeBBox(this.el),t)},isEnclosedIn:function(e){return e.containsRect(this.getNodeBBox(this.el))},isInArea:function(e,t={}){return t.strict?this.isEnclosedIn(e):this.isIntersecting(e)},isAtPoint:function(e,t){return this.getNodeBBox(this.el).containsPoint(e,t)}},{Flags:jQ,Highlighting:Np,addPresentationAttributes:function(e){return ra({},Yi(this.prototype,"presentationAttributes"),e,function(t,n){if(!(!t||!n)&&(typeof t=="string"&&(t=[t]),typeof n=="string"&&(n=[n]),Array.isArray(t)&&Array.isArray(n)))return Rf(t.concat(n))})},evalAttribute:lN});Object.defineProperty(Jn.prototype,"useCSSSelectors",{get(){const e=this.model.useCSSSelectors;return e!==void 0?e:fg.useCSSSelectors}});function KQ(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}const di={TOOLS:Jn.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Rp={MOVE:"move",MAGNET:"magnet"},vE=Jn.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Jn.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Jn.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[di.UPDATE],position:[di.TRANSLATE,di.TOOLS],size:[di.RESIZE,di.PORTS,di.TOOLS],angle:[di.ROTATE,di.TOOLS],markup:[di.RENDER],ports:[di.PORTS]},initFlag:[di.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){const{useCSSSelectors:n}=this;this.hasFlag(e,di.PORTS)&&(this._removePorts(),this._cleanPortsCache());let i=!1;if(this.hasFlag(e,di.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),i=!0,e=this.removeFlag(e,[di.RENDER,di.UPDATE,di.RESIZE,di.TRANSLATE,di.ROTATE,di.PORTS,di.TOOLS]);else{let r=!1;this.hasFlag(e,di.RESIZE)&&(this.resize(t),r=!0,e=this.removeFlag(e,[di.RESIZE,di.UPDATE]),n&&(e=this.removeFlag(e,di.PORTS))),this.hasFlag(e,di.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,di.UPDATE),r=!0,n&&(e=this.removeFlag(e,di.PORTS))),this.hasFlag(e,di.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,di.TRANSLATE),i=!0),this.hasFlag(e,di.ROTATE)&&(this.rotate(),e=this.removeFlag(e,di.ROTATE),i=!0),this.hasFlag(e,di.PORTS)&&(this._renderPorts(),r=!0,e=this.removeFlag(e,di.PORTS)),r&&this.updateHighlighters(!1)}return i&&this.transformHighlighters(),this.hasFlag(e,di.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,di.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();const{useCSSSelectors:n}=this;n&&this._removePorts();var i=this.model,r=i.attr();this.updateDOMSubtreeAttributes(this.el,r,{rootBBox:new Tt(i.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===r?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=lt(n[this.rotatableSelector])||null,this.scalableNode=lt(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(lt(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){const{x:e,y:t}=this.model.position();return`translate(${e},${t})`},getRotateString:function(){const e=this.model.angle();if(!e)return null;const{width:t,height:n}=this.model.size();return`rotate(${e},${t/2},${n/2})`},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),i=t.size(),r=this.scalableNode,a=!1;r.node.getElementsByTagName("path").length>0&&(a=!0);var o=r.getBBox({recursive:a}),s=i.width/(o.width||1),l=i.height/(o.height||1);r.attr("transform","scale("+s+","+l+")");var c=this.rotatableNode,h=c&&c.attr("transform");if(h){c.attr("transform",h+" rotate("+-n+","+i.width/2+","+i.height/2+")");var d=r.getBBox({target:this.paper.cells});t.set("position",{x:d.x,y:d.y},zt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,i=(e.paper||this.paper).model,r=e.initialZIndices={},a=t.getEmbeddedCells({deep:!0}),o=i.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...a,...o].forEach(c=>r[c.id]=c.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const s=i.getElements().reduce((c,h)=>Math.max(c,h.attributes.z||0),0);o.forEach(c=>{c.attributes.z<=s&&c.set("z",s+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(i.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,n,i){const r=e.model||this.model,a=e.paper||this.paper,o=a.model,{findParentBy:s,frontParentOnly:l,validateEmbedding:c}=a.options;let h;Ri(s)?h=vi(s.call(o,this,t,n,i)):s==="pointer"?h=o.findElementsAtPoint({x:n,y:i}):h=o.findElementsUnderElement(r,{searchBy:s}),h=h.filter(y=>y instanceof Oc&&r.id!==y.id&&!y.isEmbeddedIn(r)),l&&(h=h.slice(-1));let d=null;const p=e.candidateEmbedView;for(let y=h.length-1;y>=0;y--){const S=h[y];if(p&&p.model.id==S.id){d=p;break}else{const _=S.findView(a);if(!Ri(c)||c.call(a,this,_)){d=_;break}}}d&&d!=p&&(this.clearEmbedding(e),e.candidateEmbedView=d.highlight(d.findProxyNode(null,"container"),{embedding:!0})),!d&&p&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,n=e.model||this.model,i=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:r}=i.options,{initialParentId:a}=e;if(a&&typeof r=="function"&&!r.call(i,this)){this._disallowUnembed(e);return}}i.model.getConnectedLinks(n,{deep:!0}).forEach(r=>{r.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:n="revert"}=e,i=t||this.model,a=(e.paper||this.paper).model;switch(n){case"remove":{i.remove({ui:!0});break}case"revert":{const{initialParentId:o,initialPosition:s,initialZIndices:l}=e;if(s){const{x:h,y:d}=s;i.position(h,d,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(h=>{const d=a.getCell(h);d&&d.set("z",l[h],{ui:!0})});const c=a.getCell(o);c&&c.embed(i,{ui:!0});break}}},getTargetParentView:function(e){const{candidateEmbedView:t=null}=this.eventData(e);return t},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const i=this.findAttribute("port",e);if(i){const r=this.findPortNode(i,n);if(r)return r}else{const r=this.findNode(n);if(r)return r}}return e},notifyPointerdown(e,t,n){Jn.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){Jn.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),Jn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Jn.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Jn.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){Jn.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){const i=this.eventData(e),{targetMagnet:r,action:a,delegatedView:o}=i;switch(r&&this.magnetpointermove(e,r,t,n),a){case Rp.MAGNET:this.dragMagnet(e,t,n);break;case Rp.MOVE:(o||this).drag(e,t,n);default:if(i.preventPointerEvents)break;this.notifyPointermove(e,t,n);break}this.eventData(e,i)},pointerup:function(e,t,n){const i=this.eventData(e),{targetMagnet:r,action:a,delegatedView:o}=i;switch(r&&this.magnetpointerup(e,r,t,n),a){case Rp.MAGNET:this.dragMagnetEnd(e,t,n);break;case Rp.MOVE:(o||this).dragEnd(e,t,n);default:if(i.preventPointerEvents)break;this.notifyPointerup(e,t,n)}r&&this.magnetpointerclick(e,r,t,n),this.checkMouseleave(e)},mouseover:function(e){Jn.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Jn.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Jn.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Jn.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,i){Jn.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,i)},onmagnet:function(e,t,n){const{currentTarget:i}=e;this.magnetpointerdown(e,i,t,n),this.eventData(e,{targetMagnet:i}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,i){this.notify("element:magnet:pointerdown",e,t,n,i)},magnetpointermove:function(e,t,n,i){this.notify("element:magnet:pointermove",e,t,n,i)},magnetpointerup:function(e,t,n,i){this.notify("element:magnet:pointerup",e,t,n,i)},magnetpointerdblclick:function(e,t,n,i){this.notify("element:magnet:pointerdblclick",e,t,n,i)},magnetcontextmenu:function(e,t,n,i){this.notify("element:magnet:contextmenu",e,t,n,i)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var i=this.getDelegatedView();if(!i||!i.can("elementMove"))return;this.eventData(e,{action:Rp.MOVE,delegatedView:i});const r=i.model.position();i.eventData(e,{initialPosition:r,pointerOffset:r.difference(t,n),restrictedArea:this.paper.getRestrictedArea(i,t,n)})},dragMagnetStart:function(e,t,n){const{paper:i}=this,r=e.isPropagationStopped();if(r&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:a=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!i.options.validateMagnet.call(i,this,a,e)){r?this.dragStart(e,t,n):this.pointerdown(e,t,n);return}i.options.magnetThreshold<=0&&this.dragLinkStart(e,a,t,n),this.eventData(e,{action:Rp.MAGNET})},snapToGrid:function(e,t,n){const i=this.paper.options.gridSize;return{x:Nf(t,i),y:Nf(n,i)}},drag:function(e,t,n){var i=this.paper,r=this.model,a=this.eventData(e),{pointerOffset:o,restrictedArea:s,embedding:l}=a;const{x:c,y:h}=this.snapToGrid(e,t+o.x,n+o.y);r.position(c,h,{restrictedArea:s,deep:!0,ui:!0}),i.options.embeddingMode&&(l||(this.prepareEmbedding(a),l=!0),this.processEmbedding(a,e,t,n)),this.eventData(e,{embedding:l})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var i=this.eventData(e);i.embedding&&this.finalizeEmbedding(i)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,i){var r=this.paper;r.eventData(e).mousemoved>r.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,i)}},{Flags:di});zt(vE.prototype,wX);const si={TOOLS:Jn.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LABELS:"LABELS",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},pg=Jn.extend({className:function(){var e=Jn.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},_labelCache:null,_labelSelectors:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Jn.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[si.RENDER],attrs:[si.UPDATE],router:[si.UPDATE],connector:[si.CONNECTOR],labels:[si.LABELS,si.TOOLS],labelMarkup:[si.LABELS],vertices:[si.UPDATE],source:[si.SOURCE,si.UPDATE],target:[si.TARGET,si.UPDATE]},initFlag:[si.RENDER,si.SOURCE,si.TARGET,si.TOOLS],UPDATE_PRIORITY:1,EPSILON:1e-6,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,si.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,si.SOURCE)}if(this.hasFlag(e,si.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,si.TARGET)}const{paper:n,sourceView:i,targetView:r}=this;if(n&&(i&&!n.isViewMounted(i)||r&&!n.isViewMounted(r)))return e;if(this.hasFlag(e,si.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[si.RENDER,si.UPDATE,si.LABELS,si.TOOLS,si.CONNECTOR]),GM.test("isSafari")&&this.__fixSafariBug268376(),e;let a=!1;const{model:o}=this,{attributes:s}=o;let l=this.hasFlag(e,si.LABELS);l&&(this.onLabelsChange(o,s.labels,t),e=this.removeFlag(e,si.LABELS),a=!0);const c=this.hasFlag(e,si.UPDATE),h=this.hasFlag(e,si.CONNECTOR);return(c||h)&&(c?t.translateBy&&o.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[si.UPDATE,si.TOOLS,si.CONNECTOR]),l=!1,a=!0),l&&this.updateLabelPositions(),a&&this.updateHighlighters(),this.hasFlag(e,si.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,si.TOOLS)),e},__fixSafariBug268376:function(){const{el:e}=this,t=Array.from(e.childNodes),n=document.createDocumentFragment();for(let i=0,r=t.length;i<r;i++)e.removeChild(t[i]),n.appendChild(t[i]);e.appendChild(n)},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(si.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],i=n.length;if(i>1){var r=!!t[n[1]];if(r){if(i===2)return"markup"in Object(e.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=lt(e);Array.isArray(t)||(t=[t]),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=lt(e),n=document.createDocumentFragment();if(!Array.isArray(t))n.appendChild(t.node);else for(var i=0,r=t.length;i<r;i++){var a=t[i].node;n.appendChild(a)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,i=t.childNodes;return i.length>1||i[0].nodeName.toUpperCase()!=="G"?n=lt("g").append(t):n=lt(i[0]),n.addClass("label"),{node:n.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},i=this._labelSelectors={},r=this.model,a=r.attributes.labels||[],o=a.length;if(o===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=lt("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(ku(Yi(this,"className"))),t.attr("model-id",r.id)));for(var s=0;s<o;s++){var l=a[s],c=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),h,d;if(c)h=c.node,d=c.selectors;else{var p=r._builtins.defaultLabel,y=this._normalizeLabelMarkup(this._getLabelMarkup(p.markup)),S=r._getDefaultLabel(),_=this._normalizeLabelMarkup(this._getLabelMarkup(S.markup)),I=_||y;h=I.node,d=I.selectors}h.setAttribute("label-idx",s),t.append(h),n[s]=h;var M=this.selector;if(d[M])throw new Error("dia.LinkView: ambiguous label root selector.");d[M]=h,i[s]=d}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:n,_V:i,options:r}=this,{labels:a}=i;if(!a||!n.hasLabels())return;const{node:o}=a;r.labelsLayer?t.getLayerView(r.labelsLayer).insertSortedNode(o,n.get("z")):o.parentNode!==e&&e.appendChild(o)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNodes:function(e,t){const n=this._labelCache[e];if(!n)return[];const i=this._labelSelectors[e];return this.findBySelector(t,n,i)},findLabelNode:function(e,t){const[n=null]=this.findLabelNodes(e,t);return n},_mergeLabelAttrs:function(e,t,n,i){return t===null?null:t===void 0?n===null?null:n===void 0?e?void 0:i:e?n:ra({},i,n):e?ra({},n,t):ra({},i,n,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:ra({},t,e)},updateLabels:function(){if(!this._V.labels)return this;this.paper.options.labelLayer||this.cleanNodeCache(this.el);for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),i=e._builtins.defaultLabel,r=i.attrs,a=e._getDefaultLabel(),o=a.markup,s=a.attrs,l=a.size,c=0,h=t.length;c<h;c++){var d=this._labelCache[c];d.setAttribute("cursor",n?"move":"default");var p=this._labelSelectors[c],y=t[c],S=y.markup,_=y.attrs,I=y.size,M=this._mergeLabelAttrs(S||o,_,s,r),B=this._mergeLabelSize(I,l);this.updateDOMSubtreeAttributes(d,M,{rootBBox:new Tt(B),selectors:p})}return this},removeRedundantLinearVertices:function(e){const n=this.model,i=n.vertices(),r=[this.sourceAnchor,...i,this.targetAnchor],a=r.length,o=new er(r);o.simplify({threshold:.001});const s=o.points.map(c=>c.toJSON()),l=s.length;return a===l?0:(n.vertices(s.slice(1,l-1),e),a-l)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new _e(this.sourceAnchor);case"target":return new _e(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new _e(this.sourcePoint);case"target":return new _e(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:n,path:i}=this;if(!n||!i)return;const r=new er(n);r.translate(e,t),this.route=r.points,this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t),i.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateLabelPositions(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),n=this.findAnchors(t),i=this.sourceAnchor=n.source,r=this.targetAnchor=n.target,a=this.findRoute(t);this.route=a;var o=this.findConnectionPoints(a,i,r);this.sourcePoint=o.source,this.targetPoint=o.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:n}=this,i=this.findPath(e,t.clone(),n.clone());this.path=i},findAnchorsOrdered:function(e,t,n,i){var r,a,o,s,l=this.model,c=l.get(e),h=l.get(n),d=this.getEndView(e),p=this.getEndView(n),y=this.getEndMagnet(e),S=this.getEndMagnet(n);d?(t?o=new _e(t):p?o=S:o=new _e(h),r=this.getAnchor(c.anchor,d,y,o,e)):r=new _e(c),p?(s=new _e(i||r),a=this.getAnchor(h.anchor,p,S,s,n)):a=new _e(h);var _={};return _[e]=r,_[n]=a,_},findAnchors:function(e){var t=this.model,n=e[0],i=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",i,"source",n):this.findAnchorsOrdered("source",n,"target",i)},findConnectionPoints:function(e,t,n){var i=e[0],r=e[e.length-1],a=this.model,o=a.get("source"),s=a.get("target"),l=this.sourceView,c=this.targetView,h=this.paper.options,d,p,y;if(l&&!l.isNodeConnection(this.sourceMagnet)){d=this.sourceMagnet||l.el;var S=o.connectionPoint||h.defaultConnectionPoint,_=i||n,I=new Ot(_,t);y=this.getConnectionPoint(S,l,d,I,"source")}else y=t;var M;if(c&&!c.isNodeConnection(this.targetMagnet)){p=this.targetMagnet||c.el;var B=s.connectionPoint||h.defaultConnectionPoint,U=r||t,K=new Ot(U,n);M=this.getConnectionPoint(B,c,p,K,"target")}else M=n;return{source:y,target:M}},getAnchor:function(e,t,n,i,r){var a=t.isNodeConnection(n),o=this.paper.options;if(e||(a?e=o.defaultLinkAnchor:this.options.perpendicular?e={name:"perpendicular"}:e=o.defaultAnchor),!e)throw new Error("Anchor required.");var s;if(typeof e=="function")s=e;else{var l=e.name,c=a?"linkAnchorNamespace":"anchorNamespace";if(s=o[c][l],typeof s!="function")throw new Error("Unknown anchor: "+l)}var h=s.call(this,t,n,i,e.args||{},r,this);return h?h.round(this.decimalsRounding):new _e},getConnectionPoint:function(e,t,n,i,r){var a,o=i.end,s=this.paper.options;if(!e)return o;var l;if(typeof e=="function")l=e;else{var c=e.name;if(l=s.connectionPointNamespace[c],typeof l!="function")throw new Error("Unknown connection point: "+c)}return a=l.call(this,i,t,n,e.args||{},r,this),a?a.round(this.decimalsRounding):o},isIntersecting:function(e,t){const n=this.getConnection();return n?tf.exists(e,n,t,{segmentSubdivisions:this.getConnectionSubdivisions()}):!1},isEnclosedIn:function(e){const t=this.getConnection();if(!t)return!1;const n=t.bbox();return n?e.containsRect(n):!1},isAtPoint:function(e){const t=new Tt(e);return t.inflate(this.EPSILON),this.isIntersecting(t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,n=t.position,i=e._getDefaultLabel(),r=this._normalizeLabelPosition(i.position);return ra({},n,r)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:ra({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,n=t.get("labels")||[];if(!n.length)return this;for(var i=this._getDefaultLabelPositionProperty(),r=0,a=n.length;r<a;r++){var o=this._labelCache[r];if(o){var s=n[r],l=this._normalizeLabelPosition(s.position),c=this._mergeLabelPositionProperty(l,i),h=this._getLabelTransformationMatrix(c);o.setAttribute("transform",lt.matrixToTransformString(h)),this._cleanLabelMatrices(r)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:n}=this,i=n[e];if(i)for(let r in i){const{id:a}=i[r];a&&a in t&&delete t[a].magnetMatrix}},updateEndProperties:function(e){const{model:t,paper:n}=this,i=`${e}View`,r=t.get(e),a=r&&r.id;if(!a)return this[i]=null,this.updateEndMagnet(e),!0;const o=n.getModelById(a);if(!o)throw new Error("LinkView: invalid "+e+" cell.");const s=o.findView(n);return s?(this[i]=s,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,n=this.getEndView(e);if(n){let i=n.getMagnetFromLinkEnd(this.model.get(e));i===n.el&&(i=null),this[t]=i}else this[t]=null},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:ra({},t,e)},addLabel:function(e,t,n,i){var r,a,o=0,s;typeof e!="number"?(r=e.x,a=e.y,typeof t=="number"?(o=t,s=n):s=t):(r=e,a=t,typeof n=="number"?(o=n,s=i):s=n);var l=this._getDefaultLabelPositionArgs(),c=s,h=this._mergeLabelPositionArgs(c,l),d={position:this.getLabelPosition(r,a,o,h)},p=-1;return this.model.insertLabel(p,d,s),p},addVertex:function(e,t,n){var i=typeof e!="number",r=i?e.x:e,a=i?e.y:t,o=i?t:n,s={x:r,y:a},l=this.getVertexIndex(r,a);return this.model.insertVertex(l,s,o),l},sendToken:function(e,t,n){function i(d,p){return function(){d.remove(),typeof p=="function"&&p()}}var r,a,o;hi(t)?(r=t.duration,a=t.direction==="reverse",o=t.connection):(r=t,a=!1,o=null),r=r||1e3;var s={dur:r+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};a&&(s.keyPoints="1;0",s.keyTimes="0;1");var l=lt(e),c;if(typeof o=="string")c=this.findNode(o);else{var h=this._V;c=h.connection?h.connection.node:this.el.querySelector("path")}if(!(c instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(s,c),setTimeout(i(l,n),r)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||aN,n=this.model.router(),i=this.paper.options.defaultRouter;if(!n)if(i)n=i;else return e.map(_e);var r=Ri(n)?n:t[n.name];if(!Ri(r))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var a=n.args||{},o=r.call(this,e,a,this);return o||e.map(_e)},findPath:function(e,t,n){var i=this.paper.options.connectorNamespace||mJ,r=this.model.connector(),a=this.paper.options.defaultConnector;r||(r=a||{});var o=Ri(r)?r:i[r.name];if(!Ri(o))throw new Error('dia.LinkView: unknown connector: "'+r.name+'".');var s=Ca(r.args||{});s.raw=!0;var l=o.call(this,t,n,e,s,this);return typeof l=="string"&&(l=new Qt(lt.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(oa(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,i){var r={},a=0,o;typeof n=="number"?(a=n,o=i):o=n,o&&(r.args=o);var s=!(o&&o.absoluteDistance),l=o&&o.absoluteDistance&&o.reverseDistance,c=o&&o.absoluteOffset,h=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},p=new _e(e,t),y=h.closestPointT(p,d),S=h.lengthAtT(y,d);s&&(S=S/this.getConnectionLength()||0),l&&(S=-1*(this.getConnectionLength()-S)||1),r.distance=S;var _;c||(_=h.tangentAtT(y));var I;if(_)I=_.pointOffset(p);else{var M=h.pointAtT(y),B=p.difference(M);I={x:B.x,y:B.y}}return r.offset=I,r.angle=a,r},_getLabelTransformationMatrix:function(e){var t,n=0,i={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")i=e.args||{},t=e.distance,n=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var r=t>0&&t<=1,a=0,o={x:0,y:0};if(e.offset){var s=e.offset;typeof s=="number"&&(a=s),s.x&&(o.x=s.x),s.y&&(o.y=s.y)}var l=o.x!==0||o.y!==0||a===0,c=i.keepGradient,h=i.ensureLegibility,d=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},y=r?t*this.getConnectionLength():t,S=d.tangentAtLength(y,p),_,I=n;if(S){if(l)_=S.start.clone(),_.offset(o);else{var M=S.clone();M.rotate(S.start,-90),M.setLength(a),_=M.end}c&&(I=S.angle()+n,h&&(I=al((I+90)%180-90)))}else _=d.start.clone(),l&&_.offset(o);return lt.createSVGMatrix().translate(_.x,_.y).rotate(I)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new _e(t.e,t.f)},getVertexIndex:function(e,t){for(var n=this.model,i=n.vertices(),r=this.getClosestPointLength(new _e(e,t)),a=0,o=i.length;a<o;a++){var s=i[a],l=this.getClosestPointLength(s);if(r<l)break}return a},notifyPointerdown(e,t,n){Jn.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){Jn.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),Jn.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Jn.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Jn.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){Jn.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){var i=this._dragData;i&&this.eventData(e,i);var r=this.eventData(e);switch(r.action){case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n);break}i&&zt(i,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var i=this._dragData;i&&(this.eventData(e,i),this._dragData=null);var r=this.eventData(e);switch(r.action){case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){Jn.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Jn.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Jn.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Jn.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,i){Jn.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,i)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n);var i=this.eventData(e).stopPropagation;i&&e.stopPropagation()},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var i=e.currentTarget,r=parseInt(i.getAttribute("label-idx"),10),a=this._getDefaultLabelPositionProperty(),o=this._normalizeLabelPosition(this._getLabelPositionProperty(r)),s=this._mergeLabelPositionProperty(o,a),l=this.getLabelCoordinates(s),c=l.x-t,h=l.y-n,d=this._getLabelPositionAngle(r),p=this._getLabelPositionArgs(r),y=this._getDefaultLabelPositionArgs(),S=this._mergeLabelPositionArgs(p,y);this.eventData(e,{action:"label-move",labelIdx:r,dx:c,dy:h,positionAngle:d,positionArgs:S,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var i=e.target,r=i.getAttribute("end"),a=this.startArrowheadMove(r,{ignoreBackwardsCompatibility:!0});this.eventData(e,a)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var i=this.eventData(e),r={position:this.getLabelPosition(t+i.dx,n+i.dy,i.positionAngle,i.positionArgs)};this.paper.options.snapLabels&&delete r.position.offset;const a={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(a.async=!1),this.model.label(i.labelIdx,r,a)},dragArrowhead:function(e,t,n){this.paper.options.snapLinks?!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var i=this.eventData(e);this.model.translate(t-i.dx,n-i.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragArrowheadEnd:function(e,t,n){var i=this.eventData(e),r=this.paper;r.options.snapLinks?this._snapArrowheadEnd(i):this._connectArrowheadEnd(i,t,n),r.linkAllowed(this)?(this._finishEmbedding(i),this._notifyConnectEvent(i,e)):this._disallow(i),this._afterArrowheadMove(i)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,i=e.initialEnd,r=this.model.prop(n),a=r&&!x1.endsEqual(i,r);if(a){var o=this.paper;i.id&&this.notify("link:disconnect",t,o.findViewByModel(i.id),e.initialMagnet,n),r.id&&this.notify("link:connect",t,o.findViewByModel(r.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let i=null,r=1/0,a=null,o=1/0,s=e.x,l=e.y;for(let c=0;c<t.length;c++){const h=Math.abs(t[c].x-e.x);h<r&&(r=h,i=t[c]);const d=Math.abs(t[c].y-e.y);d<o&&(o=d,a=t[c])}return r<n&&(s=i.x),o<n&&(l=a.y),{x:s,y:l}},_snapArrowheadSelf:function(e,t,n){const{paper:i,model:r}=this,{snapLinksSelf:a}=i.options,o=this.eventData(e),s=a.radius||20,l=this.getEndAnchor(o.arrowhead==="source"?"target":"source"),c=r.vertices(),h=[l,...c],d=this._snapToPoints({x:t,y:n},h,s),p=i.localToClientPoint(d);this._connectArrowhead(document.elementFromPoint(p.x,p.y),d.x,d.y,this.eventData(e))},_snapArrowhead:function(e,t,n){const{paper:i}=this,{snapLinks:r,connectionStrategy:a}=i.options,o=this.eventData(e);let s=!1;var l=r.radius||50,c=i.findElementViewsInArea({x:t-l,y:n-l,width:2*l,height:2*l},r.findInAreaOptions),h=o.closestView||null,d=o.closestMagnet||null,p=o.magnetProxy||null;o.closestView=o.closestMagnet=o.magnetProxy=null;var y=Number.MAX_VALUE,S=new _e(t,n);c.forEach(function(Q){const H=[];Q.el.getAttribute("magnet")!=="false"&&H.push({bbox:Q.model.getBBox(),magnet:Q.el}),Q.$("[magnet]").toArray().forEach(g=>{H.push({bbox:Q.getNodeBBox(g),magnet:g})}),H.forEach(g=>{const{magnet:T,bbox:A}=g,D=A.center().squaredDistance(S);D<y&&(d===T||i.options.validateConnection.apply(i,o.validateConnectionArgs(Q,Q.el===T?null:T)))&&(y=D,o.closestView=Q,o.closestMagnet=T)})},this);var _,I=null,M=o.closestView,B=o.closestMagnet;B&&(I=o.magnetProxy=M.findProxyNode(B,"highlighter"));var U=o.arrowhead,K=d!==B;if(h&&K&&h.unhighlight(p,{connecting:!0,snapping:!0}),M){const{prevEnd:Q,prevX:H,prevY:g}=o;if(o.prevX=t,o.prevY=n,s=!0,!K&&(typeof a!="function"||H===t&&g===n)||(_=M.getLinkEnd(B,t,n,this.model,U),!K&&Yd(Q,_)))return s;o.prevEnd=_,K&&M.highlight(I,{connecting:!0,snapping:!0})}else _={x:t,y:n};return this.model.set(U,_||{x:t,y:n},{ui:!0}),h&&this.notify("link:snap:disconnect",e,h,d,U),M&&this.notify("link:snap:connect",e,M,B,U),s},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,i){const{paper:r,model:a}=this;if(i.eventTarget!==e){i.magnetProxy&&i.viewUnderPointer.unhighlight(i.magnetProxy,{connecting:!0});const o=i.viewUnderPointer=r.findView(e);if(o){const s=i.magnetUnderPointer=o.findMagnet(e),l=i.magnetProxy=o.findProxyNode(s,"highlighter");s&&this.paper.options.validateConnection.apply(r,i.validateConnectionArgs(o,s))?l&&o.highlight(l,{connecting:!0}):(i.magnetUnderPointer=null,i.magnetProxy=null)}else i.magnetUnderPointer=null,i.magnetProxy=null}i.eventTarget=e,a.set(i.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e={},t,n){const{model:i}=this,{viewUnderPointer:r,magnetUnderPointer:a,magnetProxy:o,arrowhead:s}=e;if(!a||!o||!r)return;r.unhighlight(o,{connecting:!0});const l=r.getLinkEnd(a,t,n,i,s);i.set(s,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var n,i=0,r=0;e==="source"?(i=2,n="target"):(r=2,n="source");var a=this.model.get(n);if(a.id){var o=t[i]=this.paper.findViewByModel(a.id),s=o.getMagnetFromLinkEnd(a);s===o.el&&(s=void 0),t[i+1]=s}function l(c,h){return t[r]=c,t[r+1]=c.el===h?void 0:h,t}return l},_markAvailableMagnets:function(e){function t(d,p){var y=d.paper,S=y.options.validateConnection;return S.apply(y,this.validateConnectionArgs(d,p))}var n=this.paper,i=n.model.getCells();e.marked={};for(var r=0,a=i.length;r<a;r++){var o=i[r].findView(n);if(o){var s=Array.prototype.slice.call(o.el.querySelectorAll("[magnet]"));o.el.getAttribute("magnet")!=="false"&&s.push(o.el);var l=s.filter(t.bind(e,o));if(l.length>0){for(var c=0,h=l.length;c<h;c++)o.highlight(l[c],{magnetAvailability:!0});o.highlight(null,{elementAvailability:!0}),e.marked[o.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),n,i,r=0,a=t.length;r<a;r++){n=t[r],i=e.marked[n];var o=this.paper.findViewByModel(n);if(o){for(var s=0,l=i.length;s<l;s++)o.unhighlight(i[s],{magnetAvailability:!0});o.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Ca(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){Jn.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){Jn.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){Jn.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:si});Object.defineProperty(pg.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Tt(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new Tt(this.sourceAnchor):e.getNodeBBox(n||e.el)}});Object.defineProperty(pg.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Tt(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new Tt(this.targetAnchor):e.getNodeBBox(n||e.el)}});const YQ=PT.extend({style:{"pointer-events":"none"},_gridCache:null,_gridSettings:null,init(){PT.prototype.init.apply(this,arguments);const{options:{paper:e}}=this;this._gridCache=null,this._gridSettings=[],this.listenTo(e,"transform resize",this.updateGrid)},setGrid(e){this._gridSettings=this.getGridSettings(e),this.renderGrid()},getGridSettings(e){const t=[];return e&&(Array.isArray(e)?e:[e||{}]).forEach(i=>{t.push(...this._resolveDrawGridOption(i))}),t},removeGrid(){const{_gridCache:e}=this;e&&(e.root.remove(),this._gridCache=null)},renderGrid(){const{options:{paper:e}}=this,{_gridSettings:t}=this;if(this.removeGrid(),t.length===0)return;const n=e.options.drawGridSize||e.options.gridSize;if(n<=1)return;const i=this._getGridRefs();t.forEach((r,a)=>{const o=this._getPatternId(a),s=ra({},r),{scaleFactor:l=1}=s;s.width=n*l||1,s.height=n*l||1;let c;i.exist(o)?c=i.get(o):(c=lt("pattern",{id:o,patternUnits:"userSpaceOnUse"},lt(s.markup)),i.add(o,c)),Ri(s.render)&&s.render(c.node.firstChild,s,e),c.attr({width:s.width,height:s.height})}),i.root.appendTo(this.el),this.updateGrid()},updateGrid(){const{_gridCache:e,_gridSettings:t,options:{paper:n}}=this;if(!e)return;const{root:i,patterns:r}=e,{x:a,y:o,width:s,height:l}=n.getArea();i.attr({x:a,y:o,width:s,height:l});for(const c in r)r[c].attr({x:-a,y:-o});t.forEach((c,h)=>{if(Ri(c.update)){const d=r[this._getPatternId(h)];c.update(d.node.firstChild,c,n)}})},_getPatternId(e){return`pattern_${this.options.paper.cid}_${e}`},_getGridRefs(){let{_gridCache:e}=this;if(e)return e;const t=lt("defs"),n=lt("svg",{width:"100%",height:"100%"},[t]);return e=this._gridCache={root:n,patterns:{},add:function(i,r){const a=lt("rect",{width:"100%",height:"100%",fill:`url(#${i})`});t.append(r),n.append(a),this.patterns[i]=r},get:function(i){return this.patterns[i]},exist:function(i){return this.patterns[i]!==void 0}},e},_resolveDrawGridOption(e){var t=this.options.patterns;if(Gr(e)&&Array.isArray(t[e]))return t[e].map(function(l){return zt({},l)});var n=e||{args:[{}]},i=Array.isArray(n),r=n.name;if(!i&&!r&&!n.markup&&(r="dot"),r&&Array.isArray(t[r])){var a=t[r].map(function(l){return zt({},l)}),o=Array.isArray(n.args)?n.args:[n.args||{}];ks(o[0],b1(e,"args"));for(var s=0;s<o.length;s++)a[s]&&zt(a[s],o[s]);return a}return i?n:[n]}}),Dp={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},XQ=50,BI=20,LI=1e3,JQ=1/0,Fb=9007199254740991,hw=Jn.Highlighting,FI={[hw.DEFAULT]:{name:"stroke",options:{padding:3}},[hw.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[hw.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},QQ=[{name:Ja.GRID},{name:Ja.BACK},{name:Ja.CELLS},{name:Ja.LABELS},{name:Ja.FRONT},{name:Ja.TOOLS}],JE=Pc.extend({className:"paper",options:{width:800,height:600,gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,elementView:vE,linkView:pg,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:FI,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:function(){const{cellNamespace:e}=this.model.get("cells"),t=d0(e,["standard","Link"]);if(!t)throw new Error("dia.Paper: no default link model found. Use `options.defaultLink` to specify a default link model.");return new t},defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"boundary"},connectionStrategy:null,validateMagnet:function(e,t,n){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,n,i,r,a){return(r==="target"?n:e)instanceof vE},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:Dp.APPROX,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,i,r){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||i.mounting||i.isolate||r.requestConnectedLinksUpdate(e,n,i)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:OJ,anchorNamespace:qQ,linkAnchorNamespace:wQ,connectionPointNamespace:$J,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},stylesheet:`
        .joint-element .scalable * {
            vector-effect: non-scaling-stroke;
        }
    `,svg:null,viewport:null,defs:null,tools:null,layers:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,DEFAULT_FIND_BUFFER:200,init:function(){const{options:e}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&_c(joint,"shapes")?joint.shapes:null);const t=this.model=e.model||new Gf;this._layers={},this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.resetViews(t.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates&&this._updates.id&&gE(this._updates.id),this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("transform",this.update)},onCellAdded:function(e,t,n){var i=n.position;this.isAsync()||!Co(i)?this.renderView(e,n):(n.maxPosition===i&&this.freeze({key:"addCells"}),this.renderView(e,n),i===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){const i=this.findViewByModel(e);i&&this.requestViewUpdate(i,i.FLAG_REMOVE,i.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===Dp.APPROX){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var i=this.UPDATE_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.updateViews(e)}var r=this.SORT_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:i,defaultAnchor:r,defaultLinkAnchor:a,highlighting:o,cellViewNamespace:s,interactive:l}=e;!s&&typeof joint<"u"&&_c(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),Ri(t)||(e.defaultConnector=eo(t)),Ri(n)||(e.defaultRouter=eo(n)),Ri(i)||(e.defaultConnectionPoint=eo(i)),Ri(r)||(e.defaultAnchor=eo(r)),Ri(a)||(e.defaultLinkAnchor=eo(a)),Hr(l)&&(e.interactive=zt({},l)),Hr(o)&&(e.highlighting=gA({},o,FI))},children:function(){var e=lt.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:ku("paper-background"),selector:"background",style:{position:"absolute",inset:0}},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",style:{position:"absolute",inset:0},children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:ku("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{el:e,childNodes:t,options:n,stylesheet:i}=this,{svg:r,defs:a,layers:o}=t;return e.style.position="relative",r.style.overflow=n.overflow?"visible":"hidden",this.svg=r,this.defs=a,this.layers=o,this.renderLayers(),lt.ensureId(r),this.addStylesheet(i),n.background&&this.drawBackground(n.background),n.drawGrid&&this.setGrid(n.drawGrid),this},addStylesheet:function(e){e&&lt(this.svg).prepend(lt.createSVGStyle(e))},createLayer(e){switch(e){case Ja.GRID:return new YQ({name:e,paper:this,patterns:this.constructor.gridPatterns});default:return new PT({name:e})}},renderLayers:function(e=QQ){this.removeLayers(),e.forEach(({name:r,sorted:a})=>{const o=this.createLayer(r);this.layers.appendChild(o.el),this._layers[r]=o});const t=this.getLayerView(Ja.CELLS),n=this.getLayerView(Ja.TOOLS),i=this.getLayerView(Ja.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(ku("viewport")),i.vel.addClass(ku("viewport")),t.el.style.webkitUserSelect="none",t.el.style.userSelect="none",i.el.style.webkitUserSelect="none",i.el.style.userSelect="none"},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this._background&&this.updateBackgroundImage(this._background),this},scale:function(e,t,n){const i=this.matrix();return e===void 0?lt.matrixToScale(i):(t===void 0&&(t=e),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE),i.a=e,i.d=t,this.matrix(i,n),this)},scaleUniformAtPoint:function(e,t,n){const{a:i,d:r,e:a,f:o}=this.matrix();if(e=Math.max(e||0,this.MIN_SCALE),e===i&&e===r)return this;const s=lt.createSVGMatrix().translate(a-t.x*(e-i),o-t.y*(e-r)).scale(e,e);return this.matrix(s,n),this},translate:function(e,t,n){const i=this.matrix();return e===void 0?lt.matrixToTranslate(i):(e||(e=0),t||(t=0),i.e===e&&i.f===t?this:(i.e=e,i.f=t,this.matrix(i,n),this))},matrix:function(e,t={}){var n=this.layers;if(e===void 0){var i=n.getAttribute("transform");return(this._viewportTransformString||null)===i?e=this._viewportMatrix:(e=n.getCTM(),this._viewportMatrix=e,this._viewportTransformString=i),lt.createSVGMatrix(e)}const r=this.matrix(),a=lt.createSVGMatrix(e),o=this._viewportTransformString,s=lt.matrixToTransformString(a);if(s===o)return this;if(!o&&lt.matrixToTransformString()===s)return this;const{a:l,d:c,e:h,f:d}=a;return n.setAttribute("transform",s),this._viewportMatrix=a,this._viewportTransformString=n.getAttribute("transform"),(l!==r.a||c!==r.d)&&this.trigger("scale",l,c,t),(h!==r.e||d!==r.f)&&this.trigger("translate",h,d,t),this.trigger("transform",a,t),this},clientMatrix:function(){return lt.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof Jn)for(var i=e.model,r=this.model.getConnectedLinks(i),a=0,o=r.length;a<o;a++){var s=r[a],l=this.findViewByModel(s);if(l){var c=["UPDATE"];s.getTargetCell()===i&&c.push("TARGET"),s.getSourceCell()===i&&c.push("SOURCE");var h=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(c),h,n)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof Jn))return!1;var n=e.model;if(n.isElement())return!1;if((t&e.getFlag(["SOURCE","TARGET"]))===0){var i={silent:!0},r=0,a=this.findViewByModel(n.getSourceCell());a&&!this.isViewMounted(a)&&(r=this.dumpView(a,i),e.updateEndMagnet("source"));var o=0,s=this.findViewByModel(n.getTargetCell());if(s&&!this.isViewMounted(s)&&(o=this.dumpView(s,i),e.updateEndMagnet("target")),r===0&&o===0)return!this.dumpView(e,i)}return!1},requestViewUpdate:function(e,t,n,i){i||(i={}),this.scheduleViewUpdate(e,t,n,i);var r=this.isAsync();if(!(this.isFrozen()||r&&i.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var a=this.updateViews(i);r&&this.notifyAfterRender(a,i)}},scheduleViewUpdate:function(e,t,n,i){const{_updates:r,options:a}=this;r.idle&&a.autoFreeze&&(r.idle=!1,this.unfreeze());const{FLAG_REMOVE:o,FLAG_INSERT:s,UPDATE_PRIORITY:l,cid:c}=e;let h=r.priorities[n];if(h||(h=r.priorities[n]={}),n>l)for(let y=n-1;y>=l;y--){const S=r.priorities[y];!S||!(c in S)||(h[c]|=S[c],delete S[c])}let d=h[c]||0;if((d&t)===t)return;d||r.count++,t&o&&d&s?h[c]^=s:t&s&&d&o&&(h[c]^=o),h[c]|=t;const p=a.onViewUpdate;typeof p=="function"&&p.call(this,e,t,n,i||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,n=e.cid,i=t.priorities[e.UPDATE_PRIORITY],r=this.registerMountedView(e)|i[n];return delete i[n],r},dumpView:function(e,t={}){const n=this.dumpViewUpdate(e);if(!n)return 0;const i=!t.silent;i&&this.notifyBeforeRender(t);const r=this.updateView(e,n,t);if(i){const a={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(a,t)}return r},updateView:function(e,t,n){if(!e)return 0;const{FLAG_REMOVE:i,FLAG_INSERT:r,FLAG_INIT:a,model:o}=e;if(e instanceof Jn){if(t&i)return this.removeView(o),0;if(t&r){const s=!!(t&a);s&&(t^=a),this.insertView(e,s),t^=r}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var i=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],i},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var i=n.unmounted[t]||0;return delete n.unmounted[t],i},isViewMounted:function(e){if(!e)return!1;var t=e.cid,n=this._updates;return t in n.mounted},dumpViews:function(e){var t=ks({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,n=0,i=0,r=Fb;do i++,t=this.updateViewsBatch(e),n+=t.updated,r=Math.min(t.priority,r);while(!t.empty);const a={updated:n,batches:i,priority:r};return this.notifyAfterRender(a,e),a},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let n=t.length;for(;n>0&&n--;)for(let i in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Fb});const{_updates:n,options:i}=this,r=n.id;if(r){gE(r),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const a=this.updateViewsBatch(e),o=ks({},e,{mountBatchSize:LI-a.mounted,unmountBatchSize:LI-a.unmounted}),s=this.checkViewport(o),l=s.unmounted,c=s.mounted;let h=t.processed;const d=n.count;a.updated>0?(h+=a.updated+a.unmounted,a.processed=h,t.priority=Math.min(a.priority,t.priority),a.empty&&c===0?(a.unmounted+=l,a.mounted+=c,a.priority=t.priority,this.notifyAfterRender(a,e),t.processed=0,t.priority=Fb,n.count=0):t.processed=h):n.idle||i.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));const p=e.progress;if(d&&typeof p=="function"&&p.call(this,a.empty,h,d,a,this),n.id!==r)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=_T(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let n=t.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||JQ,n=this._updates,i=0,r=0,a=0,o=0,s=Fb,l=!0,c=this.options,h=n.priorities,d="viewport"in e?e.viewport:c.viewport;typeof d!="function"&&(d=null);var p=c.onViewPostponed;typeof p!="function"&&(p=null);var y=Object.keys(h);e:for(var S=0,_=y.length;S<_;S++){var I=+y[S],M=h[I];for(var B in M){if(i>=t){l=!1;break e}var U=Qh[B];if(!U){delete M[B];continue}var K=M[B];if((K&U.FLAG_REMOVE)===0){var Q=B in n.unmounted;if(U.DETACHABLE&&d&&!d.call(this,U,!Q,this)){Q||(this.registerUnmountedView(U),this.detachView(U)),n.unmounted[B]|=K,delete M[B],a++;continue}Q&&(K|=U.FLAG_INSERT,o++),K|=this.registerMountedView(U)}var H=this.updateView(U,K,e);if(H>0&&(M[B]=H,!p||!p.call(this,U,H,this)||M[B])){r++,l=!1;continue}s>I&&(s=I),i++,delete M[B]}}return{priority:s,updated:i,postponed:r,unmounted:a,mounted:o,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),n=t.length,i=new Array(n);for(var r=0;r<n;r++)i[r]=Qh[t[r]];return i},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),n=t.length,i=new Array(n);for(var r=0;r<n;r++)i[r]=Qh[t[r]];return i},checkUnmountedViews:function(e,t){t||(t={});var n=0;typeof e!="function"&&(e=null);for(var i=("mountBatchSize"in t)?t.mountBatchSize:1/0,r=this._updates,a=r.unmountedCids,o=r.unmounted,s=0,l=Math.min(a.length,i);s<l;s++){var c=a[s];if(c in o){var h=Qh[c];if(h){if(h.DETACHABLE&&e&&!e.call(this,h,!1,this)){a.push(c);continue}n++;var d=this.registerMountedView(h);d&&this.scheduleViewUpdate(h,d,h.UPDATE_PRIORITY,{mounting:!0})}}}return a.splice(0,s),n},checkMountedViews:function(e,t){t||(t={});var n=0;if(typeof e!="function")return n;for(var i=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,r=this._updates,a=r.mountedCids,o=r.mounted,s=0,l=Math.min(a.length,i);s<l;s++){var c=a[s];if(c in o){var h=Qh[c];if(h){if(!h.DETACHABLE||e.call(this,h,!0,this)){a.push(c);continue}n++;var d=this.registerUnmountedView(h);d&&this.detachView(h)}}}return a.splice(0,s),n},checkViewVisibility:function(e,t={}){let n="viewport"in t?t.viewport:this.options.viewport;typeof n!="function"&&(n=null);const i=this._updates,{mounted:r,unmounted:a}=i,o=!e.DETACHABLE||!n||n.call(this,e,!1,this);let s=!1,l=!1;if(e.cid in r&&!o){this.registerUnmountedView(e)&&this.detachView(e);const d=i.mountedCids.indexOf(e.cid);i.mountedCids.splice(d,1),s=!0}if(!s&&e.cid in a&&o){const h=i.unmountedCids.indexOf(e.cid);i.unmountedCids.splice(h,1);var c=this.registerMountedView(e);c&&this.scheduleViewUpdate(e,c,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:s?1:0}},checkViewport:function(e){var t=ks({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,i=this.checkMountedViews(n,t);if(i>0){var r=this._updates.unmountedCids;t.mountBatchSize=Math.min(r.length-i,t.mountBatchSize)}var a=this.checkUnmountedViews(n,t);return{mounted:a,unmounted:i}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,i=this.options.frozen,r=t.freezeKey;if(n&&n!==r){if(i&&r)return;t.freezeKey=n,t.keyFrozen=i}this.options.frozen=!0;var a=t.id;t.id=null,this.isAsync()&&a&&gE(a)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,i=t.freezeKey;n&&i&&n!==i||(t.freezeKey=null,!(n&&n===i&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===Dp.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return Co(t)||(t=this.el.clientWidth),Co(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t,n={}){const{options:i}=this,{width:r,height:a}=i;let o=e===void 0?r:e,s=t===void 0?a:t;if(r===o&&a===s)return;i.width=o,i.height=s,this._setDimensions();const l=this.getComputedSize();this.trigger("resize",l.width,l.height,n)},_setDimensions:function(){const{options:e}=this;let t=e.width,n=e.height;Co(t)&&(t=`${Math.round(t)}px`),Co(n)&&(n=`${Math.round(n)}px`),this.$el.css({width:t===null?"":t,height:n===null?"":n})},fitToContent:function(e,t,n,i){hi(e)?i=e:i=zt({gridWidth:e,gridHeight:t,padding:n},i);const{x:r,y:a,width:o,height:s}=this.getFitToContentArea(i),{sx:l,sy:c}=this.scale();return this.translate(-r*l,-a*c,i),this.setDimensions(o*l,s*c,i),new Tt(r,a,o,s)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,n=e.gridHeight||1,i=Ru(e.padding||0),r=Math.max(e.minWidth||0,t),a=Math.max(e.minHeight||0,n),o=e.maxWidth||Number.MAX_VALUE,s=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,c="contentArea"in e?new Tt(e.contentArea):this.getContentArea(e),{sx:h,sy:d}=this.scale();c.x*=h,c.y*=d,c.width*=h,c.height*=d;let p=Math.ceil((c.width+c.x)/t),y=Math.ceil((c.height+c.y)/n);e.allowNegativeBottomRight||(p=Math.max(p,1),y=Math.max(y,1)),p*=t,y*=n;let S=0;(l==="negative"&&c.x<0||l==="positive"&&c.x>=0||l==="any")&&(S=Math.ceil(-c.x/t)*t,S+=i.left,p+=S);let _=0;return(l==="negative"&&c.y<0||l==="positive"&&c.y>=0||l==="any")&&(_=Math.ceil(-c.y/n)*n,_+=i.top,y+=_),p+=i.right,y+=i.bottom,p=Math.max(p,r),y=Math.max(y,a),p=Math.min(p,o),y=Math.min(y,s),new Tt(-S/h,-_/d,p/h,y/d)},transformToFitContent:function(e){e||(e={});let t,n;if("contentArea"in e){const U=e.contentArea;t=this.localToPaperRect(U),n=new _e(U)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;ks(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const i=Ru(e.padding),r=e.minScaleX||e.minScale,a=e.maxScaleX||e.maxScale,o=e.minScaleY||e.minScale,s=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const U=this.translate(),K=this.getComputedSize();l={x:U.tx,y:U.ty,width:K.width,height:K.height}}l=new Tt(l).moveAndExpand({x:i.left,y:i.top,width:-i.left-i.right,height:-i.top-i.bottom});const c=this.matrix(),{a:h,d,e:p,f:y}=c;let S=l.width/t.width*h,_=l.height/t.height*d;if(e.preserveAspectRatio&&(S=_=Math.min(S,_)),e.scaleGrid){const U=e.scaleGrid;S=U*Math.floor(S/U),_=U*Math.floor(_/U)}S=Math.min(a,Math.max(r,S)),_=Math.min(s,Math.max(o,_));const I={x:S/h,y:_/d};let M=l.x-n.x*S-p,B=l.y-n.y*_-y;switch(e.verticalAlign){case"middle":B=B+(l.height-t.height*I.y)/2;break;case"bottom":B=B+(l.height-t.height*I.y);break}switch(e.horizontalAlign){case"middle":M=M+(l.width-t.width*I.x)/2;break;case"right":M=M+(l.width-t.width*I.x);break}c.a=S,c.d=_,c.e=M,c.f=B,this.matrix(c,e)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Tt:lt(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let n;return Ri(t)?n=t.apply(this,e):t===!0?n=this.getArea():t?n=new Tt(t):n=null,n},createViewForModel:function(e){const{options:t}=this;var n,i,r=t.cellViewNamespace,a=e.get("type")+"View",o=d0(r,a,".");e.isLink()?(n=t.linkView,i=pg):(n=t.elementView,i=vE);var s=n.prototype instanceof nf?o||n:n.call(this,e)||o||i;return new s({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?Ja.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:n,_updates:i}=this,r=n[t];if(r){var{cid:a}=r;const{mounted:o,unmounted:s}=i;r.remove(),delete n[t],delete o[a],delete s[a]}return r},renderView:function(e,t){const{id:n}=e,i=this._views;let r,a,o=!0;return n in i&&(r=i[n],r.model===e?(a=r.FLAG_INSERT,o=!1):this.removeView(e)),o&&(r=i[n]=this.createViewForModel(e),r.paper=this,a=this.registerUnmountedView(r)|this.FLAG_INIT|r.getFlag(Yi(r,"initFlag"))),this.requestViewUpdate(r,a,r.UPDATE_PRIORITY,t),r},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var i=0,r=e.length;i<r;i++)this.renderView(e[i],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){Sc(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Array.from(this.cells.childNodes).filter(n=>n.getAttribute("model-id")),t=this.model.get("cells");RY(e,function(n,i){var r=t.get(n.getAttribute("model-id")),a=t.get(i.getAttribute("model-id")),o=r.attributes.z||0,s=a.attributes.z||0;return o===s?0:o<s?-1:1})},insertView:function(e,t){const n=this.getLayerView(Ja.CELLS),{el:i,model:r}=e;switch(this.options.sorting){case Dp.APPROX:n.insertSortedNode(i,r.get("z"));break;case Dp.EXACT:default:n.insertNode(i);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},findView:function(e){var t=Gr(e)?this.cells.querySelector(e):e instanceof Ct?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=Gr(e)||Co(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new _e(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=ks(t||{},{strict:!1}),e=new Tt(e);var n=this.model.getElements().map(this.findViewByModel,this),i=t.strict?"containsRect":"intersect";return n.filter(function(r){return r&&e[i](r.vel.getBBox({target:this.cells}))},this)},findElementViewsInArea(e,t){return this._filterViewsInArea(e,(n,i)=>this.model.findElementsInArea(n,i),t)},findLinkViewsInArea:function(e,t){return this._filterViewsInArea(e,(n,i)=>this.model.findLinksInArea(n,i),t)},findCellViewsInArea:function(e,t){return this._filterViewsInArea(e,(n,i)=>this.model.findCellsInArea(n,i),t)},findElementViewsAtPoint:function(e,t){return this._filterViewsAtPoint(e,n=>this.model.findElementsInArea(n),t)},findLinkViewsAtPoint:function(e,t){return this._filterViewsAtPoint(e,n=>this.model.findLinksInArea(n),t)},findCellViewsAtPoint:function(e,t){return this._filterViewsAtPoint(e,n=>this.model.findCellsInArea(n),t)},_findInExtendedArea:function(e,t,n={}){const{buffer:i=this.DEFAULT_FIND_BUFFER}=n,r=new Tt(e).inflate(i);return t(r,n).map(o=>this.findViewByModel(o))},_filterViewsInArea:function(e,t,n={}){const i=new Tt(e);return this._findInExtendedArea(i,t,n).filter(o=>o?o.isInArea(i,n):!1)},_filterViewsAtPoint:function(e,t,n={}){const i=new Tt(e);return this._findInExtendedArea(i,t,n).filter(o=>o?o.isAtPoint(e,n):!1)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new _e(e,t),i=lt.transformPoint(n,this.matrix());return i},localToPaperRect:function(e,t,n,i){var r=new Tt(e,t,n,i),a=lt.transformRect(r,this.matrix());return a},paperToLocalPoint:function(e,t){var n=new _e(e,t),i=lt.transformPoint(n,this.matrix().inverse());return i},paperToLocalRect:function(e,t,n,i){var r=new Tt(e,t,n,i),a=lt.transformRect(r,this.matrix().inverse());return a},localToClientPoint:function(e,t){var n=new _e(e,t),i=lt.transformPoint(n,this.clientMatrix());return i},localToClientRect:function(e,t,n,i){var r=new Tt(e,t,n,i),a=lt.transformRect(r,this.clientMatrix());return a},clientToLocalPoint:function(e,t){var n=new _e(e,t),i=lt.transformPoint(n,this.clientMatrix().inverse());return i},clientToLocalRect:function(e,t,n,i){var r=new Tt(e,t,n,i),a=lt.transformRect(r,this.clientMatrix().inverse());return a},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,i){return this.localToPaperRect(e,t,n,i).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var n=new _e(e,t),i=n.difference(this.pageOffset());return this.paperToLocalPoint(i)},pageToLocalRect:function(e,t,n,i){var r=this.pageOffset(),a=new Tt(e,t,n,i);return a.x-=r.x,a.y-=r.y,this.paperToLocalRect(a)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new _e(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof pg))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,i=this.model,r=i.constructor.validations;return!(!n.multiLinks&&!r.multiLinks.call(this,i,t)||!n.linkPinning&&!r.linkPinning.call(this,i,t)||typeof n.allowLink=="function"&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return Ri(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:n}=e;const{highlighting:i,highlighterNamespace:r}=this.options;if(t===void 0){if(!i||n&&(t=i[n],t===!1))return!1;t||(t=i.default)}if(!t)return!1;Gr(t)&&(t={name:t});const a=t.name,o=r[a];if(!o)throw new Error('Unknown highlighter ("'+a+'")');if(typeof o.highlight!="function")throw new Error('Highlighter ("'+a+'") is missing required highlight() method');if(typeof o.unhighlight!="function")throw new Error('Highlighter ("'+a+'") is missing required unhighlight() method');return{highlighter:o,options:t.options||{},name:a}},onCellHighlight:function(e,t,n){const i=this.resolveHighlighter(n);if(!i)return;const{highlighter:r,options:a}=i;r.highlight(e,t,a)},onCellUnhighlight:function(e,t,n){const i=this.resolveHighlighter(n);if(!i)return;const{highlighter:r,options:a}=i;r.unhighlight(e,t,a)},pointerdblclick:function(e){e.preventDefault(),e=Ki(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=Ki(e);var n=this.findView(e.target);if(this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n?n.pointerclick(e,i.x,i.y):this.trigger("blank:pointerclick",e,i.x,i.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=Ki(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=Ki(e);const{target:t,button:n}=e,i=this.findView(t),r=n===2;if(i){if(!r&&this.guard(e,i))return;const a=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!a&&e.preventDefault(),a&&i.preventDefaultInteraction(e);const o=this.customEventTrigger(e,i);if(o){if(o.isPropagationStopped())return;e.data=o.data}const s=t.closest("[magnet]");if(s&&i.el!==s&&i.el.contains(s)){const l=Ki(new Ct.Event(e.originalEvent,{data:e.data,currentTarget:s}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(r)return;this.delegateDragEvents(i,l.data);return}e.data=l.data}}if(r){this.contextMenuFired=!0;const a=new Ct.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(a)}else{const a=this.snapToGrid(e.clientX,e.clientY);i?i.pointerdown(e,a.x,a.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,a.x,a.y)),this.delegateDragEvents(i,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var n=++t.mousemoved;if(!(n<=this.options.moveThreshold)){e=Ki(e);var i=this.snapToGrid(e.clientX,e.clientY),r=t.sourceView;r?r.pointermove(e,i.x,i.y):this.trigger("blank:pointermove",e,i.x,i.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=Ki(e),n=this.snapToGrid(t.clientX,t.clientY),i=this.eventData(e).sourceView;i?i.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(new Ct.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=Ki(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=Ki(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=Ki(e);const{target:t,relatedTarget:n,currentTarget:i}=e,r=this.findView(t);if(this.guard(e,r))return;const a=this.findView(n);r&&(a===r||(r.mouseenter(e),this.el.contains(n)))||a||i===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=Ki(e);const{target:t,relatedTarget:n,currentTarget:i}=e,r=this.findView(t);if(this.guard(e,r))return;const a=this.findView(n);r&&(a===r||(r.mouseleave(e),this.el.contains(n)))||a||i===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:FK(function(){const{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce((o,s)=>o+PY(s,XQ),0),i=Math.pow(.995,n),{x:r,y:a}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,r,a,i),this._mw_evt_buffer={event:null,deltas:[]}},BI,{maxWait:BI}),mousewheel:function(e){e=Ki(e);const t=this.findView(e.target);if(this.guard(e,t))return;const n=e.originalEvent,i=this.snapToGrid(n.clientX,n.clientY),{deltaX:r,deltaY:a}=OY(n),o=this._events["paper:pinch"];if(e.ctrlKey&&o&&o.length>0)n.preventDefault(),this._mw_evt_buffer.event=e,this._mw_evt_buffer.deltas.push(a),this._processMouseWheelEvtBuf();else{const s=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,i.x,i.y,s):this.trigger("blank:mousewheel",e,i.x,i.y,s),this.trigger("paper:pan",e,r,a)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var i=this.findView(t);if(i){if(e=Ki(e),this.guard(e,i))return;var r=this.snapToGrid(e.clientX,e.clientY);i.onevent(e,n,r.x,r.y)}}},magnetEvent:function(e,t){var n=e.currentTarget,i=n.getAttribute("magnet");if(i){var r=this.findView(n);if(r){if(e=Ki(e),this.guard(e,r))return;var a=this.snapToGrid(e.clientX,e.clientY);t.call(this,r,e,n,a.x,a.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=new Ct.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,n,i,r,a){t.onmagnet(n,r,a)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,n,i,r,a){t.magnetpointerdblclick(n,i,r,a)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,n,i,r,a){t.magnetcontextmenu(n,i,r,a)})},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n||(e=Ki(e),this.guard(e,n)))return;const i=this.customEventTrigger(e,n,t);if(i){if(i.isPropagationStopped())return;e.data=i.data}var r=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,r.x,r.y)},getPointerArgs(e){const t=Ki(e),{x:n,y:i}=this.snapToGrid(t.clientX,t.clientY);return[t,n,i]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:n}=e;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(t&&t.model&&t.model instanceof Oc||this.el===n||this.svg.contains(n))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.getLayerView(Ja.GRID).renderGrid(),this},setGrid:function(e){return this.getLayerView(Ja.GRID).setGrid(e),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",n=e.size||"auto auto",i=this.scale(),r=this.translate();if(hi(t)){var a=r.tx+i.sx*(t.x||0),o=r.ty+i.sy*(t.y||0);t=a+"px "+o+"px"}hi(n)&&(n=new Tt(n).scale(i.sx,i.sy),n=n.width+"px "+n.height+"px");const{background:s}=this.childNodes;s.style.backgroundSize=n,s.style.backgroundPosition=t},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.childNodes.background.style.backgroundImage="";return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var n,i=t.size,r=t.repeat||"no-repeat",a=t.opacity||1,o=Math.abs(t.quality)||1,s=this.constructor.backgroundPatterns[mM(r)];if(Ri(s)){e.width*=o,e.height*=o;var l=s(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),r="repeat",hi(i)?(i.width*=l.width/e.width,i.height*=l.height/e.height):i===void 0&&(t.size={width:l.width/o,height:l.height/o})}else n=e.src,i===void 0&&(t.size={width:e.width,height:e.height});this.childNodes.background.style.opacity=a,this.childNodes.background.style.backgroundRepeat=r,this.childNodes.background.style.backgroundImage=`url(${n})`,this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=eo(e),eg(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Sc(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!hi(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+Mb(JSON.stringify(e))),!this.isDefined(t)){var i=BY,r=i[n]&&i[n](e.args||{});if(!r)throw new Error("Non-existing filter "+n);var a=zt({filterUnits:"userSpaceOnUse"},e.attrs,{id:t});lt(r,a).appendTo(this.defs)}return t},defineGradient:function(e){if(!hi(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{type:i,id:r=i+t.id+Mb(JSON.stringify(e)),stops:a,attrs:o={}}=e;if(this.isDefined(r))return r;const s=vi(a).map(({offset:c,color:h,opacity:d})=>lt("stop").attr({offset:c,"stop-color":h,"stop-opacity":Number.isFinite(d)?d:1})),l=lt(i,o,s);return l.id=r,l.appendTo(n),r},definePattern:function(e){if(!hi(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{id:i=t.id+Mb(JSON.stringify(e)),markup:r,attrs:a={}}=e;if(!r)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(i))return i;const o=lt("pattern",{patternUnits:"userSpaceOnUse"});if(o.id=i,o.attr(a),typeof r=="string")o.append(lt(r));else{const{fragment:s}=GE(r);o.append(s)}return o.appendTo(n),i},defineMarker:function(e){if(!hi(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:n}=this,{id:i=t.id+Mb(JSON.stringify(e)),markup:r,attrs:a={},markerUnits:o="userSpaceOnUse"}=e;if(this.isDefined(i))return i;const s=lt("marker",{orient:"auto",overflow:"visible",markerUnits:o});s.id=i,s.attr(a);let l;if(r){let d;if(typeof r=="string")d=lt(r),d=Array.isArray(d)?d:[d];else{const{fragment:p}=GE(r);d=lt(p).children()}d.length>1?l=lt("g").append(d):l=d[0]}else{const{type:d="path"}=e;l=lt(d)}const c=b1(e,"type","id","markup","attrs","markerUnits");return Object.keys(c).forEach(d=>{const p=c[d],y=l.attr(d);if(y==null)l.attr(d,p);else switch(d){case"transform":l.attr(d,p+" "+y);break}}),l.appendTo(s),s.appendTo(n),i},customEventTrigger:function(e,t,n=t.el){const i=e.target.closest("[event]");if(i&&n!==i&&t.el.contains(i)){const r=Ki(new Ct.Event(e.originalEvent,{data:e.data,currentTarget:i}));return this.onevent(r),r.isDefaultPrevented()&&e.preventDefault(),r}return null}},{sorting:Dp,Layers:Ja,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,i=e.height;t.width=2*n,t.height=2*i;var r=t.getContext("2d");return r.drawImage(e,0,0,n,i),r.setTransform(-1,0,0,-1,t.width,t.height),r.drawImage(e,0,0,n,i),r.setTransform(-1,0,0,1,t.width,0),r.drawImage(e,0,0,n,i),r.setTransform(1,0,0,-1,0,t.height),r.drawImage(e,0,0,n,i),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,i=e.height;t.width=n*2,t.height=i;var r=t.getContext("2d");return r.drawImage(e,0,0,n,i),r.translate(2*n,0),r.scale(-1,1),r.drawImage(e,0,0,n,i),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,i=e.height;t.width=n,t.height=i*2;var r=t.getContext("2d");return r.drawImage(e,0,0,n,i),r.translate(0,2*i),r.scale(1,-1),r.drawImage(e,0,0,n,i),t},watermark:function(e,t){t=t||{};var n=e.width,i=e.height,r=document.createElement("canvas");r.width=n*3,r.height=i*3;for(var a=r.getContext("2d"),o=Co(t.watermarkAngle)?-t.watermarkAngle:-20,s=ls(o),l=r.width/4,c=r.height/4,h=0;h<4;h++)for(var d=0;d<4;d++)(h+d)%2>0&&(a.setTransform(1,0,0,1,(2*h-1)*l,(2*d-1)*c),a.rotate(s),a.drawImage(e,-n/2,-i/2,n,i));return r}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",render:function(e,t){lt(e).attr({width:t.thickness,height:t.thickness,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",render:function(e,t){lt(e).attr({fill:t.color})},update:function(e,t,n){const{sx:i,sy:r}=n.scale(),a=i<=1?t.thickness:t.thickness/i,o=r<=1?t.thickness:t.thickness/r;lt(e).attr({width:a,height:o})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",render:function(e,t){var n,i=t.width,r=t.height,a=t.thickness;i-a>=0&&r-a>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",lt(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",render:function(e,t){var n,i=t.width,r=t.height,a=t.thickness;i-a>=0&&r-a>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",lt(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",render:function(e,t){var n,i=t.width,r=t.height,a=t.thickness;i-a>=0&&r-a>=0?n=["M",i,0,"H0 M0 0 V0",r].join(" "):n="M 0 0 0 0",lt(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}}),Wf=Pc.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,_visibleExplicit:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},updateVisibility:function(){const e=this.computeVisibility();this.el.style.display=e?"":"none",this._visible=e},computeVisibility(){if(!this.isExplicitlyVisible())return!1;const{visibility:e}=this.options;return typeof e!="function"?!0:!!e.call(this,this.relatedView,this)},show:function(){this._visibleExplicit=!0,this.updateVisibility()},hide:function(){this._visibleExplicit=!1,this.updateVisibility()},isExplicitlyVisible:function(){return!!this._visibleExplicit},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:n}=this;return!t||!n?!0:t.guard(e,n)}}),cN=Pc.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=zt(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof Jn))return this;for(var i=this.tools=[],r=0,a=t.length;r<a;r++){var o=t[r];o instanceof Wf&&(o.configure(n,this),this.vel.append(o.el),i.push(o))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});const t=this.tools;if(!t)return this;const n=t.length,i=this.isRendered;for(let r=0;r<n;r++){const a=t[r];a.updateVisibility(),a.isVisible()&&this.ensureToolRendered(t,r)&&e.tool!==a.cid&&a.update()}return!this.isRendered&&n>0?this:(this.isMounted()||this.mount(),i||this.blurTool(),this)},ensureToolRendered(e,t){return this.isRendered||(this.isRendered=Array(e.length).fill(!1)),this.isRendered[t]?!0:(e[t].render(),this.isRendered[t]=!0,!1)},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,i=t.length;n<i;n++){var r=t[n];e===r?r.show():r.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,i=t.length;n<i;n++){var r=t[n];r!==e&&!r.isExplicitlyVisible()&&(r.show(),r.isVisible()&&this.ensureToolRendered(t,n)&&r.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null),this.isMounted()||this.mount(),this},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:n,layer:i=Ja.TOOLS,z:r}=e;return n&&(i?n.paper.getLayerView(i).insertSortedNode(t,r):n.el.appendChild(t)),this}});var zI=Pc.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(e,t){const{vel:n,options:i}=this,{scale:r}=i;let a=lt.createSVGMatrix().translate(e,t);r&&(a=a.scale(r)),n.transform(a,{absolute:!0})},onPointerDown:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.trigger("will-change",this,e))},onPointerMove:function(e){this.trigger("changing",this,e)},onDoubleClick:function(e){this.trigger("remove",this,e)},onPointerUp:function(e){this.trigger("changed",this,e),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}});const ZQ=Wf.extend({name:"vertices",options:{handleClass:zI,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0,scale:null},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,interactiveLinkNode:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},linkEvents:{mousedown:"onLinkPointerDown",touchstart:"onLinkPointerDown"},onRender:function(){const{vertexAdding:e}=this.options;if(e){const{interactiveLinkNode:t=null}=e;t?this.delegateLinkEvents(t):(this.renderChildren(),this.updatePath())}return this.resetHandles(),this.renderHandles(),this},delegateLinkEvents:function(e){this.undelegateLinkEvents();const t=this.relatedView.findNode(e);if(!t){console.warn(`Interactive link node "${e}" not found.`);return}t.classList.add("joint-vertices-path"),this.interactiveLinkNode=t,this.delegateElementEvents(t,this.linkEvents)},undelegateLinkEvents:function(){const e=this.interactiveLinkNode;e&&(this.undelegateElementEvents(e),e.classList.remove("joint-vertices-path"),this.interactiveLinkNode=null)},update:function(){var e=this.relatedView,t=e.model.vertices();return t.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},renderHandles:function(){for(var e=this.relatedView,t=e.model.vertices(),n=0,i=t.length;n<i;n++){var r=t[n],a=new this.options.handleClass({index:n,paper:this.paper,scale:this.options.scale,guard:o=>this.guard(o)});a.render(),a.position(r.x,r.y),this.simulateRelatedView(a.el),a.vel.appendTo(this.el),this.handles.push(a),this.startHandleListening(a)}},updateHandles:function(){for(var e=this.relatedView,t=e.model.vertices(),n=0,i=t.length;n<i;n++){var r=t[n],a=this.handles[n];if(!a)return;a.position(r.x,r.y)}},updatePath:function(){if(this.interactiveLinkNode)return;const e=this.childNodes.connection;e&&e.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(e){const{vertexRemoving:t=!0,vertexMoving:n=!0}=this.options;n&&(this.listenTo(e,"will-change",this.onHandleWillChange),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"changed",this.onHandleChanged)),t&&this.listenTo(e,"remove",this.onHandleRemove)},getNeighborPoints:function(e){var t=this.relatedView,n=t.model.vertices(),i=e>0?n[e-1]:t.sourceAnchor,r=e<n.length-1?n[e+1]:t.targetAnchor;return{prev:new _e(i),next:new _e(r)}},onHandleWillChange:function(e,t){this.focus();const{relatedView:n,options:i}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),i.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(t))},onHandleChanging:function(e,t){const{options:n,relatedView:i}=this;var r=e.options.index,[a,o,s]=i.paper.getPointerArgs(t),l={x:o,y:s};this.snapVertex(l,r),i.model.vertex(r,l,{ui:!0,tool:this.cid}),e.position(l.x,l.y),n.stopPropagation||i.notifyPointermove(a,o,s)},onHandleChanged:function(e,t){const{options:n,relatedView:i}=this;if(n.vertexAdding&&this.updatePath(),!n.redundancyRemoval){i.checkMouseleave(Ki(t));return}var r=i.removeRedundantLinearVertices({ui:!0,tool:this.cid});r&&this.render(),this.blur(),i.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(t).vertexAdded&&i.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[a,o,s]=i.paper.getPointerArgs(t);n.stopPropagation||i.notifyPointerup(a,o,s),i.checkMouseleave(a)},snapVertex:function(e,t){var n=this.options.snapRadius;if(n>0){var i=this.getNeighborPoints(t),r=i.prev,a=i.next;Math.abs(e.x-r.x)<n?e.x=r.x:Math.abs(e.x-a.x)<n&&(e.x=a.x),Math.abs(e.y-r.y)<n?e.y=i.prev.y:Math.abs(e.y-a.y)<n&&(e.y=a.y)}},onHandleRemove:function(e,t){var n=e.options.index,i=this.relatedView;i.model.removeVertex(n,{ui:!0}),this.options.vertexAdding&&this.updatePath(),i.checkMouseleave(Ki(t))},onPathPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=Ki(e),n=this.paper.snapToGrid(t.clientX,t.clientY).toJSON(),i=this.relatedView;i.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var r=i.getVertexIndex(n.x,n.y);this.snapVertex(n,r),i.model.insertVertex(r,n,{ui:!0,tool:this.cid}),this.update();var a=this.handles[r];this.eventData(t,{vertexAdded:!0}),a.onPointerDown(t)}},onLinkPointerDown:function(e){this.relatedView.preventDefaultInteraction(e),this.onPathPointerDown(e)},onRemove:function(){this.resetHandles(),this.undelegateLinkEvents()}},{VertexHandle:zI});function uN(e,t){const{model:n}=e;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}function dN(e,t,n){var i=VJ.call(this.paper,{},t,n,e,this.model);return i.anchor}function eZ(e,t,n,i,r,a){var o=a.options.snapRadius,s=i==="source",l=s?0:-1,c=this.model.vertex(l)||this.getEndAnchor(s?"target":"source");return c&&(Math.abs(c.x-e.x)<o&&(e.x=c.x),Math.abs(c.y-e.y)<o&&(e.y=c.y)),e}var $I=Pc.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(e,t,n,i){const{scale:r}=this.options;let a=lt.createSVGMatrix().translate(e,t).rotate(n);r&&(a=a.scale(r));var o=this.childNodes.handle;o.setAttribute("transform",lt.matrixToTransformString(a)),o.setAttribute("cursor",n%180===0?"row-resize":"col-resize");var s=i.getClosestPoint(new _e(e,t)),l=this.childNodes.line;l.setAttribute("x1",e),l.setAttribute("y1",t),l.setAttribute("x2",s.x),l.setAttribute("y2",s.y)},onPointerDown:function(e){this.options.guard(e)||(this.trigger("change:start",this,e),e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data))},onPointerMove:function(e){this.trigger("changing",this,e)},onPointerUp:function(e){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,e)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}});const tZ=Wf.extend({name:"segments",precision:.5,options:{handleClass:$I,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:dN,snapRadius:10,snapHandle:!0,stopPropagation:!0},handles:null,onRender:function(){this.resetHandles();var e=this.relatedView,t=e.model.vertices();t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var n=0,i=t.length;n<i-1;n++){var r=t[n],a=t[n+1],o=this.renderHandle(r,a);this.simulateRelatedView(o.el),this.handles.push(o),o.options.index=n}return this},renderHandle:function(e,t){var n=new this.options.handleClass({paper:this.paper,scale:this.options.scale,guard:i=>this.guard(i)});return n.render(),this.updateHandle(n,e,t),n.vel.appendTo(this.el),this.startHandleListening(n),n},update:function(){return this.render(),this},startHandleListening:function(e){this.listenTo(e,"change:start",this.onHandleChangeStart),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},shiftHandleIndexes:function(e){for(var t=this.handles,n=0,i=t.length;n<i;n++)t[n].options.index+=e},resetAnchor:function(e,t){var n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(e,t,n){var i=e.options.index,r=this.relatedView,a=r.model,o=a.vertices(),s=e.options.axis,l=o[i-2]||n.sourceAnchor,c=o[i+1]||n.targetAnchor,h=this.options.snapRadius;return Math.abs(t[s]-l[s])<h?t[s]=l[s]:Math.abs(t[s]-c[s])<h&&(t[s]=c[s]),t},onHandleChanging:function(e,t){const{options:n}=this;var i=this.eventData(t),r=this.relatedView,a=r.paper,o=e.options.index-1,s=Ki(t),l=a.snapToGrid(s.clientX,s.clientY),c=this.snapHandle(e,l.clone(),i),h=e.options.axis,d=this.options.snapHandle?0:l[h]-c[h],p=r.model,y=eo(p.vertices()),S=this.options.anchor;typeof S!="function"&&(S=null);const _=e.options.index,I=[r.sourcePoint.clone(),...y,r.targetPoint.clone()];let M=0;if(_-1>=0){const F=I[_-1],$=I[_];new Ot(F,$).vector().theta()%90!==0&&(y.splice(_-1,0,i.originalVertices[_-1]),M++,this.shiftHandleIndexes(1))}var B=y[o+M],U=y[o+1+M];if(_+2<I.length){const F=I[_+1],$=I[_+2];if(new Ot(F,$).vector().theta()%90!==0){const J=i.originalVertices.length===1,G=J?0:_,le=i.firstHandleShifted&&!J?1:0;let Ie=1+M;y.splice(_+Ie,0,i.originalVertices[G-le])}}var K=r.sourceView,Q=r.sourceBBox,H=!1,g=!1;if(B?o===0?Q.containsPoint(B)?(y.shift(),this.shiftHandleIndexes(-1),H=!0):(B[h]=c[h],g=!0):B[h]=c[h]:(B=r.sourceAnchor.toJSON(),B[h]=c[h],Q.containsPoint(B)?(B[h]=c[h],H=!0):(y.unshift(B),this.shiftHandleIndexes(1),i.firstHandleShifted=!0,g=!0)),S&&K){if(H){var T=i.sourceAnchor.clone();T[h]=c[h];var A=S.call(r,T,K,r.sourceMagnet||K.el,"source",r);this.resetAnchor("source",A)}g&&this.resetAnchor("source",i.sourceAnchorDef)}var D=r.targetView,Z=r.targetBBox,ie=!1,se=!1;if(U?o===y.length-2?Z.containsPoint(U)?(y.pop(),ie=!0):(U[h]=c[h],se=!0):U[h]=c[h]:(U=r.targetAnchor.toJSON(),U[h]=c[h],Z.containsPoint(U)?ie=!0:(y.push(U),se=!0)),S&&D){if(ie){var ue=i.targetAnchor.clone();ue[h]=c[h];var de=S.call(r,ue,D,r.targetMagnet||D.el,"target",r);this.resetAnchor("target",de)}se&&this.resetAnchor("target",i.targetAnchorDef)}if(y.some(F=>!F))throw new Error("Segments: incompatible router in use");p.vertices(y,{ui:!0,tool:this.cid}),this.updateHandle(e,B,U,d),n.stopPropagation||r.notifyPointermove(s,l.x,l.y)},onHandleChangeStart:function(e,t){const{options:n,handles:i,relatedView:r}=this,{model:a,paper:o}=r;var s=e.options.index;if(Array.isArray(i)){for(var l=0,c=i.length;l<c;l++)l!==s&&i[l].hide();this.focus(),this.eventData(t,{sourceAnchor:r.sourceAnchor.clone(),targetAnchor:r.targetAnchor.clone(),sourceAnchorDef:Ca(a.prop(["source","anchor"])),targetAnchorDef:Ca(a.prop(["target","anchor"])),originalVertices:eo(a.vertices()),firstHandleShifted:!1}),a.startBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||r.notifyPointerdown(...o.getPointerArgs(t))}},onHandleChangeEnd:function(e,t){const{options:n,relatedView:i}=this,{paper:r,model:a}=i;n.redundancyRemoval&&i.removeRedundantLinearVertices({ui:!0,tool:this.cid});const o=Ki(t),s=r.snapToGrid(o.clientX,o.clientY);this.render(),this.blur(),a.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.stopPropagation||i.notifyPointerup(o,s.x,s.y),i.checkMouseleave(o)},updateHandle:function(e,t,n,i){var r=Math.abs(t.x-n.x)<this.precision,a=Math.abs(t.y-n.y)<this.precision;if(r||a){var o=new Ot(t,n),s=o.length();if(s<this.options.segmentLengthThreshold)e.hide();else{var l=o.midpoint(),c=r?"x":"y";l[c]+=i||0;var h=o.vector().vectorAngle(new _e(1,0));e.position(l.x,l.y,h,this.relatedView),e.show(),e.options.axis=c}}else e.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:$I}),hN=Wf.extend({tagName:"path",xAxisVector:new _e(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{scale:null},onRender:function(){this.update()},update:function(){var e=this.ratio,t=this.relatedView,n=t.getTangentAtRatio(e),i,r;if(n?(i=n.start,r=n.vector().vectorAngle(this.xAxisVector)||0):(i=t.getPointAtRatio(e),r=0),!i)return this;var a=lt.createSVGMatrix().translate(i.x,i.y).rotate(r);const{scale:o}=this.options;return o&&(a=a.scale(o)),this.vel.transform(a,{absolute:!0}),this},onPointerDown:function(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();var t=this.relatedView,n=t.paper;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.startArrowheadMove(this.arrowheadType);const i=e.data||(e.data={});this.delegateDocumentEvents(null,i),n.undelegateEvents(),this.focus(),this.el.style.pointerEvents="none",t.notifyPointerdown(...n.getPointerArgs(e))},onPointerMove:function(e){var t=Ki(e),n=this.paper.snapToGrid(t.clientX,t.clientY);this.relatedView.pointermove(t,n.x,n.y)},onPointerUp:function(e){this.undelegateDocumentEvents();var t=this.relatedView,n=t.paper,i=Ki(e),r=n.snapToGrid(i.clientX,i.clientY);t.pointerup(i,r.x,r.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",t.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),nZ=hN.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),iZ=hN.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),fN=Wf.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick",dbltap:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:eZ,anchor:dN,scale:null,resetAnchor:!0,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){var e=this.type,t=this.relatedView,n=t.getEndView(e);return n?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var e=this.childNodes;if(!e)return;var t=e.anchor;if(!t)return;var n=this.relatedView,i=this.type,r=n.getEndAnchor(i),a=this.options,o=n.model.prop([i,"anchor"]);let s=`translate(${r.x},${r.y})`;a.scale&&(s+=` scale(${a.scale})`),t.setAttribute("transform",s);var l=o?a.customAnchorAttributes:a.defaultAnchorAttributes;for(var c in l)t.setAttribute(c,l[c])},updateArea:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var n=this.relatedView,i=this.type,r=n.getEndView(i),a=r.model,o=n.getEndMagnet(i),s=this.options.areaPadding;isFinite(s)||(s=0);var l,c,h;r.isNodeConnection(o)?(l=r.getNodeBBox(o),c=0,h=l.center()):(l=r.getNodeUnrotatedBBox(o),c=a.angle(),h=l.center(),c&&h.rotate(a.getBBox().center(),-c)),l.inflate(s),t.setAttribute("x",-l.width/2),t.setAttribute("y",-l.height/2),t.setAttribute("width",l.width),t.setAttribute("height",l.height),t.setAttribute("transform","translate("+h.x+","+h.y+") rotate("+c+")")}}},toggleArea:function(e){var t=this.childNodes;if(t){var n=t.area;n&&(n.style.display=e?"":"none")}},onPointerDown:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(e){var t=this.type,n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(e){var t=this.relatedView,n=this.type,i=t.getEndView(n),r=i.model,a=t.getEndMagnet(n),o=Ki(e),s=this.paper.clientToLocalPoint(o.clientX,o.clientY),l=this.options.snap;if(typeof l=="function"&&(s=l.call(t,s,i,a,n,t,this),s=new _e(s)),this.options.restrictArea)if(i.isNodeConnection(a)){var c=i.getClosestPoint(s);c&&(s=c)}else{var h=i.getNodeUnrotatedBBox(a),d=r.angle(),p=r.getBBox().center(),y=s.clone().rotate(p,d);h.containsPoint(y)||(s=h.pointNearestToPoint(y).rotate(p,-d))}var S,_=this.options.anchor;typeof _=="function"&&(S=_.call(t,s,i,a,n,t)),this.resetAnchor(S),this.update()},onPointerUp:function(e){const t=Ki(e);this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var n=this.relatedView;this.options.redundancyRemoval&&n.removeRedundantLinearVertices({ui:!0,tool:this.cid}),n.checkMouseleave(t),n.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){var e=this.options.resetAnchor;e!==!1&&(e===!0&&(e=null),this.resetAnchor(eo(e)),this.update())}}),rZ=fN.extend({name:"source-anchor",type:"source"}),aZ=fN.extend({name:"target-anchor",type:"target"}),zS=Wf.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:n=0,y:i=0,offset:r={},useModelGeometry:a,rotate:o,scale:s}=t,l=uN(e,a);const c=e.model.angle();o||(l=l.bbox(c));const{x:h=0,y:d=0}=r;oa(n)?n=parseFloat(n)/100*l.width:eh(n)&&(n=Number(th(n,l))),oa(i)?i=parseFloat(i)/100*l.height:eh(i)&&(i=Number(th(i,l)));let p=lt.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return o&&(p=p.rotate(c)),p=p.translate(n+h-l.width/2,i+d-l.height/2),s&&(p=p.scale(s)),p},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:n=0,distance:i=0,rotate:r,scale:a}=t,o=typeof i=="function"?i.call(this,e,this):i;let s,l,c;oa(o)?s=e.getTangentAtRatio(parseFloat(o)/100):s=e.getTangentAtLength(o),s?(l=s.start,c=s.vector().vectorAngle(new _e(1,0))||0):(l=e.getConnection().start,c=0);let h=lt.createSVGMatrix().translate(l.x,l.y).rotate(c).translate(0,n);return r||(h=h.rotate(-c)),a&&(h=h.scale(a)),h},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),pN=zS.extend({name:"remove",children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}}),oZ=Wf.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){const{relatedView:e,options:t,vel:n}=this,{useModelGeometry:i,rotate:r}=t,a=Ru(t.padding);let o=uN(e,i).moveAndExpand({x:-a.left,y:-a.top,width:a.left+a.right,height:a.top+a.bottom});var s=e.model;if(s.isElement()){var l=s.angle();if(l)if(r){var c=s.getBBox().center();n.rotate(l,c.x,c.y,{absolute:!0})}else o=o.bbox(l)}return n.attr(o.toJSON()),this}}),sZ=zS.extend({name:"connect",documentEvents:{mousemove:"drag",touchmove:"drag",mouseup:"dragend",touchend:"dragend",touchcancel:"dragend"},children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}],options:{distance:80,offset:0,magnet:e=>e.el,action:(e,t,n)=>n.dragstart(e)},getMagnetNode:function(){const{options:e,relatedView:t}=this,{magnet:n}=e;let i;switch(typeof n){case"function":{i=n.call(this,t,this);break}case"string":{i=t.findNode(n);break}default:{i=n;break}}if(i||(i=t.el),i instanceof SVGElement)return i;throw new Error("Connect: magnet must be an SVGElement")},dragstart:function(e){const{paper:t,relatedView:n}=this,i=Ki(e),{x:r,y:a}=t.clientToLocalPoint(i.clientX,i.clientY);n.dragLinkStart(i,this.getMagnetNode(),r,a),t.undelegateEvents(),this.delegateDocumentEvents(null,i.data),this.focus()},drag:function(e){const{paper:t,relatedView:n}=this,i=Ki(e),{x:r,y:a}=t.snapToGrid(i.clientX,i.clientY);n.dragLink(i,r,a)},dragend:function(e){const{paper:t,relatedView:n}=this,i=Ki(e),{x:r,y:a}=t.snapToGrid(i.clientX,i.clientY);n.dragLinkEnd(i,r,a),this.undelegateDocumentEvents(),t.delegateEvents(),this.blur(),n.checkMouseleave(i)}});/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function gN(e){return typeof e>"u"||e===null}function lZ(e){return typeof e=="object"&&e!==null}function cZ(e){return Array.isArray(e)?e:gN(e)?[]:[e]}function uZ(e,t){var n,i,r,a;if(t)for(a=Object.keys(t),n=0,i=a.length;n<i;n+=1)r=a[n],e[r]=t[r];return e}function dZ(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function hZ(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var fZ=gN,pZ=lZ,gZ=cZ,mZ=dZ,yZ=hZ,vZ=uZ,aa={isNothing:fZ,isObject:pZ,toArray:gZ,repeat:mZ,isNegativeZero:yZ,extend:vZ};function mN(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function by(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=mN(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}by.prototype=Object.create(Error.prototype);by.prototype.constructor=by;by.prototype.toString=function(t){return this.name+": "+mN(this,t)};var rs=by;function fw(e,t,n,i,r){var a="",o="",s=Math.floor(r/2)-1;return i-t>s&&(a=" ... ",t=i-s+a.length),n-i>s&&(o=" ...",n=i+s-o.length),{str:a+e.slice(t,n).replace(/\t/g,"→")+o,pos:i-t+a.length}}function pw(e,t){return aa.repeat(" ",t-e.length)+e}function bZ(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],a,o=-1;a=n.exec(e.buffer);)r.push(a.index),i.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var s="",l,c,h=Math.min(e.line+t.linesAfter,r.length).toString().length,d=t.maxLength-(t.indent+h+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=fw(e.buffer,i[o-l],r[o-l],e.position-(i[o]-i[o-l]),d),s=aa.repeat(" ",t.indent)+pw((e.line-l+1).toString(),h)+" | "+c.str+`
`+s;for(c=fw(e.buffer,i[o],r[o],e.position,d),s+=aa.repeat(" ",t.indent)+pw((e.line+1).toString(),h)+" | "+c.str+`
`,s+=aa.repeat("-",t.indent+h+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=r.length);l++)c=fw(e.buffer,i[o+l],r[o+l],e.position-(i[o]-i[o+l]),d),s+=aa.repeat(" ",t.indent)+pw((e.line+l+1).toString(),h)+" | "+c.str+`
`;return s.replace(/\n$/,"")}var EZ=bZ,xZ=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],SZ=["scalar","sequence","mapping"];function _Z(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function CZ(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(xZ.indexOf(n)===-1)throw new rs('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=_Z(t.styleAliases||null),SZ.indexOf(this.kind)===-1)throw new rs('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var ro=CZ;function qI(e,t){var n=[];return e[t].forEach(function(i){var r=n.length;n.forEach(function(a,o){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(r=o)}),n[r]=i}),n}function wZ(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function MT(e){return this.extend(e)}MT.prototype.extend=function(t){var n=[],i=[];if(t instanceof ro)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new rs("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof ro))throw new rs("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new rs("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new rs("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(a){if(!(a instanceof ro))throw new rs("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(MT.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=qI(r,"implicit"),r.compiledExplicit=qI(r,"explicit"),r.compiledTypeMap=wZ(r.compiledImplicit,r.compiledExplicit),r};var TZ=MT,AZ=new ro("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),kZ=new ro("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),IZ=new ro("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),OZ=new TZ({explicit:[AZ,kZ,IZ]});function PZ(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function MZ(){return null}function NZ(e){return e===null}var RZ=new ro("tag:yaml.org,2002:null",{kind:"scalar",resolve:PZ,construct:MZ,predicate:NZ,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function DZ(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function BZ(e){return e==="true"||e==="True"||e==="TRUE"}function LZ(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var FZ=new ro("tag:yaml.org,2002:bool",{kind:"scalar",resolve:DZ,construct:BZ,predicate:LZ,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function zZ(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function $Z(e){return 48<=e&&e<=55}function qZ(e){return 48<=e&&e<=57}function UZ(e){if(e===null)return!1;var t=e.length,n=0,i=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!zZ(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!$Z(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!qZ(e.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function HZ(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function VZ(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!aa.isNegativeZero(e)}var GZ=new ro("tag:yaml.org,2002:int",{kind:"scalar",resolve:UZ,construct:HZ,predicate:VZ,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),WZ=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function jZ(e){return!(e===null||!WZ.test(e)||e[e.length-1]==="_")}function KZ(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var YZ=/^[-+]?[0-9]+e/;function XZ(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(aa.isNegativeZero(e))return"-0.0";return n=e.toString(10),YZ.test(n)?n.replace("e",".e"):n}function JZ(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||aa.isNegativeZero(e))}var QZ=new ro("tag:yaml.org,2002:float",{kind:"scalar",resolve:jZ,construct:KZ,predicate:JZ,represent:XZ,defaultStyle:"lowercase"}),ZZ=OZ.extend({implicit:[RZ,FZ,GZ,QZ]}),eee=ZZ,yN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),vN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function tee(e){return e===null?!1:yN.exec(e)!==null||vN.exec(e)!==null}function nee(e){var t,n,i,r,a,o,s,l=0,c=null,h,d,p;if(t=yN.exec(e),t===null&&(t=vN.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(h=+t[10],d=+(t[11]||0),c=(h*60+d)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(n,i,r,a,o,s,l)),c&&p.setTime(p.getTime()-c),p}function iee(e){return e.toISOString()}var ree=new ro("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:tee,construct:nee,instanceOf:Date,represent:iee});function aee(e){return e==="<<"||e===null}var oee=new ro("tag:yaml.org,2002:merge",{kind:"scalar",resolve:aee}),wA=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function see(e){if(e===null)return!1;var t,n,i=0,r=e.length,a=wA;for(n=0;n<r;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function lee(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,a=wA,o=0,s=[];for(t=0;t<r;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(i.charAt(t));return n=r%4*6,n===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):n===18?(s.push(o>>10&255),s.push(o>>2&255)):n===12&&s.push(o>>4&255),new Uint8Array(s)}function cee(e){var t="",n=0,i,r,a=e.length,o=wA;for(i=0;i<a;i++)i%3===0&&i&&(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]),n=(n<<8)+e[i];return r=a%3,r===0?(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]):r===2?(t+=o[n>>10&63],t+=o[n>>4&63],t+=o[n<<2&63],t+=o[64]):r===1&&(t+=o[n>>2&63],t+=o[n<<4&63],t+=o[64],t+=o[64]),t}function uee(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var dee=new ro("tag:yaml.org,2002:binary",{kind:"scalar",resolve:see,construct:lee,predicate:uee,represent:cee}),hee=Object.prototype.hasOwnProperty,fee=Object.prototype.toString;function pee(e){if(e===null)return!0;var t=[],n,i,r,a,o,s=e;for(n=0,i=s.length;n<i;n+=1){if(r=s[n],o=!1,fee.call(r)!=="[object Object]")return!1;for(a in r)if(hee.call(r,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function gee(e){return e!==null?e:[]}var mee=new ro("tag:yaml.org,2002:omap",{kind:"sequence",resolve:pee,construct:gee}),yee=Object.prototype.toString;function vee(e){if(e===null)return!0;var t,n,i,r,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(i=o[t],yee.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;a[t]=[r[0],i[r[0]]]}return!0}function bee(e){if(e===null)return[];var t,n,i,r,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1)i=o[t],r=Object.keys(i),a[t]=[r[0],i[r[0]]];return a}var Eee=new ro("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:vee,construct:bee}),xee=Object.prototype.hasOwnProperty;function See(e){if(e===null)return!0;var t,n=e;for(t in n)if(xee.call(n,t)&&n[t]!==null)return!1;return!0}function _ee(e){return e!==null?e:{}}var Cee=new ro("tag:yaml.org,2002:set",{kind:"mapping",resolve:See,construct:_ee}),bN=eee.extend({implicit:[ree,oee],explicit:[dee,mee,Eee,Cee]}),nh=Object.prototype.hasOwnProperty,QE=1,EN=2,xN=3,ZE=4,gw=1,wee=2,UI=3,Tee=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Aee=/[\x85\u2028\u2029]/,kee=/[,\[\]\{\}]/,SN=/^(?:!|!!|![a-z\-]+!)$/i,_N=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function HI(e){return Object.prototype.toString.call(e)}function Mc(e){return e===10||e===13}function kf(e){return e===9||e===32}function as(e){return e===9||e===32||e===10||e===13}function tg(e){return e===44||e===91||e===93||e===123||e===125}function Iee(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Oee(e){return e===120?2:e===117?4:e===85?8:0}function Pee(e){return 48<=e&&e<=57?e-48:-1}function VI(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function Mee(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var CN=new Array(256),wN=new Array(256);for(var Bp=0;Bp<256;Bp++)CN[Bp]=VI(Bp)?1:0,wN[Bp]=VI(Bp);function Nee(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||bN,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function TN(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=EZ(n),new rs(t,n)}function on(e,t){throw TN(e,t)}function ex(e,t){e.onWarning&&e.onWarning.call(null,TN(e,t))}var GI={YAML:function(t,n,i){var r,a,o;t.version!==null&&on(t,"duplication of %YAML directive"),i.length!==1&&on(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&on(t,"ill-formed argument of the YAML directive"),a=parseInt(r[1],10),o=parseInt(r[2],10),a!==1&&on(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&ex(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var r,a;i.length!==2&&on(t,"TAG directive accepts exactly two arguments"),r=i[0],a=i[1],SN.test(r)||on(t,"ill-formed tag handle (first argument) of the TAG directive"),nh.call(t.tagMap,r)&&on(t,'there is a previously declared suffix for "'+r+'" tag handle'),_N.test(a)||on(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{on(t,"tag prefix is malformed: "+a)}t.tagMap[r]=a}};function Jd(e,t,n,i){var r,a,o,s;if(t<n){if(s=e.input.slice(t,n),i)for(r=0,a=s.length;r<a;r+=1)o=s.charCodeAt(r),o===9||32<=o&&o<=1114111||on(e,"expected valid JSON character");else Tee.test(s)&&on(e,"the stream contains non-printable characters");e.result+=s}}function WI(e,t,n,i){var r,a,o,s;for(aa.isObject(n)||on(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),o=0,s=r.length;o<s;o+=1)a=r[o],nh.call(t,a)||(t[a]=n[a],i[a]=!0)}function ng(e,t,n,i,r,a,o,s,l){var c,h;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,h=r.length;c<h;c+=1)Array.isArray(r[c])&&on(e,"nested arrays are not supported inside keys"),typeof r=="object"&&HI(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&HI(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(c=0,h=a.length;c<h;c+=1)WI(e,t,a[c],n);else WI(e,t,a,n);else!e.json&&!nh.call(n,r)&&nh.call(t,r)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,on(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[r]=a,delete n[r];return t}function TA(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):on(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Jr(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;kf(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(Mc(r))for(TA(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&ex(e,"deficient indentation"),i}function $S(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||as(n)))}function AA(e,t){t===1?e.result+=" ":t>1&&(e.result+=aa.repeat(`
`,t-1))}function Ree(e,t,n){var i,r,a,o,s,l,c,h,d=e.kind,p=e.result,y;if(y=e.input.charCodeAt(e.position),as(y)||tg(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(r=e.input.charCodeAt(e.position+1),as(r)||n&&tg(r)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,s=!1;y!==0;){if(y===58){if(r=e.input.charCodeAt(e.position+1),as(r)||n&&tg(r))break}else if(y===35){if(i=e.input.charCodeAt(e.position-1),as(i))break}else{if(e.position===e.lineStart&&$S(e)||n&&tg(y))break;if(Mc(y))if(l=e.line,c=e.lineStart,h=e.lineIndent,Jr(e,!1,-1),e.lineIndent>=t){s=!0,y=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=h;break}}s&&(Jd(e,a,o,!1),AA(e,e.line-l),a=o=e.position,s=!1),kf(y)||(o=e.position+1),y=e.input.charCodeAt(++e.position)}return Jd(e,a,o,!1),e.result?!0:(e.kind=d,e.result=p,!1)}function Dee(e,t){var n,i,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Jd(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,r=e.position;else return!0;else Mc(n)?(Jd(e,i,r,!0),AA(e,Jr(e,!1,t)),i=r=e.position):e.position===e.lineStart&&$S(e)?on(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);on(e,"unexpected end of the stream within a single quoted scalar")}function Bee(e,t){var n,i,r,a,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Jd(e,n,e.position,!0),e.position++,!0;if(s===92){if(Jd(e,n,e.position,!0),s=e.input.charCodeAt(++e.position),Mc(s))Jr(e,!1,t);else if(s<256&&CN[s])e.result+=wN[s],e.position++;else if((o=Oee(s))>0){for(r=o,a=0;r>0;r--)s=e.input.charCodeAt(++e.position),(o=Iee(s))>=0?a=(a<<4)+o:on(e,"expected hexadecimal character");e.result+=Mee(a),e.position++}else on(e,"unknown escape sequence");n=i=e.position}else Mc(s)?(Jd(e,n,i,!0),AA(e,Jr(e,!1,t)),n=i=e.position):e.position===e.lineStart&&$S(e)?on(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}on(e,"unexpected end of the stream within a double quoted scalar")}function Lee(e,t){var n=!0,i,r,a,o=e.tag,s,l=e.anchor,c,h,d,p,y,S=Object.create(null),_,I,M,B;if(B=e.input.charCodeAt(e.position),B===91)h=93,y=!1,s=[];else if(B===123)h=125,y=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),B=e.input.charCodeAt(++e.position);B!==0;){if(Jr(e,!0,t),B=e.input.charCodeAt(e.position),B===h)return e.position++,e.tag=o,e.anchor=l,e.kind=y?"mapping":"sequence",e.result=s,!0;n?B===44&&on(e,"expected the node content, but found ','"):on(e,"missed comma between flow collection entries"),I=_=M=null,d=p=!1,B===63&&(c=e.input.charCodeAt(e.position+1),as(c)&&(d=p=!0,e.position++,Jr(e,!0,t))),i=e.line,r=e.lineStart,a=e.position,h0(e,t,QE,!1,!0),I=e.tag,_=e.result,Jr(e,!0,t),B=e.input.charCodeAt(e.position),(p||e.line===i)&&B===58&&(d=!0,B=e.input.charCodeAt(++e.position),Jr(e,!0,t),h0(e,t,QE,!1,!0),M=e.result),y?ng(e,s,S,I,_,M,i,r,a):d?s.push(ng(e,null,S,I,_,M,i,r,a)):s.push(_),Jr(e,!0,t),B=e.input.charCodeAt(e.position),B===44?(n=!0,B=e.input.charCodeAt(++e.position)):n=!1}on(e,"unexpected end of the stream within a flow collection")}function Fee(e,t){var n,i,r=gw,a=!1,o=!1,s=t,l=0,c=!1,h,d;if(d=e.input.charCodeAt(e.position),d===124)i=!1;else if(d===62)i=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)gw===r?r=d===43?UI:wee:on(e,"repeat of a chomping mode identifier");else if((h=Pee(d))>=0)h===0?on(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?on(e,"repeat of an indentation width identifier"):(s=t+h-1,o=!0);else break;if(kf(d)){do d=e.input.charCodeAt(++e.position);while(kf(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!Mc(d)&&d!==0)}for(;d!==0;){for(TA(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),Mc(d)){l++;continue}if(e.lineIndent<s){r===UI?e.result+=aa.repeat(`
`,a?1+l:l):r===gw&&a&&(e.result+=`
`);break}for(i?kf(d)?(c=!0,e.result+=aa.repeat(`
`,a?1+l:l)):c?(c=!1,e.result+=aa.repeat(`
`,l+1)):l===0?a&&(e.result+=" "):e.result+=aa.repeat(`
`,l):e.result+=aa.repeat(`
`,a?1+l:l),a=!0,o=!0,l=0,n=e.position;!Mc(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Jd(e,n,e.position,!1)}return!0}function jI(e,t){var n,i=e.tag,r=e.anchor,a=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,on(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!as(o))));){if(s=!0,e.position++,Jr(e,!0,-1)&&e.lineIndent<=t){a.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,h0(e,t,xN,!1,!0),a.push(e.result),Jr(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)on(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=a,!0):!1}function zee(e,t,n){var i,r,a,o,s,l,c=e.tag,h=e.anchor,d={},p=Object.create(null),y=null,S=null,_=null,I=!1,M=!1,B;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),B=e.input.charCodeAt(e.position);B!==0;){if(!I&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,on(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),a=e.line,(B===63||B===58)&&as(i))B===63?(I&&(ng(e,d,p,y,S,null,o,s,l),y=S=_=null),M=!0,I=!0,r=!0):I?(I=!1,r=!0):on(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,B=i;else{if(o=e.line,s=e.lineStart,l=e.position,!h0(e,n,EN,!1,!0))break;if(e.line===a){for(B=e.input.charCodeAt(e.position);kf(B);)B=e.input.charCodeAt(++e.position);if(B===58)B=e.input.charCodeAt(++e.position),as(B)||on(e,"a whitespace character is expected after the key-value separator within a block mapping"),I&&(ng(e,d,p,y,S,null,o,s,l),y=S=_=null),M=!0,I=!1,r=!1,y=e.tag,S=e.result;else if(M)on(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=h,!0}else if(M)on(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=h,!0}if((e.line===a||e.lineIndent>t)&&(I&&(o=e.line,s=e.lineStart,l=e.position),h0(e,t,ZE,!0,r)&&(I?S=e.result:_=e.result),I||(ng(e,d,p,y,S,_,o,s,l),y=S=_=null),Jr(e,!0,-1),B=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&B!==0)on(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return I&&ng(e,d,p,y,S,null,o,s,l),M&&(e.tag=c,e.anchor=h,e.kind="mapping",e.result=d),M}function $ee(e){var t,n=!1,i=!1,r,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&on(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,r="!!",o=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):on(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!as(o);)o===33&&(i?on(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),SN.test(r)||on(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),kee.test(a)&&on(e,"tag suffix cannot contain flow indicator characters")}a&&!_N.test(a)&&on(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{on(e,"tag name is malformed: "+a)}return n?e.tag=a:nh.call(e.tagMap,r)?e.tag=e.tagMap[r]+a:r==="!"?e.tag="!"+a:r==="!!"?e.tag="tag:yaml.org,2002:"+a:on(e,'undeclared tag handle "'+r+'"'),!0}function qee(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&on(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!as(n)&&!tg(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&on(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Uee(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!as(i)&&!tg(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&on(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),nh.call(e.anchorMap,n)||on(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Jr(e,!0,-1),!0}function h0(e,t,n,i,r){var a,o,s,l=1,c=!1,h=!1,d,p,y,S,_,I;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=ZE===n||xN===n,i&&Jr(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;$ee(e)||qee(e);)Jr(e,!0,-1)?(c=!0,s=a,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=c||r),(l===1||ZE===n)&&(QE===n||EN===n?_=t:_=t+1,I=e.position-e.lineStart,l===1?s&&(jI(e,I)||zee(e,I,_))||Lee(e,_)?h=!0:(o&&Fee(e,_)||Dee(e,_)||Bee(e,_)?h=!0:Uee(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&on(e,"alias node should not have any properties")):Ree(e,_,QE===n)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(h=s&&jI(e,I))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&on(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,p=e.implicitTypes.length;d<p;d+=1)if(S=e.implicitTypes[d],S.resolve(e.result)){e.result=S.construct(e.result),e.tag=S.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(nh.call(e.typeMap[e.kind||"fallback"],e.tag))S=e.typeMap[e.kind||"fallback"][e.tag];else for(S=null,y=e.typeMap.multi[e.kind||"fallback"],d=0,p=y.length;d<p;d+=1)if(e.tag.slice(0,y[d].tag.length)===y[d].tag){S=y[d];break}S||on(e,"unknown tag !<"+e.tag+">"),e.result!==null&&S.kind!==e.kind&&on(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+S.kind+'", not "'+e.kind+'"'),S.resolve(e.result,e.tag)?(e.result=S.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):on(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}function Hee(e){var t=e.position,n,i,r,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Jr(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!as(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),r=[],i.length<1&&on(e,"directive name must not be less than one character in length");o!==0;){for(;kf(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Mc(o));break}if(Mc(o))break;for(n=e.position;o!==0&&!as(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}o!==0&&TA(e),nh.call(GI,i)?GI[i](e,i,r):ex(e,'unknown document directive "'+i+'"')}if(Jr(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Jr(e,!0,-1)):a&&on(e,"directives end mark is expected"),h0(e,e.lineIndent-1,ZE,!1,!0),Jr(e,!0,-1),e.checkLineBreaks&&Aee.test(e.input.slice(t,e.position))&&ex(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&$S(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Jr(e,!0,-1));return}if(e.position<e.length-1)on(e,"end of the stream or a document separator is expected");else return}function Vee(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Nee(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,on(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Hee(n);return n.documents}function Gee(e,t){var n=Vee(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new rs("expected a single document in the stream, but found more")}}var Wee=Gee,jee={load:Wee},AN=Object.prototype.toString,kN=Object.prototype.hasOwnProperty,kA=65279,Kee=9,Ey=10,Yee=13,Xee=32,Jee=33,Qee=34,NT=35,Zee=37,ete=38,tte=39,nte=42,IN=44,ite=45,tx=58,rte=61,ate=62,ote=63,ste=64,ON=91,PN=93,lte=96,MN=123,cte=124,NN=125,co={};co[0]="\\0";co[7]="\\a";co[8]="\\b";co[9]="\\t";co[10]="\\n";co[11]="\\v";co[12]="\\f";co[13]="\\r";co[27]="\\e";co[34]='\\"';co[92]="\\\\";co[133]="\\N";co[160]="\\_";co[8232]="\\L";co[8233]="\\P";var ute=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],dte=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function hte(e,t){var n,i,r,a,o,s,l;if(t===null)return{};for(n={},i=Object.keys(t),r=0,a=i.length;r<a;r+=1)o=i[r],s=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&kN.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[o]=s;return n}function fte(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else if(e<=4294967295)n="U",i=8;else throw new rs("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+aa.repeat("0",i-t.length)+t}var pte=1,xy=2;function gte(e){this.schema=e.schema||bN,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=aa.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=hte(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?xy:pte,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function KI(e,t){for(var n=aa.repeat(" ",t),i=0,r=-1,a="",o,s=e.length;i<s;)r=e.indexOf(`
`,i),r===-1?(o=e.slice(i),i=s):(o=e.slice(i,r+1),i=r+1),o.length&&o!==`
`&&(a+=n),a+=o;return a}function RT(e,t){return`
`+aa.repeat(" ",e.indent*t)}function mte(e,t){var n,i,r;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(r=e.implicitTypes[n],r.resolve(t))return!0;return!1}function nx(e){return e===Xee||e===Kee}function Sy(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==kA||65536<=e&&e<=1114111}function YI(e){return Sy(e)&&e!==kA&&e!==Yee&&e!==Ey}function XI(e,t,n){var i=YI(e),r=i&&!nx(e);return(n?i:i&&e!==IN&&e!==ON&&e!==PN&&e!==MN&&e!==NN)&&e!==NT&&!(t===tx&&!r)||YI(t)&&!nx(t)&&e===NT||t===tx&&r}function yte(e){return Sy(e)&&e!==kA&&!nx(e)&&e!==ite&&e!==ote&&e!==tx&&e!==IN&&e!==ON&&e!==PN&&e!==MN&&e!==NN&&e!==NT&&e!==ete&&e!==nte&&e!==Jee&&e!==cte&&e!==rte&&e!==ate&&e!==tte&&e!==Qee&&e!==Zee&&e!==ste&&e!==lte}function vte(e){return!nx(e)&&e!==tx}function wm(e,t){var n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function RN(e){var t=/^\n* /;return t.test(e)}var DN=1,DT=2,BN=3,LN=4,Jp=5;function bte(e,t,n,i,r,a,o,s){var l,c=0,h=null,d=!1,p=!1,y=i!==-1,S=-1,_=yte(wm(e,0))&&vte(wm(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=wm(e,l),!Sy(c))return Jp;_=_&&XI(c,h,s),h=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=wm(e,l),c===Ey)d=!0,y&&(p=p||l-S-1>i&&e[S+1]!==" ",S=l);else if(!Sy(c))return Jp;_=_&&XI(c,h,s),h=c}p=p||y&&l-S-1>i&&e[S+1]!==" "}return!d&&!p?_&&!o&&!r(e)?DN:a===xy?Jp:DT:n>9&&RN(e)?Jp:o?a===xy?Jp:DT:p?LN:BN}function Ete(e,t,n,i,r){e.dump=function(){if(t.length===0)return e.quotingType===xy?'""':"''";if(!e.noCompatMode&&(ute.indexOf(t)!==-1||dte.test(t)))return e.quotingType===xy?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),s=i||e.flowLevel>-1&&n>=e.flowLevel;function l(c){return mte(e,c)}switch(bte(t,s,e.indent,o,l,e.quotingType,e.forceQuotes&&!i,r)){case DN:return t;case DT:return"'"+t.replace(/'/g,"''")+"'";case BN:return"|"+JI(t,e.indent)+QI(KI(t,a));case LN:return">"+JI(t,e.indent)+QI(KI(xte(t,o),a));case Jp:return'"'+Ste(t)+'"';default:throw new rs("impossible error: invalid scalar style")}}()}function JI(e,t){var n=RN(e)?String(t):"",i=e[e.length-1]===`
`,r=i&&(e[e.length-2]===`
`||e===`
`),a=r?"+":i?"":"-";return n+a+`
`}function QI(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function xte(e,t){for(var n=/(\n+)([^\n]*)/g,i=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,n.lastIndex=c,ZI(e.slice(0,c),t)}(),r=e[0]===`
`||e[0]===" ",a,o;o=n.exec(e);){var s=o[1],l=o[2];a=l[0]===" ",i+=s+(!r&&!a&&l!==""?`
`:"")+ZI(l,t),r=a}return i}function ZI(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,i,r=0,a,o=0,s=0,l="";i=n.exec(e);)s=i.index,s-r>t&&(a=o>r?o:s,l+=`
`+e.slice(r,a),r=a+1),o=s;return l+=`
`,e.length-r>t&&o>r?l+=e.slice(r,o)+`
`+e.slice(o+1):l+=e.slice(r),l.slice(1)}function Ste(e){for(var t="",n=0,i,r=0;r<e.length;n>=65536?r+=2:r++)n=wm(e,r),i=co[n],!i&&Sy(n)?(t+=e[r],n>=65536&&(t+=e[r+1])):t+=i||fte(n);return t}function _te(e,t,n){var i="",r=e.tag,a,o,s;for(a=0,o=n.length;a<o;a+=1)s=n[a],e.replacer&&(s=e.replacer.call(n,String(a),s)),(Du(e,t,s,!1,!1)||typeof s>"u"&&Du(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=r,e.dump="["+i+"]"}function e6(e,t,n,i){var r="",a=e.tag,o,s,l;for(o=0,s=n.length;o<s;o+=1)l=n[o],e.replacer&&(l=e.replacer.call(n,String(o),l)),(Du(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&Du(e,t+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=RT(e,t)),e.dump&&Ey===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=a,e.dump=r||"[]"}function Cte(e,t,n){var i="",r=e.tag,a=Object.keys(n),o,s,l,c,h;for(o=0,s=a.length;o<s;o+=1)h="",i!==""&&(h+=", "),e.condenseFlow&&(h+='"'),l=a[o],c=n[l],e.replacer&&(c=e.replacer.call(n,l,c)),Du(e,t,l,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Du(e,t,c,!1,!1)&&(h+=e.dump,i+=h));e.tag=r,e.dump="{"+i+"}"}function wte(e,t,n,i){var r="",a=e.tag,o=Object.keys(n),s,l,c,h,d,p;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new rs("sortKeys must be a boolean or a function");for(s=0,l=o.length;s<l;s+=1)p="",(!i||r!=="")&&(p+=RT(e,t)),c=o[s],h=n[c],e.replacer&&(h=e.replacer.call(n,c,h)),Du(e,t+1,c,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&Ey===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,d&&(p+=RT(e,t)),Du(e,t+1,h,!0,d)&&(e.dump&&Ey===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,r+=p));e.tag=a,e.dump=r||"{}"}function t6(e,t,n){var i,r,a,o,s,l;for(r=n?e.explicitTypes:e.implicitTypes,a=0,o=r.length;a<o;a+=1)if(s=r[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(n?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,AN.call(s.represent)==="[object Function]")i=s.represent(t,l);else if(kN.call(s.represent,l))i=s.represent[l](t,l);else throw new rs("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');e.dump=i}return!0}return!1}function Du(e,t,n,i,r,a,o){e.tag=null,e.dump=n,t6(e,n,!1)||t6(e,n,!0);var s=AN.call(e.dump),l=i,c;i&&(i=e.flowLevel<0||e.flowLevel>t);var h=s==="[object Object]"||s==="[object Array]",d,p;if(h&&(d=e.duplicates.indexOf(n),p=d!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(r=!1),p&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(h&&p&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),s==="[object Object]")i&&Object.keys(e.dump).length!==0?(wte(e,t,e.dump,r),p&&(e.dump="&ref_"+d+e.dump)):(Cte(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(s==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?e6(e,t-1,e.dump,r):e6(e,t,e.dump,r),p&&(e.dump="&ref_"+d+e.dump)):(_te(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&Ete(e,e.dump,t,a,l);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new rs("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function Tte(e,t){var n=[],i=[],r,a;for(BT(e,n,i),r=0,a=i.length;r<a;r+=1)t.duplicates.push(n[i[r]]);t.usedDuplicates=new Array(a)}function BT(e,t,n){var i,r,a;if(e!==null&&typeof e=="object")if(r=t.indexOf(e),r!==-1)n.indexOf(r)===-1&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,a=e.length;r<a;r+=1)BT(e[r],t,n);else for(i=Object.keys(e),r=0,a=i.length;r<a;r+=1)BT(e[i[r]],t,n)}function Ate(e,t){t=t||{};var n=new gte(t);n.noRefs||Tte(e,n);var i=e;return n.replacer&&(i=n.replacer.call({"":i},"",i)),Du(n,0,i,!0,!0)?n.dump+`
`:""}var kte=Ate,Ite={dump:kte},Ote=jee.load,Pte=Ite.dump;let zb;const Mte=new Uint8Array(16);function Nte(){if(!zb&&(zb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zb(Mte)}const Pa=[];for(let e=0;e<256;++e)Pa.push((e+256).toString(16).slice(1));function Rte(e,t=0){return Pa[e[t+0]]+Pa[e[t+1]]+Pa[e[t+2]]+Pa[e[t+3]]+"-"+Pa[e[t+4]]+Pa[e[t+5]]+"-"+Pa[e[t+6]]+Pa[e[t+7]]+"-"+Pa[e[t+8]]+Pa[e[t+9]]+"-"+Pa[e[t+10]]+Pa[e[t+11]]+Pa[e[t+12]]+Pa[e[t+13]]+Pa[e[t+14]]+Pa[e[t+15]]}const Dte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),n6={randomUUID:Dte};function ws(e,t,n){if(n6.randomUUID&&!e)return n6.randomUUID();e=e||{};const i=e.random||(e.rng||Nte)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Rte(i)}const ge=Object.freeze({COMPONENT:"component",SERVICE:"service",BACKING_SERVICE:"backing-service",STORAGE_BACKING_SERVICE:"storage-backing-service",PROXY_BACKING_SERVICE:"proxy-backing-service",BROKER_BACKING_SERVICE:"broker-backing-service",ENDPOINT:"endpoint",EXTERNAL_ENDPOINT:"external-endpoint",LINK:"link",INFRASTRUCTURE:"infrastructure",DEPLOYMENT_MAPPING:"deployment-mapping",REQUEST_TRACE:"request-trace",DATA_AGGREGATE:"data-aggregate",BACKING_DATA:"backing-data",NETWORK:"network"}),Zr={tosca_definitions_version:"tosca_2_0",profile:"org.dsg.cna-modeling:0.6",metadata:{template_name:"profile.yaml",template_author:"Distributed Systems Group",template_version:.6},description:"This TOSCA definitions document contains the CNA Modeling TOSCA profile",dsl_definitions:"",repositories:{},artifact_types:{"CNA.Artifact":{description:"The root artifact type for artifacts used in the cna modeling application",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}}},"Kubernetes.Resource":{description:`A Kubernetes resource (like Deployment, Service, etc) which is described in a file
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact",file_ext:["yaml","yml"]},"Kubernetes.Resource.Service":{description:`A Kubernetes Service Resource
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"Kubernetes.Resource",file_ext:["yaml","yml"]},"Kubernetes.Resource.Deployment":{description:`A Kubernetes Deployment Resource
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"Kubernetes.Resource",file_ext:["yaml","yml"]},Implementation:{description:`A generic implementation artifact
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Implementation.Bash":{description:`Script artifact for the Unix Bash shell.
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"Implementation",mime_type:"application/x-sh",file_ext:["sh"]},"Implementation.Python":{description:`Artifact for the interpreted Python language.
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"Implementation",mime_type:"application/x-python",file_ext:["py"]},"Implementation.Java":{description:`Artifact type for a Java archive which might be executable
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"Implementation",file_ext:["jar"]},"Implementation.JavaScript":{description:`Artifact type for a JavaScript implementation
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"Implementation",file_ext:["js"]},"Image.Container":{description:`Artifact type for a Container Image
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Image.Container.OCI":{description:`Artifact type for a OCI (Open Container Initiative)-compliant Container Image 
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:"OCI",self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Image.VM":{description:`Artifact type for a Virtual Machine (VM) Image
`,properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Terraform.Script":{description:"A configuration file which can be used by Terraform to set up components or infrastructure.",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact",file_ext:["tf","tf.json"]},"Pulumi.Script":{description:"A configuration file which can be used by Pulumi to set up components or infrastructure.",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Ansible.Script":{description:"A configuration file which can be used by Ansible to set up components or infrastructure.",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Chef.Script":{description:"A configuration file which can be used by Chef to set up components or infrastructure.",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Puppet.Script":{description:"A configuration file which can be used by Puppet to set up components or infrastructure.",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"CloudFormation.Script":{description:"A configuration file which can be used by AWS tools to set up components or infrastructure.",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact",file_ext:["yaml","yml","json"]},"AWS.Resource":{description:"An abstract type for resources created in the AWS cloud.",properties:{provider_specific:!0,based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"AWS.EKS.Cluster":{description:"An AWS EKS Cluster",properties:{provider_specific:!0,based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"AWS.Resource"},"AWS.EC2.Instance":{description:"An AWS EC2 Instance",properties:{provider_specific:!0,based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"AWS.Resource"},"AWS.EC2.LoadBalancer":{description:"An AWS EC2 LoadBalancer",properties:{provider_specific:!0,based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"AWS.Resource"},"AWS.EC2.NodeGroup":{description:"An AWS EC2 NodeGroup",properties:{provider_specific:!0,based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"AWS.Resource"},"AWS.Beanstalk.Application":{description:"An AWS Beanstalk application",properties:{provider_specific:!0,based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"AWS.Resource"},"AWS.RDS.Instance":{description:"An AWS RDS instance",properties:{provider_specific:!0,based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"AWS.Resource"},"Azure.Resource":{description:"An abstract type for resources created in the Microsoft Azure Cloud.",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Azure.ResourceManagerTemplate":{description:"An artifact type for Azure Resource Manager (ARM) templates",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"GCP.Resource":{description:"An abstract type for resources created in the Google Cloud Platform.",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},OpenAPI:{description:"Artifact type for OpenAPI-based service interface description documents",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:"OpenAPI",self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Spring.CloudContract":{description:"Artifact type for Spring Cloud contracts for consumer-driven contract testing of APIs",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"},"Pact.Contract":{description:"Artifact type for Pact contracts for consumer-driven contract testing of APIs",properties:{provider_specific:{type:"boolean",description:"Whether this artifact is (cloud) provider-specific or not.",required:!0,default:!1},based_on_standard:{type:"text",description:"If the artifact is based on a standard, specify it here.",required:!0,validation:{$valid_values:["$value",["none","OCI","OpenAPI","other"]]},default:"none"},self_contained:{type:"boolean",description:"Whether this artifact is self-contained or not, that means whether it needs additional resources explicitly added to it to be used.",required:!0,default:!1}},derived_from:"CNA.Artifact"}},data_types:{},capability_types:{"cna-modeling.capabilities.Endpoint":{description:"The Endpoint capability enables specifying a relationship to an endpoint."},"cna-modeling.capabilities.Host":{description:"Indicates that the node can provide hosting."},"cna-modeling.capabilities.DataUsage":{description:"The DataUsage capability describes the capability of nodes to use data aggregates or backing data."},"cna-modeling.capabilities.Proxy":{description:"When included, the Node is able to act as a proxy. This covers all communication to the endpoints of the proxied component.",properties:{load_balancing:{description:"Flag whether the proxy functionality includes load balancing",type:"boolean",default:!1}}},"cna-modeling.capabilities.AdressResolution":{description:"When included, the Node is able to provide address resolution, meaning that symbolic names can be translated into specific IP adresses",properties:{address_resolution_kind:{description:"If address resolution is provided, state the kind here, otherwise leave as 'none'",type:"string",validation:{$valid_values:["$value",["none","discovery","DNS","other"]]},default:"none"}}},"cna-modeling.capabilities.Authentication":{description:"When included, the Node is able to provide authentication services."},"cna-modeling.capabilities.Linkable":{description:"A node type that includes the Linkable capability indicates that it can be pointed to by a LinksTo relationship type."}},interface_types:{},relationship_types:{"cna-modeling.relationships.ConnectsTo.Link":{description:"Relationship Type to model Link entities",properties:{relation_type:{type:"string",required:!0,description:"Type of relation, e.g. subscribes to or calls"},timeout:{type:"integer",description:"If a timeout is applied for this link, specify it's length here. If no timeout is applied, use 0.",default:0,required:!0},retries:{type:"integer",description:"Number of times this invocation is retried, if it fails.",default:0,required:!0},circuit_breaker:{type:"string",description:"Whether or not this invocation is protected by a circuit breaker",default:"none"}},valid_capability_types:["cna-modeling.capabilities.Endpoint"],valid_target_node_types:["cna-modeling.entities.Endpoint","cna-modeling.entities.Endpoint.External"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]},"cna-modeling.relationships.HostedOn.DeploymentMapping":{description:"Relationship Type to model DeploymentMapping entities",properties:{deployment:{type:"string",required:!0,description:"How this deployment mapping is described or ensured. Valid values can be manual, automated imperative, or automated declarative",validation:{$valid_values:["$value",["manual","automated-imperative","automated-declarative","transparent"]]},default:"manual"},deployment_unit:{type:"string",required:!0,description:"When this deployment mapping can be described as a specific unit of deployment (e.g. a Kubernetes Pod), state it here. Otherwise it is custom.",default:"custom"},replicas:{type:"integer",description:"The minimum number of replicated instances for the deployed component when it is running",required:!0,default:1},update_strategy:{type:"string",required:!0,description:'How the deployed entity is updated in case a new version is deployed. It can simply be replaced by an instance of the new version, or specific strategies like "rolling upgrade" or "blue-green" can be used.',validation:{$valid_values:["$value",["in-place","replace","rolling","blue-green"]]},default:"in-place"},automated_restart_policy:{type:"string",required:!0,description:"If the deployed entity is automatically restarted in case of failure.",validation:{$valid_values:["$value",["never","onReboot","onProcessFailure","onHealthFailure"]]},default:"never"},assigned_account:{type:"string",required:!0,description:"The name of the account under which this component is deployed (e.g. a service account from a cloud provider)",default:"default-account"},resource_requirements:{type:"string",required:!0,description:"Explicitly stated resource requirements for this deployment. If stated the infrastructure can schedule an entity accordingly.",default:"unstated"}},valid_capability_types:["cna-modeling.capabilities.Host"],valid_target_node_types:["cna-modeling.entities.Infrastructure"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.Infrastructure"]},"cna-modeling.relationships.Provides.Endpoint":{description:"Relationship Type to connect Endpoints to the Components which provide them",valid_capability_types:["cna-modeling.capabilities.Endpoint"],valid_target_node_types:["cna-modeling.entities.Endpoint","cna-modeling.entities.Endpoint.External"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]},"cna-modeling.relationships.AttachesTo.DataAggregate":{properties:{usage_relation:{type:"string",required:!0,description:"Describes how a component uses attached data, that means whether it just uses (reads) it for its functionality or if it also updates and persists (writes) it; possible values are usage, cached usage, and persistence",validation:{$valid_values:["$value",["usage","cached-usage","persistence"]]},default:"usage"},sharding_level:{type:"integer",required:!0,default:0,description:"Only applicable if data is persisted by a component; If a component persists data, the sharding level describes the number of shards used; 0 acts as a placeholder if data is not persisted; 1 is the default meaning that no sharding is used; >1 is the number of shards"}},valid_capability_types:["cna-modeling.capabilities.DataUsage"],valid_target_node_types:["cna-modeling.entities.DataAggregate"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.Endpoint","cna-modeling.entities.Endpoint.External"]},"cna-modeling.relationships.AttachesTo.BackingData":{properties:{usage_relation:{type:"string",required:!0,description:"Describes how a component uses attached data, that means whether it just uses (reads) it for its functionality or if it also updates and persists (writes) it; possible values are usage, cached usage, and persistence",validation:{$valid_values:["$value",["usage","cached-usage","persistence"]]},default:"usage"}},valid_capability_types:["cna-modeling.capabilities.DataUsage"],valid_target_node_types:["cna-modeling.entities.BackingData"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.Infrastructure"]},"cna-modeling.relationships.ProxiedBy.ProxyBackingService":{description:"Relationship Type to connect Components to Backing Services which act as a proxy for them",valid_capability_types:["cna-modeling.capabilities.Proxy"],valid_target_node_types:["cna-modeling.entities.ProxyBackingService"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]},"cna-modeling.relationships.LinksTo":{description:"The LinksTo type represents an association relationship between a component/infrastructure and a network",valid_capability_types:["cna-modeling.capabilities.Linkable"],valid_target_node_types:["cna-modeling.entities.Network"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.Infrastructure"]},"cna-modeling.relationships.UseAddressResolution":{description:"Relationship Type to connect Components to entities which provide address resolution",valid_capability_types:["cna-modeling.capabilities.AdressResolution"],valid_target_node_types:["cna-modeling.entities.BackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.Infrastructure","cna-modeling.entities.Network"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]},"cna-modeling.relationships.DelegateAuthentication":{description:"Relationship Type to connect Components to entities which provide authentication",valid_capability_types:["cna-modeling.capabilities.Authentication"],valid_target_node_types:["cna-modeling.entities.BackingService"],valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]},"cna-modeling.relationships.PartOf":{description:"Relationship Type to model an endpoint as part of a request trace",valid_capability_types:["cna-modeling.capabilities.Endpoint"],valid_target_node_types:["cna-modeling.entities.Endpoint.External"],valid_source_node_types:["cna-modeling.entities.RequestTrace"]}},node_types:{"cna-modeling.entities.Component":{description:"Node Type to model Component entities",properties:{managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"True if this component is stateless, that means it requires no disk storage space where data is persisted between executions. That means it can store data to disk, but should not rely on this data to be available for following executions. Instead it should be able to restore required data after a restart in a different environment.",default:!0,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},identities:{type:"map",description:"The identities of this component, such as account names, users or roles.",required:!0,key_schema:{type:"string",description:"The identifier for this identity."},entry_schema:{type:"string",description:"The type of the identity which can be an account, a user name, or a role",validation:{$valid_values:["$value",["account","username","role","credentials"]]}}},namespace:{type:"string",description:"If the underlying infrastructure enables the usage of namespaces, this can be specified here to logically group components. If not, everything is in the same default namespace",default:"default",required:!1}},requirements:[{host:{capability:"cna-modeling.capabilities.Host",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"cna-modeling.capabilities.Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{external_ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{egress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{assigned_to_network:{capability:"Linkable",node:"Network",relationship:"LinksTo",count_range:[0,"UNBOUNDED"]}},{address_resolution_by:{capability:"cna-modeling.capabilities.AdressResolution",relationship:"cna-modeling.relationships.UseAddressResolution",count_range:[0,"UNBOUNDED"]}},{authentication_by:{capability:"cna-modeling.capabilities.Authentication",relationship:"cna-modeling.relationships.DelegateAuthentication",count_range:[0,"UNBOUNDED"]}}]},"cna-modeling.entities.Service":{description:"Node Type to model Service entities",properties:{managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"True if this component is stateless, that means it requires no disk storage space where data is persisted between executions. That means it can store data to disk, but should not rely on this data to be available for following executions. Instead it should be able to restore required data after a restart in a different environment.",default:!0,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},identities:{type:"map",description:"The identities of this component, such as account names, users or roles.",required:!0,key_schema:{type:"string",description:"The identifier for this identity."},entry_schema:{type:"string",description:"The type of the identity which can be an account, a user name, or a role",validation:{$valid_values:["$value",["account","username","role","credentials"]]}}},namespace:{type:"string",description:"If the underlying infrastructure enables the usage of namespaces, this can be specified here to logically group components. If not, everything is in the same default namespace",default:"default",required:!1}},requirements:[{host:{capability:"cna-modeling.capabilities.Host",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"cna-modeling.capabilities.Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{external_ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{egress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{assigned_to_network:{capability:"Linkable",node:"Network",relationship:"LinksTo",count_range:[0,"UNBOUNDED"]}},{address_resolution_by:{capability:"cna-modeling.capabilities.AdressResolution",relationship:"cna-modeling.relationships.UseAddressResolution",count_range:[0,"UNBOUNDED"]}},{authentication_by:{capability:"cna-modeling.capabilities.Authentication",relationship:"cna-modeling.relationships.DelegateAuthentication",count_range:[0,"UNBOUNDED"]}}],derived_from:"cna-modeling.entities.Component"},"cna-modeling.entities.BackingService":{description:"Node Type to model Backing Service entities",properties:{managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"True if this component is stateless, that means it requires no disk storage space where data is persisted between executions. That means it can store data to disk, but should not rely on this data to be available for following executions. Instead it should be able to restore required data after a restart in a different environment.",default:!0,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},identities:{type:"map",description:"The identities of this component, such as account names, users or roles.",required:!0,key_schema:{type:"string",description:"The identifier for this identity."},entry_schema:{type:"string",description:"The type of the identity which can be an account, a user name, or a role",validation:{$valid_values:["$value",["account","username","role","credentials"]]}}},namespace:{type:"string",description:"If the underlying infrastructure enables the usage of namespaces, this can be specified here to logically group components. If not, everything is in the same default namespace",default:"default",required:!1},providedFunctionality:{type:"string",description:"The functionality provided by this backing service",required:!0,validation:{$valid_values:["$value",["naming/addressing","configuration","authentication/authorization","logging","metrics","tracing","vault","other"]]},default:"other"},replication_strategy:{type:"string",description:"The strategy used to replicate data, if multiple replicas of this backing service are deployed.",required:!0,default:"none",validation:{$valid_values:["$value",["none","read-only-replication","active-active-replication"]]}}},requirements:[{host:{capability:"cna-modeling.capabilities.Host",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"cna-modeling.capabilities.Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{external_ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{egress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{assigned_to_network:{capability:"Linkable",node:"Network",relationship:"LinksTo",count_range:[0,"UNBOUNDED"]}},{address_resolution_by:{capability:"cna-modeling.capabilities.AdressResolution",relationship:"cna-modeling.relationships.UseAddressResolution",count_range:[0,"UNBOUNDED"]}},{authentication_by:{capability:"cna-modeling.capabilities.Authentication",relationship:"cna-modeling.relationships.DelegateAuthentication",count_range:[0,"UNBOUNDED"]}}],derived_from:"cna-modeling.entities.Component",capabilities:{address_resolution:{type:"cna-modeling.capabilities.AdressResolution",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]},authentication:{type:"cna-modeling.capabilities.Authentication",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]}}},"cna-modeling.entities.ProxyBackingService":{description:"Node Type to model Proxy Backing Service entities, typically Load Balancers, API Gateways or other intermediate Services",properties:{managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"True if this component is stateless, that means it requires no disk storage space where data is persisted between executions. That means it can store data to disk, but should not rely on this data to be available for following executions. Instead it should be able to restore required data after a restart in a different environment.",default:!0,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},identities:{type:"map",description:"The identities of this component, such as account names, users or roles.",required:!0,key_schema:{type:"string",description:"The identifier for this identity."},entry_schema:{type:"string",description:"The type of the identity which can be an account, a user name, or a role",validation:{$valid_values:["$value",["account","username","role","credentials"]]}}},namespace:{type:"string",description:"If the underlying infrastructure enables the usage of namespaces, this can be specified here to logically group components. If not, everything is in the same default namespace",default:"default",required:!1},kind:{type:"string",description:"The kind of proxy this is.",required:!0,validation:{$valid_values:["$value",["API Gateway","Load Balancer","Service Mesh","other"]]},default:"other"}},requirements:[{host:{capability:"cna-modeling.capabilities.Host",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"cna-modeling.capabilities.Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{external_ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{egress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{assigned_to_network:{capability:"Linkable",node:"Network",relationship:"LinksTo",count_range:[0,"UNBOUNDED"]}},{address_resolution_by:{capability:"cna-modeling.capabilities.AdressResolution",relationship:"cna-modeling.relationships.UseAddressResolution",count_range:[0,"UNBOUNDED"]}},{authentication_by:{capability:"cna-modeling.capabilities.Authentication",relationship:"cna-modeling.relationships.DelegateAuthentication",count_range:[0,"UNBOUNDED"]}}],derived_from:"cna-modeling.entities.Component",capabilities:{proxy:{type:"cna-modeling.capabilities.Proxy",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]}}},"cna-modeling.entities.BrokerBackingService":{description:"Node Type to model Broker Backing Service entities, typically Message Brokers or Event Stores",properties:{managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"True if this component is stateless, that means it requires no disk storage space where data is persisted between executions. That means it can store data to disk, but should not rely on this data to be available for following executions. Instead it should be able to restore required data after a restart in a different environment.",default:!0,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},identities:{type:"map",description:"The identities of this component, such as account names, users or roles.",required:!0,key_schema:{type:"string",description:"The identifier for this identity."},entry_schema:{type:"string",description:"The type of the identity which can be an account, a user name, or a role",validation:{$valid_values:["$value",["account","username","role","credentials"]]}}},namespace:{type:"string",description:"If the underlying infrastructure enables the usage of namespaces, this can be specified here to logically group components. If not, everything is in the same default namespace",default:"default",required:!1},kind:{type:"string",description:"The kind of broker based on how messages are persisted and delivered. Queue is the classical message broker where messages are stored in a queue, delivered to one consumer and deleted afterwards. Topic enables a delivery of one message to several different consumers, but messages are also deleted. Log enables the Event sourcing pattern, since messages/events are persistently stored and can be retrieved at any time.",required:!0,validation:{$valid_values:["$value",["queue","topic","log"]]},default:"queue"},replication_strategy:{type:"string",description:"The strategy used to replicate data, if multiple replicas of this broker backing service are deployed.",required:!0,default:"none",validation:{$valid_values:["$value",["none","read-only-replication","active-active-replication"]]}}},requirements:[{host:{capability:"cna-modeling.capabilities.Host",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"cna-modeling.capabilities.Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{external_ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{egress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{assigned_to_network:{capability:"Linkable",node:"Network",relationship:"LinksTo",count_range:[0,"UNBOUNDED"]}},{address_resolution_by:{capability:"cna-modeling.capabilities.AdressResolution",relationship:"cna-modeling.relationships.UseAddressResolution",count_range:[0,"UNBOUNDED"]}},{authentication_by:{capability:"cna-modeling.capabilities.Authentication",relationship:"cna-modeling.relationships.DelegateAuthentication",count_range:[0,"UNBOUNDED"]}}],derived_from:"cna-modeling.entities.Component"},"cna-modeling.entities.StorageBackingService":{description:"Node Type to model Storage Backing Service entities, typically databases",properties:{managed:{type:"boolean",description:"A component is managed if it is exclusively operated by someone else, e.g. a cloud provider and the source code of the component instance is inaccessible. If the source code of a component can be changed by yourself, the component is not managed.",required:!0},software_type:{type:"string",description:'The type of the software in the sense of who developed it. If it is a self-written component use "custom", if it is an existing open-source solution which is not customized (apart from configuration) use "open-source". If it is licensed proprietary software, use "proprietary".',default:"custom",required:!0,validation:{$valid_values:["$value",["custom","open-source","proprietary"]]}},stateless:{type:"boolean",description:"Storage Backing Service are per default stateful (not stateless)",default:!1,required:!0},load_shedding:{type:"boolean",description:"Whether or not this component applies load shedding. That means whether the component rejects incoming load based on certain thresholds (resource usage, concurrent requests).",required:!0,default:!1},identities:{type:"map",description:"The identities of this component, such as account names, users or roles.",required:!0,key_schema:{type:"string",description:"The identifier for this identity."},entry_schema:{type:"string",description:"The type of the identity which can be an account, a user name, or a role",validation:{$valid_values:["$value",["account","username","role","credentials"]]}}},namespace:{type:"string",description:"If the underlying infrastructure enables the usage of namespaces, this can be specified here to logically group components. If not, everything is in the same default namespace",default:"default",required:!1},name:{type:"string",description:"the logical name of the database",required:!0},shards:{type:"integer",description:"The number of shards this storage service is configured with, the default of 1 means no sharding is used.",required:!0,default:1},replication_strategy:{type:"string",description:"The strategy used to replicate data, if multiple replicas of this storage backing service are deployed.",required:!0,default:"none",validation:{$valid_values:["$value",["none","read-only-replication","active-active-replication"]]}}},requirements:[{host:{capability:"cna-modeling.capabilities.Host",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping"}},{provides_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{provides_external_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.Provides.Endpoint",count_range:[0,"UNBOUNDED"]}},{endpoint_link:{capability:"cna-modeling.capabilities.Endpoint",node:"cna-modeling.entities.Endpoint",relationship:"cna-modeling.relationships.ConnectsTo.Link",count_range:[0,"UNBOUNDED"]}},{uses_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{external_ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{ingress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{egress_proxied_by:{capability:"cna-modeling.capabilities.Proxy",node:"cna-modeling.entities.ProxyBackingService",relationship:"cna-modeling.relationships.ProxiedBy.ProxyBackingService",count_range:[0,1]}},{assigned_to_network:{capability:"Linkable",node:"Network",relationship:"LinksTo",count_range:[0,"UNBOUNDED"]}},{address_resolution_by:{capability:"cna-modeling.capabilities.AdressResolution",relationship:"cna-modeling.relationships.UseAddressResolution",count_range:[0,"UNBOUNDED"]}},{authentication_by:{capability:"cna-modeling.capabilities.Authentication",relationship:"cna-modeling.relationships.DelegateAuthentication",count_range:[0,"UNBOUNDED"]}}],derived_from:"cna-modeling.entities.Component"},"cna-modeling.entities.Infrastructure":{description:"Node Type to model Infrastructure entities",properties:{kind:{type:"string",description:'The kind of infrastructure. Possible kinds are "physical hardware", "virtual hardware", "software platform", or "cloud service".',required:!0,validation:{$valid_values:["$value",["physical-hardware","virtual-hardware","software-platform","cloud-service"]]},default:"virtual-hardware"},environment_access:{type:"string",description:"Describes the extend of available access to the environment in which the infrastructure is operated. With full access, one can control all aspects of the infrastructure. Limited access means that infrastructure is under control of a provider and only certain things are allowed, such as configuration. With no access infrastructure is completely managed by a cloud provider.",validation:{$valid_values:["$value",["full","limited","none"]]},default:"full"},maintenance:{type:"string",description:"How infrastructure is maintained, that means for example how updates are installed or how certificates are regenerated.",validation:{$valid_values:["$value",["manual","automated","transparent"]]},default:"manual"},provisioning:{type:"string",description:"How infrastructure is initially provisioned. This can be done manually (for example through the web interface of a cloud provider), automatically coded (for example through an IaC tool), automatically inferred, if it is inferred based on deployed components, or transparent, if it is not explicitly provisioned by a consumer, but done on-demand by a provider.",validation:{$valid_values:["$value",["manual","automated-coded","automated-inferred","transparent"]]},default:"manual"},supported_artifacts:{type:"list",description:"Which kind of artifacts can be deployed on this infrastructure, e.g. VM images, container images, jar archives, native executables, ...",entry_schema:{description:"An artifact type that this infrastructure supports.",type:"string"}},availability_zone:{type:"string",required:!0,description:"The name of the availability zone in which this infrastructure is provided. If it is running in multiple availability zones, provide their names as a comma-separated list.",default:"default-zone"},region:{type:"string",required:!0,description:"The name of the region in which this infrastructure is provided.",default:"default-region"},supported_update_strategies:{type:"list",description:"Which update strategies are supported for entities deployed on this infrastructure",entry_schema:{description:"An update strategy supported by this infrastructure",type:"string"}},deployed_entities_scaling:{type:"string",required:!0,description:"Whether and how entities deployed on this infrastructure can be scaled horizontally",validation:{$valid_values:["$value",["none","manual","automated-built-in","automated-separate"]]},default:"none"},self_scaling:{type:"string",required:!0,description:"Whether and how this entity scales itself, either horizontally or vertically.",validation:{$valid_values:["$value",["none","manual","automated-built-in","automated-separate"]]},default:"none"},enforced_resource_bounds:{type:"boolean",required:!0,description:"Set to true if the infrastructure enforces resource bounds on deployed components, for example regarding cpu shares or memory size. Deployed entities can then only use resources up to a certain bound. Otherwise entities can use resources as available.",default:!1},identities:{type:"map",description:"The identities of this infrastructure, such as account names, users or roles.",required:!0,key_schema:{type:"string",description:"The identifier for this identity."},entry_schema:{type:"string",description:"The type of the identity which can be an account, a user name, or a role",validation:{$valid_values:["$value",["account","usernane","role"]]}}}},capabilities:{host:{type:"cna-modeling.capabilities.Host",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.Infrastructure"]},address_resolution:{type:"cna-modeling.capabilities.AdressResolution",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]}},requirements:[{host:{capability:"cna-modeling.capabilities.Host",node:"cna-modeling.entities.Infrastructure",relationship:"cna-modeling.entities.HostedOn.DeploymentMapping",count_range:[0,"UNBOUNDED"]}},{uses_backing_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.BackingData",relationship:"cna-modeling.relationships.AttachesTo.BackingData",count_range:[0,"UNBOUNDED"]}},{assigned_to_network:{capability:"cna-modeling.capabilities.Linkable",node:"cna-modeling.entities.Network",relationship:"cna-modeling.relationships.LinksTo",count_range:[0,"UNBOUNDED"]}}]},"cna-modeling.entities.Endpoint":{description:"Endpoint type to explicitly model endpoints as entities",properties:{kind:{type:"string",required:!0,description:'The kind of endpoint which can be either "query", "command", or "event". A "query" is a synchronous request for data which the client needs for further processing. A "command" is a synchronous send of data for which the client needs a corresponding answer for further processing. An "event" is an asynchronous send of data for which the client does not expect data to be returned for further processing.',validation:{$valid_values:["$value",["query","command","send event","subscribe"]]},default:"query"},method_name:{type:"string",required:!1,description:"An optional name of the method/action used. For REST APIs it can for example be specified whether it is a GET or POST method. For message brokers it can be specified whether it is a publish or subscribe action."},protocol:{description:"The name of the (Layer 4 through 7) protocol that the endpoint accepts.",type:"string",default:"tcp"},port:{description:"The optional port of the endpoint.",type:"string",required:!1},allow_access_to:{description:"A list of entities/accounts who are allowed to access this endpoint. If the list is empty anybody can access the endpoint.",type:"list",required:!0,entry_schema:{description:"The id of an account that can access this endpoint.",type:"string"}},supported_authentication_methods:{description:"A list of authentication methods, that this endpoint supports. If the list is empty, the endpoint does not require authentication.",type:"list",required:!0,entry_schema:{description:"An authentication method that is supported by this endpoint.",type:"string",validation:{$valid_values:["$value",["basic_authentication","Token","API-Key","Single Sign-On"]]}}},url_path:{description:"The optional URL path of the endpoint's address if applicable for the protocol.",type:"string",required:!1},rate_limiting:{type:"string",required:!0,description:'If for this endpoint rate limiting is enforced, the limit can be stated here, otherwise it is "none".',default:"none"},idempotent:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is idempotent, meaning that the effect of a successful invocation is independent of the number of times it is invoked.",default:!1},readiness_check:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is used as a readiness check",default:!1},health_check:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is used as a health check",default:!1},documented_by:{type:"string",required:!1,description:"If this endpoint is documented by an artifact (for example an OpenAPI specification), the artifact id can be specified here"}},capabilities:{endpoint:{type:"cna-modeling.capabilities.Endpoint",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]}},requirements:[{uses_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}}]},"cna-modeling.entities.Endpoint.External":{description:"Endpoint type to explicitly model external endpoints as entities",properties:{kind:{type:"string",required:!0,description:'The kind of endpoint which can be either "query", "command", or "event". A "query" is a synchronous request for data which the client needs for further processing. A "command" is a synchronous send of data for which the client needs a corresponding answer for further processing. An "event" is an asynchronous send of data for which the client does not expect data to be returned for further processing.',validation:{$valid_values:["$value",["query","command","send event","subscribe"]]},default:"query"},method_name:{type:"string",required:!1,description:"An optional name of the method/action used. For REST APIs it can for example be specified whether it is a GET or POST method. For message brokers it can be specified whether it is a publish or subscribe action."},protocol:{description:"The name of the (Layer 4 through 7) protocol that the endpoint accepts.",type:"string",default:"tcp"},port:{description:"The optional port of the endpoint.",type:"string",required:!1},allow_access_to:{description:"A list of entities/accounts who are allowed to access this endpoint. If the list is empty anybody can access the endpoint.",type:"list",required:!0,entry_schema:{description:"The id of an account that can access this endpoint.",type:"string"}},supported_authentication_methods:{description:"A list of authentication methods, that this endpoint supports. If the list is empty, the endpoint does not require authentication.",type:"list",required:!0,entry_schema:{description:"An authentication method that is supported by this endpoint.",type:"string",validation:{$valid_values:["$value",["basic_authentication","Token","API-Key","Single Sign-On"]]}}},url_path:{description:"The optional URL path of the endpoint's address if applicable for the protocol.",type:"string",required:!1},rate_limiting:{type:"string",required:!0,description:'If for this endpoint rate limiting is enforced, the limit can be stated here, otherwise it is "none".',default:"none"},idempotent:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is idempotent, meaning that the effect of a successful invocation is independent of the number of times it is invoked.",default:!1},readiness_check:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is used as a readiness check",default:!1},health_check:{type:"boolean",required:!0,description:"Flag to specify whether this endpoint is used as a health check",default:!1},documented_by:{type:"string",required:!1,description:"If this endpoint is documented by an artifact (for example an OpenAPI specification), the artifact id can be specified here"}},capabilities:{endpoint:{type:"cna-modeling.capabilities.Endpoint",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService"]},external_endpoint:{type:"cna-modeling.capabilities.Endpoint",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.RequestTrace"]}},requirements:[{uses_data:{capability:"cna-modeling.capabilities.DataUsage",node:"cna-modeling.entities.DataAggregate",relationship:"cna-modeling.relationships.AttachesTo.DataAggregate",count_range:[0,"UNBOUNDED"]}}],derived_from:"cna-modeling.entities.Endpoint"},"cna-modeling.entities.BackingData":{description:"Node Type to model Backing Data entities",properties:{kind:{type:"string",required:!0,description:"The kind of backing data, meaning what kind of data this refers to",validation:{$valid_values:["$value",["config","secret","logs","metrics"]]},default:"config"},included_data:{type:"map",required:!0,key_schema:{type:"string",description:"The name specifying the individual Backing Data element"},entry_schema:{type:"string",description:"The value of the individual Backing Data element"}}},capabilities:{provides_data:{type:"cna-modeling.capabilities.DataUsage",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.ProxyBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.Infrastructure"]}}},"cna-modeling.entities.DataAggregate":{description:"Node Type to model Data Aggregate entities",capabilities:{provides_data:{type:"cna-modeling.capabilities.DataUsage",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.Endpoint","cna-modeling.entities.Endpoint.External"]}}},"cna-modeling.entities.RequestTrace":{description:"Node Type to model Request Trace entities",properties:{nodes:{type:"list",required:!1,entry_schema:{description:"An existing Component, Service, Backing Service or Storage Backing Service entity which is part of this Request Trace entity",type:"string"}},involved_links:{type:"list",required:!0,entry_schema:{description:"An existing Link entity which is part of this Request Trace entity",type:"string"}}},requirements:[{external_endpoint:{capability:"cna-modeling.capabilities.Endpoint",relationship:"cna-modeling.relationships.PartOf",count_range:[1,1]}}]},"cna-modeling.entities.Network":{description:`Node Type to model a (virtual) network (e.g. a subnet)
`,properties:{ip_version:{description:`The IP version of the requested  Valid values are 4 for ipv4 or 6 for ipv6.
`,type:"integer",required:!1,default:4},cidr:{description:`The cidr block of the requested
`,type:"string",required:!1},start_ip:{description:`The IP address to be used as the start of a pool of addresses within the full IP range derived from the cidr block.
`,type:"string",required:!1},end_ip:{description:`The IP address to be used as the end of a pool of addresses within the full IP range derived from the cidr block.
`,type:"string",required:!1},gateway_ip:{description:`The gateway IP address.
`,type:"string",required:!1},network_type:{description:`Specifies the nature of the network in the underlying cloud infrastructure.
`,type:"string",required:!1}},capabilities:{link:{type:"cna-modeling.capabilities.Linkable",valid_source_node_types:["cna-modeling.entities.Component","cna-modeling.entities.Service","cna-modeling.entities.BackingService","cna-modeling.entities.StorageBackingService","cna-modeling.entities.BrokerBackingService","cna-modeling.entities.Infrastructure"]}}}},group_types:{},policy_types:{}},qS=[Zr],_y="cna-modeling.entities.Endpoint",ix=Zr.node_types[_y];function Bf(){let e=Cr(ix.properties).concat(P0(Cc(ix.capabilities))).filter(t=>!["allow_access_to","documented_by"].includes(t.getKey));for(const t of e)switch(t.getKey){case"method_name":t.setName="Method name",t.setExample="e.g. GET if protocol is http",t.setOptions=[{value:"GET",text:"GET"},{value:"POST",text:"POST"},{value:"publish",text:"publish"},{value:"subscribe",text:"subscribe"}];break;case"url_path":t.setName="Endpoint Path:",t.setExample="e.g. /orders";break;case"port":t.setName="Port: ",t.setExample="e.g. 3306";break}return e}var bg,Ly,Fy,Rd,Dd,sc,EO;let US=(EO=class{constructor(t,n,i){Fe(this,bg);pr(this,"name");Fe(this,Ly);Fe(this,Fy,new Array);Fe(this,Rd,new Array);Fe(this,Dd,new Array);Fe(this,sc);De(this,bg,t),this.name=n,De(this,Ly,i),De(this,sc,Bf())}get getId(){return k(this,bg)}set setId(t){De(this,bg,t)}get getName(){return this.name}get getMetaData(){return k(this,Ly)}get getDataAggregateEntities(){return k(this,Fy)}addDataAggregateEntity(t,n){k(this,Fy).push({data:t,relation:n})}get getAllowedAccounts(){return k(this,Rd)}set setAllowedAccounts(t){De(this,Rd,t)}addAllowedAccount(t){k(this,Rd).push(t)}removeAllowedAccount(t){let n=k(this,Rd).indexOf(t);n!==-1&&k(this,Rd).splice(n,1)}get getDocumentedBy(){return k(this,Dd)}set setDocumentedBy(t){De(this,Dd,t)}addDocumentedBy(t){k(this,Dd).push(t)}removeDocumentedBy(t){let n=k(this,Dd).indexOf(t);n!==-1&&k(this,Dd).splice(n,1)}addProperties(t){for(const n of t){let i=k(this,sc).findIndex(r=>r.getKey===n.getKey);~i?k(this,sc)[i]=n:k(this,sc).push(n)}}setPropertyValue(t,n){let i=k(this,sc).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}getProperty(t){return k(this,sc).find(n=>n.getKey===t)}getProperties(){return k(this,sc)}toString(){return"Endpoint "+JSON.stringify(this)}},bg=new WeakMap,Ly=new WeakMap,Fy=new WeakMap,Rd=new WeakMap,Dd=new WeakMap,sc=new WeakMap,EO);const rx="cna-modeling.entities.Endpoint.External",ax=Zr.node_types[rx];function IA(){let e=Cr(ax.properties).concat(P0(Cc(ax.capabilities))).filter(t=>!["allow_access_to","documented_by"].includes(t.getKey));for(const t of e)switch(t.getKey){case"method_name":t.setName="Method name",t.setExample="e.g. GET if protocol is http",t.setOptions=[{value:"GET",text:"GET"},{value:"POST",text:"POST"},{value:"publish",text:"publish"},{value:"subscribe",text:"subscribe"}];break;case"url_path":t.setName="Endpoint Path:",t.setExample="e.g. /orders";break;case"port":t.setName="Port: ",t.setExample="e.g. 3306";break}return e}let O0=class extends US{constructor(t,n,i){super(t,n,i),this.addProperties(IA())}toString(){return"ExternalEndpoint "+JSON.stringify(this)}};const Cy="cna-modeling.entities.Component",FN=Zr.node_types[Cy];function Ao(){return Cr(FN.properties).map(t=>{switch(t.getKey){case"managed":return t.setName="Managed cloud service?",t.setExample="e.g. yes",t;default:return t}})}var Eg,zy,$y,qy,Uy,Hy,Vy,Gy,Wy,jy,Ky,xg,Sg,lc,xO;let Po=(xO=class{constructor(t,n,i){Fe(this,Eg);pr(this,"name");Fe(this,zy);Fe(this,$y,new Array);Fe(this,qy,new Array);Fe(this,Uy,new Array);Fe(this,Hy,new Array);Fe(this,Vy);Fe(this,Gy);Fe(this,Wy);Fe(this,jy);Fe(this,Ky);Fe(this,xg,new Map);Fe(this,Sg,new Map);Fe(this,lc,new Array);De(this,Eg,t),this.name=n,De(this,zy,i),De(this,lc,Ao())}addEndpoint(t){let n=i=>this.getEndpointEntities.some(r=>r.getId===i.getId)?!0:!!this.getExternalEndpointEntities.some(r=>r.getId===i.getId);if(t instanceof O0){if(n(t))return;k(this,qy).push(t)}else if(t instanceof US){if(n(t))return;k(this,$y).push(t)}}addDataAggregateEntity(t,n){k(this,Hy).push({data:t,relation:n})}addBackingDataEntity(t,n){k(this,Uy).push({backingData:t,relation:n})}get getId(){return k(this,Eg)}set setId(t){De(this,Eg,t)}get getName(){return this.name}get getMetaData(){return k(this,zy)}get getEndpointEntities(){return k(this,$y)}get getExternalEndpointEntities(){return k(this,qy)}get getDataAggregateEntities(){return k(this,Hy)}get getBackingDataEntities(){return k(this,Uy)}get getExternalIngressProxiedBy(){return k(this,Vy)}set setExternalIngressProxiedBy(t){De(this,Vy,t)}get getIngressProxiedBy(){return k(this,Gy)}set setIngressProxiedBy(t){De(this,Gy,t)}get getEgressProxiedBy(){return k(this,Wy)}set setEgressProxiedBy(t){De(this,Wy,t)}get getAddressResolutionBy(){return k(this,jy)}set setAddressResolutionBy(t){De(this,jy,t)}get getAuthenticationBy(){return k(this,Ky)}set setAuthenticationBy(t){De(this,Ky,t)}get getArtifacts(){return k(this,xg)}setArtifact(t,n){k(this,xg).set(t,n)}removeArtifact(t){k(this,xg).delete(t)}get getNetworks(){return k(this,Sg)}addNetwork(t){k(this,Sg).set(t.getId,t)}removeNetwork(t){k(this,Sg).delete(t)}addProperties(t){for(const n of t){let i=k(this,lc).findIndex(r=>r.getKey===n.getKey);~i?k(this,lc)[i]=n:k(this,lc).push(n)}}setPropertyValue(t,n){let i=k(this,lc).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}getProperty(t){return k(this,lc).find(n=>n.getKey===t)}getProperties(){return k(this,lc)}toString(){return"Component "+JSON.stringify(this)}},Eg=new WeakMap,zy=new WeakMap,$y=new WeakMap,qy=new WeakMap,Uy=new WeakMap,Hy=new WeakMap,Vy=new WeakMap,Gy=new WeakMap,Wy=new WeakMap,jy=new WeakMap,Ky=new WeakMap,xg=new WeakMap,Sg=new WeakMap,lc=new WeakMap,xO);function Bte(e,t,n){let i="";for(let r of qS){let a=(d=>{switch(d){case"relationship":return"relationship_types";case"node":default:return"node_types"}})(e),o=r[a];if(!o){i=`Profiles do not contain any ${a}.`;continue}let s=o[t];if(!s){i=`No ${e} with key ${t} found.`;continue}let l=s.properties;if(!l){i=`No properties found for ${e} with key ${t}.`;continue}let c=l[n];if(!c){i=`No property with key ${n} found for ${t}.`;continue}let h=c.validation.$valid_values[1];if(!h){i=`No valid values found for property ${n} in ${t}.`;continue}return h}throw new Error(i)}function Lte(e){for(let t of qS){let n=t.capability_types;if(n){for(const[i,r]of Object.entries(n))if(i===e)return r}}throw new Error(`No capability type with key ${e} found in any profile.`)}const zN=(e,t)=>{if(["string","boolean","number"].includes(typeof t))return t;if(Array.isArray(t))if(Array.isArray(e)){for(let n of t)if(typeof n=="object"&&Object.entries(n).length===1){let i=Object.entries(n)[0][0],r=e.findIndex(a=>typeof a=="object"&&Object.entries(a).length===1&&Object.entries(a)[0][0]===i);~r?e[r]=n:e.push(n)}else e.includes(n)||e.push(n);return e}else return t;else{e||(e={});for(let[n,i]of Object.entries(t))e.hasOwnProperty(n)?e[n]=zN(e[n],i):e[n]=i;return e}};function i6(){const e=Zr.node_types[Cy];return e.properties&&e.properties.identities&&e.properties.identities.entry_schema&&e.properties.identities.entry_schema.validation&&e.properties.identities.entry_schema.validation.$valid_values?e.properties.identities.entry_schema.validation.$valid_values[1]:[]}function Fte(){const e=Zr.node_types[_y];return e.properties&&e.properties.supported_authentication_methods&&e.properties.supported_authentication_methods.entry_schema&&e.properties.supported_authentication_methods.entry_schema.validation&&e.properties.supported_authentication_methods.entry_schema.validation.$valid_values?e.properties.supported_authentication_methods.entry_schema.validation.$valid_values[1]:[]}var Yy,_g,Cg,wg,Xy,Jy,Qy;class jf{constructor(t,n,i,r,a,o,s,l){Fe(this,Yy);Fe(this,_g);Fe(this,Cg);Fe(this,wg);Fe(this,Xy);Fe(this,Jy);Fe(this,Qy);pr(this,"value");De(this,Yy,t),De(this,_g,n),De(this,Cg,i),De(this,wg,r),De(this,Xy,a),De(this,Jy,o),De(this,Qy,s),this.value=l}get getKey(){return k(this,Yy)}get getName(){return k(this,_g)}set setName(t){De(this,_g,t)}get getDescription(){return k(this,Cg)}set setDescription(t){De(this,Cg,t)}get getExample(){return k(this,wg)}set setExample(t){De(this,wg,t)}get getRequired(){return k(this,Xy)}get getDataType(){return k(this,Jy)}get getDefaultValue(){return k(this,Qy)}}Yy=new WeakMap,_g=new WeakMap,Cg=new WeakMap,wg=new WeakMap,Xy=new WeakMap,Jy=new WeakMap,Qy=new WeakMap;var Tg,Ag;class r6 extends jf{constructor(n,i,r,a,o,s,l,c,h){super(n,i,r,a,o,"text",c,h);Fe(this,Tg);Fe(this,Ag);De(this,Tg,s),De(this,Ag,l)}get getMaxLength(){return k(this,Tg)}set setMaxLength(n){De(this,Tg,n)}get getOptions(){return k(this,Ag)}set setOptions(n){De(this,Ag,n)}}Tg=new WeakMap,Ag=new WeakMap;var kg;class $N extends jf{constructor(n,i,r,a,o,s,l,c){super(n,i,r,a,o,"select",l,c);Fe(this,kg);De(this,kg,s)}get getOptions(){return k(this,kg)}set setOptions(n){De(this,kg,n)}}kg=new WeakMap;var Zy,ev;class a6 extends jf{constructor(n,i,r,a,o,s,l,c,h){super(n,i,r,a,o,"number",c,h);Fe(this,Zy);Fe(this,ev);De(this,Zy,s),De(this,ev,l)}get getMaximum(){return k(this,Zy)}get getMinimum(){return k(this,ev)}}Zy=new WeakMap,ev=new WeakMap;class o6 extends jf{constructor(t,n,i,r,a,o,s){super(t,n,i,r,a,"boolean",o,s)}}class zte extends jf{constructor(t,n,i,r,a,o,s){super(t,n,i,r,a,"bounded",o,s)}}class $te extends jf{constructor(t,n,i,r,a,o,s){super(t,n,i,r,a,"list",o,s)}}var tv,nv,iv,rv;class qte extends jf{constructor(n,i,r,a,o,s,l,c,h,d,p){super(n,i,r,a,o,"map",s,l);Fe(this,tv);Fe(this,nv);Fe(this,iv);Fe(this,rv);De(this,tv,c),De(this,nv,h),De(this,iv,d),De(this,rv,p)}get getKeyType(){return k(this,tv)}get getKeyDescription(){return k(this,nv)}get getValueType(){return k(this,iv)}get getValueDescription(){return k(this,rv)}}tv=new WeakMap,nv=new WeakMap,iv=new WeakMap,rv=new WeakMap;function tc(e){return e.replace(/^[-_]*(.)/,(t,n)=>n.toUpperCase()).replace(/[-_]+(.)/g,(t,n)=>" "+n.toUpperCase())}function P0(e){let t=[...e.entries()].map(([n,i])=>i).reduce((n,i)=>(Object.entries(i).forEach(([r,a])=>{n[r]=a}),n),{});return Cr(t)}function Cc(e){let t=new Map;return Object.entries(e).forEach(([n,i])=>{let r=Lte(typeof i=="string"?i:i.type),a=r.properties?JSON.parse(JSON.stringify(r.properties)):{};for(const o of Object.keys(a))typeof i=="object"&&i.properties&&i.properties[o]&&(a[o]=zN(a[o],i.properties[o]));t.set(n,a)}),t}function Cr(e){let t=[];if(!e)return t;for(const[n,i]of Object.entries(e))if(typeof i=="string")t.push(new r6(n,tc(n),"","",!0,i.length,[],i,i));else if(typeof i=="number")t.push(new a6(n,tc(n),"","",!0,i,i,i,i));else if(typeof i=="boolean")t.push(new o6(n,tc(n),"","",!0,i,i));else switch(i.type){case"string":case"timestamp":case"version":case"scalar-unit":default:if(i.validation&&i.validation.$valid_values){let r=i.validation.$valid_values[1].map(a=>({value:a,text:a}));t.push(new $N(n,tc(n),i.description?i.description:"","",i.required,r,i.default!==void 0?i.default:"",i.default!==void 0?i.default:""))}else t.push(new r6(n,tc(n),i.description?i.description:"","",i.required,255,[],i.default!==void 0?i.default:"",i.default!==void 0?i.default:""));break;case"integer":case"float":t.push(new a6(n,tc(n),i.description?i.description:"","",i.required,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,i.default!==void 0?i.default:"",i.default!==void 0?i.default:""));break;case"boolean":t.push(new o6(n,tc(n),i.description?i.description:"","",i.required,i.default!==void 0?i.default:!1,i.default!==void 0?i.default:!1));break;case"range":t.push(new zte(n,tc(n),i.description?i.description:"","",i.required,i.default!==void 0?i.default:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],i.default!==void 0?i.default:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]));break;case"list":t.push(new $te(n,tc(n),i.description?i.description:"","",i.required,i.default!==void 0?i.default:[],i.default!==void 0?i.default:[]));break;case"map":t.push(new qte(n,tc(n),i.description?i.description:"","",i.required,i.default!==void 0?i.default:{},i.default!==void 0?i.default:{},i.key_schema?i.key_schema.type:"string",i.key_schema?i.key_schema.description:"",i.entry_schema?i.entry_schema.type:"string",i.entry_schema?i.entry_schema.description:""));break}return t}const ox="cna-modeling.entities.BackingData",Ute=Zr.node_types[ox];function HS(){return Cr(Ute.properties)}var Ig,av,sf,SO;let OA=(SO=class{constructor(t,n,i){Fe(this,Ig);pr(this,"name");Fe(this,av);Fe(this,sf,new Array);De(this,Ig,t),this.name=n,De(this,av,i),De(this,sf,HS())}get getId(){return k(this,Ig)}set setId(t){De(this,Ig,t)}get getName(){return this.name}get getMetaData(){return k(this,av)}getProperties(){return k(this,sf)}setPropertyValue(t,n){let i=k(this,sf).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}getProperty(t){return k(this,sf).find(n=>n.getKey===t)}toString(){return"BackingData "+JSON.stringify(this)}},Ig=new WeakMap,av=new WeakMap,sf=new WeakMap,SO);const sx="cna-modeling.entities.BackingService",LT=Zr.node_types[sx];function VS(){let e=Cr(LT.properties).concat(P0(Cc(LT.capabilities)));for(const t of e)switch(t.getKey){case"providedFunctionality":t.setName="Provided Functionality:",t.setExample="e.g. Logging";break}return e}let Mn=class extends Po{constructor(t,n,i){super(t,n,i),this.addProperties(VS())}toString(){return"BackingService "+JSON.stringify(this)}};const lx="cna-modeling.entities.BrokerBackingService",qN=Zr.node_types[lx];function GS(){return Cr(qN.properties)}let wr=class extends Po{constructor(t,n,i){super(t,n,i),this.addProperties(GS())}toString(){return"BrokerBackingService "+JSON.stringify(this)}};const cx="cna-modeling.entities.DataAggregate",Hte=Zr.node_types[cx];function WS(){return Cr(Hte.properties)}var Og,ov,Pg,_O;let PA=(_O=class{constructor(t,n,i){Fe(this,Og);pr(this,"name");Fe(this,ov);Fe(this,Pg,new Array);De(this,Og,t),this.name=n,De(this,ov,i),De(this,Pg,WS())}get getId(){return k(this,Og)}set setId(t){De(this,Og,t)}get getName(){return this.name}get getMetaData(){return k(this,ov)}getProperties(){return k(this,Pg)}setPropertyValue(t,n){let i=k(this,Pg).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"DataAggregate "+JSON.stringify(this)}},Og=new WeakMap,ov=new WeakMap,Pg=new WeakMap,_O);const ux="cna-modeling.entities.Infrastructure",dx=Zr.node_types[ux];function jS(){return Cr(dx.properties).concat(P0(Cc(dx.capabilities))).map(t=>{switch(t.getKey){case"kind":return t.setName="Kind of infrastructure",t;default:return t}})}var Mg,sv,lv,Ng,Rg,lf,CO;let nl=(CO=class{constructor(t,n,i){Fe(this,Mg);pr(this,"name");Fe(this,sv);Fe(this,lv,new Array);Fe(this,Ng,new Map);Fe(this,Rg,new Map);Fe(this,lf);De(this,Mg,t),this.name=n,De(this,sv,i),De(this,lf,jS())}addBackingDataEntity(t,n){k(this,lv).push({backingData:t,relation:n})}get getId(){return k(this,Mg)}set setId(t){De(this,Mg,t)}get getMetaData(){return k(this,sv)}get getName(){return this.name}get getBackingDataEntities(){return k(this,lv)}get getArtifacts(){return k(this,Ng)}setArtifact(t,n){k(this,Ng).set(t,n)}removeArtifact(t){k(this,Ng).delete(t)}get getNetworks(){return k(this,Rg)}addNetwork(t){k(this,Rg).set(t.getId,t)}removeNetwork(t){k(this,Rg).delete(t)}getProperties(){return k(this,lf)}getProperty(t){return k(this,lf).find(n=>n.getKey===t)}setPropertyValue(t,n){let i=k(this,lf).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"Infrastructure "+JSON.stringify(this)}},Mg=new WeakMap,sv=new WeakMap,lv=new WeakMap,Ng=new WeakMap,Rg=new WeakMap,lf=new WeakMap,CO);function bE(){return qS.flatMap(e=>Object.entries(e.artifact_types).map(([t,n])=>t))}function f0(e){for(const t of qS){let n;if(t.artifact_types&&(n=Object.entries(t.artifact_types).find(([i,r])=>i===e)),n&&n[1])return n[1].properties?Cr(n[1].properties):[]}throw new Error("No artifact type "+e+" found in any profile.")}var cc,uc,dc,hc,fc,pc,gc,mc,kl;class hx{constructor(t,n,i,r,a,o,s,l,c){Fe(this,cc);Fe(this,uc);Fe(this,dc);Fe(this,hc);Fe(this,fc);Fe(this,pc);Fe(this,gc);Fe(this,mc);Fe(this,kl);De(this,cc,t),De(this,uc,n),De(this,dc,i),De(this,hc,r),De(this,fc,a),De(this,pc,o),De(this,gc,s),De(this,mc,l),De(this,kl,c)}getType(){return k(this,cc)}getFile(){return k(this,uc)}getRepository(){return k(this,dc)}getDescription(){return k(this,hc)}getDeployPath(){return k(this,fc)}getArtifactVersion(){return k(this,pc)}getChecksum(){return k(this,gc)}getChecksumAlgorithm(){return k(this,mc)}setType(t){De(this,cc,t)}setFile(t){De(this,uc,t)}setRepository(t){De(this,dc,t)}setDescription(t){De(this,hc,t)}setDeployPath(t){De(this,fc,t)}setArtifactVersion(t){De(this,pc,t)}setChecksum(t){De(this,gc,t)}setChecksumAlgorithm(t){De(this,mc,t)}getAsSimpleObject(t){return t?{key:t,type:k(this,cc),file:k(this,uc),repository:k(this,dc),description:k(this,hc),deploy_path:k(this,fc),artifact_version:k(this,pc),checksum:k(this,gc),checksum_algorithm:k(this,mc),properties:k(this,kl).map(n=>{let i={};return i[n.getKey]=n.value,i})}:{type:k(this,cc),file:k(this,uc),repository:k(this,dc),description:k(this,hc),deploy_path:k(this,fc),artifact_version:k(this,pc),checksum:k(this,gc),checksum_algorithm:k(this,mc),properties:k(this,kl).map(n=>{let i={};return i[n.getKey]=n.value,i})}}getAsFlatObject(t){if(t){let n={key:t,type:k(this,cc),file:k(this,uc),repository:k(this,dc),description:k(this,hc),deploy_path:k(this,fc),artifact_version:k(this,pc),checksum:k(this,gc),checksum_algorithm:k(this,mc)};return k(this,kl).forEach(i=>{n[i.getKey]=i.value}),n}else{let n={type:k(this,cc),file:k(this,uc),repository:k(this,dc),description:k(this,hc),deploy_path:k(this,fc),artifact_version:k(this,pc),checksum:k(this,gc),checksum_algorithm:k(this,mc)};return k(this,kl).forEach(i=>{n[i.getKey]=i.value}),n}}setPropertyValue(t,n){let i=k(this,kl).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}getProperty(t){return k(this,kl).find(n=>n.getKey===t)}getProperties(){return k(this,kl)}}cc=new WeakMap,uc=new WeakMap,dc=new WeakMap,hc=new WeakMap,fc=new WeakMap,pc=new WeakMap,gc=new WeakMap,mc=new WeakMap,kl=new WeakMap;const KS="cna-modeling.relationships.HostedOn.DeploymentMapping",Vte=Zr.relationship_types[KS];function YS(){return Cr(Vte.properties).map(t=>{switch(t.getKey){case"deployment":return t.setName="Deployment process",t;case"deployment_unit":return new $N(t.getKey,t.getName,t.getDescription,t.getExample,t.getRequired,["custom"].concat(bE()).map(n=>({value:n,text:n})),t.getDefaultValue,t.value);default:return t}})}var Dg,cf,uf,df,wO;let fx=(wO=class{constructor(t,n,i){Fe(this,Dg);Fe(this,cf);Fe(this,uf);Fe(this,df,new Array);if(n.getId===i.getId){const r="The entities for which the DeploymentMapping is defined have to be distinguishable.";throw new Error(r)}if(!(n instanceof Po||n instanceof nl)){const r="Wrong entity type provided. Only Component, Service, BackingService, StorageBackingService or Infrastructure entities can be deployed by an underlying Infrastructure. However, the provided entity was: "+Object.getPrototypeOf(n)+JSON.stringify(n);throw new TypeError(r)}if(!(i instanceof nl)){const r="Wrong entity type provided. Only an Infrastructure entity is able to deploy other entities. However, the provided entity was: "+Object.getPrototypeOf(i)+JSON.stringify(i);throw new TypeError(r)}De(this,Dg,t),De(this,cf,n),De(this,uf,i),De(this,df,YS())}get getId(){return k(this,Dg)}set setId(t){De(this,Dg,t)}get getDeployedEntity(){return k(this,cf)}set setDeployedEntity(t){if(!(t instanceof Po||t instanceof nl)){const n="Wrong entity type provided. Only Component, Service, BackingService, StorageBackingService or Infrastructure entities can be deployed by an underlying Infrastructure. However, the provided entity was: "+Object.getPrototypeOf(t)+JSON.stringify(t);throw new TypeError(n)}if(JSON.stringify(t)===JSON.stringify(k(this,uf))){const n="The entity is already included as the underyling infrastructure.";throw new Error(n)}De(this,cf,t)}get getUnderlyingInfrastructure(){return k(this,uf)}set setUnderlyingInfrastructure(t){if(JSON.stringify(t)===JSON.stringify(k(this,cf))){const n="The entity is already included as being deployed on this infrastructure";throw new Error(n)}De(this,uf,t)}getProperties(){return k(this,df)}getProperty(t){return k(this,df).find(n=>n.getKey===t)}setPropertyValue(t,n){let i=k(this,df).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"DeploymentMapping "+JSON.stringify(this)}},Dg=new WeakMap,cf=new WeakMap,uf=new WeakMap,df=new WeakMap,wO);const MA="cna-modeling.relationships.ConnectsTo.Link",Gte=Zr.relationship_types[MA];function XS(){let e=Cr(Gte.properties);for(const t of e)switch(t.getKey){case"relation_type":t.setName="Relation Type:",t.setExample="e.g. subscribes to";break}return e}var Bg,hf,ff,pf,TO;let NA=(TO=class{constructor(t,n,i){Fe(this,Bg);Fe(this,hf);Fe(this,ff);Fe(this,pf,new Array);if(De(this,Bg,t),De(this,hf,n),De(this,ff,i),n.getEndpointEntities.find(r=>r.getId===i.getId)){const r="A Link cannot be created from an entity to its own included Endpoint.";throw new Error(r)}De(this,pf,XS())}get getId(){return k(this,Bg)}set setId(t){De(this,Bg,t)}get getSourceEntity(){return k(this,hf)}set setSourceEntity(t){if(t.getEndpointEntities.find(n=>n.getId===k(this,ff).getId)){const n="A Link cannot be created from an entity to its own included Endpoint.";throw new Error(n)}De(this,hf,t)}get getTargetEndpoint(){return k(this,ff)}set setTargetEndpoint(t){if(k(this,hf).getEndpointEntities.find(n=>n.getId===t.getId)){const n="A Link cannot be created from an entity to its own included Endpoint.";throw new Error(n)}De(this,ff,t)}getProperties(){return k(this,pf)}getProperty(t){return k(this,pf).find(n=>n.getKey===t)}setPropertyValue(t,n){let i=k(this,pf).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"Link "+JSON.stringify(this)}},Bg=new WeakMap,hf=new WeakMap,ff=new WeakMap,pf=new WeakMap,TO);const px="cna-modeling.entities.Network",s6=Zr.node_types[px];function JS(){return Cr(s6.properties).concat(P0(Cc(s6.capabilities)))}var Lg,cv,yc,AO;let QS=(AO=class{constructor(t,n,i){Fe(this,Lg);pr(this,"name");Fe(this,cv);Fe(this,yc,new Array);De(this,Lg,t),this.name=n,De(this,cv,i),De(this,yc,JS())}get getId(){return k(this,Lg)}set setId(t){De(this,Lg,t)}get getName(){return this.name}get getMetaData(){return k(this,cv)}addProperties(t){for(const n of t){let i=k(this,yc).findIndex(r=>r.getKey===n.getKey);~i?k(this,yc)[i]=n:k(this,yc).push(n)}}setPropertyValue(t,n){let i=k(this,yc).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}getProperty(t){return k(this,yc).find(n=>n.getKey===t)}getProperties(){return k(this,yc)}toString(){return"Network "+JSON.stringify(this)}},Lg=new WeakMap,cv=new WeakMap,yc=new WeakMap,AO);const gx="cna-modeling.entities.ProxyBackingService",FT=Zr.node_types[gx];function ZS(){return Cr(FT.properties).concat(P0(Cc(FT.capabilities)))}let Mr=class extends Po{constructor(t,n,i){super(t,n,i),this.addProperties(ZS())}toString(){return"ProxyBackingService "+JSON.stringify(this)}};const mx="cna-modeling.entities.RequestTrace",Wte=Zr.node_types[mx];function e_(){return Cr(Wte.properties).filter(t=>t.getKey!=="involved_links")}var Fg,uv,dv,hv,fv,zg,kO;let RA=(kO=class{constructor(t,n,i){Fe(this,Fg);Fe(this,uv);Fe(this,dv);Fe(this,hv);Fe(this,fv,[]);Fe(this,zg,new Array);De(this,Fg,t),De(this,uv,n),De(this,dv,i),De(this,zg,e_())}get getId(){return k(this,Fg)}set setId(t){De(this,Fg,t)}get getName(){return k(this,uv)}get getMetaData(){return k(this,dv)}get getExternalEndpoint(){return k(this,hv)}set setExternalEndpoint(t){if(t&&t.constructor.name!==O0.name){const n="Wrong entity type provided. Only an ExternalEndpoint entity is allowed. However, the provided entity was: "+Object.getPrototypeOf(t)+JSON.stringify(t);throw new TypeError(n)}De(this,hv,t)}get getLinks(){return k(this,fv)}set setLinks(t){De(this,fv,t)}getProperties(){return k(this,zg)}setPropertyValue(t,n){let i=k(this,zg).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"RequestTrace "+JSON.stringify(this)}},Fg=new WeakMap,uv=new WeakMap,dv=new WeakMap,hv=new WeakMap,fv=new WeakMap,zg=new WeakMap,kO);const yx="cna-modeling.entities.Service",UN=Zr.node_types[yx];function t_(){return Cr(UN.properties)}let qn=class extends Po{constructor(t,n,i){super(t,n,i),this.addProperties(t_())}toString(){return"Service "+JSON.stringify(this)}};const vx="cna-modeling.entities.StorageBackingService",HN=Zr.node_types[vx];function n_(){let e=Cr(HN.properties);for(const t of e)switch(t.getKey){case"name":t.setName="Database Name:",t.setExample="e.g. Order";break}return e}let Ci=class extends Po{constructor(t,n,i){super(t,n,i),this.addProperties(n_())}toString(){return"StorageBackingService "+JSON.stringify(this)}};var pv,$g,Bd,Ld,qg,Ug,Hg,Vg,Gg,Wg;class zT{constructor(t,n){Fe(this,pv);Fe(this,$g);Fe(this,Bd,new Map);Fe(this,Ld,new Map);Fe(this,qg,new Map);Fe(this,Ug,new Map);Fe(this,Hg,new Map);Fe(this,Vg,new Map);Fe(this,Gg,new Map);Fe(this,Wg,new Map);De(this,pv,t),De(this,$g,n)}addEntities(t){for(const n of t)this.addEntity(n)}addEntity(t){switch(t.constructor){case Po:case qn:case Mn:case Ci:case Mr:case wr:k(this,Bd).set(t.getId,t);break;case NA:k(this,Ld).set(t.getId,t);break;case nl:k(this,qg).set(t.getId,t);break;case fx:k(this,Ug).set(t.getId,t);break;case RA:k(this,Hg).set(t.getId,t);break;case PA:k(this,Vg).set(t.getId,t);break;case OA:k(this,Gg).set(t.getId,t);break;case QS:k(this,Wg).set(t.getId,t);break;default:const n="Wrong entity type provided. The provided entity was: "+Object.getPrototypeOf(t)+JSON.stringify(t);throw new TypeError(n)}}resetAllIncludedSystemEntities(){De(this,Bd,new Map),De(this,Ld,new Map),De(this,qg,new Map),De(this,Ug,new Map),De(this,Hg,new Map),De(this,Vg,new Map),De(this,Gg,new Map),De(this,Wg,new Map)}get getId(){return k(this,pv)}set setSystemName(t){!t||!t.trim()||De(this,$g,t)}get getSystemName(){return k(this,$g)}get getComponentEntities(){return k(this,Bd)}get getLinkEntities(){return k(this,Ld)}get getInfrastructureEntities(){return k(this,qg)}get getDeploymentMappingEntities(){return k(this,Ug)}get getRequestTraceEntities(){return k(this,Hg)}get getDataAggregateEntities(){return k(this,Vg)}get getBackingDataEntities(){return k(this,Gg)}get getNetworkEntities(){return k(this,Wg)}searchComponentOfEndpoint(t){return Array.from(k(this,Bd).values()).find(n=>!!n.getEndpointEntities.concat(n.getExternalEndpointEntities).find(i=>i.getId===t))}getOutgoingLinksOfComponent(t){return[...k(this,Ld).values()].filter(n=>n.getSourceEntity.getId===t)}getIncomingLinksOfComponent(t){let n=k(this,Bd).get(t).getEndpointEntities.map(i=>i.getId);return[...k(this,Ld).values()].filter(i=>n.includes(i.getTargetEndpoint.getId))}getShortestPathLength(t,n){let i=[t],r=this.getOutgoingLinksOfComponent(t).map(o=>({component:this.searchComponentOfEndpoint(o.getTargetEndpoint.getId),currentPath:1})).filter(o=>!i.includes(o.component.getId)),a=this.getComponentEntities.size-1;for(;r.length>0;){let o=r[0];if(o.component.getId===n){a=o.currentPath;break}else{let s=this.getOutgoingLinksOfComponent(o.component.getId).map(l=>({component:this.searchComponentOfEndpoint(l.getTargetEndpoint.getId),currentPath:o.currentPath+1})).filter(l=>!i.includes(l.component.getId));r.push(...s),i.push(o.component.getId),r.splice(0,1)}}return a}toString(){return"System "+JSON.stringify(this)}}pv=new WeakMap,$g=new WeakMap,Bd=new WeakMap,Ld=new WeakMap,qg=new WeakMap,Ug=new WeakMap,Hg=new WeakMap,Vg=new WeakMap,Gg=new WeakMap,Wg=new WeakMap;const Wh=Object.freeze({MISSING_INFORMATION:"missing information",INVALID_MODEL_ENTIY:"invalid model entity"});var gv,mv,yv,vv,bv;class Lp{constructor(t,n,i,r,a){Fe(this,gv);Fe(this,mv);Fe(this,yv);Fe(this,vv);Fe(this,bv);!Object.values(ge).includes(t)||!Object.values(Wh).includes(n)||!i||!a||(De(this,gv,t),De(this,yv,n),De(this,mv,i),De(this,vv,r),De(this,bv,a))}get getAffectedEntityType(){return k(this,gv)}get getErrorType(){return k(this,yv)}get getEntityName(){return k(this,mv)}get getAffectedInformation(){return k(this,vv)}get getMessage(){return k(this,bv)}}gv=new WeakMap,mv=new WeakMap,yv=new WeakMap,vv=new WeakMap,bv=new WeakMap;const Zi=Object.freeze({SMALL:"modal-sm",DEFAULT:"",LARGE:"modal-lg",EXTRA_LARGE:"modal-xl"}),jte="cna-modeling.relationships.AttachesTo.DataAggregate",Kte=Zr.relationship_types[jte];function bx(){return Cr(Kte.properties).map(t=>{switch(t.getKey){default:return t}}).filter(t=>t.getKey!=="location")}var Ev,xv,gf;class jh{constructor(t,n){Fe(this,Ev);Fe(this,xv);Fe(this,gf,new Array);De(this,Ev,t),De(this,xv,n),De(this,gf,bx())}get getId(){return k(this,Ev)}get getMetaData(){return k(this,xv)}getProperties(){return k(this,gf)}getProperty(t){return k(this,gf).find(n=>n.getKey===t)}setPropertyValue(t,n){let i=k(this,gf).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"Data Aggregate Relationship "+JSON.stringify(this)}}Ev=new WeakMap,xv=new WeakMap,gf=new WeakMap;const Yte="cna-modeling.relationships.AttachesTo.BackingData",Xte=Zr.relationship_types[Yte];function Ex(){return Cr(Xte.properties).map(t=>{switch(t.getKey){default:return t}}).filter(t=>t.getKey!=="location")}var Sv,_v,mf;class ig{constructor(t,n){Fe(this,Sv);Fe(this,_v);Fe(this,mf,new Array);De(this,Sv,t),De(this,_v,n),De(this,mf,Ex())}get getId(){return k(this,Sv)}get getMetaData(){return k(this,_v)}getProperties(){return k(this,mf)}getProperty(t){return k(this,mf).find(n=>n.getKey===t)}setPropertyValue(t,n){let i=k(this,mf).find(r=>r.getKey===t);if(i)i.value=n;else throw new Error(`Property with key ${t} not found in ${this.constructor}`)}toString(){return"Backing Data Relationship "+JSON.stringify(this)}}Sv=new WeakMap,_v=new WeakMap,mf=new WeakMap;function xr(e,t){return e.filter(n=>n.getDataType!=="map"&&n.getDataType!=="list").map(n=>{var i={providedFeature:n.getKey,label:n.getName,inputProperties:{disabled:!1,required:n.getRequired,checked:!1,selected:!1,readonly:!1},helpText:n.getDescription,show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:t==="entity"?"property":"relation",modelPath:`${t}/properties/${n.getKey}`,defaultPropPath:"",minPath:"",min:""}};switch(n.getDataType){case"boolean":var r={...i,contentType:"checkbox",attributes:{defaultValue:n.getDefaultValue}};return r;case"number":var a={...i,contentType:"number",attributes:{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,defaultValue:n.getDefaultValue}};return a;case"select":var o={...i,contentType:"select",attributes:{svgRepresentation:"",placeholder:n.getExample,defaultValue:n.getDefaultValue},dropdownOptions:n.getOptions.map(l=>({optionValue:l.value,optionText:l.text,optionTitle:"",representationClass:"",disabled:!1}))};return o;case"text":default:var s={...i,contentType:"text",attributes:{placeholder:n.getExample,defaultValue:n.getDefaultValue,svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:n.getOptions}};return s}})}function Fp(...e){let t=[],n=[];for(const i of e)i.forEach(r=>{n.includes(r.providedFeature)||(t.push(r),n.push(r.providedFeature))});return t}function wl(e,t){for(const n of t){let i=n.providedFeature,r=e.findIndex(a=>a.providedFeature===i);~r?e[r]=n:e.push(n)}return e}const Ut=Object.freeze({INPUT_TEXTBOX:"text",TEXTAREA:"textarea",INPUT_NUMBERBOX:"number",INPUT_RANGE:"range",CHECKBOX:"checkbox",CHECKBOX_WITHOUT_LABEL:"checkbox-without-label",DROPDOWN:"select",MULTI_SELECT:"multi-select",TOGGLE:"toggle",DYNAMIC_LIST:"dynamic-list"}),rf=(e="",t="white",n=1)=>`<ellipse ${e?`id="${e}"`:""} cx="13" cy="9" rx="12" ry="6" stroke="black" fill="${t}" opacity="${n}"/>`,Qp=(e="",t="white",n=1)=>`<path ${e?`id="${e}"`:""} d="M 0 0 L 16.8 0 Q 24 0 24 7.2 Q 24 14.4 16.8 14.4 L 0 14.4 Z" transform="translate(1, 1.5)" opacity="${n}" stroke-width="1" stroke-dasharray="0" stroke="black" fill="${t}"></path>`,Km={EntityHighlighting:[{type:ge.DATA_AGGREGATE,labelText:"Data Aggregate",svgRepresentation:`<svg width="30" height="20">${rf("data-aggregate-highlightingRepresentation","gold",.4)}</svg>`,highlightColour:"gold"},{type:ge.BACKING_DATA,labelText:"Backing Data",svgRepresentation:`<svg width="30" height="20">${Qp("backing-data-highlightingRepresentation","limegreen",.4)}</svg>`,highlightColour:"limegreen"}],GeneralProperties:{entity:{headline:"Entity Specific",iconClass:"fa-solid fa-sliders",options:[]},relations:{headline:"Relations",iconClass:"fa-solid fa-diagram-project",options:[]},artifacts:{headline:"Artifacts",iconClass:"fa-regular fa-file-code",options:[{providedFeature:"artifacts",contentType:Ut.DYNAMIC_LIST,label:"Deployment Artifacts",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit Artifacts",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-file-code",svgRepresentation:"",text:"Artifacts of this entity: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all artifacts included in this entity. In case you want to add a new entry, the following section provides the corresponding input elements which you can submit using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all 
                    your changes will be lost. While you keep the selection of this entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"key",label:"Key",helpText:"The key that identifies the artifact",labelIcon:"fa-solid fa-key",placeholder:"e.g. deployment-script"},{fieldType:"dropdown",key:"type",label:"Type",helpText:"The type of the artifact",labelIcon:"fa-solid fa-tag",dropdownOptions:[]},{fieldType:"text",key:"file",label:"File",helpText:"The name of the file for this artifact",labelIcon:"fa-regular fa-file",placeholder:"e.g. entity-deployment.yml"},{fieldType:"text",key:"repository",label:"Repository",helpText:"The repository where the file can be found",labelIcon:"fa-solid fa-server",placeholder:"e.g. https://myrepo.com"},{fieldType:"text",key:"description",label:"Description",helpText:"A description of this artifact",labelIcon:"fa-solid fa-message",placeholder:"e.g. This file is executed by the platform"},{fieldType:"text",key:"deploy_path",label:"Deploy Path",helpText:"The file path the associated file will be deployed on within the target node's container.",labelIcon:"fa-solid fa-terminal",placeholder:"e.g. ./"},{fieldType:"text",key:"artifact_version",label:"Artifact version",helpText:"The version of this artifact.",labelIcon:"fa-solid fa-code-branch",placeholder:"e.g. 1.0"},{fieldType:"text",key:"checksum",label:"Checksum",helpText:"The checksum used to validate the integrity of the artifact.",labelIcon:"fa-regular fa-hashtag",placeholder:"e.g. 34534534"},{fieldType:"text",key:"checksum_algorithm",label:"Checksum Algorithm",helpText:"Algorithm used to calculate the artifact checksum.",labelIcon:"fa-solid fa-gears",placeholder:"e.g. MD5"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/artifacts",defaultPropPath:"",minPath:"",min:""}}]},label:{headline:"Entity Label",iconClass:"fa-solid fa-font",options:[{providedFeature:"entity-text",contentType:Ut.TEXTAREA,label:"Text:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{rows:1,maxLength:200,placeholder:"",defaultValue:"",provideEnterButton:!1},helpText:"Use enter key to submit change.",show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"attribute",modelPath:"label/textWrap/text",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"entity-font-size",contentType:Ut.INPUT_RANGE,label:"Font Size:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:8,max:24,defaultValue:14,step:1,provideEnterButton:!1},helpText:"Use enter key to submit change.",show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"attribute",modelPath:"label/fontSize",defaultPropPath:"defaults/fontSize",minPath:"",min:"6"}}]},size:{headline:"Entity Size",iconClass:"fa-solid fa-vector-square",options:[{providedFeature:"entity-width",contentType:Ut.INPUT_NUMBERBOX,label:"Width:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:40,max:99999,defaultValue:150},helpText:"The entity width",show:!0,provideEnterButton:!0,jointJsConfig:{propertyType:"providedMethod",modelPath:"size/width",defaultPropPath:"defaults/size/width",minPath:"defaults/size/width",min:""}},{providedFeature:"entity-height",contentType:Ut.INPUT_NUMBERBOX,label:"Height:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:40,max:99999,defaultValue:150},helpText:"The entity height; might also change due to width change to preserve aspect ratio",show:!0,provideEnterButton:!0,jointJsConfig:{propertyType:"providedMethod",modelPath:"size/height",defaultPropPath:"defaults/size/height",minPath:"defaults/size/height",min:""}},{providedFeature:"keep-entity-aspect-ratio",contentType:Ut.CHECKBOX,label:"Preserve aspect ratio",inputProperties:{disabled:!0,required:!0,checked:!0,selected:!1,readonly:!1},attributes:{defaultValue:!0},helpText:"If aspect ratio is preserved, width and height change simultaneously.",show:!1,provideEnterButton:!1,jointJsConfig:{propertyType:"free",modelPath:"",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"entity-aspect-ratio",contentType:Ut.INPUT_TEXTBOX,label:"Aspect ratio",inputProperties:{disabled:!0,required:!0,checked:!0,selected:!1,readonly:!0},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},helpText:"The value will be calculated based on the given width to preserve the aspect ratio of the entity shape",show:!1,provideEnterButton:!1,jointJsConfig:{propertyType:"property",modelPath:"defaults/size",defaultPropPath:"",minPath:"",min:""}}]},position:{headline:"Entity Position",iconClass:"fa-solid fa-crosshairs",options:[{providedFeature:"entity-x-position",contentType:Ut.INPUT_NUMBERBOX,label:"X-Coordinate:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:21,max:Number.MAX_SAFE_INTEGER,defaultValue:21},helpText:"X Coordinate for the entity placement",show:!0,provideEnterButton:!0,jointJsConfig:{propertyType:"providedMethod",modelPath:"position/x",defaultPropPath:"",minPath:"",min:"21"}},{providedFeature:"entity-y-position",contentType:Ut.INPUT_NUMBERBOX,label:"Y-Coordinate:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{min:21,max:Number.MAX_SAFE_INTEGER,defaultValue:21},helpText:"Y Coordinate for the entity placement",show:!0,provideEnterButton:!0,jointJsConfig:{propertyType:"providedMethod",modelPath:"position/y",defaultPropPath:"",minPath:"",min:"21"}}]}}},l6=()=>'<defs><marker id="arrowHead" orient="auto" overflow="visible" markerUnits="userSpaceOnUse"><path id="v-66" stroke="black" fill="black" transform="rotate(180)" d="M 8 -4.5 0 0 8 4.5 z"></path></marker></defs>'+'<path d="M 1 8 L 27 8" marker-end="url(#arrowHead)" fill="none" stroke="black" stroke-dasharray="none" stroke-width="2" stroke-line-join="round" stroke-linejoin="round"</path>',qh=()=>({providedFeature:"identities",contentType:Ut.DYNAMIC_LIST,label:"Assigned identities:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit Identities",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-id-card",svgRepresentation:"",text:"Identities: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all identities assigned to this component. In case you want to add a new entry, the following section provides one text element box and one dropdown field you can use to provide the information and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this Backing Data entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"identifier",label:"Identifier",helpText:"A unique identifying name",labelIcon:"fa-regular fa-id-card",placeholder:"e.g. account1"},{fieldType:"dropdown",key:"identityType",dropdownOptions:[],label:"Type",helpText:"The type of this identity",labelIcon:"fa-solid fa-passport"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/identities",defaultPropPath:"",minPath:"",min:""}}),ja={Component:{type:ge.COMPONENT,specificProperties:wl(xr(Ao(),"entity"),[qh()])},Service:{type:ge.SERVICE,specificProperties:wl(Fp(xr(t_(),"entity"),xr(Ao(),"entity")),[qh()])},BackingService:{type:ge.BACKING_SERVICE,specificProperties:wl(Fp(xr(VS(),"entity"),xr(Ao(),"entity")),[qh()])},StorageBackingService:{type:ge.STORAGE_BACKING_SERVICE,specificProperties:wl(Fp(xr(n_(),"entity"),xr(Ao(),"entity")),[qh()])},BrokerBackingService:{type:ge.BROKER_BACKING_SERVICE,specificProperties:wl(Fp(xr(GS(),"entity"),xr(Ao(),"entity")),[qh()])},ProxyBackingService:{type:ge.PROXY_BACKING_SERVICE,specificProperties:wl(Fp(xr(ZS(),"entity"),xr(Ao(),"entity")),[qh()])},Endpoint:{type:ge.ENDPOINT,specificProperties:wl(xr(Bf(),"entity"),[{providedFeature:"embedded",contentType:Ut.INPUT_TEXTBOX,label:"Parent",helpText:"The parent of the endpoint if it is embedded",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/embedded",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"supported_authentication_methods",contentType:Ut.MULTI_SELECT,label:"Authentication methods supported by this endpoint:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit supported methods",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-id-card",svgRepresentation:"",text:"Supported methods "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Check all authentication methods that are supported by this endpoint. If no method is selected, no authentication is needed for this endpoint. Your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your selection, all your changes will be lost.`,tableColumnHeaders:[{text:"Method"},{text:"supported"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/supported_authentication_methods",defaultPropPath:"",minPath:"",min:""}}])},ExternalEndpoint:{type:ge.EXTERNAL_ENDPOINT,specificProperties:wl(Fp(xr(IA(),"entity"),xr(Bf(),"entity")),[{providedFeature:"embedded",contentType:Ut.INPUT_TEXTBOX,label:"Parent",helpText:"The parent of the endpoint if it is embedded",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/embedded",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"supported_authentication_methods",contentType:Ut.MULTI_SELECT,label:"Authentication methods supported by this endpoint:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit supported methods",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-id-card",svgRepresentation:"",text:"Supported methods "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Check all authentication methods that are supported by this endpoint. If no method is selected, no authentication is needed for this endpoint. Your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your selection, all your changes will be lost.`,tableColumnHeaders:[{text:"Method"},{text:"supported"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/supported_authentication_methods",defaultPropPath:"",minPath:"",min:""}}])},Link:{type:ge.LINK,specificProperties:xr(XS(),"entity")},Infrastructure:{type:ge.INFRASTRUCTURE,specificProperties:wl(xr(jS(),"entity"),[qh(),{providedFeature:"supported_artifacts",contentType:Ut.MULTI_SELECT,label:"Supported Artifacts:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit supported artifacts",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-file-code",svgRepresentation:"",text:"Supported artifacts: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Type in the name of an artifact type and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this Backing Data entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Artifact type"},{text:"Include"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/supported_artifacts",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"supported_update_strategies",contentType:Ut.MULTI_SELECT,label:"Supported Update Strategies:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit supported update strategies",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-solid fa-arrow-up-from-bracket",svgRepresentation:"",text:"Supported update strategies: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Check all update strategies supported by this infrastructure. Your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all your changes will be lost.`,tableColumnHeaders:[{text:"Update strategy"},{text:"Supported"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/supported_update_strategies",defaultPropPath:"",minPath:"",min:""}}])},DeploymentMapping:{type:ge.DEPLOYMENT_MAPPING,specificProperties:xr(YS(),"entity")},DataAggregate:{type:ge.DATA_AGGREGATE,specificProperties:wl(xr(WS(),"entity").concat(xr(bx(),"relationship")),[{providedFeature:"dataAggregate-chooseEditMode",contentType:Ut.TOGGLE,label:"Edit Mode:",labels:{headLabel:"<U>Edit Mode:</U>",leftLabel:"Original",rightLabel:"Embedded"},inputProperties:{disabled:!1,required:!1,checked:!0,selected:!1,readonly:!1},helpText:"Choose whether you want to modify the embedded element or the actual Data Aggregate entity.",provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"free",modelPath:"",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"embedded",contentType:Ut.INPUT_TEXTBOX,label:"Parent",helpText:"The parent of the data aggregate if it is embedded",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/embedded",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"dataAggregate-assignedFamily",contentType:Ut.INPUT_TEXTBOX,label:"- Family assigned:",helpText:"The family of the Data Aggregate",inputProperties:{disabled:!0,readonly:!0,required:!1,checked:!1,selected:!1},attributes:{placeholder:"No family assigned",defaultValue:"",svgRepresentation:'<svg width="30" height="20"><ellipse cx="13" cy="9" rx="12" ry="6" stroke="black" fill="white" opacity="1"/></svg>',inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"property",modelPath:"entity/assignedFamily",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"dataAggregate-familyConfig",contentType:Ut.MULTI_SELECT,label:"- Family:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:`<svg width="30" height="20">${rf()}</svg>`,buttonText:"Edit Family",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"",svgRepresentation:`<svg width="30" height="20">${rf()}</svg>`,text:"Included Data Aggregate entities"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all existing Data Aggregate entities within this System. You can select which ones of the following Data Aggregate entities you want to include in this
                family. Note that if you select a Data Aggregate and save your changes, the labels of the selected Data Aggregate entities might change since they have to be equal to the family name.
                Additionally, if you deselect entities that have previously been part of this family, their label will be reset to "Data Aggregate". However, your changes won't be adopted until you 
                clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this Data Aggregate entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Name"},{text:"Family Name"},{text:"Parent"},{text:"Include"}]},show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"",defaultPropPath:"",minPath:"",min:""}}])},BackingData:{type:ge.BACKING_DATA,specificProperties:wl(xr(HS(),"entity").concat(xr(Ex(),"relationship")),[{providedFeature:"backingData-chooseEditMode",contentType:Ut.TOGGLE,label:"Edit Mode:",labels:{headLabel:"<U>Edit Mode:</U>",leftLabel:"Original",rightLabel:"Embedded"},inputProperties:{disabled:!1,required:!1,checked:!0,selected:!1,readonly:!1},helpText:"Choose whether you want to modify the embedded element or the actual Backing Data entity.",provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"free",modelPath:"",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"embedded",contentType:Ut.INPUT_TEXTBOX,label:"Parent",helpText:"The parent of the backing data if it is embedded",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},attributes:{placeholder:"",defaultValue:"",svgRepresentation:"",inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"property",modelPath:"entity/embedded",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"backingData-includedData",contentType:Ut.DYNAMIC_LIST,label:"Included Data:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:`<svg width="30" height="20">${Qp()}</svg>`,buttonText:"Edit Included Data",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"",svgRepresentation:`<svg width="30" height="20">${Qp()}</svg>`,text:"Backing Data Included Data: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all data elements included in this Backing Data entity. In case you want to add a new entry, the following section provides two text element boxes you can use to 
                    provide the information and then add it using the plus button. However, your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your entity selection, all 
                    your changes will be lost. While you keep the selection of this Backing Data entity, your changes will be remembered.`,listElementFields:[{fieldType:"text",key:"key",label:"Key",helpText:"The key that identifies the following value item.",labelIcon:"fa-solid fa-key",placeholder:"e.g. My_SQL_Password"},{fieldType:"text",key:"value",label:"Value",helpText:"The value of this data item.",labelIcon:"bi bi-chat-square-text-fill",placeholder:"e.g. mysqlpw"}],addElementButton:{label:"Submit",labelIcon:"fa-solid fa-plus"}},provideEnterButton:!1,show:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"entity/properties/included_data",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"backingData-assignedFamily",contentType:Ut.INPUT_TEXTBOX,label:"- Family assigned:",inputProperties:{disabled:!0,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The family of the Backing Data",attributes:{placeholder:"No family assigned",defaultValue:"",svgRepresentation:`<span><svg width="30" height="20">${Qp()}</svg></span>`,inputLabelIcon:"",provideEditButton:!1,suggestedValues:[]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"property",modelPath:"entity/assignedFamily",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"backingData-familyConfig",contentType:Ut.MULTI_SELECT,label:"– Family:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:`<svg width="30" height="20">${Qp()}</svg>`,buttonText:"Edit Family",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"",svgRepresentation:`<svg width="30" height="20">${Qp()}</svg>`,text:"Included Backing Data entities "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all existing Backing Data entities within this System. You can select which ones of the following Backing Data entities you want to include in this
                    family. Note that if you select a Backing Data and save your changes, the labels of the selected Backing Data entities might change since they have to be equal to the family name.
                    Additionally, if you deselect entities that have previously been part of this family, their label will be reset to "Backing Data". However, your changes won't be adopted until you 
                    clicked "Save". In case you cancel and change your entity selection, all your changes will be lost. While you keep the selection of this Backing Data entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Name"},{text:"Family Name"},{text:"Parent"},{text:"Include"}]},show:!0,provideEnterButton:!1,jointJsConfig:{propertyType:"customProperty",modelPath:"",defaultPropPath:"",minPath:"",min:""}}])},RequestTrace:{type:ge.REQUEST_TRACE,specificProperties:xr(e_(),"entity")},Network:{type:ge.NETWORK,specificProperties:xr(JS(),"entity")}},Uh=()=>({providedFeature:"assigned_to_networks",contentType:Ut.MULTI_SELECT,label:"Assigned networks:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit assigned networks",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-solid fa-network-wired",svgRepresentation:"",text:"Assigned networks: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:"Check all networks to which this entity is assigned to.",tableColumnHeaders:[{text:"Network"},{text:"Assigned"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/assigned_to_networks",defaultPropPath:"",minPath:"",min:""}}),zp=()=>({providedFeature:"externalIngressProxiedBy",contentType:Ut.DROPDOWN,label:"External Ingress proxied by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The proxy backing service acting as an external ingress proxy for this component.",show:!0,attributes:{placeholder:"Choose Proxy Backing Service...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/external_ingress_proxied_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}),$p=()=>({providedFeature:"ingressProxiedBy",contentType:Ut.DROPDOWN,label:"Ingress proxied by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The proxy backing service acting as an ingress proxy for this component.",show:!0,attributes:{placeholder:"Choose Proxy Backing Service...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/ingress_proxied_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}),qp=()=>({providedFeature:"egressProxiedBy",contentType:Ut.DROPDOWN,label:"Egress proxied by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The proxy backing service acting as an egress proxy for this component.",show:!0,attributes:{placeholder:"Choose Proxy Backing Service...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/egress_proxied_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}),Up=()=>({providedFeature:"addressResolutionBy",contentType:Ut.DROPDOWN,label:"Address resolution by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The entity providing address resolution for the communication done by this entity.",show:!0,attributes:{placeholder:"Choose entity...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/address_resolution_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}),Hp=()=>({providedFeature:"authenticationBy",contentType:Ut.DROPDOWN,label:"Authentication by:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The entity providing authentication for endpoints provided by this entity.",show:!0,attributes:{placeholder:"Choose entity...",svgRepresentation:"",defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/authentication_by",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]}),wd={Component:{type:ge.COMPONENT,relations:[Uh(),zp(),$p(),qp(),Up(),Hp()]},Service:{type:ge.SERVICE,relations:[Uh(),zp(),$p(),qp(),Up(),Hp()]},BackingService:{type:ge.BACKING_SERVICE,relations:[Uh(),zp(),$p(),qp(),Up(),Hp()]},StorageBackingService:{type:ge.STORAGE_BACKING_SERVICE,relations:[Uh(),zp(),$p(),qp(),Up(),Hp()]},BrokerBackingService:{type:ge.BROKER_BACKING_SERVICE,relations:[Uh(),zp(),$p(),qp(),Up(),Hp()]},ProxyBackingService:{type:ge.PROXY_BACKING_SERVICE,relations:[Uh(),zp(),$p(),qp(),Up(),Hp()]},Endpoint:{type:ge.ENDPOINT,relations:[{providedFeature:"uses_data",contentType:Ut.MULTI_SELECT,label:"Data Aggregates used:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"",show:!0,attributes:{svgRepresentation:'<svg width="35" height="20">'+rf()+"</svg>",buttonText:"Add Data Aggregates",buttonIconClass:"bi bi-window-plus",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"",svgRepresentation:'<svg width="35" height="20">'+rf()+"</svg>",text:"Data Aggregates used by Endpoint: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all Data Aggregate entities associated with this component. By selecting the respective 
                    checkbox the Data Aggregate entity will be added to this Endpoint. The selection at the beginning 
                    shows the currently saved state for this entity. Your changes won't be adopted until you 
                    clicked "Save". In case you cancel and change your entity selection, all your changes will be 
                    lost. While you keep the selection of this Endpoint entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Data Aggregate"},{text:"Usage relation"},{text:"Include"}]},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/uses_data",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"allow_access_to",contentType:Ut.MULTI_SELECT,label:"Accounts allowed to call this endpoint:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit allowed accounts",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-id-card",svgRepresentation:"",text:"Allowed accounts: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Check all accounts that are allowed to call this endpoint. If no account is selected, anybody is allowed to call this endpoint. Your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your selection, all your changes will be lost.`,tableColumnHeaders:[{text:"Account"},{text:"allowed"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/allow_access_to",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"documentedBy",contentType:Ut.MULTI_SELECT,label:"Documented by:",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},helpText:"The artifact documenting this endpoint.",show:!0,attributes:{svgRepresentation:"",buttonText:"Edit documentating artifacts",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-file-lines",svgRepresentation:"",text:"Documenting artifacts: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Check all artifacts that provide documentation for this endpoint. Your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your selection, all your changes will be lost.`,tableColumnHeaders:[{text:"Artifact"},{text:"Type"},{text:"documenting"}]},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/documented_by",defaultPropPath:"",minPath:"",min:""}}]},ExternalEndpoint:{type:ge.EXTERNAL_ENDPOINT,relations:[{providedFeature:"uses_data",contentType:Ut.MULTI_SELECT,label:"Data Aggregates used:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"",show:!0,attributes:{svgRepresentation:'<svg width="35" height="20">'+rf()+"</svg>",buttonText:"Add Data Aggregates",buttonIconClass:"bi bi-window-plus",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"",svgRepresentation:'<svg width="35" height="20">'+rf()+"</svg>",text:"Data Aggregates used by External Endpoint: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all Data Aggregate entities associated with this component. By selecting the respective 
                    checkbox the Data Aggregate entity will be added to this Endpoint. The selection at the beginning 
                    shows the currently saved state for this entity. Your changes won't be adopted until you 
                    clicked "Save". In case you cancel and change your entity selection, all your changes will be 
                    lost. While you keep the selection of this Endpoint entity, your changes will be remembered.`,tableColumnHeaders:[{text:"Data Aggregate"},{text:"Usage relation"},{text:"Include"}]},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/uses_data",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"allow_access_to",contentType:Ut.MULTI_SELECT,label:"Accounts allowed to call this endpoint:",helpText:"",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},attributes:{svgRepresentation:"",buttonText:"Edit allowed accounts",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-id-card",svgRepresentation:"",text:"Allowed accounts: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Check all accounts that are allowed to call this endpoint. If no account is selected, anybody is allowed to call this endpoint. Your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your selection, all your changes will be lost.`,tableColumnHeaders:[{text:"Account"},{text:"allowed"}]},provideEnterButton:!1,show:!0,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/allow_access_to",defaultPropPath:"",minPath:"",min:""}},{providedFeature:"documentedBy",contentType:Ut.MULTI_SELECT,label:"Documented by:",inputProperties:{disabled:!1,required:!1,checked:!1,selected:!1,readonly:!1},helpText:"The artifact documenting this endpoint.",show:!0,attributes:{svgRepresentation:"",buttonText:"Edit documentating artifacts",buttonIconClass:"fa-solid fa-pencil",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-regular fa-file-lines",svgRepresentation:"",text:"Documenting artifacts: "},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`Check all artifacts that provide documentation for this endpoint. Your changes won't be saved or adopted until you clicked "Save". In case you cancel and change your selection, all your changes will be lost.`,tableColumnHeaders:[{text:"Artifact"},{text:"Type"},{text:"documenting"}]},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/documented_by",defaultPropPath:"",minPath:"",min:""}}]},Link:{type:ge.LINK,relations:[]},Infrastructure:{type:ge.INFRASTRUCTURE,relations:[Uh()]},DeploymentMapping:{type:ge.DEPLOYMENT_MAPPING,relations:[]},DataAggregate:{type:ge.DATA_AGGREGATE,relations:[]},BackingData:{type:ge.BACKING_DATA,relations:[]},RequestTrace:{type:ge.REQUEST_TRACE,relations:[{providedFeature:"referred_endpoint",contentType:Ut.DROPDOWN,label:"External Endpoint:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"The referred External Endpoint.",show:!0,attributes:{placeholder:"Choose External Endpoint...",svgRepresentation:'<svg width="30" height="20"><circle id="request-trace-external-endpoint" cx="15" cy="9" r="4" stroke="black" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/></svg>',defaultValue:""},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/referred_endpoint",defaultPropPath:"",minPath:"",min:""},dropdownOptions:[]},{providedFeature:"involved_links",contentType:Ut.MULTI_SELECT,label:"Involved Links:",inputProperties:{disabled:!1,required:!0,checked:!1,selected:!1,readonly:!1},helpText:"",show:!0,attributes:{svgRepresentation:'<svg width="35" height="20">'+l6()+"</svg>",buttonText:"Edit Link entities",buttonIconClass:"bi bi-window-plus",dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"",svgRepresentation:'<svg width="35" height="20">'+l6()+"</svg>",text:"Links involved in Request Trace"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Save"}]}},dialogInfo:`The following table shows all Link entities that currently exist for this System. 
                    Invalid Links, such as non-connected ones or if they are connected to an Endpoint without
                    a parent entity cannot be selected and are thus deactivated. To include a link in the request trace, specify its index which signifies when a link is used. An index of "-1" means that a link is not included. Links with a higher index are used after links with lower indices. When links are used in parallel, they can also be assigned to the same index. The selection at the beginning 
                    shows the currently saved state for this entity. Your changes won't be adopted until you 
                    clicked "Save". In case you cancel and change your entity selection, all your changes will be 
                    lost. While you keep the selection of this Request Trace entity, your changes will be remembered.`,tableColumnHeaders:[{text:"From"},{text:"To Endpoint"},{text:"Endpoint Parent"},{text:"Trace Index"}]},provideEnterButton:!1,jointJsConfig:{propertyType:"relation",modelPath:"entity/relations/involved_links",defaultPropPath:"",minPath:"",min:""}}]},Network:{type:ge.NETWORK,relations:[]}};Ut.DYNAMIC_LIST,Zi.LARGE;var jg,Kg;class VN{constructor(){Fe(this,jg,new Map);Fe(this,Kg,new Map)}add(t,n){if(k(this,jg).has(t))throw new Error(`An entry with key ${t} already exists!`);if(k(this,Kg).has(n))throw new Error(`An entry with id ${n} already exists!`);k(this,jg).set(t,n),k(this,Kg).set(n,t)}getId(t){return k(this,jg).get(t)}getKey(t){return k(this,Kg).get(t)}}jg=new WeakMap,Kg=new WeakMap;var nS,yf,$f,qT,GN;class $T{constructor(){Fe(this,$f);Fe(this,nS,new RegExp(/_([a-z]+)$/g));Fe(this,yf,new Set)}ensureUniqueness(t){if(k(this,yf).has(t)){let n=[97],i=`${t}${ft(this,$f,qT).call(this,n)}`;for(;k(this,yf).has(i);)n=ft(this,$f,GN).call(this,n),i=i.replace(k(this,nS),ft(this,$f,qT).call(this,n));return k(this,yf).add(i),i}else return k(this,yf).add(t),t}}nS=new WeakMap,yf=new WeakMap,$f=new WeakSet,qT=function(t){let n="_";for(let i of t)n=n+String.fromCharCode(i);return n},GN=function(t){for(let n=0;n<t.length;n++)if(t[n]<122)return t[n]=t[n]+1,t;return t.push(97),t};function Tl(e){return{label:e.label,fontSize:e.fontSize.toString(),size_width:e.size.width.toString(),size_height:e.size.height.toString(),position_xCoord:e.position.xCoord.toString(),position_yCoord:e.position.yCoord.toString()}}function xa(e){return{label:e.label?e.label:"",fontSize:e.fontSize?Number.parseFloat(e.fontSize):-1,size:{width:e.size_width?Number.parseFloat(e.size_width):-1,height:e.size_height?Number.parseFloat(e.size_height):-1},position:{xCoord:e.position_xCoord?Number.parseFloat(e.position_xCoord):-1,yCoord:e.position_yCoord?Number.parseFloat(e.position_yCoord):-1}}}function nc(){return{label:"",fontSize:12,size:{width:50,height:20},position:{xCoord:0,yCoord:0}}}const Jte="tosca_2_0",Qte=new RegExp(/\s/g),Zte=new RegExp(/[#>\-\.]/g),ene=new RegExp(/_+/g);var Ya,xi,ts,Yg,xn,yu,Sa,WN,jN,KN,YN,XN,JN,QN,ZN,Tm;class tne{constructor(t,n){Fe(this,xn);Fe(this,Ya,new $T);Fe(this,xi,new VN);Fe(this,ts);Fe(this,Yg);De(this,ts,t),De(this,Yg,{tosca_definitions_version:Jte,metadata:{template_author:"CNA modeling tool",template_name:t.getSystemName,template_version:"0.2"},description:"Service template generated by the CNA modeling tool"})}convert(){let t={description:"Topology template generated by the CNA modeling tool",node_templates:{},relationship_templates:{}};for(const[n,i]of k(this,ts).getDataAggregateEntities.entries()){const r=k(this,Ya).ensureUniqueness(ft(this,xn,yu).call(this,i.getName));let a=ft(this,xn,WN).call(this,i);k(this,xi).add(r,n),t.node_templates[r]=a}for(const[n,i]of k(this,ts).getBackingDataEntities.entries()){const r=k(this,Ya).ensureUniqueness(ft(this,xn,yu).call(this,i.getName));let a=ft(this,xn,jN).call(this,i);k(this,xi).add(r,n),t.node_templates[r]=a}for(const[n,i]of k(this,ts).getNetworkEntities.entries()){const r=k(this,Ya).ensureUniqueness(ft(this,xn,yu).call(this,i.getName));let a=ft(this,xn,KN).call(this,i);k(this,xi).add(r,n),t.node_templates[r]=a}for(const[n,i]of k(this,ts).getInfrastructureEntities.entries()){const r=k(this,Ya).ensureUniqueness(ft(this,xn,yu).call(this,i.getName));let a=ft(this,xn,YN).call(this,i);if(i.getBackingDataEntities.length>0){a.requirements||(a.requirements=[]);for(const o of i.getBackingDataEntities){const s=k(this,Ya).ensureUniqueness(`${r}_uses_${k(this,xi).getKey(o.backingData.getId)}`);let l={type:"cna-modeling.relationships.AttachesTo.Data",metadata:Tl(o.relation.getMetaData)};o.relation.getProperties().length>0&&(l.properties=ft(this,xn,Sa).call(this,o.relation.getProperties())),t.relationship_templates[s]=l,a.requirements.push({uses_backing_data:{node:k(this,xi).getKey(o.backingData.getId),relationship:s}})}}if(i.getNetworks.size>0){a.requirements||(a.requirements=[]);for(const[o,s]of i.getNetworks)a.requirements.push({assigned_to_network:{node:k(this,xi).getKey(o),relationship:"cna-modeling.relationships.LinksTo"}})}k(this,xi).add(r,n),t.node_templates[r]=a}for(const[n,i]of k(this,ts).getComponentEntities.entries()){const r=k(this,Ya).ensureUniqueness(ft(this,xn,yu).call(this,i.getName));let a=ft(this,xn,XN).call(this,i);k(this,xi).add(r,n),t.node_templates[r]=a}for(const[n,i]of k(this,ts).getComponentEntities.entries()){const r=k(this,xi).getKey(n),a=t.node_templates[r];if(i.getEndpointEntities.length>0){a.requirements=[];for(const o of i.getEndpointEntities){const s=k(this,Ya).ensureUniqueness(ft(this,xn,yu).call(this,o.getName));let l=ft(this,xn,JN).call(this,o);for(const c of o.getDataAggregateEntities){let h=k(this,xi).getKey(c.data.getId);l.requirements||(l.requirements=[]),l.requirements.push({uses_data:h})}k(this,xi).add(s,o.getId),t.node_templates[s]=l,a.requirements.push({provides_endpoint:{capability:"cna-modeling.capabilities.Endpoint",node:s,relationship:"cna-modeling.relationships.Provides.Endpoint"}})}}if(i.getExternalEndpointEntities.length>0){a.requirements||(a.requirements=[]);for(const o of i.getExternalEndpointEntities){const s=k(this,Ya).ensureUniqueness(ft(this,xn,yu).call(this,o.getName));let l=ft(this,xn,QN).call(this,o);for(const c of o.getDataAggregateEntities){let h=k(this,xi).getKey(c.data.getId);l.requirements||(l.requirements=[]),l.requirements.push({uses_data:h})}k(this,xi).add(s,o.getId),t.node_templates[s]=l,a.requirements.push({provides_external_endpoint:{capability:"cna-modeling.capabilities.Endpoint",node:s,relationship:"cna-modeling.relationships.Provides.Endpoint"}})}}if(i.getDataAggregateEntities.length>0){a.requirements||(a.requirements=[]);for(const o of i.getDataAggregateEntities){const s=k(this,Ya).ensureUniqueness(`${r}_uses_${k(this,xi).getKey(o.data.getId)}`);let l={type:"cna-modeling.relationships.AttachesTo.DataAggregate",metadata:Tl(o.relation.getMetaData)};o.relation.getProperties().length>0&&(l.properties=ft(this,xn,Sa).call(this,o.relation.getProperties())),t.relationship_templates[s]=l,a.requirements.push({uses_data:{node:k(this,xi).getKey(o.data.getId),relationship:s}})}}if(i.getBackingDataEntities.length>0){a.requirements||(a.requirements=[]);for(const o of i.getBackingDataEntities){const s=k(this,Ya).ensureUniqueness(`${r}_uses_${k(this,xi).getKey(o.backingData.getId)}`);let l={type:"cna-modeling.relationships.AttachesTo.BackingData",metadata:Tl(o.relation.getMetaData)};o.relation.getProperties().length>0&&(l.properties=ft(this,xn,Sa).call(this,o.relation.getProperties())),t.relationship_templates[s]=l,a.requirements.push({uses_backing_data:{node:k(this,xi).getKey(o.backingData.getId),relationship:s}})}}if(i.getExternalIngressProxiedBy&&(a.requirements||(a.requirements=[]),a.requirements.push({external_ingress_proxied_by:{node:k(this,xi).getKey(i.getExternalIngressProxiedBy.getId),relationship:"cna-modeling.relationships.ProxiedBy.BackingService"}})),i.getIngressProxiedBy&&(a.requirements||(a.requirements=[]),a.requirements.push({ingress_proxied_by:{node:k(this,xi).getKey(i.getIngressProxiedBy.getId),relationship:"cna-modeling.relationships.ProxiedBy.BackingService"}})),i.getEgressProxiedBy&&(a.requirements||(a.requirements=[]),a.requirements.push({egress_proxied_by:{node:k(this,xi).getKey(i.getEgressProxiedBy.getId),relationship:"cna-modeling.relationships.ProxiedBy.BackingService"}})),i.getAddressResolutionBy&&(a.requirements||(a.requirements=[]),a.requirements.push({address_resolution_by:{node:k(this,xi).getKey(i.getAddressResolutionBy.getId),relationship:"cna-modeling.relationships.UseAddressResolution"}})),i.getAuthenticationBy&&(a.requirements||(a.requirements=[]),a.requirements.push({authentication_by:{node:k(this,xi).getKey(i.getAuthenticationBy.getId),relationship:"cna-modeling.relationships.DelegateAuthentication"}})),i.getNetworks.size>0){a.requirements||(a.requirements=[]);for(const[o,s]of i.getNetworks)a.requirements.push({assigned_to_network:{node:k(this,xi).getKey(o),relationship:"cna-modeling.relationships.LinksTo"}})}}for(const[n,i]of k(this,ts).getDeploymentMappingEntities.entries()){const r=k(this,xi).getKey(i.getUnderlyingInfrastructure.getId),a=k(this,xi).getKey(i.getDeployedEntity.getId),o=k(this,Ya).ensureUniqueness(`${r}_hosts_${a}`);let s={type:KS},l=ft(this,xn,Sa).call(this,i.getProperties());ft(this,xn,Tm).call(this,l)&&(s.properties=l),k(this,xi).add(o,n),t.relationship_templates[o]=s;let c=t.node_templates[a];c.requirements||(c.requirements=[]),c.requirements.push({host:{node:r,relationship:o}})}for(const[n,i]of k(this,ts).getLinkEntities.entries()){const r=k(this,xi).getKey(i.getTargetEndpoint.getId),a=k(this,xi).getKey(i.getSourceEntity.getId),o=k(this,Ya).ensureUniqueness(`${a}_linksTo_${r}`);let s={type:MA},l=ft(this,xn,Sa).call(this,i.getProperties());ft(this,xn,Tm).call(this,l)&&(s.properties=l),k(this,xi).add(o,n),t.relationship_templates[o]=s;let c=t.node_templates[a];c.requirements||(c.requirements=[]),c.requirements.push({endpoint_link:{node:r,relationship:o}})}for(const[n,i]of k(this,ts).getRequestTraceEntities.entries()){const r=k(this,Ya).ensureUniqueness(ft(this,xn,yu).call(this,i.getName));let a=ft(this,xn,ZN).call(this,i,k(this,ts),k(this,xi));t.node_templates[r]=a}return k(this,Yg).service_template=t,k(this,Yg)}}Ya=new WeakMap,xi=new WeakMap,ts=new WeakMap,Yg=new WeakMap,xn=new WeakSet,yu=function(t){return t.trim().replace(Qte,"_").replace(Zte,"_").replace(ene,"_").toLocaleLowerCase()},Sa=function(t){let n={};for(const i of t)n[i.getKey]=i.value;return n},WN=function(t){return{type:cx,metadata:Tl(t.getMetaData),capabilities:{provides_data:{}}}},jN=function(t){let n={type:ox,metadata:Tl(t.getMetaData),capabilities:{provides_data:{}}};return t.getProperties().length>0&&(n.properties=ft(this,xn,Sa).call(this,t.getProperties())),n},KN=function(t){let n={type:px,metadata:Tl(t.getMetaData)};return t.getProperties().length>0&&(n.properties=ft(this,xn,Sa).call(this,t.getProperties())),n},YN=function(t){let n={type:ux,metadata:Tl(t.getMetaData)};t.getProperties().length>0&&(n.properties=ft(this,xn,Sa).call(this,t.getProperties()));let i=Cr(dx.properties).map(a=>a.getKey),r=ft(this,xn,Sa).call(this,t.getProperties().filter(a=>i.includes(a.getKey)));if(ft(this,xn,Tm).call(this,r)&&(n.properties=r),[...Cc(dx.capabilities).entries()].forEach(([a,o])=>{switch(a){case"address_resolution":if(t.getProperty("address_resolution_kind").value==="none")return;default:let s=Object.keys(o);s.length>0&&(n.capabilities||(n.capabilities={}),n.capabilities[a]={properties:ft(this,xn,Sa).call(this,t.getProperties().filter(l=>s.includes(l.getKey)))});break}}),t.getArtifacts.size>0){n.artifacts={};for(const[a,o]of t.getArtifacts.entries())n.artifacts[a]=o.getAsSimpleObject("")}return n},XN=function(t){let i={type:(()=>{switch(t.constructor){case qn:return yx;case Mn:return sx;case Ci:return vx;case Mr:return gx;case wr:return lx;case Po:default:return Cy}})(),metadata:Tl(t.getMetaData)},r=(()=>{switch(t.constructor){case qn:return UN;case Mn:return LT;case Ci:return HN;case Mr:return FT;case wr:return qN;case Po:default:return FN}})(),a=Cr(r.properties).map(s=>s.getKey),o=ft(this,xn,Sa).call(this,t.getProperties().filter(s=>a.includes(s.getKey)));if(ft(this,xn,Tm).call(this,o)&&(i.properties=o),r.capabilities&&[...Cc(r.capabilities).entries()].forEach(([s,l])=>{switch(s){case"address_resolution":if(t.getProperty("address_resolution_kind").value==="none")return;default:let c=Object.keys(l);c.length>0&&(i.capabilities||(i.capabilities={}),i.capabilities[s]={properties:ft(this,xn,Sa).call(this,t.getProperties().filter(h=>c.includes(h.getKey)))});break}}),t.getArtifacts.size>0){i.artifacts={};for(const[s,l]of t.getArtifacts.entries())i.artifacts[s]=l.getAsSimpleObject("")}return i},JN=function(t){let n=Cr(ix.properties).map(r=>r.getKey),i={type:_y,metadata:Tl(t.getMetaData),properties:ft(this,xn,Sa).call(this,t.getProperties().filter(r=>n.includes(r.getKey))),capabilities:{}};return[...Cc(ix.capabilities).entries()].forEach(([r,a])=>{let o=Object.keys(a);i.capabilities[r]={properties:ft(this,xn,Sa).call(this,t.getProperties().filter(s=>o.includes(s.getKey)))}}),i.properties.allow_access_to=t.getAllowedAccounts,i.properties.documented_by=t.getDocumentedBy,i},QN=function(t){let n=Cr(ax.properties).map(r=>r.getKey),i={type:rx,metadata:Tl(t.getMetaData),properties:ft(this,xn,Sa).call(this,t.getProperties().filter(r=>n.includes(r.getKey))),capabilities:{}};return[...Cc(ax.capabilities).entries()].forEach(([r,a])=>{let o=Object.keys(a);i.capabilities[r]={properties:ft(this,xn,Sa).call(this,t.getProperties().filter(s=>o.includes(s.getKey)))}}),i.properties.allow_access_to=t.getAllowedAccounts,i.properties.documented_by=t.getDocumentedBy?t.getDocumentedBy:"",i},ZN=function(t,n,i){let r={type:mx,metadata:Tl(t.getMetaData),properties:ft(this,xn,Sa).call(this,t.getProperties())};t.getExternalEndpoint&&(r.requirements||(r.requirements=[],r.requirements.push({external_endpoint:{node:k(this,xi).getKey(t.getExternalEndpoint.getId),relationship:"cna-modeling.relationships.PartOf"}})));let a=[],o=new Set;for(const s of t.getLinks)a.push(s.map(l=>i.getKey(l.getId))),s.forEach(l=>{o.add(i.getKey(l.getSourceEntity.getId));let c=n.searchComponentOfEndpoint(l.getTargetEndpoint.getId);c&&o.add(i.getKey(c.getId))});return r.properties.involved_links=a,r.properties.nodes=[...o],r},Tm=function(t){for(const n in t)if(Object.hasOwn(t,n)&&t[n])return!0;return!1};const nne=new RegExp(/_/g),ine=new RegExp(/^./g),rne=new RegExp(/(\s)(.)/g);var rn,Cn,Cv,Na,_a,es,e9;class ane{constructor(t,n,i){Fe(this,_a);Fe(this,rn,new VN);Fe(this,Cn);Fe(this,Cv);Fe(this,Na);De(this,Cv,n),De(this,Na,k(this,Cv).service_template),De(this,Cn,new zT(t,i))}convert(){let t=new Map;for(const[n,i]of Object.entries(k(this,Na).node_templates)){let r=ws();switch(k(this,rn).add(n,r),i.type){case cx:let a=new PA(k(this,rn).getId(n),ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(a);break;case ox:let o=new OA(k(this,rn).getId(n),ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(o);break;case ux:let s=new nl(k(this,rn).getId(n),ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(s);break;case _y:let l=new US(k(this,rn).getId(n),ft(this,_a,es).call(this,n),xa(i.metadata));t.set(k(this,rn).getId(n),l);break;case rx:let c=new O0(k(this,rn).getId(n),ft(this,_a,es).call(this,n),xa(i.metadata));t.set(k(this,rn).getId(n),c);break;case yx:let h=new qn(r,ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(h);break;case sx:let d=new Mn(r,ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(d);break;case vx:let p=new Ci(r,ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(p);break;case gx:let y=new Mr(r,ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(y);break;case lx:let S=new wr(r,ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(S);break;case Cy:let _=new Po(r,ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(_);break;case mx:let I=new RA(r,ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(I);break;case px:let M=new QS(r,ft(this,_a,es).call(this,n),xa(i.metadata));k(this,Cn).addEntity(M);break;default:throw new Error(`Unknown node type: ${i.type}. Cannot parse`)}}for(const[n,i]of Object.entries(k(this,Na).node_templates))if(i.type===cx){let r=k(this,Cn).getDataAggregateEntities.get(k(this,rn).getId(n));if(i.properties)for(const[a,o]of Object.entries(i.properties))r.setPropertyValue(a,o)}else if(i.type===ox){let r=k(this,Cn).getBackingDataEntities.get(k(this,rn).getId(n));if(i.properties)for(const[a,o]of Object.entries(i.properties))r.setPropertyValue(a,o)}for(const[n,i]of Object.entries(k(this,Na).node_templates))if(i.type===ux){let r=k(this,Cn).getInfrastructureEntities.get(k(this,rn).getId(n));if(i.requirements){for(const a of i.requirements)for(const[o,s]of Object.entries(a))if(o==="uses_backing_data"){if(typeof s=="string")r.addBackingDataEntity(k(this,Cn).getBackingDataEntities.get(k(this,rn).getId(s)),new ig(`${r.getId}_uses_backing_data_${k(this,rn).getId(s)}`,nc()));else if(typeof s=="object"&&s.node&&s.relationship&&typeof s.relationship=="string"){let l=k(this,Na).relationship_templates[s.relationship],c=l.metadata?xa(l.metadata):nc(),h=new ig(s.relationship,c);for(const[d,p]of Object.entries(l.properties))h.setPropertyValue(d,p);r.addBackingDataEntity(k(this,Cn).getBackingDataEntities.get(k(this,rn).getId(s.node)),h)}}else if(o==="host"){if(typeof s!="string"){let l=ws(),c=k(this,Cn).getInfrastructureEntities.get(k(this,rn).getId(s.node)),h=new fx(l,r,c);k(this,rn).add(s.relationship,h.getId),k(this,Cn).addEntity(h)}}else if(o==="assigned_to_network"&&typeof s!="string"){let l=k(this,Cn).getNetworkEntities.get(k(this,rn).getId(s.node));r.addNetwork(l)}}if(i.properties)for(const[a,o]of Object.entries(i.properties))r.setPropertyValue(a,o);if(i.capabilities){for(const[a,o]of Object.entries(i.capabilities))if(o.properties)for(const[s,l]of Object.entries(o.properties))r.setPropertyValue(s,l)}if(i.artifacts)for(const[a,o]of Object.entries(i.artifacts)){let s=o.type?f0(o.type):[];o.properties&&Array.isArray(o.properties)&&o.properties.forEach(l=>{Object.entries(l).forEach(([c,h])=>{let d=s.find(p=>p.getKey===c);d&&(d.value=h)})}),r.setArtifact(a,new hx(o.type?o.type:"",o.file?o.file:"",o.repository?o.repository:"",o.description?o.description:"",o.deploy_path?o.deploy_path:"",o.artifact_version?o.artifact_version:"",o.checksum?o.checksum:"",o.checksum_algorithm?o.checksum_algorithm:"",s))}}for(const[n,i]of Object.entries(k(this,Na).node_templates))if(i.type===px){let r=k(this,Cn).getNetworkEntities.get(k(this,rn).getId(n));if(i.properties)for(const[a,o]of Object.entries(i.properties))r.setPropertyValue(a,o);if(i.capabilities){for(const[a,o]of Object.entries(i.capabilities))if(o.properties)for(const[s,l]of Object.entries(o.properties))r.setPropertyValue(s,l)}}for(const[n,i]of Object.entries(k(this,Na).node_templates))if(i.type===_y){let r=t.get(k(this,rn).getId(n));if(i.properties)for(const[a,o]of Object.entries(i.properties))switch(a){case"allow_access_to":break;case"documented_by":break;default:r.setPropertyValue(a,o)}if(i.capabilities){for(const[a,o]of Object.entries(i.capabilities))if(o.properties)for(const[s,l]of Object.entries(o.properties))r.setPropertyValue(s,l)}if(i.requirements){for(const a of i.requirements)for(const[o,s]of Object.entries(a))if(o==="uses_data"){if(typeof s=="string")r.addDataAggregateEntity(k(this,Cn).getDataAggregateEntities.get(k(this,rn).getId(s)),new jh(`${r.getId}_uses_data_${k(this,rn).getId(s)}`,nc()));else if(typeof s=="object"&&s.node&&s.relationship&&typeof s.relationship=="string"){let l=k(this,Na).relationship_templates[s.relationship],c=l.metadata?xa(l.metadata):nc(),h=new jh(s.relationship,c);for(const[d,p]of Object.entries(l.properties))h.setPropertyValue(d,p);r.addDataAggregateEntity(k(this,Cn).getDataAggregateEntities.get(k(this,rn).getId(s.node)),h)}}}i.properties&&i.properties.allow_access_to&&(r.setAllowedAccounts=i.properties.allow_access_to),i.properties&&i.properties.documented_by&&(r.setDocumentedBy=i.properties.documented_by)}else if(i.type===rx){let r=t.get(k(this,rn).getId(n));if(i.properties)for(const[a,o]of Object.entries(i.properties))switch(a){case"allow_access_to":break;case"documented_by":break;default:r.setPropertyValue(a,o)}if(i.capabilities){for(const[a,o]of Object.entries(i.capabilities))if(o.properties)for(const[s,l]of Object.entries(o.properties))r.setPropertyValue(s,l)}if(i.requirements){for(const a of i.requirements)for(const[o,s]of Object.entries(a))if(o==="uses_data"){if(typeof s=="string")r.addDataAggregateEntity(k(this,Cn).getDataAggregateEntities.get(k(this,rn).getId(s)),new jh(`${r.getId}_uses_data_${k(this,rn).getId(s)}`,nc()));else if(typeof s=="object"&&s.node&&s.relationship&&typeof s.relationship=="string"){let l=k(this,Na).relationship_templates[s.relationship],c=l.metadata?xa(l.metadata):nc(),h=new jh(s.relationship,c);for(const[d,p]of Object.entries(l.properties))h.setPropertyValue(d,p);r.addDataAggregateEntity(k(this,Cn).getDataAggregateEntities.get(k(this,rn).getId(s.node)),h)}}}i.properties&&i.properties.allow_access_to&&(r.setAllowedAccounts=i.properties.allow_access_to),i.properties&&i.properties.documented_by&&(r.setDocumentedBy=i.properties.documented_by)}for(const[n,i]of Object.entries(k(this,Na).node_templates))if(i.type===yx||i.type===sx||i.type===vx||i.type===gx||i.type===lx||i.type===Cy){let r=k(this,Cn).getComponentEntities.get(k(this,rn).getId(n));if(ft(this,_a,e9).call(this,i,r,t),i.properties)for(const[a,o]of Object.entries(i.properties))r.setPropertyValue(a,o);if(i.capabilities){for(const[a,o]of Object.entries(i.capabilities))if(o.properties)for(const[s,l]of Object.entries(o.properties))r.setPropertyValue(s,l)}if(i.artifacts)for(const[a,o]of Object.entries(i.artifacts)){let s=o.type?f0(o.type):[];o.properties&&Array.isArray(o.properties)&&o.properties.forEach(l=>{Object.entries(l).forEach(([c,h])=>{let d=s.find(p=>p.getKey===c);d&&(d.value=h)})}),r.setArtifact(a,new hx(o.type?o.type:"",o.file?o.file:"",o.repository?o.repository:"",o.description?o.description:"",o.deploy_path?o.deploy_path:"",o.artifact_version?o.artifact_version:"",o.checksum?o.checksum:"",o.checksum_algorithm?o.checksum_algorithm:"",s))}}for(const[n,i]of Object.entries(k(this,Na).relationship_templates))if(i.type===MA){if(i.properties){const r=k(this,Cn).getLinkEntities.get(k(this,rn).getId(n));for(const[a,o]of Object.entries(i.properties))r.setPropertyValue(a,o)}}else if(i.type===KS&&i.properties){const r=k(this,Cn).getDeploymentMappingEntities.get(k(this,rn).getId(n));for(const[a,o]of Object.entries(i.properties))r.setPropertyValue(a,o)}for(const[n,i]of Object.entries(k(this,Na).node_templates))if(i.type===mx){let r=k(this,Cn).getRequestTraceEntities.get(k(this,rn).getId(n));if(i.requirements){for(const o of i.requirements)for(const[s,l]of Object.entries(o))if(s==="external_endpoint"&&typeof l!="string"){if(l.node){let c=t.get(k(this,rn).getId(l.node));c&&(r.setExternalEndpoint=c)}}}let a=i.properties&&i.properties.involved_links?i.properties.involved_links.map(o=>o.map(s=>k(this,Cn).getLinkEntities.get(k(this,rn).getId(s)))):[];if(r.setLinks=a,i.properties)for(const[o,s]of Object.entries(i.properties))switch(o){case"nodes":r.setPropertyValue(o,s.map(l=>k(this,rn).getId(l)));break;case"involved_links":break;default:r.setPropertyValue(o,s)}}return k(this,Cn)}}rn=new WeakMap,Cn=new WeakMap,Cv=new WeakMap,Na=new WeakMap,_a=new WeakSet,es=function(t){return t.replace(nne," ").replace(ine,n=>n.toUpperCase()).replace(rne,(n,i,r)=>`${i}${r.toUpperCase()}`)},e9=function(t,n,i){if(t.requirements)for(const r of t.requirements)for(const[a,o]of Object.entries(r))switch(a){case"uses_data":if(typeof o=="string")n.addDataAggregateEntity(k(this,Cn).getDataAggregateEntities.get(k(this,rn).getId(o)),new jh(`${n.getId}_uses_data_${k(this,rn).getId(o)}`,nc()));else if(typeof o=="object"&&o.node&&o.relationship&&typeof o.relationship=="string"){let s=k(this,Na).relationship_templates[o.relationship],l=s.metadata?xa(s.metadata):nc(),c=new jh(o.relationship,l);for(const[h,d]of Object.entries(s.properties))c.setPropertyValue(h,d);n.addDataAggregateEntity(k(this,Cn).getDataAggregateEntities.get(k(this,rn).getId(o.node)),c)}break;case"uses_backing_data":if(typeof o=="string")n.addBackingDataEntity(k(this,Cn).getBackingDataEntities.get(k(this,rn).getId(o)),new ig(`${n.getId}_uses_backing_data_${k(this,rn).getId(o)}`,nc()));else if(typeof o=="object"&&o.node&&o.relationship&&typeof o.relationship=="string"){let s=k(this,Na).relationship_templates[o.relationship],l=s.metadata?xa(s.metadata):nc(),c=new ig(o.relationship,l);for(const[h,d]of Object.entries(s.properties))c.setPropertyValue(h,d);n.addBackingDataEntity(k(this,Cn).getBackingDataEntities.get(k(this,rn).getId(o.node)),c)}break;case"provides_endpoint":typeof o=="string"||n.addEndpoint(i.get(k(this,rn).getId(o.node)));break;case"provides_external_endpoint":typeof o=="string"||n.addEndpoint(i.get(k(this,rn).getId(o.node)));break;case"host":if(typeof o!="string"){let s=ws(),l=new fx(s,n,k(this,Cn).getInfrastructureEntities.get(k(this,rn).getId(o.node)));k(this,rn).add(o.relationship,s),k(this,Cn).addEntity(l)}break;case"endpoint_link":if(typeof o!="string"){if(typeof o=="object"){let s=ws(),l=new NA(s,n,i.get(k(this,rn).getId(o.node)));k(this,rn).add(o.relationship,s),k(this,Cn).addEntity(l)}}break;case"external_ingress_proxied_by":typeof o=="string"||typeof o=="object"&&(n.setExternalIngressProxiedBy=k(this,Cn).getComponentEntities.get(k(this,rn).getId(o.node)));break;case"ingress_proxied_by":typeof o=="string"||typeof o=="object"&&(n.setIngressProxiedBy=k(this,Cn).getComponentEntities.get(k(this,rn).getId(o.node)));break;case"egress_proxied_by":typeof o=="string"||typeof o=="object"&&(n.setEgressProxiedBy=k(this,Cn).getComponentEntities.get(k(this,rn).getId(o.node)));break;case"address_resolution_by":if(typeof o!="string"){if(typeof o=="object"){let s=k(this,Cn).getComponentEntities.get(k(this,rn).getId(o.node));if(s||(s=k(this,Cn).getInfrastructureEntities.get(k(this,rn).getId(o.node))),s||(s=k(this,Cn).getNetworkEntities.get(k(this,rn).getId(o.node))),!s)throw new Error(`Node with key ${o.node} not found!`);n.setAddressResolutionBy=s}}break;case"authentication_by":if(typeof o!="string"){if(typeof o=="object"){let s=k(this,Cn).getComponentEntities.get(k(this,rn).getId(o.node));if(!s)throw new Error(`Node with key ${o.node} not found!`);n.setAuthenticationBy=s}}break;case"assigned_to_network":if(typeof o!="string"){if(typeof o=="object"){let s=k(this,Cn).getNetworkEntities.get(k(this,rn).getId(o.node));n.addNetwork(s)}}break}};function one(e){return new tne(e,"0.1.0").convert()}function sne(e,t,n){const i=Ote(n),r=t.replace(/\..*$/g,"");return new ane(e,i,r).convert()}const Ds="sans-serif",ph="static/icons/magnifying-glass-plus-solid.svg";function Lo(e){var t={};return e.map(n=>{t[n.getKey]=n.value}),t}const DA=nr.define("qualityModel.Component",{defaults:{type:"qualityModel.Component",size:{width:160,height:80},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:160,height:80},attrs:{body:{width:"calc(l)",height:"calc(0.5*l)",rx:2,ry:2,strokeDasharray:0,strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"50%",refY:"10%",textWrap:{text:"Component"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:ph,class:"expandEntityIcon",transform:"scale(calc(0.0018 * h))",refX:"50%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:ge.COMPONENT,keepAspectRatio:!0,properties:Lo(Ao()),relations:{},artifacts:[]}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),BA=nr.define("qualityModel.Service",{defaults:{type:"qualityModel.Service",size:{width:140,height:120},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:140,height:120},attrs:{body:{points:"calc(0.25 * l),0 calc(0.75 * l),0 calc(l),calc(0.4 * l) calc(0.75 * l),calc(0.8 * l) calc(0.25 * l),calc(0.8 * l) 0,calc(0.4 * l)",strokeDasharray:0,strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"50%",refY:"10%",textWrap:{width:"80%",text:"Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:ph,class:"expandEntityIcon",transform:"scale(calc(0.0014 * h))",refX:"50%",refY:"95%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:ge.SERVICE,keepAspectRatio:!0,properties:Lo(Ao().concat(t_())),relations:{},artifacts:[]}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),LA=nr.define("qualityModel.BackingService",{defaults:{type:"qualityModel.BackingService",size:{width:140,height:140},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:140,height:140},attrs:{body:{points:"calc(0.5 * l),0 calc(l),calc(0.4 * l) calc(0.5 * l),calc(0.8 * l) 0,calc(0.4 * l)",strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"50%",refY:"40%",textWrap:{text:"Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:ph,class:"expandEntityIcon",transform:"scale(calc(0.0013 * h))",refX:"49%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:ge.BACKING_SERVICE,keepAspectRatio:!0,properties:Lo(Ao().concat(VS())),relations:{},artifacts:[]}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),FA=nr.define("qualityModel.ProxyBackingService",{defaults:{type:"qualityModel.ProxyBackingService",size:{width:140,height:140},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:140,height:140},attrs:{body:{points:"0,0 calc(0.5 * w),0 calc(w),calc(0.4 * h) calc(0.5 * w),calc(0.8 * h) 0,calc(0.8 * h)",strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"45%",refY:"40%",textWrap:{text:"Proxy Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:ph,class:"expandEntityIcon",transform:"scale(calc(0.0013 * h))",refX:"49%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:ge.PROXY_BACKING_SERVICE,keepAspectRatio:!1,properties:Lo(Ao().concat(ZS())),relations:{},artifacts:[]}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),zA=WM.define("qualityModel.StorageBackingService",{defaults:{type:"qualityModel.StorageBackingService",size:{width:160,height:140},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:160,height:140},attrs:{body:{strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},top:{strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refY:"-85%",textWrap:{width:"95%",text:"Storage Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:ph,class:"expandEntityIcon",transform:"scale(calc(0.0011 * h))",refX:"49%",refY:"95%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:ge.STORAGE_BACKING_SERVICE,keepAspectRatio:!0,properties:Lo(Ao().concat(n_())),relations:{},artifacts:[]}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]});var mw=10;const lne=.551784,$A=nr.define("qualityModel.BrokerBackingService",{defaults:{type:"qualityModel.BrokerBackingService",size:{width:150,height:100},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:150,height:100},attrs:{root:{cursor:"move"},body:{lateralArea:mw,strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},top:{cx:mw,cy:"calc(h/2)",rx:mw,ry:"calc(h/2)",fill:"#FFFFFF",stroke:"#333333",strokeWidth:2,class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",refY:"35%",refX:"50%",textWrap:{width:"80%",text:"Broker Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:ph,class:"expandEntityIcon",transform:"scale(calc(0.0011 * h))",refX:"49%",refY:"95%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},collapsed:!1,entityTypeHidden:!1,entity:{type:ge.BROKER_BACKING_SERVICE,keepAspectRatio:!0,properties:Lo(Ao().concat(GS())),relations:{},artifacts:[]}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var n={lateralArea:e},i=oa(e),r=i?`calc(${parseFloat(e)/100}*h)`:e,a={cy:r,ry:r};return this.attr({body:n,top:a},t)}},{attributes:{"lateral-area":{set:function(e,t){var n=oa(e);n&&(e=parseFloat(e)/100);var i=t.x,r=t.y,a=t.width,o=t.height,s=o/2,l=n?a*e:e,c=lne,h=c*s,d=c*(n?a*e:e),p=r,y=r+o/2,S=r+o,_=i+l,I=i,M=i+a-l,B=i+a,U=["M",_,S,"L",M,S,"C",M+d,S,B,S-h,B,y,"C",B,y-h,M+d,p,M,p,"L",_,p,"C",_-d,p,I,p+h,I,y,"C",I+d,y,_,S-h,_,S,"Z"];return{d:U.join(" ")}},unset:"d"}}}),qA=EA.define("qualityModel.Endpoint",{defaults:{type:"qualityModel.Endpoint",size:{width:50,height:50},fontSize:11,fill:"white",stroke:"black",strokeWidth:2},size:{width:50,height:50},attrs:{body:{fill:"white",stroke:"black",strokeWidth:2,strokeDasharray:"0"},label:{fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",textWrap:{width:"90%",text:"Endpoint"}}},entityTypeHidden:!1,parentCollapsed:!1,entity:{type:ge.ENDPOINT,keepAspectRatio:!0,embedded:"",properties:Lo(Bf()),relations:{}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),UA=EA.define("qualityModel.ExternalEndpoint",{defaults:{type:"qualityModel.ExternalEndpoint",size:{width:50,height:50},fontSize:11,fill:"black",stroke:"black",strokeWidth:2},size:{width:50,height:50},attrs:{body:{fill:"black",stroke:"black",strokeWidth:2,strokeDasharray:"0"},label:{fill:"white",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",textWrap:{width:"90%",text:"External Endpoint"}}},entityTypeHidden:!1,parentCollapsed:!1,entity:{type:ge.EXTERNAL_ENDPOINT,keepAspectRatio:!0,embedded:"",properties:Lo(Bf().concat(IA())),relations:{}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),HA=nr.define("qualityModel.Infrastructure",{defaults:{type:"qualityModel.Infrastructure",size:{width:180,height:90},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:180,height:90},attrs:{body:{points:"calc(0.15 * w),0 calc(0.85 * w),0 calc(w),calc(h) 0,calc(h)",strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"50%",y:"calc(y + 10)",textWrap:{text:"Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:ph,class:"expandEntityIcon",transform:"scale(calc(0.0017 * h))",refX:"49%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"hidden",event:"element:icon:pointerclick"}},entityTypeHidden:!1,collapsed:!1,entity:{type:ge.INFRASTRUCTURE,keepAspectRatio:!1,properties:Lo(jS()),relations:{},artifacts:[]}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),VA=nr.define("qualityModel.RequestTrace",{defaults:{type:"qualityModel.RequestTrace",size:{width:190,height:76},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:190,height:76},attrs:{body:{points:"0,0 calc(0.8 * l),0 calc(l),calc(0.2 * l) calc(0.8 * l),calc(0.4 * l) 0,calc(0.4 * l) calc(0.2 * l),calc(0.2 * l)",strokeWidth:2,stroke:"black",fill:"white",class:"entityShape"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"top",refX:"47%",refY:"10%",textWrap:{text:"Backing Service"},class:"entityLabel"},icon:{title:"Expand to show included entities",ref:"body",href:ph,class:"expandEntityIcon",transform:"scale(calc(0.0021 * h))",refX:"49%",refY:"90%",xAlignment:"middle",yAlignment:"bottom",preserveAspectRatio:"xMidYMin",visibility:"visible",event:"requestTrace:icon:pointerclick"}},entityTypeHidden:!1,collapsed:!0,entity:{type:ge.REQUEST_TRACE,keepAspectRatio:!0,properties:Lo(e_()),relations:{}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),_1=LS.define("qualityModel.Link",{defaults:{type:"qualityModel.Link"},attrs:{root:{title:"Link",visibility:"visible"},line:{stroke:"black",strokeDasharray:"none",strokeWidth:2,strokeLineJoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}}},entityTypeHidden:!1,entity:{type:ge.LINK,properties:Lo(XS()),relations:{}}}),C1=LS.define("qualityModel.DeploymentMapping",{defaults:{type:"qualityModel.DeploymentMapping"},attrs:{root:{title:"Deployment Mapping",visibility:"visible"},line:{stroke:"black",strokeDasharray:4,strokeLineJoin:"round",targetMarker:"none",markerEnd:"none"}},entityTypeHidden:!1,entity:{type:ge.DEPLOYMENT_MAPPING,properties:Lo(YS()),relations:{}}}),GA=nr.define("qualityModel.DataAggregate",{defaults:{type:"qualityModel.DataAggregate",size:{width:50,height:25},fontSize:13,fill:"white",stroke:"black",strokeWidth:2},size:{width:50,height:25},attrs:{body:{rx:"calc(w)",ry:"calc(0.45 * w)",cx:"calc(w)",cy:"calc(0.45 * w)",fill:"white",stroke:"black",strokeWidth:2,strokeDasharray:"0"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",refX:"50%",refY:"50%",textWrap:{text:"Data Aggregate"}}},entityTypeHidden:!1,parentCollapsed:!1,entity:{type:ge.DATA_AGGREGATE,keepAspectRatio:!0,embedded:"",assignedFamily:"",properties:Lo(WS()),relations:{}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),WA=nr.define("qualityModel.BackingData",{defaults:{type:"qualityModel.BackingData",size:{width:95,height:30},fontSize:14,fill:"white",stroke:"black",strokeWidth:2},size:{width:95,height:30},attrs:{body:{d:"M 0 0 L calc(0.7 * w) 0 Q calc(w) 0 calc(w) calc(0.5 * h) Q calc(w) calc(h) calc(0.7 * w) calc(h) L 0 calc(h) Z",fill:"white",stroke:"black",strokeWidth:2,strokeDasharray:"0"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",refX:"50%",refY:"50%",textWrap:{text:"Backing Data"}}},entityTypeHidden:!1,parentCollapsed:!1,entity:{type:ge.BACKING_DATA,keepAspectRatio:!1,embedded:"",assignedFamily:"",properties:Lo(HS()),relations:{}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),jA=nr.define("qualityModel.Network",{defaults:{type:"qualityModel.Network",size:{width:100,height:100},fontSize:14,stroke:"black",strokeWidth:2,fill:"none"},size:{width:100,height:100},attrs:{body:{width:"calc(w)",height:"calc(h)",rx:2,ry:2,strokeDasharray:2,strokeWidth:2,stroke:"black",fill:"none"},label:{ref:"body",fill:"black",fontFamily:Ds,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"left",textVerticalAnchor:"top",refX:"5%",refY:"5%",textWrap:{text:"Component"},class:"entityLabel"}},collapsed:!1,entityTypeHidden:!1,entity:{type:ge.NETWORK,keepAspectRatio:!1,properties:Lo(JS()),relations:{}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"},{tagName:"image",selector:"icon"}]}),w1=Object.assign({qualityModel:{Component:DA,Service:BA,BackingService:LA,StorageBackingService:zA,ProxyBackingService:FA,BrokerBackingService:$A,Endpoint:qA,ExternalEndpoint:UA,Link:_1,Infrastructure:HA,DeploymentMapping:C1,RequestTrace:VA,DataAggregate:GA,BackingData:WA,Network:jA},shapes:jM});var mi,Rt,xu,C2,St,EE,t9,n9,i9,r9,a9,o9,s9,l9,c9,u9,d9,HT,xE,h9,f9,p9,g9,Ma,m9,y9,v9,b9,E9,x9,S9,_9,C9,Kh,w9,VT,T9,A9,k9;class UT{constructor(t,n){Fe(this,St);Fe(this,mi);Fe(this,Rt);Fe(this,xu,new Map);Fe(this,C2,new Map);De(this,mi,t),De(this,Rt,new zT(n,"test")),this.getSystemEntity=this.getSystemEntity.bind(this),this.overwriteSystemEntity=this.overwriteSystemEntity.bind(this),this.convertToGraph=this.convertToGraph.bind(this),this.convertToJson=this.convertToJson.bind(this),this.convertToCustomTosca=this.convertToCustomTosca.bind(this),this.loadFromCustomTosca=this.loadFromCustomTosca.bind(this),this.loadFromJson=this.loadFromJson.bind(this),this.getGraph=this.getGraph.bind(this),this.validateModeledSystem=this.validateModeledSystem.bind(this)}getSystemEntity(){return ft(this,St,EE).call(this),k(this,Rt)}getGraph(){return k(this,mi)}convertToCustomTosca(){let t=ft(this,St,HT).call(this);k(this,Rt).resetAllIncludedSystemEntities(),ft(this,St,EE).call(this);let n=ft(this,St,xE).call(this),i=one(k(this,Rt));try{return{tosca:Pte(i,{styles:{"!!null":"empty"}}),errors:t.concat(n)}}catch(r){console.error(r)}}loadFromCustomTosca(t,n,i,r){let a=new zT(t,"imported");try{a=sne(t,i,n)}catch(o){return console.trace(),console.log(o),{createdCells:[],error:o.toString()}}if(r==="replace")this.overwriteSystemEntity(a);else if(r==="merge"){for(const[o,s]of a.getDataAggregateEntities.entries()){if(k(this,Rt).getDataAggregateEntities.get(o)){let l=ws();s.setId=l}k(this,Rt).addEntity(s)}for(const[o,s]of a.getBackingDataEntities.entries()){if(k(this,Rt).getBackingDataEntities.get(o)){let l=ws();s.setId=l}k(this,Rt).addEntity(s)}for(const[o,s]of a.getNetworkEntities.entries()){if(k(this,Rt).getNetworkEntities.get(o)){let l=ws();s.setId=l}k(this,Rt).addEntity(s)}for(const[o,s]of a.getInfrastructureEntities.entries()){if(k(this,Rt).getInfrastructureEntities.get(o)){let l=ws();s.setId=l}k(this,Rt).addEntity(s)}for(const[o,s]of a.getComponentEntities.entries()){if(k(this,Rt).getComponentEntities.get(o)){let l=ws();s.setId=l}for(const l of s.getEndpointEntities)k(this,Rt).searchComponentOfEndpoint(l.getId)&&(l.setId=ws());for(const l of s.getExternalEndpointEntities);k(this,Rt).addEntity(s)}for(const[o,s]of a.getDeploymentMappingEntities.entries()){if(k(this,Rt).getDeploymentMappingEntities.get(o)){let l=ws();s.setId=l}k(this,Rt).addEntity(s)}for(const[o,s]of a.getLinkEntities.entries()){if(k(this,Rt).getLinkEntities.get(o)){let l=ws();s.setId=l}k(this,Rt).addEntity(s)}for(const[o,s]of a.getRequestTraceEntities.entries()){if(k(this,Rt).getRequestTraceEntities.get(o)){let l=ws();s.setId=l}k(this,Rt).addEntity(s)}}return this.convertToGraph(),k(this,mi).trigger("reloaded"),{createdCells:k(this,mi).getCells(),error:null}}convertToJson(){return k(this,mi).toJSON()}loadFromJson(t,n,i){let r={};try{if(r=JSON.parse(t),i==="replace")k(this,mi).clear(),k(this,mi).fromJSON(r);else if(i==="merge"){let a=new Gf({},{cellNamespace:w1});a.fromJSON(r),a.getCells().forEach(o=>{k(this,mi).addCell(o)})}}catch(a){return{createdCells:[],error:a.toString()}}return k(this,mi).trigger("reloaded"),k(this,Rt).setSystemName=n.replace(/\..*$/g,""),{createdCells:k(this,mi).getCells(),error:null}}validateModeledSystem(){let t=ft(this,St,HT).call(this);k(this,Rt).resetAllIncludedSystemEntities(),ft(this,St,EE).call(this);let n=ft(this,St,xE).call(this);return t.concat(n)}overwriteSystemEntity(t){k(this,Rt).setSystemName=t.getSystemName,k(this,Rt).resetAllIncludedSystemEntities(),k(this,Rt).addEntities(Array.from(t.getDataAggregateEntities.values())),k(this,Rt).addEntities(Array.from(t.getBackingDataEntities.values())),k(this,Rt).addEntities(Array.from(t.getNetworkEntities.values())),k(this,Rt).addEntities(Array.from(t.getInfrastructureEntities.values())),k(this,Rt).addEntities(Array.from(t.getComponentEntities.values())),k(this,Rt).addEntities(Array.from(t.getDeploymentMappingEntities.values())),k(this,Rt).addEntities(Array.from(t.getLinkEntities.values())),k(this,Rt).addEntities(Array.from(t.getRequestTraceEntities.values()))}convertToGraph(){k(this,mi).clear();let t=[],n=[];for(const[i,r]of k(this,Rt).getNetworkEntities){let a=ft(this,St,m9).call(this,r);k(this,mi).addCell(a),t.push(a)}for(const[i,r]of k(this,Rt).getInfrastructureEntities){let a=ft(this,St,y9).call(this,r);k(this,mi).addCell(a),t.push(a)}for(const[i,r]of k(this,Rt).getInfrastructureEntities){let a=k(this,mi).getCell(i);ft(this,St,v9).call(this,r,a);let o=0;for(const s of r.getBackingDataEntities){let l=ft(this,St,VT).call(this,s,a,o);o++,k(this,mi).addCell(l),t.push(l)}}for(const[i,r]of k(this,Rt).getComponentEntities)switch(r.constructor.name){case qn.name:let a=ft(this,St,b9).call(this,r);k(this,mi).addCell(a);break;case Mn.name:let o=ft(this,St,E9).call(this,r);k(this,mi).addCell(o);break;case Ci.name:let s=ft(this,St,x9).call(this,r);k(this,mi).addCell(s);break;case Mr.name:let l=ft(this,St,S9).call(this,r);k(this,mi).addCell(l);break;case wr.name:let c=ft(this,St,_9).call(this,r);k(this,mi).addCell(c);break;case Po.name:let h=ft(this,St,C9).call(this,r);k(this,mi).addCell(h);break}for(const[i,r]of k(this,Rt).getComponentEntities){let a=k(this,mi).getCell(i);r.constructor.name===qn.name?(ft(this,St,Kh).call(this,r,a,ja.Service,wd.Service),t.push(a)):r.constructor.name===Mn.name?(ft(this,St,Kh).call(this,r,a,ja.BackingService,wd.BackingService),t.push(a)):r.constructor.name===Ci.name?(ft(this,St,Kh).call(this,r,a,ja.StorageBackingService,wd.StorageBackingService),t.push(a)):r.constructor.name===Mr.name?(ft(this,St,Kh).call(this,r,a,ja.ProxyBackingService,wd.ProxyBackingService),t.push(a)):r.constructor.name===wr.name?(ft(this,St,Kh).call(this,r,a,ja.BrokerBackingService,wd.BrokerBackingService),t.push(a)):r.constructor.name===Po.name&&(ft(this,St,Kh).call(this,r,a,ja.Component,wd.Component),t.push(a));let o=0;for(const s of r.getDataAggregateEntities){let l=ft(this,St,w9).call(this,s,a,o);o++,k(this,mi).addCell(l),t.push(l)}o=0;for(const s of r.getBackingDataEntities){let l=ft(this,St,VT).call(this,s,a,o);o++,k(this,mi).addCell(l),t.push(l)}for(const s of r.getEndpointEntities){let l=ft(this,St,T9).call(this,s,a);k(this,mi).addCell(l),t.push(l)}for(const s of r.getExternalEndpointEntities){let l=ft(this,St,A9).call(this,s,a);k(this,mi).addCell(l),t.push(l)}}for(const[i,r]of k(this,Rt).getDeploymentMappingEntities){let a=new C1({id:i});a.source(t.find(o=>o.id.toString()===r.getDeployedEntity.getId)),a.target(t.find(o=>o.id.toString()===r.getUnderlyingInfrastructure.getId));for(const o of ja.DeploymentMapping.specificProperties)o.jointJsConfig.modelPath&&a.prop(o.jointJsConfig.modelPath,r.getProperties().find(s=>s.getKey===o.providedFeature).value);a.addTo(k(this,mi)),n.push(a)}for(const[i,r]of k(this,Rt).getLinkEntities){let a=new _1({id:i});a.source(t.find(o=>o.id.toString()===r.getSourceEntity.getId)),a.target(t.find(o=>o.id.toString()===r.getTargetEndpoint.getId));for(const o of ja.Link.specificProperties)o.jointJsConfig.modelPath&&a.prop(o.jointJsConfig.modelPath,r.getProperties().find(s=>s.getKey===o.providedFeature).value);a.addTo(k(this,mi)),n.push(a)}for(const[i,r]of k(this,Rt).getRequestTraceEntities){let a=ft(this,St,k9).call(this,r,t,n);k(this,mi).addCell(a),t.push(a)}return t}}mi=new WeakMap,Rt=new WeakMap,xu=new WeakMap,C2=new WeakMap,St=new WeakSet,EE=function(){let t=k(this,mi).getElements(),n=t.filter(o=>o.prop("entity/type")===ge.DATA_AGGREGATE||o.prop("entity/type")===ge.BACKING_DATA);for(const o of n)ft(this,St,t9).call(this,o);let i=t.filter(o=>o.prop("entity/type")===ge.NETWORK);for(const o of i)ft(this,St,n9).call(this,o);let r=t.filter(o=>o.prop("entity/type")===ge.COMPONENT||o.prop("entity/type")===ge.SERVICE||o.prop("entity/type")===ge.BACKING_SERVICE||o.prop("entity/type")===ge.STORAGE_BACKING_SERVICE||o.prop("entity/type")===ge.PROXY_BACKING_SERVICE||o.prop("entity/type")===ge.BROKER_BACKING_SERVICE||o.prop("entity/type")===ge.INFRASTRUCTURE);for(const o of r){let s;switch(o.prop("entity/type")){case ge.COMPONENT:case ge.SERVICE:case ge.BACKING_SERVICE:case ge.STORAGE_BACKING_SERVICE:case ge.PROXY_BACKING_SERVICE:case ge.BROKER_BACKING_SERVICE:s=ft(this,St,l9).call(this,o);break;case ge.INFRASTRUCTURE:s=ft(this,St,u9).call(this,o);break;default:throw new TypeError("Unsuitable Element provided! No corresponding Entity type is known for: "+JSON.stringify(o))}k(this,Rt).addEntity(s)}for(const o of r)switch(o.prop("entity/type")){case ge.COMPONENT:case ge.SERVICE:case ge.BACKING_SERVICE:case ge.STORAGE_BACKING_SERVICE:case ge.PROXY_BACKING_SERVICE:case ge.BROKER_BACKING_SERVICE:let s=k(this,Rt).getComponentEntities.get(o.id.toString());ft(this,St,c9).call(this,s,o);break;case ge.INFRASTRUCTURE:let l=k(this,Rt).getInfrastructureEntities.get(o.id.toString());ft(this,St,d9).call(this,l,o);break;default:throw new TypeError("Unsuitable Element provided! No corresponding Entity type is known for: "+JSON.stringify(o))}for(const o of k(this,mi).getLinks())ft(this,St,r9).call(this,o);let a=t.filter(o=>o.prop("entity/type")===ge.REQUEST_TRACE);for(const o of a)ft(this,St,a9).call(this,o);ft(this,St,xE).call(this)},t9=function(t){let n;switch(t.prop("entity/type")){case ge.DATA_AGGREGATE:n=ft(this,St,o9).call(this,t),[...k(this,Rt).getDataAggregateEntities].filter(([i,r])=>r.getName===n.getName).length===0&&k(this,Rt).addEntity(n);break;case ge.BACKING_DATA:n=ft(this,St,s9).call(this,t),[...k(this,Rt).getBackingDataEntities].filter(([i,r])=>r.getName===n.getName).length===0&&k(this,Rt).addEntity(n);break;default:throw new TypeError("Unsuitable Data Element provided! No corresponding Data Entity type is known for: "+JSON.stringify(t))}},n9=function(t){let n=ft(this,St,i9).call(this,t);k(this,Rt).addEntity(n)},i9=function(t){const n=new QS(t.id,t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t));for(let i of n.getProperties())i.value=t.prop("entity/properties/"+i.getKey);return n},r9=function(t){let n;switch(t.prop("entity/type")){case ge.LINK:n=ft(this,St,f9).call(this,t);break;case ge.DEPLOYMENT_MAPPING:n=ft(this,St,p9).call(this,t);break;default:throw new TypeError("Unsuitable Link Element provided! No corresponding connection type is known for: "+JSON.stringify(t))}k(this,Rt).addEntity(n)},a9=function(t){let n=ft(this,St,g9).call(this,t);k(this,Rt).addEntity(n)},o9=function(t,n=!1){return new PA(t.id,t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t))},s9=function(t){const n=new OA(t.id,t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t));for(let i of n.getProperties())i.value=t.prop("entity/properties/"+i.getKey);return n},l9=function(t){let n;switch(t.prop("entity/type")){case ge.SERVICE:n=new qn(t.id.toString(),t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t));break;case ge.BACKING_SERVICE:n=new Mn(t.id.toString(),t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t));break;case ge.STORAGE_BACKING_SERVICE:n=new Ci(t.id.toString(),t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t));break;case ge.PROXY_BACKING_SERVICE:n=new Mr(t.id.toString(),t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t));break;case ge.BROKER_BACKING_SERVICE:n=new wr(t.id.toString(),t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t));break;case ge.COMPONENT:default:n=new Po(t.id.toString(),t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t))}return n},c9=function(t,n){for(let h of t.getProperties())h.value=n.prop("entity/properties/"+h.getKey);let i=n.prop("entity/artifacts");for(const h of i){let d=f0(h.type);for(let y of d)y.value=h[y.getKey];let p=new hx(h.type,h.file,h.repository,h.description,h.deploy_path,h.artifact_version,h.checksum,h.checksum_algorithm,d);t.setArtifact(h.key,p)}for(const h of n.getEmbeddedCells().filter(d=>d.prop("entity/type")===ge.DATA_AGGREGATE||d.prop("entity/type")===ge.BACKING_DATA))switch(h.prop("entity/type")){case ge.DATA_AGGREGATE:let d=h.attr("label/textWrap/text"),p=[...k(this,Rt).getDataAggregateEntities].filter(([_,I])=>I.getName===d);if(p.length>0){let _=new jh(h.id.toString(),ft(this,St,Ma).call(this,h));for(let I of _.getProperties())I.value=h.prop("relationship/properties/"+I.getKey);t.addDataAggregateEntity(p[0][1],_)}else throw new Error(`Data Aggregate with name ${d} should be there, but could not be found in ${k(this,Rt).getDataAggregateEntities}`);break;case ge.BACKING_DATA:let y=h.attr("label/textWrap/text"),S=[...k(this,Rt).getBackingDataEntities].filter(([_,I])=>I.getName===y);if(S.length>0){let _=new ig(h.id.toString(),ft(this,St,Ma).call(this,h));for(let I of _.getProperties())I.value=h.prop("relationship/properties/"+I.getKey);t.addBackingDataEntity(S[0][1],_)}else throw new Error(`Backing Data with name ${y} should be there, but could not be found in ${k(this,Rt).getBackingDataEntities}`);break}for(const h of n.getEmbeddedCells().filter(d=>d.prop("entity/type")===ge.ENDPOINT||d.prop("entity/type")===ge.EXTERNAL_ENDPOINT)){const d=ft(this,St,h9).call(this,h,n,t);if(!d)break;t.addEndpoint(d)}const r=n.prop("entity/relations/external_ingress_proxied_by");if(r){const h=[...k(this,Rt).getComponentEntities].find(([d,p])=>d===r);h?t.setExternalIngressProxiedBy=h[1]:console.log(`Backing Service ${r} not found`)}const a=n.prop("entity/relations/ingress_proxied_by");if(a){const h=[...k(this,Rt).getComponentEntities].find(([d,p])=>d===a);h?t.setIngressProxiedBy=h[1]:console.log(`Backing Service ${a} not found`)}const o=n.prop("entity/relations/egress_proxied_by");if(o){const h=[...k(this,Rt).getComponentEntities].find(([d,p])=>d===o);h?t.setEgressProxiedBy=h[1]:console.log(`Backing Service ${o} not found`)}const s=n.prop("entity/relations/address_resolution_by");if(s){const h=[...k(this,Rt).getComponentEntities].find(([d,p])=>d===s);if(h)t.setAddressResolutionBy=h[1];else{const d=[...k(this,Rt).getInfrastructureEntities].find(([p,y])=>p===s);if(d)t.setAddressResolutionBy=d[1];else{const p=[...k(this,Rt).getNetworkEntities].find(([y,S])=>y===s);p?t.setAddressResolutionBy=p[1]:console.log(`Entity ${s} not found`)}}}const l=n.prop("entity/relations/authentication_by");if(l){const h=[...k(this,Rt).getComponentEntities].find(([d,p])=>d===l);h?t.setAuthenticationBy=h[1]:console.log(`Entity ${l} not found`)}const c=n.prop("entity/relations/assigned_to_networks");if(c&&c.length>0)for(const h of c){let d=k(this,Rt).getNetworkEntities.get(h);d?t.addNetwork(d):console.log(`Network ${h} not found`)}},u9=function(t){return new nl(t.id,t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t))},d9=function(t,n){for(let o of t.getProperties())o.value=n.prop("entity/properties/"+o.getKey);let i=n.prop("entity/artifacts");for(const o of i){let s=f0(o.type);for(let c of s)c.value=o[c.getKey];let l=new hx(o.type,o.file,o.repository,o.description,o.deploy_path,o.artifact_version,o.checksum,o.checksum_algorithm,s);t.setArtifact(o.key,l)}const r=n.getEmbeddedCells();for(const o of r)switch(o.prop("entity/type")){case ge.BACKING_DATA:let s=o.attr("label/textWrap/text"),l=[...k(this,Rt).getBackingDataEntities].filter(([c,h])=>h.getName===s);if(l.length>0){let c=new ig(o.id.toString(),ft(this,St,Ma).call(this,o));for(let h of c.getProperties())h.value=o.prop("relationship/properties/"+h.getKey);t.addBackingDataEntity(l[0][1],c)}else throw new Error(`Backing Data with name ${s} should be there, but could not be found in ${k(this,Rt).getBackingDataEntities}`);break}const a=n.prop("entity/relations/assigned_to_networks");if(a&&a.length>0)for(const o of a){let s=k(this,Rt).getNetworkEntities.get(o);s?t.addNetwork(s):console.log(`Network ${o} not found`)}},HT=function(){let t=[];return k(this,mi).getElements().forEach(n=>{switch(n.prop("entity/type")){case ge.ENDPOINT:n.isEmbedded()||t.push(`Endpoint ${n.attr("label/textWrap/text")} is not added to any component; It will be ignored when exporting`);break;case ge.EXTERNAL_ENDPOINT:n.isEmbedded()||t.push(`External Endpoint ${n.attr("label/textWrap/text")} is not added to any component; It will be ignored when exporting`);break;case ge.DATA_AGGREGATE:n.isEmbedded()||t.push(`Data Aggregate ${n.attr("label/textWrap/text")} is not added to any component; It will be ignored when exporting`);break;case ge.BACKING_DATA:n.isEmbedded()||t.push(`Data Aggregate ${n.attr("label/textWrap/text")} is not added to any component; It will be ignored when exporting`);break}}),t},xE=function(){let t=[],n=new Map;for(const[r,a]of k(this,Rt).getDeploymentMappingEntities.entries())a.getDeployedEntity&&n.set(a.getDeployedEntity.getId,r);for(let[r,a]of k(this,Rt).getComponentEntities.entries())if(!n.has(r)){let o=(s=>{switch(s.constructor){case qn:return"Service";case Mn:return"Backing Service";case Ci:return"Storage Backing Service";case Mr:return"Proxy Backing Service";case wr:return"Broker Backing Service";case Po:default:return"Component"}})(a);t.push(`${o} ${a.getName} is not deployed on any infrastructure.`)}let i=new Map;k(this,Rt).getDataAggregateEntities.forEach((r,a)=>{i.set(a,[])});for(let[r,a]of k(this,Rt).getComponentEntities.entries())a.getDataAggregateEntities.forEach(o=>{i.get(o.data.getId).push(o.relation)});for(let[r,a]of k(this,Rt).getDataAggregateEntities.entries())i.get(r).some(s=>s.getProperties().find(l=>l.getKey==="usage_relation").value==="persistence")||t.push(`Data Aggregate ${a.getName} is not persisted by any entity.`);for(let[r,a]of k(this,Rt).getRequestTraceEntities.entries())a.getExternalEndpoint||t.push(`Request Trace ${a.getName} has no external endpoint to which it refers.`),a.getLinks.length===0&&t.push(`Request Trace ${a.getName} has no links added to it.`);return t},h9=function(t,n,i){let r;switch(t.prop("entity/type")){case ge.EXTERNAL_ENDPOINT:r=new O0(t.id,t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t));break;case ge.ENDPOINT:default:r=new US(t.id,t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t))}for(let a of r.getProperties())a.value=t.prop("entity/properties/"+a.getKey);if(t.prop("entity/relations/uses_data")){let a=t.prop("entity/relations/uses_data");for(const o of a){let s=this.getGraph().getCell(o);if(s){let l=s.attr("label/textWrap/text"),c=i.getDataAggregateEntities.find(h=>h.data.getName===l);r.addDataAggregateEntity(c.data,c.relation)}}}return t.prop("entity/relations/allow_access_to")&&(r.setAllowedAccounts=t.prop("entity/relations/allow_access_to")),t.prop("entity/relations/documented_by")&&(r.setDocumentedBy=t.prop("entity/relations/documented_by")),r},f9=function(t){const n=t.getSourceElement(),i=t.getTargetElement();if(!n&&i){const l="There exists a Link that is missing its source entity.",c=new Lp(ge.LINK,Wh.INVALID_MODEL_ENTIY,"Target: "+i.attr("label/textWrap/text"),"Link Source Entity",l);return k(this,xu).set(t.id,c),null}if(!i&&n){const l="There exists a Link that is missing its target entity.",c=new Lp(ge.LINK,Wh.INVALID_MODEL_ENTIY,"Source: "+n.attr("label/textWrap/text"),"Link Target Entity ",l);return k(this,xu).set(t.id,c),null}if(!i&&!n){const l="There exists a Link that is missing its source and target entity.",c=new Lp(ge.LINK,Wh.INVALID_MODEL_ENTIY,t.id,"Link Source and Target Entity",l);return k(this,xu).set(t.id,c),null}const r=k(this,Rt).getComponentEntities.get(n.id);if(!i.getParentCell())throw new Error(`Cannot create a link to the Endpoint ${i}, because it is not embedded`);let a=k(this,Rt).getComponentEntities.get(i.getParentCell().id);const o=a.getEndpointEntities.concat(a.getExternalEndpointEntities).filter(l=>l.getId===i.id);if(o.length===0)throw new Error(`Could not find Endpoint for: ${i}`);let s=new NA(t.id,r,o[0]);for(let l of s.getProperties())l.value=t.prop("entity/properties/"+l.getKey);return s},p9=function(t){const n=t.getSourceElement(),i=t.getTargetElement();if(!n&&i){const s="There exists a Deployment Mapping that is missing its source entity.",l=new Lp(ge.LINK,Wh.INVALID_MODEL_ENTIY,"Target: "+i.attr("label/textWrap/text"),"Deployment Mapping Source Entity",s);return k(this,xu).set(t.id,l),null}if(!i&&n){const s="There exists a Deployment Mapping that is missing its target entity.",l=new Lp(ge.LINK,Wh.INVALID_MODEL_ENTIY,"Source: "+n.attr("label/textWrap/text"),"Deployment Mapping Target Entity",s);return k(this,xu).set(t.id,l),null}if(!i&&!n){const s="There exists a Deployment Mapping that is missing its source and target entity.",l=new Lp(ge.LINK,Wh.INVALID_MODEL_ENTIY,t.id,"Deployment Mapping Source and Target Entity",s);return k(this,xu).set(t.id,l),null}let r=k(this,Rt).getInfrastructureEntities.get(i.id),a;if(n.prop("entity/type")===ge.INFRASTRUCTURE?a=k(this,Rt).getInfrastructureEntities.get(n.id):a=k(this,Rt).getComponentEntities.get(n.id),!r||!a)return null;const o=new fx(t.id,a,r);for(let s of o.getProperties())s.value=t.prop("entity/properties/"+s.getKey);return o},g9=function(t){const n=new RA(t.id,t.attr("label/textWrap/text"),ft(this,St,Ma).call(this,t)),i=t.prop("entity/relations/referred_endpoint"),r=[...k(this,Rt).getComponentEntities].map(([o,s])=>s).flatMap(o=>o.getExternalEndpointEntities).find(o=>o.getId===i);r?n.setExternalEndpoint=r:console.log(`External Endpoint ${i} not found in any component`);const a=t.prop("entity/relations/involved_links");if(a){const o=a.map(s=>s?s.map(l=>k(this,Rt).getLinkEntities.get(l)):[]);n.setLinks=o}for(let o of n.getProperties())o.value=t.prop("entity/properties/"+o.getKey);return n},Ma=function(t){return{label:t.attr("label/textWrap/text"),fontSize:t.attr("label/fontSize"),size:{width:t.size().width,height:t.size().height},position:{xCoord:t.position().x,yCoord:t.position().y}}},m9=function(t){let n=new jA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.Network"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}});for(const i of ja.Network.specificProperties)i.jointJsConfig.modelPath&&n.prop(i.jointJsConfig.modelPath,t.getProperties().find(r=>r.getKey===i.providedFeature).value);return n},y9=function(t){return new HA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.Infrastructure"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},v9=function(t,n){for(const r of ja.Infrastructure.specificProperties)switch(r.providedFeature){case"assigned_to_networks":n.prop(r.jointJsConfig.modelPath,t.getNetworks.keys().toArray());break;default:r.jointJsConfig.modelPath&&n.prop(r.jointJsConfig.modelPath,t.getProperties().find(a=>a.getKey===r.providedFeature).value)}let i=[];for(const[r,a]of t.getArtifacts.entries())i.push(a.getAsFlatObject(r));n.prop(Km.GeneralProperties.artifacts.options[0].jointJsConfig.modelPath,i)},b9=function(t){return new BA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.Service"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},E9=function(t){return new LA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.BackingService"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},x9=function(t){return new zA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.BackingService"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},S9=function(t){return new FA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.ProxyBackingService"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},_9=function(t){return new $A({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.BrokerBackingService"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},C9=function(t){return new DA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:t.getMetaData.size,attrs:{root:{title:"cna.qualityModel.Component"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}})},Kh=function(t,n,i,r){for(const o of i.specificProperties)o.jointJsConfig.modelPath&&n.prop(o.jointJsConfig.modelPath,t.getProperties().find(s=>s.getKey===o.providedFeature).value);for(const o of r.relations)switch(o.providedFeature){case"externalIngressProxiedBy":t.getExternalIngressProxiedBy&&n.prop(o.jointJsConfig.modelPath,t.getExternalIngressProxiedBy.getId);break;case"ingressProxiedBy":t.getIngressProxiedBy&&n.prop(o.jointJsConfig.modelPath,t.getIngressProxiedBy.getId);break;case"egressProxiedBy":t.getEgressProxiedBy&&n.prop(o.jointJsConfig.modelPath,t.getEgressProxiedBy.getId);break;case"addressResolutionBy":t.getAddressResolutionBy&&n.prop(o.jointJsConfig.modelPath,t.getAddressResolutionBy.getId);break;case"authenticationBy":t.getAuthenticationBy&&n.prop(o.jointJsConfig.modelPath,t.getAuthenticationBy.getId);break;case"assigned_to_networks":n.prop(o.jointJsConfig.modelPath,[...t.getNetworks.keys()]);break;default:throw new Error(`Unknown relation ${o.providedFeature} found for ${t.constructor.name}.`)}let a=[];for(const[o,s]of t.getArtifacts.entries())a.push(s.getAsFlatObject(o));return n.prop(Km.GeneralProperties.artifacts.options[0].jointJsConfig.modelPath,a),n},w9=function(t,n,i){let r=t.relation.getMetaData.position.xCoord!==0?t.relation.getMetaData.position.xCoord:n.position().x+Math.floor(n.size().width/3)+t.data.getMetaData.size.width*i,a=t.relation.getMetaData.position.yCoord!==0?t.relation.getMetaData.position.yCoord:n.position().y+Math.floor(n.size().height/3)+t.data.getMetaData.size.height*i,o=t.relation.getMetaData.size.width!==t.data.getMetaData.size.width?t.relation.getMetaData.size.width:t.data.getMetaData.size.width,s=t.relation.getMetaData.size.height!==t.data.getMetaData.size.height?t.relation.getMetaData.size.height:t.data.getMetaData.size.height,l=new GA({position:{x:r,y:a},size:{width:o,height:s},attrs:{root:{title:"cna.qualityModel.DataAggregate"},body:{class:"entityHighlighting"},label:{fontSize:t.relation.getMetaData.fontSize!==t.data.getMetaData.fontSize?t.relation.getMetaData.fontSize:t.data.getMetaData.fontSize,textWrap:{text:t.data.getMetaData.label?t.data.getMetaData.label:t.data.getName}}}});n.embed(l);for(const c of ja.DataAggregate.specificProperties)switch(c.providedFeature){case"embedded":l.prop(c.jointJsConfig.modelPath,n.id.toString());break;case"dataAggregate-assignedFamily":l.prop(c.jointJsConfig.modelPath,t.data.getName);break;default:c.jointJsConfig.modelPath&&(t.data.getProperties().find(h=>h.getKey===c.providedFeature)?l.prop(c.jointJsConfig.modelPath,t.data.getProperties().find(h=>h.getKey===c.providedFeature).value):t.relation.getProperties().find(h=>h.getKey===c.providedFeature)&&l.prop(c.jointJsConfig.modelPath,t.relation.getProperties().find(h=>h.getKey===c.providedFeature).value));break}return l},VT=function(t,n,i){let r=t.relation.getMetaData.position.xCoord!==0?t.relation.getMetaData.position.xCoord:n.position().x+Math.floor(n.size().width/3)+t.backingData.getMetaData.size.width*i,a=t.relation.getMetaData.position.yCoord!==0?t.relation.getMetaData.position.yCoord:n.position().y+Math.floor(n.size().height/3)+t.backingData.getMetaData.size.height*i,o=t.relation.getMetaData.size.width!==t.backingData.getMetaData.size.width?t.relation.getMetaData.size.width:t.backingData.getMetaData.size.width,s=t.relation.getMetaData.size.height!==t.backingData.getMetaData.size.height?t.relation.getMetaData.size.height:t.backingData.getMetaData.size.height,l=new WA({position:{x:r,y:a},size:{width:o,height:s},attrs:{root:{title:"cna.qualityModel.BackingData"},body:{class:"entityHighlighting"},label:{fontSize:t.relation.getMetaData.fontSize!==t.backingData.getMetaData.fontSize?t.relation.getMetaData.fontSize:t.backingData.getMetaData.fontSize,textWrap:{text:t.backingData.getMetaData.label?t.backingData.getMetaData.label:t.backingData.getName}}}});n.embed(l);for(const c of ja.BackingData.specificProperties)switch(c.providedFeature){case"embedded":l.prop(c.jointJsConfig.modelPath,n.id.toString());break;case"backingData-assignedFamily":l.prop(c.jointJsConfig.modelPath,t.backingData.getName);break;case"backingData-chooseEditMode":break;case"backingData-includedData":l.prop(c.jointJsConfig.modelPath,t.backingData.getProperties().find(h=>h.getKey==="included_data").value);break;default:c.jointJsConfig.modelPath&&(t.backingData.getProperties().find(h=>h.getKey===c.providedFeature)?l.prop(c.jointJsConfig.modelPath,t.backingData.getProperties().find(h=>h.getKey===c.providedFeature).value):t.relation.getProperties().find(h=>h.getKey===c.providedFeature)&&l.prop(c.jointJsConfig.modelPath,t.relation.getProperties().find(h=>h.getKey===c.providedFeature).value));break}return l},T9=function(t,n){let i=new qA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:{width:t.getMetaData.size.width,height:t.getMetaData.size.height},attrs:{root:{title:"cna.qualityModel.Endpoint"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}});n.embed(i);for(const r of ja.Endpoint.specificProperties)r.jointJsConfig.modelPath&&(r.providedFeature==="embedded"?i.prop(r.jointJsConfig.modelPath,n.id.toString()):i.prop(r.jointJsConfig.modelPath,t.getProperties().find(a=>a.getKey===r.providedFeature).value));return t.getDataAggregateEntities.length>0&&i.prop("entity/relations/uses_data",t.getDataAggregateEntities.map(r=>n.getEmbeddedCells().find(a=>a.prop("entity/assignedFamily")===r.data.getName).id)),t.getAllowedAccounts&&i.prop("entity/relations/allow_access_to",t.getAllowedAccounts),t.getDocumentedBy&&i.prop("entity/relations/documented_by",t.getDocumentedBy),i},A9=function(t,n){let i=new UA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:{width:t.getMetaData.size.width,height:t.getMetaData.size.height},attrs:{root:{title:"cna.qualityModel.ExternalEndpoint"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}});n.embed(i);for(const r of ja.ExternalEndpoint.specificProperties)r.jointJsConfig.modelPath&&(r.providedFeature==="embedded"?i.prop(r.jointJsConfig.modelPath,n.id.toString()):i.prop(r.jointJsConfig.modelPath,t.getProperties().find(a=>a.getKey===r.providedFeature).value));return t.getDataAggregateEntities.length>0&&i.prop("entity/relations/uses_data",t.getDataAggregateEntities.map(r=>n.getEmbeddedCells().find(a=>a.prop("entity/assignedFamily")===r.data.getName).id)),t.getAllowedAccounts&&i.prop("entity/relations/allow_access_to",t.getAllowedAccounts),t.getDocumentedBy&&i.prop("entity/relations/documented_by",t.getDocumentedBy),i},k9=function(t,n,i){let r=new VA({id:t.getId,position:{x:t.getMetaData.position.xCoord,y:t.getMetaData.position.yCoord},size:{width:t.getMetaData.size.width,height:t.getMetaData.size.height},attrs:{root:{title:"cna.qualityModel.RequestTrace"},body:{class:"entityHighlighting"},label:{fontSize:t.getMetaData.fontSize,textWrap:{text:t.getMetaData.label?t.getMetaData.label:t.getName}}}});for(const a of ja.RequestTrace.specificProperties)a.jointJsConfig.modelPath&&r.prop(a.jointJsConfig.modelPath,t.getProperties().find(o=>o.getKey===a.providedFeature).value);for(const a of wd.RequestTrace.relations)switch(a.providedFeature){case"referred_endpoint":t.getExternalEndpoint?r.prop(a.jointJsConfig.modelPath,t.getExternalEndpoint.getId):r.prop(a.jointJsConfig.modelPath,"");break;case"involved_links":r.prop(a.jointJsConfig.modelPath,t.getLinks.map(o=>o.map(s=>s.getId)));break;default:throw new Error(`unknown relation ${a.providedFeature} in request trace.`)}return r};const Wa=Object.freeze({BUTTON:"button",BUTTON_DROPDOWN:"button-dropdown"}),yw=Object.freeze({BUTTON:"button",CHECKBOX:"checkbox"}),$b={Tools:[{buttonGroupId:"general-paper-actions",content:[{providedFeature:"fullScreen",tooltipText:"Open fullscreen",text:"",iconClass:"fa-solid fa-expand",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"closefullScreen",tooltipText:"Close fullscreen",text:"",iconClass:"fa-solid fa-compress",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"fitActivePaperToContent",tooltipText:"Fit paper to content",text:"",iconClass:"fa-solid fa-crop",additionalCssClass:"",buttonType:Wa.BUTTON}]},{buttonGroupId:"extern-clear",content:[{providedFeature:"clearActivePaper",tooltipText:"Clear current paper",text:"",iconClass:"fa-solid fa-trash-can",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"printActivePaper",tooltipText:"Print current paper",text:"",iconClass:"fa-solid fa-print",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"exportSvg",tooltipText:"Export current model as SVG",text:"",iconClass:"fa-solid fa-bezier-curve",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"validateModel",tooltipText:"Validate the current model for problems",text:"",iconClass:"fa-solid fa-file-circle-check",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"convertModeledSystemEntity",tooltipText:"Export modeled System",text:"",iconClass:"fa-solid fa-download",additionalCssClass:"",buttonType:Wa.BUTTON_DROPDOWN,dropdownButtons:[{providedFeature:"convertModeledSystemEntityToJson",tooltipText:"Export modeled System to JSON",text:"Export to JSON",iconClass:"bi bi-filetype-json",additionalCssClass:""},{providedFeature:"convertModeledSystemEntityToTosca",tooltipText:"Export modeled System to TOSCA",text:"Transform to TOSCA",iconClass:"bi bi-filetype-yml",additionalCssClass:""}]},{providedFeature:"loadModeledSystemEntity",tooltipText:"Import modeled System",text:"",iconClass:"fa-solid fa-upload",additionalCssClass:"",buttonType:Wa.BUTTON_DROPDOWN,dropdownButtons:[{providedFeature:"loadModeledSystemEntityFromJson",tooltipText:"Import modeled System from JSON",text:"Import from JSON",iconClass:"bi bi-filetype-json",additionalCssClass:""},{providedFeature:"loadModeledSystemEntityFromTosca",tooltipText:"Import modeled System from TOSCA",text:"Import from TOSCA",iconClass:"bi bi-filetype-yml",additionalCssClass:""}]}]},{buttonGroupId:"zoom",content:[{providedFeature:"zoomOutPaper",tooltipText:"Zoom out from modeling area",text:"",iconClass:"fa-solid fa-magnifying-glass-minus",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"zoomInPaper",tooltipText:"Zoom into modeling area",text:"",iconClass:"fa-solid fa-magnifying-glass-plus",additionalCssClass:"",buttonType:Wa.BUTTON}]},{buttonGroupId:"paper-background",content:[{providedFeature:"changeGrid",tooltipText:"Clear grid",text:"",iconClass:"fa-solid fa-border-all",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"fitAllElementsToEmbedded",tooltipText:"Fit elements to embedded",text:"",iconClass:"bi bi-aspect-ratio-fill",additionalCssClass:"",buttonType:Wa.BUTTON}]},{buttonGroupId:"paper-individual-elements",content:[{providedFeature:"expandAll",tooltipText:"Expand all entities",text:"",iconClass:"fa-regular fa-square-plus",additionalCssClass:"",buttonType:Wa.BUTTON},{providedFeature:"collapseAll",tooltipText:"Collapse all entities",text:"",iconClass:"fa-regular fa-square-minus",additionalCssClass:"",buttonType:Wa.BUTTON}]},{buttonGroupId:"requestTraceView",content:[{providedFeature:"exitRequestTraceView",tooltipText:"Exit current Request Trace view",text:"",iconClass:"fa-solid fa-arrow-right-from-bracket",additionalCssClass:"buttonInitialHide btn-danger exitRequestTraceView",buttonType:Wa.BUTTON}]}],FilterConfig:[{key:"deploymentView",labelText:"Deployment View",tooltipText:"Show/Hide Infrastructure and Deployment Mapping Entities"},{key:"communicationView",labelText:"Communication View",tooltipText:"Show/Hide Endpoint and Link Entities"},{key:"backingView",labelText:"Backing Services View",tooltipText:"Show/Hide Backing Services"},{key:"dataView",labelText:"Data View",tooltipText:"Show/Hide Data Aggregates and Backing Data"},{key:"traceView",labelText:"Request Trace View",tooltipText:"Show/Hide Request Trace entities"}],ToolbarRowConfig:[{rowIndex:1,tools:[{buttonGroupId:"settings",content:[{buttonType:yw.BUTTON,providedFeature:"applicationSettings",tooltipText:"Edit application settings",text:"",iconClass:"fa-solid fa-gear",additionalCssClass:""}]},{buttonGroupId:"additionalToolbar",content:[{buttonType:yw.BUTTON,providedFeature:"showEntityToolbarRow",tooltipText:"Show entity specific options",text:"",iconClass:"fa-solid fa-angles-down",additionalCssClass:"buttonInitialHide"}]}]},{rowIndex:2,tools:[{buttonGroupId:"entireToolbarSecondRow",content:[{buttonType:yw.BUTTON,providedFeature:"hideEntityToolbarRow",tooltipText:"Hide entity specific options",text:"",iconClass:"fa-solid fa-angles-up",additionalCssClass:""}]}]}]},cne=["data-group"],une=["id","onClick","title"],dne={key:1,class:"buttonDropDownGroup dropdown"},hne=["id","title"],fne=["id","aria-labelledby"],pne=["id","onClick"],vw=wa({__name:"ButtonGroup",props:{buttonGroupId:{},buttons:{}},emits:["toolbarButtonClicked"],setup(e,{emit:t}){const n=t;function i(r,a){n("toolbarButtonClicked",r,a)}return(r,a)=>(ze(),He("div",{class:"button-group","data-group":r.buttonGroupId},[(ze(!0),He(Jt,null,An(r.buttons,o=>(ze(),He("div",null,[o.buttonType==="button"?Rn((ze(),He("button",{key:0,id:o.providedFeature,onClick:s=>i(o.providedFeature,s),class:Xn(["toolbarButton btn",o.additionalCssClass]),type:"button",title:o.tooltipText,"data-toggle":"tooltip","data-placement":"bottom"},[X("i",{class:Xn(o.iconClass)},null,2),yi(kt(o.text),1)],10,une)),[[La,o.show]]):vn("",!0),o.buttonType==="button-dropdown"?(ze(),He("div",dne,[X("button",{id:o.providedFeature,class:Xn(["toolbarDropdownButton btn dropdown-toggle",o.additionalCssClass]),type:"button",title:o.tooltipText,"data-bs-toggle":"dropdown","data-tooltip-toggle":"tooltip","data-placement":"bottom","aria-expanded":"false"},[X("i",{class:Xn(o.iconClass)},null,2),yi(kt(o.text),1)],10,hne),X("div",{id:o.providedFeatureGroup,class:"dropdown-menu","aria-labelledby":o.providedFeatureGroup},[(ze(!0),He(Jt,null,An(o.dropdownButtons,s=>(ze(),He("div",null,[X("button",{id:s.providedFeature,onClick:l=>i(s.providedFeature,l),class:Xn(["toolbarDropdownButtonItem btn dropdown-item",s.additionalCssClass]),type:"button"},[X("i",{class:Xn(s.iconClass),style:{"font-size":"1.1em"}},null,2),X("span",null,kt(s.text),1)],10,pne)]))),256))],8,fne)])):vn("",!0)]))),256))],8,cne))}}),gne={class:"modal-content"},mne={class:"modal-header"},yne={key:0,class:"modalTitleIcon modal-title"},vne={key:1,class:"modalTitleIcon modal-title"},bne=["innerHTML"],Ene={id:"modal-dialog-title",class:"modal-title"},xne={class:"modal-body"},Sne={class:"container-fluid"},_ne={class:"modal-footer"},Cne=["tabindex","onClick"],xx=wa({__name:"ModalWrapper",props:{show:{type:Boolean},dialogMetaData:{}},emits:["close:Modal","action:Modal"],setup(e,{emit:t}){const n=t;function i(){n("close:Modal")}function r(a){n("action:Modal",a)}return(a,o)=>(ze(),He(Jt,null,[Rn((ze(),Bc(rT,{to:"#modals"},[X("div",{class:Xn(["modal",{show:a.show}]),tabindex:"-1","aria-labelledby":"modal-dialog-title","aria-hidden":"true"},[X("div",{class:Xn(["modal-dialog modal-dialog-centered modal-dialog-scrollable",a.dialogMetaData.dialogSize])},[X("div",gne,[X("div",mne,[a.dialogMetaData.header.iconClass?(ze(),He("h5",yne,[X("i",{class:Xn(a.dialogMetaData.header.iconClass)},null,2)])):vn("",!0),a.dialogMetaData.header.svgRepresentation?(ze(),He("h5",vne,[X("span",{innerHTML:a.dialogMetaData.header.svgRepresentation},null,8,bne)])):vn("",!0),X("h5",Ene,kt(a.dialogMetaData.header.text),1),X("div",{class:"close"},[X("button",{type:"button",class:"close","aria-label":"Close",onClick:i},o[0]||(o[0]=[X("i",{class:"fa fa-fw fa-x"},null,-1)]))])]),X("div",xne,[X("div",Sne,[tV(a.$slots,"modalContent")])]),X("div",_ne,[Rn(X("button",{type:"button",class:"btn btn-secondary",tabindex:"0",onClick:i},kt(a.dialogMetaData.footer.cancelButtonText),513),[[La,a.dialogMetaData.footer.showCancelButton]]),(ze(!0),He(Jt,null,An(a.dialogMetaData.footer.actionButtons.entries(),([s,l])=>(ze(),He("button",{type:"button",class:"btn btn-primary",tabindex:s,onClick:c=>r(s)},[l.buttonIconClass?(ze(),He("i",{key:0,class:Xn(["mr-1",l.buttonIconClass])},null,2)):vn("",!0),X("span",null,kt(l.buttonText),1)],8,Cne))),256))])])],2)],2)],512)),[[La,a.show]]),Rn((ze(),Bc(rT,{to:"#modalBackground"},[Rn(X("div",{class:Xn(["modal-backdrop",{show:a.show}])},null,2),[[La,a.show]])],512)),[[La,a.show]])],64))}}),wne=["innerHTML"];function KA(){return{show:!1,dialogMetaData:{dialogSize:Zi.DEFAULT,header:{iconClass:"",svgRepresentation:"",text:""},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"",buttonText:"Save"}]}},confirmationPrompt:"",onCancel:()=>{},actions:[]}}const YA=wa({__name:"ModalConfirmationDialog",props:{show:{type:Boolean},dialogMetaData:{},confirmationPrompt:{},onCancel:{type:Function},actions:{}},setup(e){const t=e;function n(i){if(i<t.actions.length)t.actions[i]();else throw new Error(`There exists no action with index ${i} in ${t.actions}`)}return(i,r)=>(ze(),Bc(xx,{show:i.show,dialogMetaData:i.dialogMetaData,"onClose:Modal":i.onCancel,"onAction:Modal":r[0]||(r[0]=a=>n(a))},{modalContent:Mf(()=>[X("div",{innerHTML:i.confirmationPrompt},null,8,wne)]),_:1},8,["show","dialogMetaData","onClose:Modal"]))}});function Tne(e,t,n,i){let r=e.getCells().filter(a=>a.attributes.entity.type===ge.BACKING_SERVICE);if(t){let a=0;for(;a<r.length;){let o=r[a];o.getEmbeddedCells().forEach(c=>{if(c.attributes.entity.type===ge.ENDPOINT||c.attributes.entity.type===ge.EXTERNAL_ENDPOINT){let h=e.getConnectedLinks(c);r.push(...h),r.push(c)}});let l=e.getConnectedLinks(o).filter(c=>c.attributes.entity.type===ge.LINK);r.push(...l),a=a+1}}if(n){let a=0;for(;a<r.length;){let o=r[a],s=e.getConnectedLinks(o).filter(l=>l.attributes.entity.type===ge.DEPLOYMENT_MAPPING);r.push(...s),a=a+1}}if(i){let a=0;for(;a<r.length;)r[a].getEmbeddedCells().forEach(l=>{(l.attributes.entity.type===ge.DATA_AGGREGATE||l.attributes.entity.type===ge.BACKING_DATA)&&r.push(l)}),a=a+1}return r}function Ane(e,t,n){let i=e.getCells().filter(r=>r.attributes.entity.type===ge.INFRASTRUCTURE||r.attributes.entity.type===ge.DEPLOYMENT_MAPPING);if(!t){let r=0;e:for(;r<i.length;){let a=i[r];if(a.attributes.entity.type===ge.DEPLOYMENT_MAPPING&&a.getSourceCell().attributes.entity.type===ge.BACKING_SERVICE){i.splice(r,1);continue e}r=r+1}}if(n){let r=0;for(;r<i.length;)i[r].getEmbeddedCells().forEach(s=>{(s.attributes.entity.type===ge.DATA_AGGREGATE||s.attributes.entity.type===ge.BACKING_DATA)&&i.push(s)}),r=r+1}return i}function kne(e,t,n){let i=e.getCells().filter(r=>r.attributes.entity.type===ge.LINK||r.attributes.entity.type===ge.ENDPOINT||r.attributes.entity.type===ge.EXTERNAL_ENDPOINT||r.attributes.entity.type===ge.REQUEST_TRACE);if(!t){let r=0;e:for(;r<i.length;){let a=i[r];if(a.attributes.entity.type===ge.LINK){let o=a.getSourceCell(),s=a.getTargetCell();if(o.attributes.entity.type===ge.BACKING_SERVICE||s.isEmbedded()&&s.getParentCell().attributes.entity.type===ge.BACKING_SERVICE){i.splice(r,1);continue e}}if((a.attributes.entity.type===ge.ENDPOINT||a.attributes.entity.type===ge.EXTERNAL_ENDPOINT)&&a.isEmbedded()&&a.getParentCell().attributes.entity.type===ge.BACKING_SERVICE){i.splice(r,1);continue e}r=r+1}}return n?i:i.filter(r=>r.attributes.entity.type!==ge.REQUEST_TRACE)}function Ine(e,t,n){let i=e.getCells().filter(r=>r.attributes.entity.type===ge.DATA_AGGREGATE||r.attributes.entity.type===ge.BACKING_DATA);if(!t){let r=0;e:for(;r<i.length;){let a=i[r];if(a.isEmbedded()&&a.getParentCell().attributes.entity.types===ge.INFRASTRUCTURE){i.splice(r,1);continue e}r=r+1}}if(!n){let r=0;e:for(;r<i.length;){let a=i[r];if(a.isEmbedded()&&a.getParentCell().attributes.entity.types===ge.BACKING_SERVICE){i.splice(r,1);continue e}r=r+1}}return i}function One(e,t){return t?e.getCells().filter(i=>i.attributes.entity.type===ge.REQUEST_TRACE):[]}function Sx(){return{paperWidth:3e3,paperHeight:3e3,paperGridSize:10,paperGridThickness:1,routerType:"manhattan"}}function I9(e){switch(e){case"normal":return{name:"normal"};case"metro":return{name:"metro",args:{step:10,padding:15,maximumLoops:5e3,maxAllowedDirectionChange:100}};case"manhattan":default:return{name:"manhattan",args:{step:10,padding:15,maximumLoops:5e3,maxAllowedDirectionChange:100}}}}const Pne={class:"app-header-first-row"},Mne={class:"input-group app-title"},Nne=["disabled"],Rne={class:"input-group-append",id:"app-title-description"},Dne={id:"modelAppToolbar",class:"toolbar-container"},Bne={class:"app-toolbar"},Lne={class:"app-toolbar-tools"},Fne={class:"button-group","data-group":"first-row-config-button"},zne={class:"app-header-second-row"},$ne={class:"entity-tools"},qne={class:"entity-overall-group","data-group":"entity-overall-group"},Une=["data-group","title"],Hne=["id","onChange","data-entity-type","onUpdate:modelValue","value"],Vne=["id","for"],Gne={class:"second-row-tools","data-group":"second-row-config-tools"},Wne={class:"modalDialogActionContainer container-fluid"},jne={id:"modeling-area-size-row"},Kne={class:"modalElementGroup"},Yne={class:"form-group"},Xne={class:"input-group"},Jne={class:"form-group"},Qne={class:"input-group"},Zne={class:"modalElementGroup"},eie={class:"form-group"},tie={for:"gridSize",class:"align-baseline"},nie={class:"rangeBoxCurrentValue ml-2 align-baseline badge badge-primary badge-pill"},iie={class:"inputRow form-row"},rie={class:"form-group"},aie={for:"gridThickness",class:"align-baseline"},oie={id:"gridThickness-currentValue",class:"rangeBoxCurrentValue ml-2 align-baseline badge badge-primary badge-pill"},sie={class:"inputRow form-row"},lie={class:"modalElementGroup"},cie={class:"form-group"},uie={class:"input-group"},die=wa({__name:"Toolbar",props:{systemName:{},appSettings:{},paper:{},graph:{},selectedRequestTrace:{}},emits:["update:systemName","update:appSettings","click:exitRequestTraceView","click:printActivePaper","click:exportSvg","click:validate","load:fromJson","save:toJson","request:reloadFromJson","load:fromTosca","save:toTosca"],setup(e,{emit:t}){const n=e,i=t,r=ln(n.systemName),a=ln("none"),o=ln(!0),s=ln(!1),l=ln(KA()),c=ln(!1),h={dialogSize:Zi.DEFAULT,header:{iconClass:"fa-solid fa-gear",svgRepresentation:"",text:"Application Settings"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"fa-regular fa-floppy-disk",buttonText:"Apply changes"}]}};function d(G){let le=[];for(const Ie of G){let it=[];for(const Je of Ie.content)if(Je.buttonType==="button-dropdown"){let Ge=[];for(const Ze of Je.dropdownButtons)Ge.push({providedFeature:Ze.providedFeature+"-dropdownItemButton",additionalCssClass:Ze.additionalCssClass,iconClass:Ze.iconClass,text:Ze.text,show:!0});it.push({buttonType:Je.buttonType,providedFeature:Je.providedFeature+"-buttonDropDown",tooltipText:Je.tooltipText,text:Je.text,iconClass:Je.iconClass,additionalCssClass:Je.additionalCssClass,show:!0,providedFeatureGroup:Je.providedFeature+"-buttonDropDownGroup",dropdownButtons:Ge})}else it.push({buttonType:Je.buttonType,providedFeature:Je.providedFeature+"-button",tooltipText:Je.tooltipText,text:Je.text,iconClass:Je.iconClass,additionalCssClass:Je.additionalCssClass,show:!0});le.push({buttonGroupId:Ie.buttonGroupId,buttons:it})}return le}const p=ln(d($b.Tools)),y=ln((()=>{let G=[];for(const le of $b.FilterConfig)G.push({viewKey:le.key,filterInput:le.key+"-checkBox",entityLabel:le.key+"-checkBoxLabel",labelText:le.labelText,tooltipText:le.tooltipText,filterState:!0});return G})()),S=ln(d($b.ToolbarRowConfig.find(G=>G.rowIndex===1).tools)),_=ln(d($b.ToolbarRowConfig.find(G=>G.rowIndex===2).tools));n.graph.on("change:attrs",J);function I(G,le){switch(G){case"editApplicationNameBtn":a.value="editing";break;case"cancelEditApplicationNameBtn":r.value=n.systemName,a.value="none";break;case"submitEditApplicationNameBtn":M();break;case"fullScreen-button":U();break;case"closefullScreen-button":K();break;case"fitActivePaperToContent-button":Q();break;case"clearActivePaper-button":H();break;case"printActivePaper-button":i("click:printActivePaper");break;case"exportSvg-button":i("click:exportSvg");break;case"validateModel-button":i("click:validate");break;case"zoomOutPaper-button":A();break;case"zoomInPaper-button":T();break;case"exitRequestTraceView-button":i("click:exitRequestTraceView");break;case"expandAll-button":se(le);break;case"collapseAll-button":se(le);break;case"applicationSettings-button":ue();break;case"showEntityToolbarRow-button":o.value=!0;break;case"hideEntityToolbarRow-button":o.value=!1;break;case"convertModeledSystemEntityToJson-dropdownItemButton":i("save:toJson");break;case"convertModeledSystemEntityToTosca-dropdownItemButton":i("save:toTosca");break;case"loadModeledSystemEntityFromJson-dropdownItemButton":D();break;case"loadModeledSystemEntityFromTosca-dropdownItemButton":Z();break;case"changeGrid-button":g();case"fitAllElementsToEmbedded-button":ie();break}}function M(){r.value?i("update:systemName",r.value):r.value=n.systemName,a.value="none"}zc(()=>(p.value.find(G=>G.buttonGroupId==="general-paper-actions").buttons.find(G=>G.providedFeature==="fullScreen-button").show=Li(()=>!s.value),p.value.find(G=>G.buttonGroupId==="general-paper-actions").buttons.find(G=>G.providedFeature==="closefullScreen-button").show=Li(()=>s.value),p.value.find(G=>G.buttonGroupId==="requestTraceView").buttons.find(G=>G.providedFeature==="exitRequestTraceView-button").show=Li(()=>!!n.selectedRequestTrace),S.value.find(G=>G.buttonGroupId==="additionalToolbar").buttons.find(G=>G.providedFeature==="showEntityToolbarRow-button").show=Li(()=>!o.value),_.value.find(G=>G.buttonGroupId==="entireToolbarSecondRow").buttons.find(G=>G.providedFeature==="hideEntityToolbarRow-button").show=Li(()=>o.value),B(),this));function B(){if(n.paper)for(const G of y.value)G.filterState=!0,$(G.viewKey);else setTimeout(B,50)}function U(){X5(),s.value=!0}function K(){X5(),s.value=!1}function Q(){n.paper.fitToContent({padding:Ru(25),minWidth:300,minHeight:250})}function H(){l.value={show:!0,dialogMetaData:{dialogSize:Zi.DEFAULT,header:{iconClass:"fa-solid fa-triangle-exclamation",svgRepresentation:"",text:"Warning"},footer:{showCancelButton:!0,cancelButtonText:"No, Cancel",actionButtons:[{buttonIconClass:"fa-solid fa-trash-can",buttonText:"Yes, clear paper"}]}},confirmationPrompt:"Are you sure you want to clear the entire paper? You won't be able to undo this action.",onCancel:()=>l.value.show=!1,actions:[function(){n.graph.clear(),l.value.show=!1}]}}function g(){n.appSettings.paperGridThickness>0?(n.appSettings.paperGridThickness=0,n.paper.setGrid(!1)):(n.appSettings.paperGridThickness=1,n.paper.setGrid({name:"dot",args:[{thickness:n.appSettings.paperGridThickness}]}))}function T(){const G=n.paper.getComputedSize();let le=n.paper.scale();le.sx>=1?n.paper.scale(le.sx+.5):n.paper.scale(le.sx*2),n.paper.fitToContent({padding:50,minWidth:G.width,minHeight:G.height})}function A(){const G=n.paper.getComputedSize();let le=n.paper.scale();Math.round(le.sx)<=1?n.paper.scale(le.sx*.5):n.paper.scale(le.sx-.5),n.paper.fitToContent({padding:50,minWidth:G.width,minHeight:G.height})}function D(){let G="";function le(Je){let Ge=Je.target.result.toString();i("load:fromJson",Ge,G)}let Ie=document.createElement("input");Ie.setAttribute("type","file"),Ie.setAttribute("accept",".json");let it=new FileReader;it.onload=le,Ie.onchange=()=>{G=Ie.files[0].name,it.readAsText(Ie.files[0])},Ie.click()}function Z(){let G="";function le(Je){let Ge=Je.target.result.toString();i("load:fromTosca",Ge,G)}let Ie=document.createElement("input");Ie.setAttribute("type","file"),Ie.setAttribute("accept",".yaml");let it=new FileReader;it.onload=le,Ie.onchange=()=>{G=Ie.files[0].name,it.readAsText(Ie.files[0])},Ie.click()}function ie(){let G=n.graph.getElements();for(const le of G)le.getEmbeddedCells().length!==0&&le.fitEmbeds({deep:!0,padding:10,expandOnly:!0})}function se(G){n.graph.getElements().forEach(Ie=>{if(!Ie.attr("icon")||Ie.prop("entity/type")===ge.REQUEST_TRACE)return;Ie.prop("collapsed",!!G.currentTarget.id.includes("collapse"));let it=G.currentTarget.id.includes("collapse")?"visible":"hidden",Je=Ie.attr("root/visibility")==="hidden"?"hidden":it;Ie.attr("icon/visibility",Je,{isolate:!0}),Ie.getEmbeddedCells({deep:!0}).forEach(Ze=>{const Te=G.currentTarget.id.includes("collapse")?"hidden":"visible",Ue=Ze.prop("entityTypeHidden")?"hidden":Te;Ze.attr("root/visibility",Ue,{isolate:!0}),Ze.prop("parentCollapsed","hidden".localeCompare(it)!==0)})})}function ue(){n.appSettings.paperWidth=n.paper.options.width,n.appSettings.paperHeight=n.paper.options.height,n.appSettings.paperGridSize=n.paper.options.gridSize,n.appSettings.paperGridThickness=n.paper.options.drawGrid?n.paper.options.drawGrid.thickness:Sx().paperGridThickness,n.appSettings.routerType=n.paper.options.defaultRouter.name,c.value=!0}function de(){if((n.appSettings.paperWidth!==n.paper.options.width||n.appSettings.paperHeight!==n.paper.options.height)&&n.paper.setDimensions(n.appSettings.paperWidth,n.appSettings.paperHeight),n.appSettings.paperGridSize!==n.paper.options.gridSize&&n.paper.setGridSize(n.appSettings.paperGridSize),n.appSettings.paperGridThickness!==n.paper.options.drawGrid.thickness&&n.paper.setGrid({name:"dot",args:[{thickness:n.appSettings.paperGridThickness}]}),n.appSettings.routerType!==n.paper.options.defaultRouter.name){n.graph.getLinks().forEach(Ie=>{Ie.unset("router")}),n.paper.options.defaultRouter=I9(n.appSettings.routerType);let G=JSON.stringify(n.graph.toJSON()),le=n.systemName;n.paper.render(),i("request:reloadFromJson",G,le)}i("update:appSettings",n.appSettings),c.value=!1}function F(G){return y.value.find(le=>le.viewKey===G).filterState}function $(G){let Ie=y.value.find(Je=>Je.viewKey===G).filterState?"visible":"hidden",it=[];switch(G){case"deploymentView":it.push(...Ane(n.graph,F("backingView"),F("dataView")));break;case"communicationView":it.push(...kne(n.graph,F("backingView"),F("traceView")));break;case"backingView":it.push(...Tne(n.graph,F("communicationView"),F("deploymentView"),F("dataView")));break;case"dataView":it.push(...Ine(n.graph,F("deploymentView"),F("backingView")));break;case"traceView":it.push(...One(n.graph,F("communicationView")));break}it.forEach(Je=>{W(Je,Ie)})}function W(G,le){if(G.prop("entityTypeHidden",le==="hidden"),G.attr("icon")){let Ie=G.get("collapsed")===!0?"visible":"hidden",it=le==="visible"?Ie:"hidden";G.attr("icon/visibility",it,{isolate:!0})}G.prop("parentCollapsed")&&(le="hidden"),G.attr("root/visibility",le,{isolate:!0})}function J(G,le,Ie){if(Ie.propertyPath&&Ie.propertyPath.includes("visibility")){let it=G.findView(n.paper);it.hideTools(),Iu.remove(it)}}return(G,le)=>(ze(),He(Jt,null,[X("div",Pne,[X("div",Mne,[Rn(X("input",{id:"appNameTitle",type:"text",class:"user-select-all form-control","onUpdate:modelValue":le[0]||(le[0]=Ie=>r.value=Ie),"aria-label":"Application name of current System entity","aria-describedby":"app-title-description",disabled:a.value==="none"},null,8,Nne),[[Js,r.value]]),X("div",Rne,[le[17]||(le[17]=X("span",{class:"user-select-none input-group-text"},"Current System",-1)),Rn(X("button",{id:"editApplicationNameBtn",class:"btn btn-outline-secondary",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Edit name of System entity",onClick:le[1]||(le[1]=Ie=>I("editApplicationNameBtn",Ie))},le[14]||(le[14]=[X("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),512),[[La,a.value==="none"]]),Rn(X("button",{id:"cancelEditApplicationNameBtn",class:"btn btn-outline-danger submitEditApplicationNameBtnGroup",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Cancel editing",onClick:le[2]||(le[2]=Ie=>I("cancelEditApplicationNameBtn",Ie))},le[15]||(le[15]=[X("i",{class:"fa-solid fa-xmark"},null,-1)]),512),[[La,a.value==="editing"]]),Rn(X("button",{id:"submitEditApplicationNameBtn",class:"btn btn-outline-success submitEditApplicationNameBtnGroup",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Submit name of System entity",onClick:le[3]||(le[3]=Ie=>I("submitEditApplicationNameBtn",Ie))},le[16]||(le[16]=[X("i",{class:"fa-solid fa-check"},null,-1)]),512),[[La,a.value==="editing"]]),le[18]||(le[18]=X("button",{id:"addNewSystemEntity",class:"btn btn-outline-secondary",type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Add new System entity"},[X("i",{class:"fa-solid fa-plus"})],-1))])]),X("div",Dne,[X("div",Bne,[(ze(!0),He(Jt,null,An(p.value,Ie=>(ze(),He("div",Lne,[_i(vw,{buttonGroupId:Ie.buttonGroupId,buttons:Ie.buttons,onToolbarButtonClicked:I},null,8,["buttonGroupId","buttons"]),le[19]||(le[19]=X("div",{class:"group-divider"},null,-1))]))),256)),X("div",Fne,[(ze(!0),He(Jt,null,An(S.value,Ie=>(ze(),Bc(vw,{buttonGroupId:Ie.buttonGroupId,buttons:Ie.buttons,onToolbarButtonClicked:I},null,8,["buttonGroupId","buttons"]))),256))])])])]),Rn(X("div",zne,[X("div",$ne,[X("div",qne,[(ze(!0),He(Jt,null,An(y.value,Ie=>(ze(),He("div",null,[X("div",{class:"entity-group form-check form-check-inline","data-group":Ie.viewKey,title:Ie.tooltipText,"data-toggle":"tooltip","data-placement":"bottom"},[Rn(X("input",{id:Ie.filterInput,onChange:it=>$(Ie.viewKey),"data-entity-type":Ie.viewKey,"onUpdate:modelValue":it=>Ie.filterState=it,class:"entityCheckBox form-check-input",type:"checkbox",value:Ie.viewKey,checked:""},null,40,Hne),[[Gd,Ie.filterState]]),X("label",{id:Ie.entityLabel,class:"user-select-none entityCheckBoxLabel form-check-label",for:Ie.filterInput},kt(Ie.labelText),9,Vne)],8,Une),le[20]||(le[20]=X("div",{class:"group-divider"},null,-1))]))),256))])]),(ze(!0),He(Jt,null,An(_.value,Ie=>(ze(),He("div",Gne,[le[21]||(le[21]=X("div",{class:"group-divider"},null,-1)),_i(vw,{buttonGroupId:Ie.buttonGroupId,buttons:Ie.buttons,onToolbarButtonClicked:I},null,8,["buttonGroupId","buttons"])]))),256))],512),[[La,o.value]]),_i(YA,I2(vS(l.value)),null,16),_i(xx,{show:c.value,dialogMetaData:h,"onClose:Modal":le[13]||(le[13]=Ie=>c.value=!1),"onAction:Modal":de},{modalContent:Mf(()=>[X("div",Wne,[X("div",jne,[le[26]||(le[26]=X("h5",null,"Modeling Area Size",-1)),X("div",Kne,[X("form",Yne,[X("div",Xne,[le[22]||(le[22]=X("div",{class:"input-group-prepend"},[X("span",{class:"input-group-text"},[X("i",{class:"fa-solid fa-ruler-horizontal"}),X("span",{class:"modalInputLabel"},"Width")])],-1)),Rn(X("input",{id:"paperWidth",class:"form-control",type:"number",placeholder:"Default: 3000","onUpdate:modelValue":le[4]||(le[4]=Ie=>G.appSettings.paperWidth=Ie),"aria-describedby":"paperWidth-helpText",min:"26"},null,512),[[Js,G.appSettings.paperWidth]]),X("button",{id:"paperWidth-resetButton",class:"btn btn-outline-secondary",type:"reset",onClick:le[5]||(le[5]=Ie=>G.appSettings.paperWidth=3e3)},"Reset"),le[23]||(le[23]=X("small",{id:"paperWidth-helpText",class:"form-text text-muted"},"Due to the included content the value has to be greater than 26",-1))])]),X("form",Jne,[X("div",Qne,[le[24]||(le[24]=X("div",{class:"input-group-prepend"},[X("span",{class:"input-group-text"},[X("i",{class:"fa-solid fa-ruler-vertical"}),X("span",{class:"modalInputLabel"},"Height")])],-1)),Rn(X("input",{id:"paperHeight",class:"form-control",type:"number",placeholder:"Default: 3000","onUpdate:modelValue":le[6]||(le[6]=Ie=>G.appSettings.paperHeight=Ie),"aria-describedby":"paperHeight-helpText",min:"26"},null,512),[[Js,G.appSettings.paperHeight]]),X("button",{class:"btn btn-outline-secondary",type:"reset",onClick:le[7]||(le[7]=Ie=>G.appSettings.paperHeight=3e3)},"Reset"),le[25]||(le[25]=X("small",{id:"paperHeight-helpText",class:"form-text text-muted"},"Due to the included content the value has to be greater than 26",-1))])])]),le[27]||(le[27]=X("hr",null,null,-1))]),X("div",null,[le[30]||(le[30]=X("h5",null,"Modeling Area Grid",-1)),X("div",Zne,[X("form",eie,[X("div",null,[X("label",tie,[le[28]||(le[28]=yi("Size:")),X("span",nie,kt(G.appSettings.paperGridSize),1)]),X("div",iie,[Rn(X("input",{class:"col px-md-2 form-control-range",id:"gridSize",type:"range",min:"1",max:"50","onUpdate:modelValue":le[8]||(le[8]=Ie=>G.appSettings.paperGridSize=Ie),step:"1"},null,512),[[Js,G.appSettings.paperGridSize]]),X("button",{id:"gridSize-resetButton",class:"btn btn-outline-secondary ml-2 btn-sm",type:"reset",onClick:le[9]||(le[9]=Ie=>G.appSettings.paperGridSize=10)},"Reset")])])]),X("form",rie,[X("div",null,[X("label",aie,[le[29]||(le[29]=yi("Thickness: ")),X("span",oie,kt(G.appSettings.paperGridThickness),1)]),X("div",sie,[Rn(X("input",{class:"col px-md-2 form-control-range",id:"gridThickness",type:"range",min:"1",max:"10","onUpdate:modelValue":le[10]||(le[10]=Ie=>G.appSettings.paperGridThickness=Ie),step:"1"},null,512),[[Js,G.appSettings.paperGridThickness]]),X("button",{id:"gridThickness-resetButton",class:"btn btn-outline-secondary ml-2 btn-sm",type:"reset",onClick:le[11]||(le[11]=Ie=>G.appSettings.paperGridThickness=1)},"Reset")])])])]),le[31]||(le[31]=X("hr",null,null,-1))]),X("div",null,[le[34]||(le[34]=X("h5",null,"Link Router Type",-1)),X("div",lie,[X("form",cie,[X("div",uie,[le[33]||(le[33]=X("div",{class:"input-group-prepend"},[X("span",{id:"defaultRouter-inputGroupIconText",class:"input-group-text"},[X("i",{class:""}),X("span",{class:"modalInputLabel"},"Link router")])],-1)),Rn(X("select",{id:"defaultRouter",class:"form-control","onUpdate:modelValue":le[12]||(le[12]=Ie=>G.appSettings.routerType=Ie)},le[32]||(le[32]=[X("option",{value:"manhattan"},"Manhattan",-1),X("option",{value:"normal"},"Normal",-1),X("option",{value:"metro"},"Metro",-1)]),512),[[wu,G.appSettings.routerType]])])])])])])]),_:1},8,["show"])],64))}});var Am={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var hie=Am.exports,c6;function fie(){return c6||(c6=1,function(e,t){(function(){var n,i="4.17.21",r=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",d=1,p=2,y=4,S=1,_=2,I=1,M=2,B=4,U=8,K=16,Q=32,H=64,g=128,T=256,A=512,D=30,Z="...",ie=800,se=16,ue=1,de=2,F=3,$=1/0,W=9007199254740991,J=17976931348623157e292,G=NaN,le=4294967295,Ie=le-1,it=le>>>1,Je=[["ary",g],["bind",I],["bindKey",M],["curry",U],["curryRight",K],["flip",A],["partial",Q],["partialRight",H],["rearg",T]],Ge="[object Arguments]",Ze="[object Array]",Te="[object AsyncFunction]",Ae="[object Boolean]",Ue="[object Date]",Xe="[object DOMException]",dt="[object Error]",te="[object Function]",ce="[object GeneratorFunction]",fe="[object Map]",Be="[object Number]",we="[object Null]",re="[object Object]",Ee="[object Promise]",ve="[object Proxy]",We="[object RegExp]",tt="[object Set]",yt="[object String]",xt="[object Symbol]",Nt="[object Undefined]",at="[object WeakMap]",At="[object WeakSet]",Gt="[object ArrayBuffer]",tn="[object DataView]",wi="[object Float32Array]",ii="[object Float64Array]",ir="[object Int8Array]",Ti="[object Int16Array]",bi="[object Int32Array]",Fi="[object Uint8Array]",ri="[object Uint8ClampedArray]",zi="[object Uint16Array]",mr="[object Uint32Array]",Fa=/\b__p \+= '';/g,la=/\b(__p \+=) '' \+/g,yr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ta=/&(?:amp|lt|gt|quot|#39);/g,Qn=/[&<>"']/g,ca=RegExp(ta.source),et=RegExp(Qn.source),_n=/<%-([\s\S]+?)%>/g,Ln=/<%([\s\S]+?)%>/g,Oi=/<%=([\s\S]+?)%>/g,na=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ql=/^\w*$/,hl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wr=/[\\^$.*+?()[\]{}|]/g,Ls=RegExp(Wr.source),jr=/^\s+/,uo=/\s/,ds=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fl=/\{\n\/\* \[wrapped with (.+)\] \*/,Vu=/,? & /,pl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ho=/[()=,{}\[\]\/\s]/,Gu=/\\(\\)?/g,zo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vr=/\w*$/,cr=/^[-+]0x[0-9a-f]+$/i,Kr=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,Me=/^0o[0-7]+$/i,Et=/^(?:0|[1-9]\d*)$/,Vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jn=/($^)/,Xi=/['\n\r\u2028\u2029\\]/g,ji="\\ud800-\\udfff",rr="\\u0300-\\u036f",ua="\\ufe20-\\ufe2f",$o="\\u20d0-\\u20ff",fr=rr+ua+$o,Fs="\\u2700-\\u27bf",Ul="a-z\\xdf-\\xf6\\xf8-\\xff",ep="\\xac\\xb1\\xd7\\xf7",yh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vh="\\u2000-\\u206f",Wu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ju="A-Z\\xc0-\\xd6\\xd8-\\xde",Yr="\\ufe0e\\ufe0f",zs=ep+yh+vh+Wu,gl="['’]",qo="["+ji+"]",da="["+zs+"]",za="["+fr+"]",ha="\\d+",Hl="["+Fs+"]",Gc="["+Ul+"]",fo="[^"+ji+zs+ha+Fs+Ul+ju+"]",hs="\\ud83c[\\udffb-\\udfff]",fa="(?:"+za+"|"+hs+")",$s="[^"+ji+"]",fs="(?:\\ud83c[\\udde6-\\uddff]){2}",Ku="[\\ud800-\\udbff][\\udc00-\\udfff]",po="["+ju+"]",Uo="\\u200d",ps="(?:"+Gc+"|"+fo+")",go="(?:"+po+"|"+fo+")",tp="(?:"+gl+"(?:d|ll|m|re|s|t|ve))?",Ta="(?:"+gl+"(?:D|LL|M|RE|S|T|VE))?",Vl=fa+"?",Wc="["+Yr+"]?",Gl="(?:"+Uo+"(?:"+[$s,fs,Ku].join("|")+")"+Wc+Vl+")*",Yu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xu=Wc+Vl+Gl,np="(?:"+[Hl,fs,Ku].join("|")+")"+Xu,ip="(?:"+[$s+za+"?",za,fs,Ku,qo].join("|")+")",qs=RegExp(gl,"g"),z0=RegExp(za,"g"),Ju=RegExp(hs+"(?="+hs+")|"+ip+Xu,"g"),bh=RegExp([po+"?"+Gc+"+"+tp+"(?="+[da,po,"$"].join("|")+")",go+"+"+Ta+"(?="+[da,po+ps,"$"].join("|")+")",po+"?"+ps+"+"+tp,po+"+"+Ta,jc,Yu,ha,np].join("|"),"g"),Qu=RegExp("["+Uo+ji+fr+Yr+"]"),Eh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zu=-1,$i={};$i[wi]=$i[ii]=$i[ir]=$i[Ti]=$i[bi]=$i[Fi]=$i[ri]=$i[zi]=$i[mr]=!0,$i[Ge]=$i[Ze]=$i[Gt]=$i[Ae]=$i[tn]=$i[Ue]=$i[dt]=$i[te]=$i[fe]=$i[Be]=$i[re]=$i[We]=$i[tt]=$i[yt]=$i[at]=!1;var Ai={};Ai[Ge]=Ai[Ze]=Ai[Gt]=Ai[tn]=Ai[Ae]=Ai[Ue]=Ai[wi]=Ai[ii]=Ai[ir]=Ai[Ti]=Ai[bi]=Ai[fe]=Ai[Be]=Ai[re]=Ai[We]=Ai[tt]=Ai[yt]=Ai[xt]=Ai[Fi]=Ai[ri]=Ai[zi]=Ai[mr]=!0,Ai[dt]=Ai[te]=Ai[at]=!1;var ed={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Kc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},td={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ml=parseFloat,Sh=parseInt,_h=typeof Cb=="object"&&Cb&&Cb.Object===Object&&Cb,rp=typeof self=="object"&&self&&self.Object===Object&&self,qi=_h||rp||Function("return this")(),nd=t&&!t.nodeType&&t,Ho=nd&&!0&&e&&!e.nodeType&&e,Ch=Ho&&Ho.exports===nd,id=Ch&&_h.process,Aa=function(){try{var he=Ho&&Ho.require&&Ho.require("util").types;return he||id&&id.binding&&id.binding("util")}catch{}}(),m=Aa&&Aa.isArrayBuffer,E=Aa&&Aa.isDate,C=Aa&&Aa.isMap,P=Aa&&Aa.isRegExp,L=Aa&&Aa.isSet,z=Aa&&Aa.isTypedArray;function Y(he,ke,Ce){switch(Ce.length){case 0:return he.call(ke);case 1:return he.call(ke,Ce[0]);case 2:return he.call(ke,Ce[0],Ce[1]);case 3:return he.call(ke,Ce[0],Ce[1],Ce[2])}return he.apply(ke,Ce)}function Se(he,ke,Ce,st){for(var ut=-1,jt=he==null?0:he.length;++ut<jt;){var Ft=he[ut];ke(st,Ft,Ce(Ft),he)}return st}function me(he,ke){for(var Ce=-1,st=he==null?0:he.length;++Ce<st&&ke(he[Ce],Ce,he)!==!1;);return he}function Re(he,ke){for(var Ce=he==null?0:he.length;Ce--&&ke(he[Ce],Ce,he)!==!1;);return he}function nt(he,ke){for(var Ce=-1,st=he==null?0:he.length;++Ce<st;)if(!ke(he[Ce],Ce,he))return!1;return!0}function ot(he,ke){for(var Ce=-1,st=he==null?0:he.length,ut=0,jt=[];++Ce<st;){var Ft=he[Ce];ke(Ft,Ce,he)&&(jt[ut++]=Ft)}return jt}function je(he,ke){var Ce=he==null?0:he.length;return!!Ce&&ui(he,ke,0)>-1}function mt(he,ke,Ce){for(var st=-1,ut=he==null?0:he.length;++st<ut;)if(Ce(ke,he[st]))return!0;return!1}function $t(he,ke){for(var Ce=-1,st=he==null?0:he.length,ut=Array(st);++Ce<st;)ut[Ce]=ke(he[Ce],Ce,he);return ut}function Dn(he,ke){for(var Ce=-1,st=ke.length,ut=he.length;++Ce<st;)he[ut+Ce]=ke[Ce];return he}function kn(he,ke,Ce,st){var ut=-1,jt=he==null?0:he.length;for(st&&jt&&(Ce=he[++ut]);++ut<jt;)Ce=ke(Ce,he[ut],ut,he);return Ce}function Dr(he,ke,Ce,st){var ut=he==null?0:he.length;for(st&&ut&&(Ce=he[--ut]);ut--;)Ce=ke(Ce,he[ut],ut,he);return Ce}function ur(he,ke){for(var Ce=-1,st=he==null?0:he.length;++Ce<st;)if(ke(he[Ce],Ce,he))return!0;return!1}var Vo=yl("length");function Go(he){return he.split("")}function Vn(he){return he.match(pl)||[]}function gs(he,ke,Ce){var st;return Ce(he,function(ut,jt,Ft){if(ke(ut,jt,Ft))return st=jt,!1}),st}function Kn(he,ke,Ce,st){for(var ut=he.length,jt=Ce+(st?1:-1);st?jt--:++jt<ut;)if(ke(he[jt],jt,he))return jt;return-1}function ui(he,ke,Ce){return ke===ke?Th(he,ke,Ce):Kn(he,rd,Ce)}function mo(he,ke,Ce,st){for(var ut=Ce-1,jt=he.length;++ut<jt;)if(st(he[ut],ke))return ut;return-1}function rd(he){return he!==he}function pa(he,ke){var Ce=he==null?0:he.length;return Ce?ga(he,ke)/Ce:G}function yl(he){return function(ke){return ke==null?n:ke[he]}}function $a(he){return function(ke){return he==null?n:he[ke]}}function ms(he,ke,Ce,st,ut){return ut(he,function(jt,Ft,Pt){Ce=st?(st=!1,jt):ke(Ce,jt,Ft,Pt)}),Ce}function Us(he,ke){var Ce=he.length;for(he.sort(ke);Ce--;)he[Ce]=he[Ce].value;return he}function ga(he,ke){for(var Ce,st=-1,ut=he.length;++st<ut;){var jt=ke(he[st]);jt!==n&&(Ce=Ce===n?jt:Ce+jt)}return Ce}function Yc(he,ke){for(var Ce=-1,st=Array(he);++Ce<he;)st[Ce]=ke(Ce);return st}function ys(he,ke){return $t(ke,function(Ce){return[Ce,he[Ce]]})}function Wo(he){return he&&he.slice(0,Ah(he)+1).replace(jr,"")}function Ji(he){return function(ke){return he(ke)}}function ad(he,ke){return $t(ke,function(Ce){return he[Ce]})}function Wl(he,ke){return he.has(ke)}function fi(he,ke){for(var Ce=-1,st=he.length;++Ce<st&&ui(ke,he[Ce],0)>-1;);return Ce}function Xc(he,ke){for(var Ce=he.length;Ce--&&ui(ke,he[Ce],0)>-1;);return Ce}function yo(he,ke){for(var Ce=he.length,st=0;Ce--;)he[Ce]===ke&&++st;return st}var vl=$a(ed),od=$a(Kc);function q0(he){return"\\"+xh[he]}function ap(he,ke){return he==null?n:he[ke]}function ka(he){return Qu.test(he)}function wh(he){return Eh.test(he)}function Hs(he){for(var ke,Ce=[];!(ke=he.next()).done;)Ce.push(ke.value);return Ce}function Jc(he){var ke=-1,Ce=Array(he.size);return he.forEach(function(st,ut){Ce[++ke]=[ut,st]}),Ce}function bl(he,ke){return function(Ce){return he(ke(Ce))}}function qa(he,ke){for(var Ce=-1,st=he.length,ut=0,jt=[];++Ce<st;){var Ft=he[Ce];(Ft===ke||Ft===h)&&(he[Ce]=h,jt[ut++]=Ce)}return jt}function jo(he){var ke=-1,Ce=Array(he.size);return he.forEach(function(st){Ce[++ke]=st}),Ce}function sd(he){var ke=-1,Ce=Array(he.size);return he.forEach(function(st){Ce[++ke]=[st,st]}),Ce}function Th(he,ke,Ce){for(var st=Ce-1,ut=he.length;++st<ut;)if(he[st]===ke)return st;return-1}function ia(he,ke,Ce){for(var st=Ce+1;st--;)if(he[st]===ke)return st;return st}function Vs(he){return ka(he)?op(he):Vo(he)}function Ia(he){return ka(he)?pe(he):Go(he)}function Ah(he){for(var ke=he.length;ke--&&uo.test(he.charAt(ke)););return ke}var ld=$a(td);function op(he){for(var ke=Ju.lastIndex=0;Ju.test(he);)++ke;return ke}function pe(he){return he.match(Ju)||[]}function Pe(he){return he.match(bh)||[]}var Ke=function he(ke){ke=ke==null?qi:Qe.defaults(qi.Object(),ke,Qe.pick(qi,$0));var Ce=ke.Array,st=ke.Date,ut=ke.Error,jt=ke.Function,Ft=ke.Math,Pt=ke.Object,Bn=ke.RegExp,nn=ke.String,Un=ke.TypeError,Ar=Ce.prototype,Br=jt.prototype,kr=Pt.prototype,Oa=ke["__core-js_shared__"],vs=Br.toString,In=kr.hasOwnProperty,F1=0,U0=function(){var u=/[^.]+$/.exec(Oa&&Oa.keys&&Oa.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),sp=kr.toString,P_=vs.call(Pt),M_=qi._,N_=Bn("^"+vs.call(In).replace(Wr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lp=Ch?ke.Buffer:n,ma=ke.Symbol,kh=ke.Uint8Array,z1=lp?lp.allocUnsafe:n,cp=bl(Pt.getPrototypeOf,Pt),$1=Pt.create,q1=kr.propertyIsEnumerable,up=Ar.splice,U1=ma?ma.isConcatSpreadable:n,Ih=ma?ma.iterator:n,Qc=ma?ma.toStringTag:n,cd=function(){try{var u=Bh(Pt,"defineProperty");return u({},"",{}),u}catch{}}(),dp=ke.clearTimeout!==qi.clearTimeout&&ke.clearTimeout,H1=st&&st.now!==qi.Date.now&&st.now,V1=ke.setTimeout!==qi.setTimeout&&ke.setTimeout,jl=Ft.ceil,ud=Ft.floor,H0=Pt.getOwnPropertySymbols,R_=lp?lp.isBuffer:n,G1=ke.isFinite,Zc=Ar.join,D_=bl(Pt.keys,Pt),Lr=Ft.max,Fr=Ft.min,V0=st.now,B_=ke.parseInt,G0=Ft.random,L_=Ar.reverse,Kl=Bh(ke,"DataView"),eu=Bh(ke,"Map"),hp=Bh(ke,"Promise"),dd=Bh(ke,"Set"),Oh=Bh(ke,"WeakMap"),Ph=Bh(Pt,"create"),Yl=Oh&&new Oh,Ko={},F_=Lh(Kl),z_=Lh(eu),$_=Lh(hp),q_=Lh(dd),U_=Lh(Oh),fp=ma?ma.prototype:n,Mh=fp?fp.valueOf:n,W1=fp?fp.toString:n;function ee(u){if(Ir(u)&&!zn(u)&&!(u instanceof Zn)){if(u instanceof Ua)return u;if(In.call(u,"__wrapped__"))return Vk(u)}return new Ua(u)}var hd=function(){function u(){}return function(f){if(!Er(f))return{};if($1)return $1(f);u.prototype=f;var b=new u;return u.prototype=n,b}}();function Nh(){}function Ua(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}ee.templateSettings={escape:_n,evaluate:Ln,interpolate:Oi,variable:"",imports:{_:ee}},ee.prototype=Nh.prototype,ee.prototype.constructor=ee,Ua.prototype=hd(Nh.prototype),Ua.prototype.constructor=Ua;function Zn(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function tu(){var u=new Zn(this.__wrapped__);return u.__actions__=Xo(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Xo(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Xo(this.__views__),u}function j1(){if(this.__filtered__){var u=new Zn(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function W0(){var u=this.__wrapped__.value(),f=this.__dir__,b=zn(u),O=f<0,q=b?u.length:0,oe=SF(0,q,this.__views__),be=oe.start,Oe=oe.end,qe=Oe-be,ht=O?Oe:be-1,pt=this.__iteratees__,vt=pt.length,qt=0,en=Fr(qe,this.__takeCount__);if(!b||!O&&q==qe&&en==qe)return fk(u,this.__actions__);var bn=[];e:for(;qe--&&qt<en;){ht+=f;for(var Yn=-1,En=u[ht];++Yn<vt;){var oi=pt[Yn],gi=oi.iteratee,Ss=oi.type,bo=gi(En);if(Ss==de)En=bo;else if(!bo){if(Ss==ue)continue e;break e}}bn[qt++]=En}return bn}Zn.prototype=hd(Nh.prototype),Zn.prototype.constructor=Zn;function Xl(u){var f=-1,b=u==null?0:u.length;for(this.clear();++f<b;){var O=u[f];this.set(O[0],O[1])}}function j0(){this.__data__=Ph?Ph(null):{},this.size=0}function K1(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function K0(u){var f=this.__data__;if(Ph){var b=f[u];return b===l?n:b}return In.call(f,u)?f[u]:n}function H_(u){var f=this.__data__;return Ph?f[u]!==n:In.call(f,u)}function nu(u,f){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=Ph&&f===n?l:f,this}Xl.prototype.clear=j0,Xl.prototype.delete=K1,Xl.prototype.get=K0,Xl.prototype.has=H_,Xl.prototype.set=nu;function ya(u){var f=-1,b=u==null?0:u.length;for(this.clear();++f<b;){var O=u[f];this.set(O[0],O[1])}}function V_(){this.__data__=[],this.size=0}function G_(u){var f=this.__data__,b=Nn(f,u);if(b<0)return!1;var O=f.length-1;return b==O?f.pop():up.call(f,b,1),--this.size,!0}function W_(u){var f=this.__data__,b=Nn(f,u);return b<0?n:f[b][1]}function j_(u){return Nn(this.__data__,u)>-1}function K_(u,f){var b=this.__data__,O=Nn(b,u);return O<0?(++this.size,b.push([u,f])):b[O][1]=f,this}ya.prototype.clear=V_,ya.prototype.delete=G_,ya.prototype.get=W_,ya.prototype.has=j_,ya.prototype.set=K_;function El(u){var f=-1,b=u==null?0:u.length;for(this.clear();++f<b;){var O=u[f];this.set(O[0],O[1])}}function Y_(){this.size=0,this.__data__={hash:new Xl,map:new(eu||ya),string:new Xl}}function X_(u){var f=lb(this,u).delete(u);return this.size-=f?1:0,f}function Y1(u){return lb(this,u).get(u)}function pp(u){return lb(this,u).has(u)}function gp(u,f){var b=lb(this,u),O=b.size;return b.set(u,f),this.size+=b.size==O?0:1,this}El.prototype.clear=Y_,El.prototype.delete=X_,El.prototype.get=Y1,El.prototype.has=pp,El.prototype.set=gp;function iu(u){var f=-1,b=u==null?0:u.length;for(this.__data__=new El;++f<b;)this.add(u[f])}function J_(u){return this.__data__.set(u,l),this}function Rh(u){return this.__data__.has(u)}iu.prototype.add=iu.prototype.push=J_,iu.prototype.has=Rh;function V(u){var f=this.__data__=new ya(u);this.size=f.size}function x(){this.__data__=new ya,this.size=0}function R(u){var f=this.__data__,b=f.delete(u);return this.size=f.size,b}function ae(u){return this.__data__.get(u)}function Le(u){return this.__data__.has(u)}function $e(u,f){var b=this.__data__;if(b instanceof ya){var O=b.__data__;if(!eu||O.length<r-1)return O.push([u,f]),this.size=++b.size,this;b=this.__data__=new El(O)}return b.set(u,f),this.size=b.size,this}V.prototype.clear=x,V.prototype.delete=R,V.prototype.get=ae,V.prototype.has=Le,V.prototype.set=$e;function rt(u,f){var b=zn(u),O=!b&&Fh(u),q=!b&&!O&&yd(u),oe=!b&&!O&&!q&&kp(u),be=b||O||q||oe,Oe=be?Yc(u.length,nn):[],qe=Oe.length;for(var ht in u)(f||In.call(u,ht))&&!(be&&(ht=="length"||q&&(ht=="offset"||ht=="parent")||oe&&(ht=="buffer"||ht=="byteLength"||ht=="byteOffset")||su(ht,qe)))&&Oe.push(ht);return Oe}function gt(u){var f=u.length;return f?u[iC(0,f-1)]:n}function It(u,f){return cb(Xo(u),Ei(f,0,u.length))}function Xt(u){return cb(Xo(u))}function Kt(u,f,b){(b!==n&&!Sl(u[f],b)||b===n&&!(f in u))&&cn(u,f,b)}function Bt(u,f,b){var O=u[f];(!(In.call(u,f)&&Sl(O,b))||b===n&&!(f in u))&&cn(u,f,b)}function Nn(u,f){for(var b=u.length;b--;)if(Sl(u[b][0],f))return b;return-1}function gn(u,f,b,O){return ai(u,function(q,oe,be){f(O,q,b(q),be)}),O}function On(u,f){return u&&Ql(f,Ea(f),u)}function wn(u,f){return u&&Ql(f,Qo(f),u)}function cn(u,f,b){f=="__proto__"&&cd?cd(u,f,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[f]=b}function Pi(u,f){for(var b=-1,O=f.length,q=Ce(O),oe=u==null;++b<O;)q[b]=oe?n:kC(u,f[b]);return q}function Ei(u,f,b){return u===u&&(b!==n&&(u=u<=b?u:b),f!==n&&(u=u>=f?u:f)),u}function mn(u,f,b,O,q,oe){var be,Oe=f&d,qe=f&p,ht=f&y;if(b&&(be=q?b(u,O,q,oe):b(u)),be!==n)return be;if(!Er(u))return u;var pt=zn(u);if(pt){if(be=CF(u),!Oe)return Xo(u,be)}else{var vt=Ga(u),qt=vt==te||vt==ce;if(yd(u))return mk(u,Oe);if(vt==re||vt==Ge||qt&&!q){if(be=qe||qt?{}:Dk(u),!Oe)return qe?fF(u,wn(be,u)):hF(u,On(be,u))}else{if(!Ai[vt])return q?u:{};be=wF(u,vt,Oe)}}oe||(oe=new V);var en=oe.get(u);if(en)return en;oe.set(u,be),u3(u)?u.forEach(function(En){be.add(mn(En,f,b,En,u,oe))}):l3(u)&&u.forEach(function(En,oi){be.set(oi,mn(En,f,b,oi,u,oe))});var bn=ht?qe?pC:fC:qe?Qo:Ea,Yn=pt?n:bn(u);return me(Yn||u,function(En,oi){Yn&&(oi=En,En=u[oi]),Bt(be,oi,mn(En,f,b,oi,u,oe))}),be}function ki(u){var f=Ea(u);return function(b){return Fn(b,u,f)}}function Fn(u,f,b){var O=b.length;if(u==null)return!O;for(u=Pt(u);O--;){var q=b[O],oe=f[q],be=u[q];if(be===n&&!(q in u)||!oe(be))return!1}return!0}function ni(u,f,b){if(typeof u!="function")throw new Un(o);return am(function(){u.apply(n,b)},f)}function pi(u,f,b,O){var q=-1,oe=je,be=!0,Oe=u.length,qe=[],ht=f.length;if(!Oe)return qe;b&&(f=$t(f,Ji(b))),O?(oe=mt,be=!1):f.length>=r&&(oe=Wl,be=!1,f=new iu(f));e:for(;++q<Oe;){var pt=u[q],vt=b==null?pt:b(pt);if(pt=O||pt!==0?pt:0,be&&vt===vt){for(var qt=ht;qt--;)if(f[qt]===vt)continue e;qe.push(pt)}else oe(f,vt,O)||qe.push(pt)}return qe}var ai=xk(zr),Mi=xk(Yo,!0);function br(u,f){var b=!0;return ai(u,function(O,q,oe){return b=!!f(O,q,oe),b}),b}function va(u,f,b){for(var O=-1,q=u.length;++O<q;){var oe=u[O],be=f(oe);if(be!=null&&(Oe===n?be===be&&!xs(be):b(be,Oe)))var Oe=be,qe=oe}return qe}function bs(u,f,b,O){var q=u.length;for(b=Gn(b),b<0&&(b=-b>q?0:q+b),O=O===n||O>q?q:Gn(O),O<0&&(O+=q),O=b>O?0:h3(O);b<O;)u[b++]=f;return u}function ba(u,f){var b=[];return ai(u,function(O,q,oe){f(O,q,oe)&&b.push(O)}),b}function Ui(u,f,b,O,q){var oe=-1,be=u.length;for(b||(b=AF),q||(q=[]);++oe<be;){var Oe=u[oe];f>0&&b(Oe)?f>1?Ui(Oe,f-1,b,O,q):Dn(q,Oe):O||(q[q.length]=Oe)}return q}var Ha=Sk(),dr=Sk(!0);function zr(u,f){return u&&Ha(u,f,Ea)}function Yo(u,f){return u&&dr(u,f,Ea)}function xl(u,f){return ot(f,function(b){return lu(u[b])})}function ar(u,f){f=gd(f,u);for(var b=0,O=f.length;u!=null&&b<O;)u=u[Zl(f[b++])];return b&&b==O?u:n}function Hi(u,f,b){var O=f(u);return zn(u)?O:Dn(O,b(u))}function Bi(u){return u==null?u===n?Nt:we:Qc&&Qc in Pt(u)?xF(u):RF(u)}function Va(u,f){return u>f}function Jl(u,f){return u!=null&&In.call(u,f)}function mp(u,f){return u!=null&&f in Pt(u)}function X1(u,f,b){return u>=Fr(f,b)&&u<Lr(f,b)}function yp(u,f,b){for(var O=b?mt:je,q=u[0].length,oe=u.length,be=oe,Oe=Ce(oe),qe=1/0,ht=[];be--;){var pt=u[be];be&&f&&(pt=$t(pt,Ji(f))),qe=Fr(pt.length,qe),Oe[be]=!b&&(f||q>=120&&pt.length>=120)?new iu(be&&pt):n}pt=u[0];var vt=-1,qt=Oe[0];e:for(;++vt<q&&ht.length<qe;){var en=pt[vt],bn=f?f(en):en;if(en=b||en!==0?en:0,!(qt?Wl(qt,bn):O(ht,bn,b))){for(be=oe;--be;){var Yn=Oe[be];if(!(Yn?Wl(Yn,bn):O(u[be],bn,b)))continue e}qt&&qt.push(bn),ht.push(en)}}return ht}function vp(u,f,b,O){return zr(u,function(q,oe,be){f(O,b(q),oe,be)}),O}function Dh(u,f,b){f=gd(f,u),u=zk(u,f);var O=u==null?u:u[Zl(Ws(f))];return O==null?n:Y(O,u,b)}function J1(u){return Ir(u)&&Bi(u)==Ge}function Y0(u){return Ir(u)&&Bi(u)==Gt}function Q_(u){return Ir(u)&&Bi(u)==Ue}function fd(u,f,b,O,q){return u===f?!0:u==null||f==null||!Ir(u)&&!Ir(f)?u!==u&&f!==f:Z_(u,f,b,O,fd,q)}function Z_(u,f,b,O,q,oe){var be=zn(u),Oe=zn(f),qe=be?Ze:Ga(u),ht=Oe?Ze:Ga(f);qe=qe==Ge?re:qe,ht=ht==Ge?re:ht;var pt=qe==re,vt=ht==re,qt=qe==ht;if(qt&&yd(u)){if(!yd(f))return!1;be=!0,pt=!1}if(qt&&!pt)return oe||(oe=new V),be||kp(u)?Mk(u,f,b,O,q,oe):bF(u,f,qe,b,O,q,oe);if(!(b&S)){var en=pt&&In.call(u,"__wrapped__"),bn=vt&&In.call(f,"__wrapped__");if(en||bn){var Yn=en?u.value():u,En=bn?f.value():f;return oe||(oe=new V),q(Yn,En,b,O,oe)}}return qt?(oe||(oe=new V),EF(u,f,b,O,q,oe)):!1}function Q1(u){return Ir(u)&&Ga(u)==fe}function bp(u,f,b,O){var q=b.length,oe=q,be=!O;if(u==null)return!oe;for(u=Pt(u);q--;){var Oe=b[q];if(be&&Oe[2]?Oe[1]!==u[Oe[0]]:!(Oe[0]in u))return!1}for(;++q<oe;){Oe=b[q];var qe=Oe[0],ht=u[qe],pt=Oe[1];if(be&&Oe[2]){if(ht===n&&!(qe in u))return!1}else{var vt=new V;if(O)var qt=O(ht,pt,qe,u,f,vt);if(!(qt===n?fd(pt,ht,S|_,O,vt):qt))return!1}}return!0}function Z1(u){if(!Er(u)||IF(u))return!1;var f=lu(u)?N_:Dt;return f.test(Lh(u))}function eC(u){return Ir(u)&&Bi(u)==We}function ru(u){return Ir(u)&&Ga(u)==tt}function Ep(u){return Ir(u)&&gb(u.length)&&!!$i[Bi(u)]}function X0(u){return typeof u=="function"?u:u==null?Zo:typeof u=="object"?zn(u)?em(u[0],u[1]):Z0(u):_3(u)}function xp(u){if(!rm(u))return D_(u);var f=[];for(var b in Pt(u))In.call(u,b)&&b!="constructor"&&f.push(b);return f}function J0(u){if(!Er(u))return NF(u);var f=rm(u),b=[];for(var O in u)O=="constructor"&&(f||!In.call(u,O))||b.push(O);return b}function Sp(u,f){return u<f}function Q0(u,f){var b=-1,O=Jo(u)?Ce(u.length):[];return ai(u,function(q,oe,be){O[++b]=f(q,oe,be)}),O}function Z0(u){var f=mC(u);return f.length==1&&f[0][2]?Lk(f[0][0],f[0][1]):function(b){return b===u||bp(b,u,f)}}function em(u,f){return vC(u)&&Bk(f)?Lk(Zl(u),f):function(b){var O=kC(b,u);return O===n&&O===f?IC(b,u):fd(f,O,S|_)}}function _p(u,f,b,O,q){u!==f&&Ha(f,function(oe,be){if(q||(q=new V),Er(oe))tC(u,f,be,b,_p,O,q);else{var Oe=O?O(EC(u,be),oe,be+"",u,f,q):n;Oe===n&&(Oe=oe),Kt(u,be,Oe)}},Qo)}function tC(u,f,b,O,q,oe,be){var Oe=EC(u,b),qe=EC(f,b),ht=be.get(qe);if(ht){Kt(u,b,ht);return}var pt=oe?oe(Oe,qe,b+"",u,f,be):n,vt=pt===n;if(vt){var qt=zn(qe),en=!qt&&yd(qe),bn=!qt&&!en&&kp(qe);pt=qe,qt||en||bn?zn(Oe)?pt=Oe:$r(Oe)?pt=Xo(Oe):en?(vt=!1,pt=mk(qe,!0)):bn?(vt=!1,pt=yk(qe,!0)):pt=[]:om(qe)||Fh(qe)?(pt=Oe,Fh(Oe)?pt=f3(Oe):(!Er(Oe)||lu(Oe))&&(pt=Dk(qe))):vt=!1}vt&&(be.set(qe,pt),q(pt,qe,O,oe,be),be.delete(qe)),Kt(u,b,pt)}function Cp(u,f){var b=u.length;if(b)return f+=f<0?b:0,su(f,b)?u[f]:n}function tm(u,f,b){f.length?f=$t(f,function(oe){return zn(oe)?function(be){return ar(be,oe.length===1?oe[0]:oe)}:oe}):f=[Zo];var O=-1;f=$t(f,Ji(yn()));var q=Q0(u,function(oe,be,Oe){var qe=$t(f,function(ht){return ht(oe)});return{criteria:qe,index:++O,value:oe}});return Us(q,function(oe,be){return dF(oe,be,b)})}function ZL(u,f){return sk(u,f,function(b,O){return IC(u,O)})}function sk(u,f,b){for(var O=-1,q=f.length,oe={};++O<q;){var be=f[O],Oe=ar(u,be);b(Oe,be)&&nm(oe,gd(be,u),Oe)}return oe}function eF(u){return function(f){return ar(f,u)}}function nC(u,f,b,O){var q=O?mo:ui,oe=-1,be=f.length,Oe=u;for(u===f&&(f=Xo(f)),b&&(Oe=$t(u,Ji(b)));++oe<be;)for(var qe=0,ht=f[oe],pt=b?b(ht):ht;(qe=q(Oe,pt,qe,O))>-1;)Oe!==u&&up.call(Oe,qe,1),up.call(u,qe,1);return u}function lk(u,f){for(var b=u?f.length:0,O=b-1;b--;){var q=f[b];if(b==O||q!==oe){var oe=q;su(q)?up.call(u,q,1):oC(u,q)}}return u}function iC(u,f){return u+ud(G0()*(f-u+1))}function tF(u,f,b,O){for(var q=-1,oe=Lr(jl((f-u)/(b||1)),0),be=Ce(oe);oe--;)be[O?oe:++q]=u,u+=b;return be}function rC(u,f){var b="";if(!u||f<1||f>W)return b;do f%2&&(b+=u),f=ud(f/2),f&&(u+=u);while(f);return b}function ei(u,f){return xC(Fk(u,f,Zo),u+"")}function nF(u){return gt(Ip(u))}function iF(u,f){var b=Ip(u);return cb(b,Ei(f,0,b.length))}function nm(u,f,b,O){if(!Er(u))return u;f=gd(f,u);for(var q=-1,oe=f.length,be=oe-1,Oe=u;Oe!=null&&++q<oe;){var qe=Zl(f[q]),ht=b;if(qe==="__proto__"||qe==="constructor"||qe==="prototype")return u;if(q!=be){var pt=Oe[qe];ht=O?O(pt,qe,Oe):n,ht===n&&(ht=Er(pt)?pt:su(f[q+1])?[]:{})}Bt(Oe,qe,ht),Oe=Oe[qe]}return u}var ck=Yl?function(u,f){return Yl.set(u,f),u}:Zo,rF=cd?function(u,f){return cd(u,"toString",{configurable:!0,enumerable:!1,value:PC(f),writable:!0})}:Zo;function aF(u){return cb(Ip(u))}function Gs(u,f,b){var O=-1,q=u.length;f<0&&(f=-f>q?0:q+f),b=b>q?q:b,b<0&&(b+=q),q=f>b?0:b-f>>>0,f>>>=0;for(var oe=Ce(q);++O<q;)oe[O]=u[O+f];return oe}function oF(u,f){var b;return ai(u,function(O,q,oe){return b=f(O,q,oe),!b}),!!b}function eb(u,f,b){var O=0,q=u==null?O:u.length;if(typeof f=="number"&&f===f&&q<=it){for(;O<q;){var oe=O+q>>>1,be=u[oe];be!==null&&!xs(be)&&(b?be<=f:be<f)?O=oe+1:q=oe}return q}return aC(u,f,Zo,b)}function aC(u,f,b,O){var q=0,oe=u==null?0:u.length;if(oe===0)return 0;f=b(f);for(var be=f!==f,Oe=f===null,qe=xs(f),ht=f===n;q<oe;){var pt=ud((q+oe)/2),vt=b(u[pt]),qt=vt!==n,en=vt===null,bn=vt===vt,Yn=xs(vt);if(be)var En=O||bn;else ht?En=bn&&(O||qt):Oe?En=bn&&qt&&(O||!en):qe?En=bn&&qt&&!en&&(O||!Yn):en||Yn?En=!1:En=O?vt<=f:vt<f;En?q=pt+1:oe=pt}return Fr(oe,Ie)}function uk(u,f){for(var b=-1,O=u.length,q=0,oe=[];++b<O;){var be=u[b],Oe=f?f(be):be;if(!b||!Sl(Oe,qe)){var qe=Oe;oe[q++]=be===0?0:be}}return oe}function dk(u){return typeof u=="number"?u:xs(u)?G:+u}function Es(u){if(typeof u=="string")return u;if(zn(u))return $t(u,Es)+"";if(xs(u))return W1?W1.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}function pd(u,f,b){var O=-1,q=je,oe=u.length,be=!0,Oe=[],qe=Oe;if(b)be=!1,q=mt;else if(oe>=r){var ht=f?null:yF(u);if(ht)return jo(ht);be=!1,q=Wl,qe=new iu}else qe=f?[]:Oe;e:for(;++O<oe;){var pt=u[O],vt=f?f(pt):pt;if(pt=b||pt!==0?pt:0,be&&vt===vt){for(var qt=qe.length;qt--;)if(qe[qt]===vt)continue e;f&&qe.push(vt),Oe.push(pt)}else q(qe,vt,b)||(qe!==Oe&&qe.push(vt),Oe.push(pt))}return Oe}function oC(u,f){return f=gd(f,u),u=zk(u,f),u==null||delete u[Zl(Ws(f))]}function hk(u,f,b,O){return nm(u,f,b(ar(u,f)),O)}function tb(u,f,b,O){for(var q=u.length,oe=O?q:-1;(O?oe--:++oe<q)&&f(u[oe],oe,u););return b?Gs(u,O?0:oe,O?oe+1:q):Gs(u,O?oe+1:0,O?q:oe)}function fk(u,f){var b=u;return b instanceof Zn&&(b=b.value()),kn(f,function(O,q){return q.func.apply(q.thisArg,Dn([O],q.args))},b)}function sC(u,f,b){var O=u.length;if(O<2)return O?pd(u[0]):[];for(var q=-1,oe=Ce(O);++q<O;)for(var be=u[q],Oe=-1;++Oe<O;)Oe!=q&&(oe[q]=pi(oe[q]||be,u[Oe],f,b));return pd(Ui(oe,1),f,b)}function pk(u,f,b){for(var O=-1,q=u.length,oe=f.length,be={};++O<q;){var Oe=O<oe?f[O]:n;b(be,u[O],Oe)}return be}function lC(u){return $r(u)?u:[]}function cC(u){return typeof u=="function"?u:Zo}function gd(u,f){return zn(u)?u:vC(u,f)?[u]:Hk(Vi(u))}var sF=ei;function md(u,f,b){var O=u.length;return b=b===n?O:b,!f&&b>=O?u:Gs(u,f,b)}var gk=dp||function(u){return qi.clearTimeout(u)};function mk(u,f){if(f)return u.slice();var b=u.length,O=z1?z1(b):new u.constructor(b);return u.copy(O),O}function uC(u){var f=new u.constructor(u.byteLength);return new kh(f).set(new kh(u)),f}function lF(u,f){var b=f?uC(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function cF(u){var f=new u.constructor(u.source,vr.exec(u));return f.lastIndex=u.lastIndex,f}function uF(u){return Mh?Pt(Mh.call(u)):{}}function yk(u,f){var b=f?uC(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function vk(u,f){if(u!==f){var b=u!==n,O=u===null,q=u===u,oe=xs(u),be=f!==n,Oe=f===null,qe=f===f,ht=xs(f);if(!Oe&&!ht&&!oe&&u>f||oe&&be&&qe&&!Oe&&!ht||O&&be&&qe||!b&&qe||!q)return 1;if(!O&&!oe&&!ht&&u<f||ht&&b&&q&&!O&&!oe||Oe&&b&&q||!be&&q||!qe)return-1}return 0}function dF(u,f,b){for(var O=-1,q=u.criteria,oe=f.criteria,be=q.length,Oe=b.length;++O<be;){var qe=vk(q[O],oe[O]);if(qe){if(O>=Oe)return qe;var ht=b[O];return qe*(ht=="desc"?-1:1)}}return u.index-f.index}function bk(u,f,b,O){for(var q=-1,oe=u.length,be=b.length,Oe=-1,qe=f.length,ht=Lr(oe-be,0),pt=Ce(qe+ht),vt=!O;++Oe<qe;)pt[Oe]=f[Oe];for(;++q<be;)(vt||q<oe)&&(pt[b[q]]=u[q]);for(;ht--;)pt[Oe++]=u[q++];return pt}function Ek(u,f,b,O){for(var q=-1,oe=u.length,be=-1,Oe=b.length,qe=-1,ht=f.length,pt=Lr(oe-Oe,0),vt=Ce(pt+ht),qt=!O;++q<pt;)vt[q]=u[q];for(var en=q;++qe<ht;)vt[en+qe]=f[qe];for(;++be<Oe;)(qt||q<oe)&&(vt[en+b[be]]=u[q++]);return vt}function Xo(u,f){var b=-1,O=u.length;for(f||(f=Ce(O));++b<O;)f[b]=u[b];return f}function Ql(u,f,b,O){var q=!b;b||(b={});for(var oe=-1,be=f.length;++oe<be;){var Oe=f[oe],qe=O?O(b[Oe],u[Oe],Oe,b,u):n;qe===n&&(qe=u[Oe]),q?cn(b,Oe,qe):Bt(b,Oe,qe)}return b}function hF(u,f){return Ql(u,yC(u),f)}function fF(u,f){return Ql(u,Nk(u),f)}function nb(u,f){return function(b,O){var q=zn(b)?Se:gn,oe=f?f():{};return q(b,u,yn(O,2),oe)}}function wp(u){return ei(function(f,b){var O=-1,q=b.length,oe=q>1?b[q-1]:n,be=q>2?b[2]:n;for(oe=u.length>3&&typeof oe=="function"?(q--,oe):n,be&&vo(b[0],b[1],be)&&(oe=q<3?n:oe,q=1),f=Pt(f);++O<q;){var Oe=b[O];Oe&&u(f,Oe,O,oe)}return f})}function xk(u,f){return function(b,O){if(b==null)return b;if(!Jo(b))return u(b,O);for(var q=b.length,oe=f?q:-1,be=Pt(b);(f?oe--:++oe<q)&&O(be[oe],oe,be)!==!1;);return b}}function Sk(u){return function(f,b,O){for(var q=-1,oe=Pt(f),be=O(f),Oe=be.length;Oe--;){var qe=be[u?Oe:++q];if(b(oe[qe],qe,oe)===!1)break}return f}}function pF(u,f,b){var O=f&I,q=im(u);function oe(){var be=this&&this!==qi&&this instanceof oe?q:u;return be.apply(O?b:this,arguments)}return oe}function _k(u){return function(f){f=Vi(f);var b=ka(f)?Ia(f):n,O=b?b[0]:f.charAt(0),q=b?md(b,1).join(""):f.slice(1);return O[u]()+q}}function Tp(u){return function(f){return kn(x3(E3(f).replace(qs,"")),u,"")}}function im(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var b=hd(u.prototype),O=u.apply(b,f);return Er(O)?O:b}}function gF(u,f,b){var O=im(u);function q(){for(var oe=arguments.length,be=Ce(oe),Oe=oe,qe=Ap(q);Oe--;)be[Oe]=arguments[Oe];var ht=oe<3&&be[0]!==qe&&be[oe-1]!==qe?[]:qa(be,qe);if(oe-=ht.length,oe<b)return kk(u,f,ib,q.placeholder,n,be,ht,n,n,b-oe);var pt=this&&this!==qi&&this instanceof q?O:u;return Y(pt,this,be)}return q}function Ck(u){return function(f,b,O){var q=Pt(f);if(!Jo(f)){var oe=yn(b,3);f=Ea(f),b=function(Oe){return oe(q[Oe],Oe,q)}}var be=u(f,b,O);return be>-1?q[oe?f[be]:be]:n}}function wk(u){return ou(function(f){var b=f.length,O=b,q=Ua.prototype.thru;for(u&&f.reverse();O--;){var oe=f[O];if(typeof oe!="function")throw new Un(o);if(q&&!be&&sb(oe)=="wrapper")var be=new Ua([],!0)}for(O=be?O:b;++O<b;){oe=f[O];var Oe=sb(oe),qe=Oe=="wrapper"?gC(oe):n;qe&&bC(qe[0])&&qe[1]==(g|U|Q|T)&&!qe[4].length&&qe[9]==1?be=be[sb(qe[0])].apply(be,qe[3]):be=oe.length==1&&bC(oe)?be[Oe]():be.thru(oe)}return function(){var ht=arguments,pt=ht[0];if(be&&ht.length==1&&zn(pt))return be.plant(pt).value();for(var vt=0,qt=b?f[vt].apply(this,ht):pt;++vt<b;)qt=f[vt].call(this,qt);return qt}})}function ib(u,f,b,O,q,oe,be,Oe,qe,ht){var pt=f&g,vt=f&I,qt=f&M,en=f&(U|K),bn=f&A,Yn=qt?n:im(u);function En(){for(var oi=arguments.length,gi=Ce(oi),Ss=oi;Ss--;)gi[Ss]=arguments[Ss];if(en)var bo=Ap(En),_s=yo(gi,bo);if(O&&(gi=bk(gi,O,q,en)),oe&&(gi=Ek(gi,oe,be,en)),oi-=_s,en&&oi<ht){var qr=qa(gi,bo);return kk(u,f,ib,En.placeholder,b,gi,qr,Oe,qe,ht-oi)}var _l=vt?b:this,uu=qt?_l[u]:u;return oi=gi.length,Oe?gi=DF(gi,Oe):bn&&oi>1&&gi.reverse(),pt&&qe<oi&&(gi.length=qe),this&&this!==qi&&this instanceof En&&(uu=Yn||im(uu)),uu.apply(_l,gi)}return En}function Tk(u,f){return function(b,O){return vp(b,u,f(O),{})}}function rb(u,f){return function(b,O){var q;if(b===n&&O===n)return f;if(b!==n&&(q=b),O!==n){if(q===n)return O;typeof b=="string"||typeof O=="string"?(b=Es(b),O=Es(O)):(b=dk(b),O=dk(O)),q=u(b,O)}return q}}function dC(u){return ou(function(f){return f=$t(f,Ji(yn())),ei(function(b){var O=this;return u(f,function(q){return Y(q,O,b)})})})}function ab(u,f){f=f===n?" ":Es(f);var b=f.length;if(b<2)return b?rC(f,u):f;var O=rC(f,jl(u/Vs(f)));return ka(f)?md(Ia(O),0,u).join(""):O.slice(0,u)}function mF(u,f,b,O){var q=f&I,oe=im(u);function be(){for(var Oe=-1,qe=arguments.length,ht=-1,pt=O.length,vt=Ce(pt+qe),qt=this&&this!==qi&&this instanceof be?oe:u;++ht<pt;)vt[ht]=O[ht];for(;qe--;)vt[ht++]=arguments[++Oe];return Y(qt,q?b:this,vt)}return be}function Ak(u){return function(f,b,O){return O&&typeof O!="number"&&vo(f,b,O)&&(b=O=n),f=cu(f),b===n?(b=f,f=0):b=cu(b),O=O===n?f<b?1:-1:cu(O),tF(f,b,O,u)}}function ob(u){return function(f,b){return typeof f=="string"&&typeof b=="string"||(f=js(f),b=js(b)),u(f,b)}}function kk(u,f,b,O,q,oe,be,Oe,qe,ht){var pt=f&U,vt=pt?be:n,qt=pt?n:be,en=pt?oe:n,bn=pt?n:oe;f|=pt?Q:H,f&=~(pt?H:Q),f&B||(f&=-4);var Yn=[u,f,q,en,vt,bn,qt,Oe,qe,ht],En=b.apply(n,Yn);return bC(u)&&$k(En,Yn),En.placeholder=O,qk(En,u,f)}function hC(u){var f=Ft[u];return function(b,O){if(b=js(b),O=O==null?0:Fr(Gn(O),292),O&&G1(b)){var q=(Vi(b)+"e").split("e"),oe=f(q[0]+"e"+(+q[1]+O));return q=(Vi(oe)+"e").split("e"),+(q[0]+"e"+(+q[1]-O))}return f(b)}}var yF=dd&&1/jo(new dd([,-0]))[1]==$?function(u){return new dd(u)}:RC;function Ik(u){return function(f){var b=Ga(f);return b==fe?Jc(f):b==tt?sd(f):ys(f,u(f))}}function au(u,f,b,O,q,oe,be,Oe){var qe=f&M;if(!qe&&typeof u!="function")throw new Un(o);var ht=O?O.length:0;if(ht||(f&=-97,O=q=n),be=be===n?be:Lr(Gn(be),0),Oe=Oe===n?Oe:Gn(Oe),ht-=q?q.length:0,f&H){var pt=O,vt=q;O=q=n}var qt=qe?n:gC(u),en=[u,f,b,O,q,pt,vt,oe,be,Oe];if(qt&&MF(en,qt),u=en[0],f=en[1],b=en[2],O=en[3],q=en[4],Oe=en[9]=en[9]===n?qe?0:u.length:Lr(en[9]-ht,0),!Oe&&f&(U|K)&&(f&=-25),!f||f==I)var bn=pF(u,f,b);else f==U||f==K?bn=gF(u,f,Oe):(f==Q||f==(I|Q))&&!q.length?bn=mF(u,f,b,O):bn=ib.apply(n,en);var Yn=qt?ck:$k;return qk(Yn(bn,en),u,f)}function Ok(u,f,b,O){return u===n||Sl(u,kr[b])&&!In.call(O,b)?f:u}function Pk(u,f,b,O,q,oe){return Er(u)&&Er(f)&&(oe.set(f,u),_p(u,f,n,Pk,oe),oe.delete(f)),u}function vF(u){return om(u)?n:u}function Mk(u,f,b,O,q,oe){var be=b&S,Oe=u.length,qe=f.length;if(Oe!=qe&&!(be&&qe>Oe))return!1;var ht=oe.get(u),pt=oe.get(f);if(ht&&pt)return ht==f&&pt==u;var vt=-1,qt=!0,en=b&_?new iu:n;for(oe.set(u,f),oe.set(f,u);++vt<Oe;){var bn=u[vt],Yn=f[vt];if(O)var En=be?O(Yn,bn,vt,f,u,oe):O(bn,Yn,vt,u,f,oe);if(En!==n){if(En)continue;qt=!1;break}if(en){if(!ur(f,function(oi,gi){if(!Wl(en,gi)&&(bn===oi||q(bn,oi,b,O,oe)))return en.push(gi)})){qt=!1;break}}else if(!(bn===Yn||q(bn,Yn,b,O,oe))){qt=!1;break}}return oe.delete(u),oe.delete(f),qt}function bF(u,f,b,O,q,oe,be){switch(b){case tn:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case Gt:return!(u.byteLength!=f.byteLength||!oe(new kh(u),new kh(f)));case Ae:case Ue:case Be:return Sl(+u,+f);case dt:return u.name==f.name&&u.message==f.message;case We:case yt:return u==f+"";case fe:var Oe=Jc;case tt:var qe=O&S;if(Oe||(Oe=jo),u.size!=f.size&&!qe)return!1;var ht=be.get(u);if(ht)return ht==f;O|=_,be.set(u,f);var pt=Mk(Oe(u),Oe(f),O,q,oe,be);return be.delete(u),pt;case xt:if(Mh)return Mh.call(u)==Mh.call(f)}return!1}function EF(u,f,b,O,q,oe){var be=b&S,Oe=fC(u),qe=Oe.length,ht=fC(f),pt=ht.length;if(qe!=pt&&!be)return!1;for(var vt=qe;vt--;){var qt=Oe[vt];if(!(be?qt in f:In.call(f,qt)))return!1}var en=oe.get(u),bn=oe.get(f);if(en&&bn)return en==f&&bn==u;var Yn=!0;oe.set(u,f),oe.set(f,u);for(var En=be;++vt<qe;){qt=Oe[vt];var oi=u[qt],gi=f[qt];if(O)var Ss=be?O(gi,oi,qt,f,u,oe):O(oi,gi,qt,u,f,oe);if(!(Ss===n?oi===gi||q(oi,gi,b,O,oe):Ss)){Yn=!1;break}En||(En=qt=="constructor")}if(Yn&&!En){var bo=u.constructor,_s=f.constructor;bo!=_s&&"constructor"in u&&"constructor"in f&&!(typeof bo=="function"&&bo instanceof bo&&typeof _s=="function"&&_s instanceof _s)&&(Yn=!1)}return oe.delete(u),oe.delete(f),Yn}function ou(u){return xC(Fk(u,n,jk),u+"")}function fC(u){return Hi(u,Ea,yC)}function pC(u){return Hi(u,Qo,Nk)}var gC=Yl?function(u){return Yl.get(u)}:RC;function sb(u){for(var f=u.name+"",b=Ko[f],O=In.call(Ko,f)?b.length:0;O--;){var q=b[O],oe=q.func;if(oe==null||oe==u)return q.name}return f}function Ap(u){var f=In.call(ee,"placeholder")?ee:u;return f.placeholder}function yn(){var u=ee.iteratee||MC;return u=u===MC?X0:u,arguments.length?u(arguments[0],arguments[1]):u}function lb(u,f){var b=u.__data__;return kF(f)?b[typeof f=="string"?"string":"hash"]:b.map}function mC(u){for(var f=Ea(u),b=f.length;b--;){var O=f[b],q=u[O];f[b]=[O,q,Bk(q)]}return f}function Bh(u,f){var b=ap(u,f);return Z1(b)?b:n}function xF(u){var f=In.call(u,Qc),b=u[Qc];try{u[Qc]=n;var O=!0}catch{}var q=sp.call(u);return O&&(f?u[Qc]=b:delete u[Qc]),q}var yC=H0?function(u){return u==null?[]:(u=Pt(u),ot(H0(u),function(f){return q1.call(u,f)}))}:DC,Nk=H0?function(u){for(var f=[];u;)Dn(f,yC(u)),u=cp(u);return f}:DC,Ga=Bi;(Kl&&Ga(new Kl(new ArrayBuffer(1)))!=tn||eu&&Ga(new eu)!=fe||hp&&Ga(hp.resolve())!=Ee||dd&&Ga(new dd)!=tt||Oh&&Ga(new Oh)!=at)&&(Ga=function(u){var f=Bi(u),b=f==re?u.constructor:n,O=b?Lh(b):"";if(O)switch(O){case F_:return tn;case z_:return fe;case $_:return Ee;case q_:return tt;case U_:return at}return f});function SF(u,f,b){for(var O=-1,q=b.length;++O<q;){var oe=b[O],be=oe.size;switch(oe.type){case"drop":u+=be;break;case"dropRight":f-=be;break;case"take":f=Fr(f,u+be);break;case"takeRight":u=Lr(u,f-be);break}}return{start:u,end:f}}function _F(u){var f=u.match(fl);return f?f[1].split(Vu):[]}function Rk(u,f,b){f=gd(f,u);for(var O=-1,q=f.length,oe=!1;++O<q;){var be=Zl(f[O]);if(!(oe=u!=null&&b(u,be)))break;u=u[be]}return oe||++O!=q?oe:(q=u==null?0:u.length,!!q&&gb(q)&&su(be,q)&&(zn(u)||Fh(u)))}function CF(u){var f=u.length,b=new u.constructor(f);return f&&typeof u[0]=="string"&&In.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function Dk(u){return typeof u.constructor=="function"&&!rm(u)?hd(cp(u)):{}}function wF(u,f,b){var O=u.constructor;switch(f){case Gt:return uC(u);case Ae:case Ue:return new O(+u);case tn:return lF(u,b);case wi:case ii:case ir:case Ti:case bi:case Fi:case ri:case zi:case mr:return yk(u,b);case fe:return new O;case Be:case yt:return new O(u);case We:return cF(u);case tt:return new O;case xt:return uF(u)}}function TF(u,f){var b=f.length;if(!b)return u;var O=b-1;return f[O]=(b>1?"& ":"")+f[O],f=f.join(b>2?", ":" "),u.replace(ds,`{
/* [wrapped with `+f+`] */
`)}function AF(u){return zn(u)||Fh(u)||!!(U1&&u&&u[U1])}function su(u,f){var b=typeof u;return f=f??W,!!f&&(b=="number"||b!="symbol"&&Et.test(u))&&u>-1&&u%1==0&&u<f}function vo(u,f,b){if(!Er(b))return!1;var O=typeof f;return(O=="number"?Jo(b)&&su(f,b.length):O=="string"&&f in b)?Sl(b[f],u):!1}function vC(u,f){if(zn(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||xs(u)?!0:ql.test(u)||!na.test(u)||f!=null&&u in Pt(f)}function kF(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function bC(u){var f=sb(u),b=ee[f];if(typeof b!="function"||!(f in Zn.prototype))return!1;if(u===b)return!0;var O=gC(b);return!!O&&u===O[0]}function IF(u){return!!U0&&U0 in u}var OF=Oa?lu:BC;function rm(u){var f=u&&u.constructor,b=typeof f=="function"&&f.prototype||kr;return u===b}function Bk(u){return u===u&&!Er(u)}function Lk(u,f){return function(b){return b==null?!1:b[u]===f&&(f!==n||u in Pt(b))}}function PF(u){var f=fb(u,function(O){return b.size===c&&b.clear(),O}),b=f.cache;return f}function MF(u,f){var b=u[1],O=f[1],q=b|O,oe=q<(I|M|g),be=O==g&&b==U||O==g&&b==T&&u[7].length<=f[8]||O==(g|T)&&f[7].length<=f[8]&&b==U;if(!(oe||be))return u;O&I&&(u[2]=f[2],q|=b&I?0:B);var Oe=f[3];if(Oe){var qe=u[3];u[3]=qe?bk(qe,Oe,f[4]):Oe,u[4]=qe?qa(u[3],h):f[4]}return Oe=f[5],Oe&&(qe=u[5],u[5]=qe?Ek(qe,Oe,f[6]):Oe,u[6]=qe?qa(u[5],h):f[6]),Oe=f[7],Oe&&(u[7]=Oe),O&g&&(u[8]=u[8]==null?f[8]:Fr(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=q,u}function NF(u){var f=[];if(u!=null)for(var b in Pt(u))f.push(b);return f}function RF(u){return sp.call(u)}function Fk(u,f,b){return f=Lr(f===n?u.length-1:f,0),function(){for(var O=arguments,q=-1,oe=Lr(O.length-f,0),be=Ce(oe);++q<oe;)be[q]=O[f+q];q=-1;for(var Oe=Ce(f+1);++q<f;)Oe[q]=O[q];return Oe[f]=b(be),Y(u,this,Oe)}}function zk(u,f){return f.length<2?u:ar(u,Gs(f,0,-1))}function DF(u,f){for(var b=u.length,O=Fr(f.length,b),q=Xo(u);O--;){var oe=f[O];u[O]=su(oe,b)?q[oe]:n}return u}function EC(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var $k=Uk(ck),am=V1||function(u,f){return qi.setTimeout(u,f)},xC=Uk(rF);function qk(u,f,b){var O=f+"";return xC(u,TF(O,BF(_F(O),b)))}function Uk(u){var f=0,b=0;return function(){var O=V0(),q=se-(O-b);if(b=O,q>0){if(++f>=ie)return arguments[0]}else f=0;return u.apply(n,arguments)}}function cb(u,f){var b=-1,O=u.length,q=O-1;for(f=f===n?O:f;++b<f;){var oe=iC(b,q),be=u[oe];u[oe]=u[b],u[b]=be}return u.length=f,u}var Hk=PF(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(hl,function(b,O,q,oe){f.push(q?oe.replace(Gu,"$1"):O||b)}),f});function Zl(u){if(typeof u=="string"||xs(u))return u;var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}function Lh(u){if(u!=null){try{return vs.call(u)}catch{}try{return u+""}catch{}}return""}function BF(u,f){return me(Je,function(b){var O="_."+b[0];f&b[1]&&!je(u,O)&&u.push(O)}),u.sort()}function Vk(u){if(u instanceof Zn)return u.clone();var f=new Ua(u.__wrapped__,u.__chain__);return f.__actions__=Xo(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function LF(u,f,b){(b?vo(u,f,b):f===n)?f=1:f=Lr(Gn(f),0);var O=u==null?0:u.length;if(!O||f<1)return[];for(var q=0,oe=0,be=Ce(jl(O/f));q<O;)be[oe++]=Gs(u,q,q+=f);return be}function FF(u){for(var f=-1,b=u==null?0:u.length,O=0,q=[];++f<b;){var oe=u[f];oe&&(q[O++]=oe)}return q}function zF(){var u=arguments.length;if(!u)return[];for(var f=Ce(u-1),b=arguments[0],O=u;O--;)f[O-1]=arguments[O];return Dn(zn(b)?Xo(b):[b],Ui(f,1))}var $F=ei(function(u,f){return $r(u)?pi(u,Ui(f,1,$r,!0)):[]}),qF=ei(function(u,f){var b=Ws(f);return $r(b)&&(b=n),$r(u)?pi(u,Ui(f,1,$r,!0),yn(b,2)):[]}),UF=ei(function(u,f){var b=Ws(f);return $r(b)&&(b=n),$r(u)?pi(u,Ui(f,1,$r,!0),n,b):[]});function HF(u,f,b){var O=u==null?0:u.length;return O?(f=b||f===n?1:Gn(f),Gs(u,f<0?0:f,O)):[]}function VF(u,f,b){var O=u==null?0:u.length;return O?(f=b||f===n?1:Gn(f),f=O-f,Gs(u,0,f<0?0:f)):[]}function GF(u,f){return u&&u.length?tb(u,yn(f,3),!0,!0):[]}function WF(u,f){return u&&u.length?tb(u,yn(f,3),!0):[]}function jF(u,f,b,O){var q=u==null?0:u.length;return q?(b&&typeof b!="number"&&vo(u,f,b)&&(b=0,O=q),bs(u,f,b,O)):[]}function Gk(u,f,b){var O=u==null?0:u.length;if(!O)return-1;var q=b==null?0:Gn(b);return q<0&&(q=Lr(O+q,0)),Kn(u,yn(f,3),q)}function Wk(u,f,b){var O=u==null?0:u.length;if(!O)return-1;var q=O-1;return b!==n&&(q=Gn(b),q=b<0?Lr(O+q,0):Fr(q,O-1)),Kn(u,yn(f,3),q,!0)}function jk(u){var f=u==null?0:u.length;return f?Ui(u,1):[]}function KF(u){var f=u==null?0:u.length;return f?Ui(u,$):[]}function YF(u,f){var b=u==null?0:u.length;return b?(f=f===n?1:Gn(f),Ui(u,f)):[]}function XF(u){for(var f=-1,b=u==null?0:u.length,O={};++f<b;){var q=u[f];O[q[0]]=q[1]}return O}function Kk(u){return u&&u.length?u[0]:n}function JF(u,f,b){var O=u==null?0:u.length;if(!O)return-1;var q=b==null?0:Gn(b);return q<0&&(q=Lr(O+q,0)),ui(u,f,q)}function QF(u){var f=u==null?0:u.length;return f?Gs(u,0,-1):[]}var ZF=ei(function(u){var f=$t(u,lC);return f.length&&f[0]===u[0]?yp(f):[]}),ez=ei(function(u){var f=Ws(u),b=$t(u,lC);return f===Ws(b)?f=n:b.pop(),b.length&&b[0]===u[0]?yp(b,yn(f,2)):[]}),tz=ei(function(u){var f=Ws(u),b=$t(u,lC);return f=typeof f=="function"?f:n,f&&b.pop(),b.length&&b[0]===u[0]?yp(b,n,f):[]});function nz(u,f){return u==null?"":Zc.call(u,f)}function Ws(u){var f=u==null?0:u.length;return f?u[f-1]:n}function iz(u,f,b){var O=u==null?0:u.length;if(!O)return-1;var q=O;return b!==n&&(q=Gn(b),q=q<0?Lr(O+q,0):Fr(q,O-1)),f===f?ia(u,f,q):Kn(u,rd,q,!0)}function rz(u,f){return u&&u.length?Cp(u,Gn(f)):n}var az=ei(Yk);function Yk(u,f){return u&&u.length&&f&&f.length?nC(u,f):u}function oz(u,f,b){return u&&u.length&&f&&f.length?nC(u,f,yn(b,2)):u}function sz(u,f,b){return u&&u.length&&f&&f.length?nC(u,f,n,b):u}var lz=ou(function(u,f){var b=u==null?0:u.length,O=Pi(u,f);return lk(u,$t(f,function(q){return su(q,b)?+q:q}).sort(vk)),O});function cz(u,f){var b=[];if(!(u&&u.length))return b;var O=-1,q=[],oe=u.length;for(f=yn(f,3);++O<oe;){var be=u[O];f(be,O,u)&&(b.push(be),q.push(O))}return lk(u,q),b}function SC(u){return u==null?u:L_.call(u)}function uz(u,f,b){var O=u==null?0:u.length;return O?(b&&typeof b!="number"&&vo(u,f,b)?(f=0,b=O):(f=f==null?0:Gn(f),b=b===n?O:Gn(b)),Gs(u,f,b)):[]}function dz(u,f){return eb(u,f)}function hz(u,f,b){return aC(u,f,yn(b,2))}function fz(u,f){var b=u==null?0:u.length;if(b){var O=eb(u,f);if(O<b&&Sl(u[O],f))return O}return-1}function pz(u,f){return eb(u,f,!0)}function gz(u,f,b){return aC(u,f,yn(b,2),!0)}function mz(u,f){var b=u==null?0:u.length;if(b){var O=eb(u,f,!0)-1;if(Sl(u[O],f))return O}return-1}function yz(u){return u&&u.length?uk(u):[]}function vz(u,f){return u&&u.length?uk(u,yn(f,2)):[]}function bz(u){var f=u==null?0:u.length;return f?Gs(u,1,f):[]}function Ez(u,f,b){return u&&u.length?(f=b||f===n?1:Gn(f),Gs(u,0,f<0?0:f)):[]}function xz(u,f,b){var O=u==null?0:u.length;return O?(f=b||f===n?1:Gn(f),f=O-f,Gs(u,f<0?0:f,O)):[]}function Sz(u,f){return u&&u.length?tb(u,yn(f,3),!1,!0):[]}function _z(u,f){return u&&u.length?tb(u,yn(f,3)):[]}var Cz=ei(function(u){return pd(Ui(u,1,$r,!0))}),wz=ei(function(u){var f=Ws(u);return $r(f)&&(f=n),pd(Ui(u,1,$r,!0),yn(f,2))}),Tz=ei(function(u){var f=Ws(u);return f=typeof f=="function"?f:n,pd(Ui(u,1,$r,!0),n,f)});function Az(u){return u&&u.length?pd(u):[]}function kz(u,f){return u&&u.length?pd(u,yn(f,2)):[]}function Iz(u,f){return f=typeof f=="function"?f:n,u&&u.length?pd(u,n,f):[]}function _C(u){if(!(u&&u.length))return[];var f=0;return u=ot(u,function(b){if($r(b))return f=Lr(b.length,f),!0}),Yc(f,function(b){return $t(u,yl(b))})}function Xk(u,f){if(!(u&&u.length))return[];var b=_C(u);return f==null?b:$t(b,function(O){return Y(f,n,O)})}var Oz=ei(function(u,f){return $r(u)?pi(u,f):[]}),Pz=ei(function(u){return sC(ot(u,$r))}),Mz=ei(function(u){var f=Ws(u);return $r(f)&&(f=n),sC(ot(u,$r),yn(f,2))}),Nz=ei(function(u){var f=Ws(u);return f=typeof f=="function"?f:n,sC(ot(u,$r),n,f)}),Rz=ei(_C);function Dz(u,f){return pk(u||[],f||[],Bt)}function Bz(u,f){return pk(u||[],f||[],nm)}var Lz=ei(function(u){var f=u.length,b=f>1?u[f-1]:n;return b=typeof b=="function"?(u.pop(),b):n,Xk(u,b)});function Jk(u){var f=ee(u);return f.__chain__=!0,f}function Fz(u,f){return f(u),u}function ub(u,f){return f(u)}var zz=ou(function(u){var f=u.length,b=f?u[0]:0,O=this.__wrapped__,q=function(oe){return Pi(oe,u)};return f>1||this.__actions__.length||!(O instanceof Zn)||!su(b)?this.thru(q):(O=O.slice(b,+b+(f?1:0)),O.__actions__.push({func:ub,args:[q],thisArg:n}),new Ua(O,this.__chain__).thru(function(oe){return f&&!oe.length&&oe.push(n),oe}))});function $z(){return Jk(this)}function qz(){return new Ua(this.value(),this.__chain__)}function Uz(){this.__values__===n&&(this.__values__=d3(this.value()));var u=this.__index__>=this.__values__.length,f=u?n:this.__values__[this.__index__++];return{done:u,value:f}}function Hz(){return this}function Vz(u){for(var f,b=this;b instanceof Nh;){var O=Vk(b);O.__index__=0,O.__values__=n,f?q.__wrapped__=O:f=O;var q=O;b=b.__wrapped__}return q.__wrapped__=u,f}function Gz(){var u=this.__wrapped__;if(u instanceof Zn){var f=u;return this.__actions__.length&&(f=new Zn(this)),f=f.reverse(),f.__actions__.push({func:ub,args:[SC],thisArg:n}),new Ua(f,this.__chain__)}return this.thru(SC)}function Wz(){return fk(this.__wrapped__,this.__actions__)}var jz=nb(function(u,f,b){In.call(u,b)?++u[b]:cn(u,b,1)});function Kz(u,f,b){var O=zn(u)?nt:br;return b&&vo(u,f,b)&&(f=n),O(u,yn(f,3))}function Yz(u,f){var b=zn(u)?ot:ba;return b(u,yn(f,3))}var Xz=Ck(Gk),Jz=Ck(Wk);function Qz(u,f){return Ui(db(u,f),1)}function Zz(u,f){return Ui(db(u,f),$)}function e$(u,f,b){return b=b===n?1:Gn(b),Ui(db(u,f),b)}function Qk(u,f){var b=zn(u)?me:ai;return b(u,yn(f,3))}function Zk(u,f){var b=zn(u)?Re:Mi;return b(u,yn(f,3))}var t$=nb(function(u,f,b){In.call(u,b)?u[b].push(f):cn(u,b,[f])});function n$(u,f,b,O){u=Jo(u)?u:Ip(u),b=b&&!O?Gn(b):0;var q=u.length;return b<0&&(b=Lr(q+b,0)),mb(u)?b<=q&&u.indexOf(f,b)>-1:!!q&&ui(u,f,b)>-1}var i$=ei(function(u,f,b){var O=-1,q=typeof f=="function",oe=Jo(u)?Ce(u.length):[];return ai(u,function(be){oe[++O]=q?Y(f,be,b):Dh(be,f,b)}),oe}),r$=nb(function(u,f,b){cn(u,b,f)});function db(u,f){var b=zn(u)?$t:Q0;return b(u,yn(f,3))}function a$(u,f,b,O){return u==null?[]:(zn(f)||(f=f==null?[]:[f]),b=O?n:b,zn(b)||(b=b==null?[]:[b]),tm(u,f,b))}var o$=nb(function(u,f,b){u[b?0:1].push(f)},function(){return[[],[]]});function s$(u,f,b){var O=zn(u)?kn:ms,q=arguments.length<3;return O(u,yn(f,4),b,q,ai)}function l$(u,f,b){var O=zn(u)?Dr:ms,q=arguments.length<3;return O(u,yn(f,4),b,q,Mi)}function c$(u,f){var b=zn(u)?ot:ba;return b(u,pb(yn(f,3)))}function u$(u){var f=zn(u)?gt:nF;return f(u)}function d$(u,f,b){(b?vo(u,f,b):f===n)?f=1:f=Gn(f);var O=zn(u)?It:iF;return O(u,f)}function h$(u){var f=zn(u)?Xt:aF;return f(u)}function f$(u){if(u==null)return 0;if(Jo(u))return mb(u)?Vs(u):u.length;var f=Ga(u);return f==fe||f==tt?u.size:xp(u).length}function p$(u,f,b){var O=zn(u)?ur:oF;return b&&vo(u,f,b)&&(f=n),O(u,yn(f,3))}var g$=ei(function(u,f){if(u==null)return[];var b=f.length;return b>1&&vo(u,f[0],f[1])?f=[]:b>2&&vo(f[0],f[1],f[2])&&(f=[f[0]]),tm(u,Ui(f,1),[])}),hb=H1||function(){return qi.Date.now()};function m$(u,f){if(typeof f!="function")throw new Un(o);return u=Gn(u),function(){if(--u<1)return f.apply(this,arguments)}}function e3(u,f,b){return f=b?n:f,f=u&&f==null?u.length:f,au(u,g,n,n,n,n,f)}function t3(u,f){var b;if(typeof f!="function")throw new Un(o);return u=Gn(u),function(){return--u>0&&(b=f.apply(this,arguments)),u<=1&&(f=n),b}}var CC=ei(function(u,f,b){var O=I;if(b.length){var q=qa(b,Ap(CC));O|=Q}return au(u,O,f,b,q)}),n3=ei(function(u,f,b){var O=I|M;if(b.length){var q=qa(b,Ap(n3));O|=Q}return au(f,O,u,b,q)});function i3(u,f,b){f=b?n:f;var O=au(u,U,n,n,n,n,n,f);return O.placeholder=i3.placeholder,O}function r3(u,f,b){f=b?n:f;var O=au(u,K,n,n,n,n,n,f);return O.placeholder=r3.placeholder,O}function a3(u,f,b){var O,q,oe,be,Oe,qe,ht=0,pt=!1,vt=!1,qt=!0;if(typeof u!="function")throw new Un(o);f=js(f)||0,Er(b)&&(pt=!!b.leading,vt="maxWait"in b,oe=vt?Lr(js(b.maxWait)||0,f):oe,qt="trailing"in b?!!b.trailing:qt);function en(qr){var _l=O,uu=q;return O=q=n,ht=qr,be=u.apply(uu,_l),be}function bn(qr){return ht=qr,Oe=am(oi,f),pt?en(qr):be}function Yn(qr){var _l=qr-qe,uu=qr-ht,C3=f-_l;return vt?Fr(C3,oe-uu):C3}function En(qr){var _l=qr-qe,uu=qr-ht;return qe===n||_l>=f||_l<0||vt&&uu>=oe}function oi(){var qr=hb();if(En(qr))return gi(qr);Oe=am(oi,Yn(qr))}function gi(qr){return Oe=n,qt&&O?en(qr):(O=q=n,be)}function Ss(){Oe!==n&&gk(Oe),ht=0,O=qe=q=Oe=n}function bo(){return Oe===n?be:gi(hb())}function _s(){var qr=hb(),_l=En(qr);if(O=arguments,q=this,qe=qr,_l){if(Oe===n)return bn(qe);if(vt)return gk(Oe),Oe=am(oi,f),en(qe)}return Oe===n&&(Oe=am(oi,f)),be}return _s.cancel=Ss,_s.flush=bo,_s}var y$=ei(function(u,f){return ni(u,1,f)}),v$=ei(function(u,f,b){return ni(u,js(f)||0,b)});function b$(u){return au(u,A)}function fb(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new Un(o);var b=function(){var O=arguments,q=f?f.apply(this,O):O[0],oe=b.cache;if(oe.has(q))return oe.get(q);var be=u.apply(this,O);return b.cache=oe.set(q,be)||oe,be};return b.cache=new(fb.Cache||El),b}fb.Cache=El;function pb(u){if(typeof u!="function")throw new Un(o);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function E$(u){return t3(2,u)}var x$=sF(function(u,f){f=f.length==1&&zn(f[0])?$t(f[0],Ji(yn())):$t(Ui(f,1),Ji(yn()));var b=f.length;return ei(function(O){for(var q=-1,oe=Fr(O.length,b);++q<oe;)O[q]=f[q].call(this,O[q]);return Y(u,this,O)})}),wC=ei(function(u,f){var b=qa(f,Ap(wC));return au(u,Q,n,f,b)}),o3=ei(function(u,f){var b=qa(f,Ap(o3));return au(u,H,n,f,b)}),S$=ou(function(u,f){return au(u,T,n,n,n,f)});function _$(u,f){if(typeof u!="function")throw new Un(o);return f=f===n?f:Gn(f),ei(u,f)}function C$(u,f){if(typeof u!="function")throw new Un(o);return f=f==null?0:Lr(Gn(f),0),ei(function(b){var O=b[f],q=md(b,0,f);return O&&Dn(q,O),Y(u,this,q)})}function w$(u,f,b){var O=!0,q=!0;if(typeof u!="function")throw new Un(o);return Er(b)&&(O="leading"in b?!!b.leading:O,q="trailing"in b?!!b.trailing:q),a3(u,f,{leading:O,maxWait:f,trailing:q})}function T$(u){return e3(u,1)}function A$(u,f){return wC(cC(f),u)}function k$(){if(!arguments.length)return[];var u=arguments[0];return zn(u)?u:[u]}function I$(u){return mn(u,y)}function O$(u,f){return f=typeof f=="function"?f:n,mn(u,y,f)}function P$(u){return mn(u,d|y)}function M$(u,f){return f=typeof f=="function"?f:n,mn(u,d|y,f)}function N$(u,f){return f==null||Fn(u,f,Ea(f))}function Sl(u,f){return u===f||u!==u&&f!==f}var R$=ob(Va),D$=ob(function(u,f){return u>=f}),Fh=J1(function(){return arguments}())?J1:function(u){return Ir(u)&&In.call(u,"callee")&&!q1.call(u,"callee")},zn=Ce.isArray,B$=m?Ji(m):Y0;function Jo(u){return u!=null&&gb(u.length)&&!lu(u)}function $r(u){return Ir(u)&&Jo(u)}function L$(u){return u===!0||u===!1||Ir(u)&&Bi(u)==Ae}var yd=R_||BC,F$=E?Ji(E):Q_;function z$(u){return Ir(u)&&u.nodeType===1&&!om(u)}function $$(u){if(u==null)return!0;if(Jo(u)&&(zn(u)||typeof u=="string"||typeof u.splice=="function"||yd(u)||kp(u)||Fh(u)))return!u.length;var f=Ga(u);if(f==fe||f==tt)return!u.size;if(rm(u))return!xp(u).length;for(var b in u)if(In.call(u,b))return!1;return!0}function q$(u,f){return fd(u,f)}function U$(u,f,b){b=typeof b=="function"?b:n;var O=b?b(u,f):n;return O===n?fd(u,f,n,b):!!O}function TC(u){if(!Ir(u))return!1;var f=Bi(u);return f==dt||f==Xe||typeof u.message=="string"&&typeof u.name=="string"&&!om(u)}function H$(u){return typeof u=="number"&&G1(u)}function lu(u){if(!Er(u))return!1;var f=Bi(u);return f==te||f==ce||f==Te||f==ve}function s3(u){return typeof u=="number"&&u==Gn(u)}function gb(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=W}function Er(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function Ir(u){return u!=null&&typeof u=="object"}var l3=C?Ji(C):Q1;function V$(u,f){return u===f||bp(u,f,mC(f))}function G$(u,f,b){return b=typeof b=="function"?b:n,bp(u,f,mC(f),b)}function W$(u){return c3(u)&&u!=+u}function j$(u){if(OF(u))throw new ut(a);return Z1(u)}function K$(u){return u===null}function Y$(u){return u==null}function c3(u){return typeof u=="number"||Ir(u)&&Bi(u)==Be}function om(u){if(!Ir(u)||Bi(u)!=re)return!1;var f=cp(u);if(f===null)return!0;var b=In.call(f,"constructor")&&f.constructor;return typeof b=="function"&&b instanceof b&&vs.call(b)==P_}var AC=P?Ji(P):eC;function X$(u){return s3(u)&&u>=-9007199254740991&&u<=W}var u3=L?Ji(L):ru;function mb(u){return typeof u=="string"||!zn(u)&&Ir(u)&&Bi(u)==yt}function xs(u){return typeof u=="symbol"||Ir(u)&&Bi(u)==xt}var kp=z?Ji(z):Ep;function J$(u){return u===n}function Q$(u){return Ir(u)&&Ga(u)==at}function Z$(u){return Ir(u)&&Bi(u)==At}var eq=ob(Sp),tq=ob(function(u,f){return u<=f});function d3(u){if(!u)return[];if(Jo(u))return mb(u)?Ia(u):Xo(u);if(Ih&&u[Ih])return Hs(u[Ih]());var f=Ga(u),b=f==fe?Jc:f==tt?jo:Ip;return b(u)}function cu(u){if(!u)return u===0?u:0;if(u=js(u),u===$||u===-1/0){var f=u<0?-1:1;return f*J}return u===u?u:0}function Gn(u){var f=cu(u),b=f%1;return f===f?b?f-b:f:0}function h3(u){return u?Ei(Gn(u),0,le):0}function js(u){if(typeof u=="number")return u;if(xs(u))return G;if(Er(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=Er(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=Wo(u);var b=Kr.test(u);return b||Me.test(u)?Sh(u.slice(2),b?2:8):cr.test(u)?G:+u}function f3(u){return Ql(u,Qo(u))}function nq(u){return u?Ei(Gn(u),-9007199254740991,W):u===0?u:0}function Vi(u){return u==null?"":Es(u)}var iq=wp(function(u,f){if(rm(f)||Jo(f)){Ql(f,Ea(f),u);return}for(var b in f)In.call(f,b)&&Bt(u,b,f[b])}),p3=wp(function(u,f){Ql(f,Qo(f),u)}),yb=wp(function(u,f,b,O){Ql(f,Qo(f),u,O)}),rq=wp(function(u,f,b,O){Ql(f,Ea(f),u,O)}),aq=ou(Pi);function oq(u,f){var b=hd(u);return f==null?b:On(b,f)}var sq=ei(function(u,f){u=Pt(u);var b=-1,O=f.length,q=O>2?f[2]:n;for(q&&vo(f[0],f[1],q)&&(O=1);++b<O;)for(var oe=f[b],be=Qo(oe),Oe=-1,qe=be.length;++Oe<qe;){var ht=be[Oe],pt=u[ht];(pt===n||Sl(pt,kr[ht])&&!In.call(u,ht))&&(u[ht]=oe[ht])}return u}),lq=ei(function(u){return u.push(n,Pk),Y(g3,n,u)});function cq(u,f){return gs(u,yn(f,3),zr)}function uq(u,f){return gs(u,yn(f,3),Yo)}function dq(u,f){return u==null?u:Ha(u,yn(f,3),Qo)}function hq(u,f){return u==null?u:dr(u,yn(f,3),Qo)}function fq(u,f){return u&&zr(u,yn(f,3))}function pq(u,f){return u&&Yo(u,yn(f,3))}function gq(u){return u==null?[]:xl(u,Ea(u))}function mq(u){return u==null?[]:xl(u,Qo(u))}function kC(u,f,b){var O=u==null?n:ar(u,f);return O===n?b:O}function yq(u,f){return u!=null&&Rk(u,f,Jl)}function IC(u,f){return u!=null&&Rk(u,f,mp)}var vq=Tk(function(u,f,b){f!=null&&typeof f.toString!="function"&&(f=sp.call(f)),u[f]=b},PC(Zo)),bq=Tk(function(u,f,b){f!=null&&typeof f.toString!="function"&&(f=sp.call(f)),In.call(u,f)?u[f].push(b):u[f]=[b]},yn),Eq=ei(Dh);function Ea(u){return Jo(u)?rt(u):xp(u)}function Qo(u){return Jo(u)?rt(u,!0):J0(u)}function xq(u,f){var b={};return f=yn(f,3),zr(u,function(O,q,oe){cn(b,f(O,q,oe),O)}),b}function Sq(u,f){var b={};return f=yn(f,3),zr(u,function(O,q,oe){cn(b,q,f(O,q,oe))}),b}var _q=wp(function(u,f,b){_p(u,f,b)}),g3=wp(function(u,f,b,O){_p(u,f,b,O)}),Cq=ou(function(u,f){var b={};if(u==null)return b;var O=!1;f=$t(f,function(oe){return oe=gd(oe,u),O||(O=oe.length>1),oe}),Ql(u,pC(u),b),O&&(b=mn(b,d|p|y,vF));for(var q=f.length;q--;)oC(b,f[q]);return b});function wq(u,f){return m3(u,pb(yn(f)))}var Tq=ou(function(u,f){return u==null?{}:ZL(u,f)});function m3(u,f){if(u==null)return{};var b=$t(pC(u),function(O){return[O]});return f=yn(f),sk(u,b,function(O,q){return f(O,q[0])})}function Aq(u,f,b){f=gd(f,u);var O=-1,q=f.length;for(q||(q=1,u=n);++O<q;){var oe=u==null?n:u[Zl(f[O])];oe===n&&(O=q,oe=b),u=lu(oe)?oe.call(u):oe}return u}function kq(u,f,b){return u==null?u:nm(u,f,b)}function Iq(u,f,b,O){return O=typeof O=="function"?O:n,u==null?u:nm(u,f,b,O)}var y3=Ik(Ea),v3=Ik(Qo);function Oq(u,f,b){var O=zn(u),q=O||yd(u)||kp(u);if(f=yn(f,4),b==null){var oe=u&&u.constructor;q?b=O?new oe:[]:Er(u)?b=lu(oe)?hd(cp(u)):{}:b={}}return(q?me:zr)(u,function(be,Oe,qe){return f(b,be,Oe,qe)}),b}function Pq(u,f){return u==null?!0:oC(u,f)}function Mq(u,f,b){return u==null?u:hk(u,f,cC(b))}function Nq(u,f,b,O){return O=typeof O=="function"?O:n,u==null?u:hk(u,f,cC(b),O)}function Ip(u){return u==null?[]:ad(u,Ea(u))}function Rq(u){return u==null?[]:ad(u,Qo(u))}function Dq(u,f,b){return b===n&&(b=f,f=n),b!==n&&(b=js(b),b=b===b?b:0),f!==n&&(f=js(f),f=f===f?f:0),Ei(js(u),f,b)}function Bq(u,f,b){return f=cu(f),b===n?(b=f,f=0):b=cu(b),u=js(u),X1(u,f,b)}function Lq(u,f,b){if(b&&typeof b!="boolean"&&vo(u,f,b)&&(f=b=n),b===n&&(typeof f=="boolean"?(b=f,f=n):typeof u=="boolean"&&(b=u,u=n)),u===n&&f===n?(u=0,f=1):(u=cu(u),f===n?(f=u,u=0):f=cu(f)),u>f){var O=u;u=f,f=O}if(b||u%1||f%1){var q=G0();return Fr(u+q*(f-u+ml("1e-"+((q+"").length-1))),f)}return iC(u,f)}var Fq=Tp(function(u,f,b){return f=f.toLowerCase(),u+(b?b3(f):f)});function b3(u){return OC(Vi(u).toLowerCase())}function E3(u){return u=Vi(u),u&&u.replace(Vt,vl).replace(z0,"")}function zq(u,f,b){u=Vi(u),f=Es(f);var O=u.length;b=b===n?O:Ei(Gn(b),0,O);var q=b;return b-=f.length,b>=0&&u.slice(b,q)==f}function $q(u){return u=Vi(u),u&&et.test(u)?u.replace(Qn,od):u}function qq(u){return u=Vi(u),u&&Ls.test(u)?u.replace(Wr,"\\$&"):u}var Uq=Tp(function(u,f,b){return u+(b?"-":"")+f.toLowerCase()}),Hq=Tp(function(u,f,b){return u+(b?" ":"")+f.toLowerCase()}),Vq=_k("toLowerCase");function Gq(u,f,b){u=Vi(u),f=Gn(f);var O=f?Vs(u):0;if(!f||O>=f)return u;var q=(f-O)/2;return ab(ud(q),b)+u+ab(jl(q),b)}function Wq(u,f,b){u=Vi(u),f=Gn(f);var O=f?Vs(u):0;return f&&O<f?u+ab(f-O,b):u}function jq(u,f,b){u=Vi(u),f=Gn(f);var O=f?Vs(u):0;return f&&O<f?ab(f-O,b)+u:u}function Kq(u,f,b){return b||f==null?f=0:f&&(f=+f),B_(Vi(u).replace(jr,""),f||0)}function Yq(u,f,b){return(b?vo(u,f,b):f===n)?f=1:f=Gn(f),rC(Vi(u),f)}function Xq(){var u=arguments,f=Vi(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var Jq=Tp(function(u,f,b){return u+(b?"_":"")+f.toLowerCase()});function Qq(u,f,b){return b&&typeof b!="number"&&vo(u,f,b)&&(f=b=n),b=b===n?le:b>>>0,b?(u=Vi(u),u&&(typeof f=="string"||f!=null&&!AC(f))&&(f=Es(f),!f&&ka(u))?md(Ia(u),0,b):u.split(f,b)):[]}var Zq=Tp(function(u,f,b){return u+(b?" ":"")+OC(f)});function eU(u,f,b){return u=Vi(u),b=b==null?0:Ei(Gn(b),0,u.length),f=Es(f),u.slice(b,b+f.length)==f}function tU(u,f,b){var O=ee.templateSettings;b&&vo(u,f,b)&&(f=n),u=Vi(u),f=yb({},f,O,Ok);var q=yb({},f.imports,O.imports,Ok),oe=Ea(q),be=ad(q,oe),Oe,qe,ht=0,pt=f.interpolate||jn,vt="__p += '",qt=Bn((f.escape||jn).source+"|"+pt.source+"|"+(pt===Oi?zo:jn).source+"|"+(f.evaluate||jn).source+"|$","g"),en="//# sourceURL="+(In.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zu+"]")+`
`;u.replace(qt,function(En,oi,gi,Ss,bo,_s){return gi||(gi=Ss),vt+=u.slice(ht,_s).replace(Xi,q0),oi&&(Oe=!0,vt+=`' +
__e(`+oi+`) +
'`),bo&&(qe=!0,vt+=`';
`+bo+`;
__p += '`),gi&&(vt+=`' +
((__t = (`+gi+`)) == null ? '' : __t) +
'`),ht=_s+En.length,En}),vt+=`';
`;var bn=In.call(f,"variable")&&f.variable;if(!bn)vt=`with (obj) {
`+vt+`
}
`;else if(ho.test(bn))throw new ut(s);vt=(qe?vt.replace(Fa,""):vt).replace(la,"$1").replace(yr,"$1;"),vt="function("+(bn||"obj")+`) {
`+(bn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Oe?", __e = _.escape":"")+(qe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+vt+`return __p
}`;var Yn=S3(function(){return jt(oe,en+"return "+vt).apply(n,be)});if(Yn.source=vt,TC(Yn))throw Yn;return Yn}function nU(u){return Vi(u).toLowerCase()}function iU(u){return Vi(u).toUpperCase()}function rU(u,f,b){if(u=Vi(u),u&&(b||f===n))return Wo(u);if(!u||!(f=Es(f)))return u;var O=Ia(u),q=Ia(f),oe=fi(O,q),be=Xc(O,q)+1;return md(O,oe,be).join("")}function aU(u,f,b){if(u=Vi(u),u&&(b||f===n))return u.slice(0,Ah(u)+1);if(!u||!(f=Es(f)))return u;var O=Ia(u),q=Xc(O,Ia(f))+1;return md(O,0,q).join("")}function oU(u,f,b){if(u=Vi(u),u&&(b||f===n))return u.replace(jr,"");if(!u||!(f=Es(f)))return u;var O=Ia(u),q=fi(O,Ia(f));return md(O,q).join("")}function sU(u,f){var b=D,O=Z;if(Er(f)){var q="separator"in f?f.separator:q;b="length"in f?Gn(f.length):b,O="omission"in f?Es(f.omission):O}u=Vi(u);var oe=u.length;if(ka(u)){var be=Ia(u);oe=be.length}if(b>=oe)return u;var Oe=b-Vs(O);if(Oe<1)return O;var qe=be?md(be,0,Oe).join(""):u.slice(0,Oe);if(q===n)return qe+O;if(be&&(Oe+=qe.length-Oe),AC(q)){if(u.slice(Oe).search(q)){var ht,pt=qe;for(q.global||(q=Bn(q.source,Vi(vr.exec(q))+"g")),q.lastIndex=0;ht=q.exec(pt);)var vt=ht.index;qe=qe.slice(0,vt===n?Oe:vt)}}else if(u.indexOf(Es(q),Oe)!=Oe){var qt=qe.lastIndexOf(q);qt>-1&&(qe=qe.slice(0,qt))}return qe+O}function lU(u){return u=Vi(u),u&&ca.test(u)?u.replace(ta,ld):u}var cU=Tp(function(u,f,b){return u+(b?" ":"")+f.toUpperCase()}),OC=_k("toUpperCase");function x3(u,f,b){return u=Vi(u),f=b?n:f,f===n?wh(u)?Pe(u):Vn(u):u.match(f)||[]}var S3=ei(function(u,f){try{return Y(u,n,f)}catch(b){return TC(b)?b:new ut(b)}}),uU=ou(function(u,f){return me(f,function(b){b=Zl(b),cn(u,b,CC(u[b],u))}),u});function dU(u){var f=u==null?0:u.length,b=yn();return u=f?$t(u,function(O){if(typeof O[1]!="function")throw new Un(o);return[b(O[0]),O[1]]}):[],ei(function(O){for(var q=-1;++q<f;){var oe=u[q];if(Y(oe[0],this,O))return Y(oe[1],this,O)}})}function hU(u){return ki(mn(u,d))}function PC(u){return function(){return u}}function fU(u,f){return u==null||u!==u?f:u}var pU=wk(),gU=wk(!0);function Zo(u){return u}function MC(u){return X0(typeof u=="function"?u:mn(u,d))}function mU(u){return Z0(mn(u,d))}function yU(u,f){return em(u,mn(f,d))}var vU=ei(function(u,f){return function(b){return Dh(b,u,f)}}),bU=ei(function(u,f){return function(b){return Dh(u,b,f)}});function NC(u,f,b){var O=Ea(f),q=xl(f,O);b==null&&!(Er(f)&&(q.length||!O.length))&&(b=f,f=u,u=this,q=xl(f,Ea(f)));var oe=!(Er(b)&&"chain"in b)||!!b.chain,be=lu(u);return me(q,function(Oe){var qe=f[Oe];u[Oe]=qe,be&&(u.prototype[Oe]=function(){var ht=this.__chain__;if(oe||ht){var pt=u(this.__wrapped__),vt=pt.__actions__=Xo(this.__actions__);return vt.push({func:qe,args:arguments,thisArg:u}),pt.__chain__=ht,pt}return qe.apply(u,Dn([this.value()],arguments))})}),u}function EU(){return qi._===this&&(qi._=M_),this}function RC(){}function xU(u){return u=Gn(u),ei(function(f){return Cp(f,u)})}var SU=dC($t),_U=dC(nt),CU=dC(ur);function _3(u){return vC(u)?yl(Zl(u)):eF(u)}function wU(u){return function(f){return u==null?n:ar(u,f)}}var TU=Ak(),AU=Ak(!0);function DC(){return[]}function BC(){return!1}function kU(){return{}}function IU(){return""}function OU(){return!0}function PU(u,f){if(u=Gn(u),u<1||u>W)return[];var b=le,O=Fr(u,le);f=yn(f),u-=le;for(var q=Yc(O,f);++b<u;)f(b);return q}function MU(u){return zn(u)?$t(u,Zl):xs(u)?[u]:Xo(Hk(Vi(u)))}function NU(u){var f=++F1;return Vi(u)+f}var RU=rb(function(u,f){return u+f},0),DU=hC("ceil"),BU=rb(function(u,f){return u/f},1),LU=hC("floor");function FU(u){return u&&u.length?va(u,Zo,Va):n}function zU(u,f){return u&&u.length?va(u,yn(f,2),Va):n}function $U(u){return pa(u,Zo)}function qU(u,f){return pa(u,yn(f,2))}function UU(u){return u&&u.length?va(u,Zo,Sp):n}function HU(u,f){return u&&u.length?va(u,yn(f,2),Sp):n}var VU=rb(function(u,f){return u*f},1),GU=hC("round"),WU=rb(function(u,f){return u-f},0);function jU(u){return u&&u.length?ga(u,Zo):0}function KU(u,f){return u&&u.length?ga(u,yn(f,2)):0}return ee.after=m$,ee.ary=e3,ee.assign=iq,ee.assignIn=p3,ee.assignInWith=yb,ee.assignWith=rq,ee.at=aq,ee.before=t3,ee.bind=CC,ee.bindAll=uU,ee.bindKey=n3,ee.castArray=k$,ee.chain=Jk,ee.chunk=LF,ee.compact=FF,ee.concat=zF,ee.cond=dU,ee.conforms=hU,ee.constant=PC,ee.countBy=jz,ee.create=oq,ee.curry=i3,ee.curryRight=r3,ee.debounce=a3,ee.defaults=sq,ee.defaultsDeep=lq,ee.defer=y$,ee.delay=v$,ee.difference=$F,ee.differenceBy=qF,ee.differenceWith=UF,ee.drop=HF,ee.dropRight=VF,ee.dropRightWhile=GF,ee.dropWhile=WF,ee.fill=jF,ee.filter=Yz,ee.flatMap=Qz,ee.flatMapDeep=Zz,ee.flatMapDepth=e$,ee.flatten=jk,ee.flattenDeep=KF,ee.flattenDepth=YF,ee.flip=b$,ee.flow=pU,ee.flowRight=gU,ee.fromPairs=XF,ee.functions=gq,ee.functionsIn=mq,ee.groupBy=t$,ee.initial=QF,ee.intersection=ZF,ee.intersectionBy=ez,ee.intersectionWith=tz,ee.invert=vq,ee.invertBy=bq,ee.invokeMap=i$,ee.iteratee=MC,ee.keyBy=r$,ee.keys=Ea,ee.keysIn=Qo,ee.map=db,ee.mapKeys=xq,ee.mapValues=Sq,ee.matches=mU,ee.matchesProperty=yU,ee.memoize=fb,ee.merge=_q,ee.mergeWith=g3,ee.method=vU,ee.methodOf=bU,ee.mixin=NC,ee.negate=pb,ee.nthArg=xU,ee.omit=Cq,ee.omitBy=wq,ee.once=E$,ee.orderBy=a$,ee.over=SU,ee.overArgs=x$,ee.overEvery=_U,ee.overSome=CU,ee.partial=wC,ee.partialRight=o3,ee.partition=o$,ee.pick=Tq,ee.pickBy=m3,ee.property=_3,ee.propertyOf=wU,ee.pull=az,ee.pullAll=Yk,ee.pullAllBy=oz,ee.pullAllWith=sz,ee.pullAt=lz,ee.range=TU,ee.rangeRight=AU,ee.rearg=S$,ee.reject=c$,ee.remove=cz,ee.rest=_$,ee.reverse=SC,ee.sampleSize=d$,ee.set=kq,ee.setWith=Iq,ee.shuffle=h$,ee.slice=uz,ee.sortBy=g$,ee.sortedUniq=yz,ee.sortedUniqBy=vz,ee.split=Qq,ee.spread=C$,ee.tail=bz,ee.take=Ez,ee.takeRight=xz,ee.takeRightWhile=Sz,ee.takeWhile=_z,ee.tap=Fz,ee.throttle=w$,ee.thru=ub,ee.toArray=d3,ee.toPairs=y3,ee.toPairsIn=v3,ee.toPath=MU,ee.toPlainObject=f3,ee.transform=Oq,ee.unary=T$,ee.union=Cz,ee.unionBy=wz,ee.unionWith=Tz,ee.uniq=Az,ee.uniqBy=kz,ee.uniqWith=Iz,ee.unset=Pq,ee.unzip=_C,ee.unzipWith=Xk,ee.update=Mq,ee.updateWith=Nq,ee.values=Ip,ee.valuesIn=Rq,ee.without=Oz,ee.words=x3,ee.wrap=A$,ee.xor=Pz,ee.xorBy=Mz,ee.xorWith=Nz,ee.zip=Rz,ee.zipObject=Dz,ee.zipObjectDeep=Bz,ee.zipWith=Lz,ee.entries=y3,ee.entriesIn=v3,ee.extend=p3,ee.extendWith=yb,NC(ee,ee),ee.add=RU,ee.attempt=S3,ee.camelCase=Fq,ee.capitalize=b3,ee.ceil=DU,ee.clamp=Dq,ee.clone=I$,ee.cloneDeep=P$,ee.cloneDeepWith=M$,ee.cloneWith=O$,ee.conformsTo=N$,ee.deburr=E3,ee.defaultTo=fU,ee.divide=BU,ee.endsWith=zq,ee.eq=Sl,ee.escape=$q,ee.escapeRegExp=qq,ee.every=Kz,ee.find=Xz,ee.findIndex=Gk,ee.findKey=cq,ee.findLast=Jz,ee.findLastIndex=Wk,ee.findLastKey=uq,ee.floor=LU,ee.forEach=Qk,ee.forEachRight=Zk,ee.forIn=dq,ee.forInRight=hq,ee.forOwn=fq,ee.forOwnRight=pq,ee.get=kC,ee.gt=R$,ee.gte=D$,ee.has=yq,ee.hasIn=IC,ee.head=Kk,ee.identity=Zo,ee.includes=n$,ee.indexOf=JF,ee.inRange=Bq,ee.invoke=Eq,ee.isArguments=Fh,ee.isArray=zn,ee.isArrayBuffer=B$,ee.isArrayLike=Jo,ee.isArrayLikeObject=$r,ee.isBoolean=L$,ee.isBuffer=yd,ee.isDate=F$,ee.isElement=z$,ee.isEmpty=$$,ee.isEqual=q$,ee.isEqualWith=U$,ee.isError=TC,ee.isFinite=H$,ee.isFunction=lu,ee.isInteger=s3,ee.isLength=gb,ee.isMap=l3,ee.isMatch=V$,ee.isMatchWith=G$,ee.isNaN=W$,ee.isNative=j$,ee.isNil=Y$,ee.isNull=K$,ee.isNumber=c3,ee.isObject=Er,ee.isObjectLike=Ir,ee.isPlainObject=om,ee.isRegExp=AC,ee.isSafeInteger=X$,ee.isSet=u3,ee.isString=mb,ee.isSymbol=xs,ee.isTypedArray=kp,ee.isUndefined=J$,ee.isWeakMap=Q$,ee.isWeakSet=Z$,ee.join=nz,ee.kebabCase=Uq,ee.last=Ws,ee.lastIndexOf=iz,ee.lowerCase=Hq,ee.lowerFirst=Vq,ee.lt=eq,ee.lte=tq,ee.max=FU,ee.maxBy=zU,ee.mean=$U,ee.meanBy=qU,ee.min=UU,ee.minBy=HU,ee.stubArray=DC,ee.stubFalse=BC,ee.stubObject=kU,ee.stubString=IU,ee.stubTrue=OU,ee.multiply=VU,ee.nth=rz,ee.noConflict=EU,ee.noop=RC,ee.now=hb,ee.pad=Gq,ee.padEnd=Wq,ee.padStart=jq,ee.parseInt=Kq,ee.random=Lq,ee.reduce=s$,ee.reduceRight=l$,ee.repeat=Yq,ee.replace=Xq,ee.result=Aq,ee.round=GU,ee.runInContext=he,ee.sample=u$,ee.size=f$,ee.snakeCase=Jq,ee.some=p$,ee.sortedIndex=dz,ee.sortedIndexBy=hz,ee.sortedIndexOf=fz,ee.sortedLastIndex=pz,ee.sortedLastIndexBy=gz,ee.sortedLastIndexOf=mz,ee.startCase=Zq,ee.startsWith=eU,ee.subtract=WU,ee.sum=jU,ee.sumBy=KU,ee.template=tU,ee.times=PU,ee.toFinite=cu,ee.toInteger=Gn,ee.toLength=h3,ee.toLower=nU,ee.toNumber=js,ee.toSafeInteger=nq,ee.toString=Vi,ee.toUpper=iU,ee.trim=rU,ee.trimEnd=aU,ee.trimStart=oU,ee.truncate=sU,ee.unescape=lU,ee.uniqueId=NU,ee.upperCase=cU,ee.upperFirst=OC,ee.each=Qk,ee.eachRight=Zk,ee.first=Kk,NC(ee,function(){var u={};return zr(ee,function(f,b){In.call(ee.prototype,b)||(u[b]=f)}),u}(),{chain:!1}),ee.VERSION=i,me(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){ee[u].placeholder=ee}),me(["drop","take"],function(u,f){Zn.prototype[u]=function(b){b=b===n?1:Lr(Gn(b),0);var O=this.__filtered__&&!f?new Zn(this):this.clone();return O.__filtered__?O.__takeCount__=Fr(b,O.__takeCount__):O.__views__.push({size:Fr(b,le),type:u+(O.__dir__<0?"Right":"")}),O},Zn.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),me(["filter","map","takeWhile"],function(u,f){var b=f+1,O=b==ue||b==F;Zn.prototype[u]=function(q){var oe=this.clone();return oe.__iteratees__.push({iteratee:yn(q,3),type:b}),oe.__filtered__=oe.__filtered__||O,oe}}),me(["head","last"],function(u,f){var b="take"+(f?"Right":"");Zn.prototype[u]=function(){return this[b](1).value()[0]}}),me(["initial","tail"],function(u,f){var b="drop"+(f?"":"Right");Zn.prototype[u]=function(){return this.__filtered__?new Zn(this):this[b](1)}}),Zn.prototype.compact=function(){return this.filter(Zo)},Zn.prototype.find=function(u){return this.filter(u).head()},Zn.prototype.findLast=function(u){return this.reverse().find(u)},Zn.prototype.invokeMap=ei(function(u,f){return typeof u=="function"?new Zn(this):this.map(function(b){return Dh(b,u,f)})}),Zn.prototype.reject=function(u){return this.filter(pb(yn(u)))},Zn.prototype.slice=function(u,f){u=Gn(u);var b=this;return b.__filtered__&&(u>0||f<0)?new Zn(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),f!==n&&(f=Gn(f),b=f<0?b.dropRight(-f):b.take(f-u)),b)},Zn.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Zn.prototype.toArray=function(){return this.take(le)},zr(Zn.prototype,function(u,f){var b=/^(?:filter|find|map|reject)|While$/.test(f),O=/^(?:head|last)$/.test(f),q=ee[O?"take"+(f=="last"?"Right":""):f],oe=O||/^find/.test(f);q&&(ee.prototype[f]=function(){var be=this.__wrapped__,Oe=O?[1]:arguments,qe=be instanceof Zn,ht=Oe[0],pt=qe||zn(be),vt=function(oi){var gi=q.apply(ee,Dn([oi],Oe));return O&&qt?gi[0]:gi};pt&&b&&typeof ht=="function"&&ht.length!=1&&(qe=pt=!1);var qt=this.__chain__,en=!!this.__actions__.length,bn=oe&&!qt,Yn=qe&&!en;if(!oe&&pt){be=Yn?be:new Zn(this);var En=u.apply(be,Oe);return En.__actions__.push({func:ub,args:[vt],thisArg:n}),new Ua(En,qt)}return bn&&Yn?u.apply(this,Oe):(En=this.thru(vt),bn?O?En.value()[0]:En.value():En)})}),me(["pop","push","shift","sort","splice","unshift"],function(u){var f=Ar[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",O=/^(?:pop|shift)$/.test(u);ee.prototype[u]=function(){var q=arguments;if(O&&!this.__chain__){var oe=this.value();return f.apply(zn(oe)?oe:[],q)}return this[b](function(be){return f.apply(zn(be)?be:[],q)})}}),zr(Zn.prototype,function(u,f){var b=ee[f];if(b){var O=b.name+"";In.call(Ko,O)||(Ko[O]=[]),Ko[O].push({name:f,func:b})}}),Ko[ib(n,M).name]=[{name:"wrapper",func:n}],Zn.prototype.clone=tu,Zn.prototype.reverse=j1,Zn.prototype.value=W0,ee.prototype.at=zz,ee.prototype.chain=$z,ee.prototype.commit=qz,ee.prototype.next=Uz,ee.prototype.plant=Vz,ee.prototype.reverse=Gz,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=Wz,ee.prototype.first=ee.prototype.head,Ih&&(ee.prototype[Ih]=Hz),ee},Qe=Ke();Ho?((Ho.exports=Qe)._=Qe,nd._=Qe):qi._=Qe}).call(hie)}(Am,Am.exports)),Am.exports}var pie=fie();class gie{constructor(t){pr(this,"graph");this.graph=t}validateLinks(t,n,i,r,a,o){if(!t||!i)return this.handleSidebarLink(t,i,a,o);if(n&&r&&n===r||i&&t&&(i.model.isLink()||t.model.isLink())||t===i||this.checkIfConnectionAlreadyExists(t,i))return!1;if(!n||!r&&!n){if(i&&i.model.prop("entity/type")==ge.ENDPOINT||i.model.prop("entity/type")==ge.EXTERNAL_ENDPOINT)return this.connectableEntity(t)&&!i.model.isEmbeddedIn(t.model);if(i&&i.model.attributes.entity.type===ge.INFRASTRUCTURE)return this.deployableEntity(t)}return a==="source"?!1:this.connectableEntity(t)?i.model.attributes.entity.type===ge.ENDPOINT||i.model.attributes.entity.type===ge.EXTERNAL_ENDPOINT?!i.model.isEmbeddedIn(t.model)&&i.model.getParentCell():i.model.attributes.entity.type===ge.INFRASTRUCTURE:t.model.attributes.entity.type===ge.INFRASTRUCTURE?this.deployableEntity(i):!1}handleSidebarLink(t,n,i,r){return!t&&n&&i==="target"?r.model.prop("entity/type")===ge.DEPLOYMENT_MAPPING?n.model.attributes.entity.type===ge.INFRASTRUCTURE:(n.model.attributes.entity.type===ge.ENDPOINT||n.model.attributes.entity.type===ge.EXTERNAL_ENDPOINT)&&n.model.getParentCell():!n&&t&&i==="source"?r.model.prop("entity/type")===ge.LINK?this.connectableEntity(t):this.deployableEntity(t):!1}deployableEntity(t){return t.model.attributes.entity.type===ge.COMPONENT||t.model.attributes.entity.type===ge.SERVICE||t.model.attributes.entity.type===ge.BACKING_SERVICE||t.model.attributes.entity.type===ge.STORAGE_BACKING_SERVICE||t.model.attributes.entity.type===ge.PROXY_BACKING_SERVICE||t.model.attributes.entity.type===ge.BROKER_BACKING_SERVICE||t.model.attributes.entity.type===ge.INFRASTRUCTURE}connectableEntity(t){return t.model.attributes.entity.type===ge.COMPONENT||t.model.attributes.entity.type===ge.SERVICE||t.model.attributes.entity.type===ge.BACKING_SERVICE||t.model.attributes.entity.type===ge.STORAGE_BACKING_SERVICE||t.model.attributes.entity.type===ge.BROKER_BACKING_SERVICE||t.model.attributes.entity.type===ge.PROXY_BACKING_SERVICE}checkIfConnectionAlreadyExists(t,n){let i=!1;return this.graph.getConnectedLinks(n.model).forEach(r=>{if(r.prop("target/id")===n.model.id&&r.prop("source/id")===t.model.id){i=!0;return}else if(r.prop("source/id")===n.model.id&&r.prop("target/id")===t.model.id){i=!0;return}}),i}validateEmbedding(t,n){switch(n.model.attributes.entity.type){case ge.COMPONENT:case ge.SERVICE:case ge.BACKING_SERVICE:case ge.STORAGE_BACKING_SERVICE:case ge.PROXY_BACKING_SERVICE:case ge.BROKER_BACKING_SERVICE:return this.checkIfConnectionAlreadyExists(t,n)?!1:t.model.attributes.entity.type===ge.ENDPOINT||t.model.attributes.entity.type===ge.EXTERNAL_ENDPOINT||t.model.attributes.entity.type===ge.DATA_AGGREGATE||t.model.attributes.entity.type===ge.BACKING_DATA;case ge.INFRASTRUCTURE:return t.model.attributes.entity.type===ge.BACKING_DATA;default:return!1}}validateUnembedding(t){return t.model.attributes.entity.type!==ge.ENDPOINT||t.model.attributes.entity.type!==ge.EXTERNAL_ENDPOINT||t.model.attributes.entity.type!==ge.DATA_AGGREGATE||t.model.attributes.entity.type!==ge.BACKING_DATA}checkCreatedLink(t,n){return t.targetBBox.x===0&&t.targetBBox.y===0||t.sourceBBox.x===0&&t.sourceBBox.y===0}defaultLink(t,n){return t.model.attributes.entity.type===ge.INFRASTRUCTURE?new C1:new _1}}let mie=pN.extend({name:"remove",children:[{tagName:"title",selector:"iconTooltip",textContent:"Remove entire entity"},{tagName:"circle",selector:"button",attributes:{r:7,fill:"#33334F",cursor:"pointer",class:"entityTool"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,pointerEvents:"none"}}]});class O9 extends cN{constructor(n=!1){super({name:"ConnectionTools"});pr(this,"use strict");pr(this,"tools",[]);this.options.tools=[this.createRemoveTool(),this.createArrowHeadTool(),this.createSourceAnchorTool(),this.createTargetAnchorTool(),this.createVerticesTools(),this.createSegmentsTool()],n&&this.options.tools.push(this.createSourceArrowHeadTool()),this.tools=this.options.tools}createRemoveTool(){return new mie({focusOpacity:.5,distance:20,offset:-15})}createSourceArrowHeadTool(){return new iZ({focusOpacity:.5})}createArrowHeadTool(){return new nZ({focusOpacity:.5})}createSourceAnchorTool(){let n=new rZ({focusOpacity:.5});return n.options.customAnchorAttributes.r=4,n.options.defaultAnchorAttributes.r=5,n}createTargetAnchorTool(){return new aZ({focusOpacity:.5})}createSegmentsTool(){return new tZ({focusOpacity:.5})}createVerticesTools(){return new ZQ({focusOpacity:.5,vertexAdding:!0,vertexRemoving:!0})}}let yie=zS.extend({name:"clone-button",options:{markup:[{tagName:"title",selector:"iconTooltip",textContent:"Copy entity"},{tagName:"image",selector:"icon",attributes:{href:"static/icons/copy-solid.svg",fill:"black",transform:"translate(-6, -6) scale(0.1)",cursor:"pointer",class:"entityTool"}}],x:"100%",y:"100%",offset:{x:0,y:0},rotate:!0,action:function(e,t){let n=t.model.clone();n.position(t.model.position().x+20,t.model.position().y+20),t.model.graph.addCell(n),XA(n,t.paper)}}}),vie=sZ.extend({name:"link",children:[{tagName:"title",selector:"iconTooltip",textContent:"Create a Link or Deployment Mapping to another entity"},{tagName:"image",selector:"icon",attributes:{href:"static/icons/arrows-split-up-and-left-solid.svg",fill:"white",transform:"scale(0.1) rotate(90)",cursor:"pointer",class:"entityTool"}}]}),bie=pN.extend({name:"remove",children:[{tagName:"title",selector:"iconTooltip",textContent:"Remove entire entity"},{tagName:"circle",selector:"button",attributes:{r:7,fill:"black",cursor:"pointer",class:"entityTool"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,pointerEvents:"none"}}]}),Eie=zS.extend({name:"collapse-button",options:{markup:[{tagName:"title",selector:"iconTooltip",textContent:"Collapse to hide embedded entities"},{tagName:"image",selector:"icon",attributes:{href:"static/icons/circle-minus-solid.svg",transform:"translate(-6, -6) scale(0.1)",cursor:"pointer",class:"entityTool"}}],x:"100%",y:"100%",offset:{x:0,y:0},rotate:!0,action:function(e,t){let n=t.model;n.attr("icon/visibility",!0,{isolate:!0}),n.prop("collapsed",!0),n.getEmbeddedCells({deep:!0}).forEach(r=>{r.attr("root/visibility","hidden",{isolate:!0}),r.prop("parentCollapsed",!0)})}}});class xie extends cN{constructor(n=!1,i=!1){super({name:"EntityTools"});pr(this,"use strict");pr(this,"tools",[]);this.options.tools=[this.createBoundaryTool(),this.createRemoveTool(),this.createCopyTool()],n&&this.options.tools.push(this.createConnectTool()),i&&this.options.tools.push(this.createCollapseTool()),this.tools=this.options.tools}createBoundaryTool(){return new oZ({padding:2,attributes:{fill:"none",stroke:"#FEB663","stroke-width":"3"}})}createRemoveTool(){return new bie({focusOpacity:.5,x:"0%",y:"0%",offset:{x:-11,y:-7}})}createConnectTool(){return new vie({focusOpacity:.5,x:"100%",y:"50%",offset:{x:22,y:-7},magnet:"body"})}createCopyTool(){return new yie({focusOpacity:.5,x:"100%",y:"100%",offset:{x:12,y:5}})}createCollapseTool(){return new Eie({focusOpacity:.5,x:"0%",y:"100%",offset:{x:-12,y:7}})}}function XA(e,t){if(e.isLink())return;let n=e.prop("entity/type")===ge.COMPONENT||e.prop("entity/type")===ge.SERVICE||e.prop("entity/type")===ge.BACKING_SERVICE||e.prop("entity/type")===ge.STORAGE_BACKING_SERVICE||e.prop("entity/type")===ge.PROXY_BACKING_SERVICE||e.prop("entity/type")===ge.BROKER_BACKING_SERVICE||e.prop("entity/type")===ge.INFRASTRUCTURE,i=!!(e.prop("entity/type")===ge.REQUEST_TRACE||n),r=new xie(n,i);var a=t.requireView(e);a.addTools(r),a.hideTools()}function GT(e,t){return new Promise((n,i)=>{let r=[];for(const a of e){let o=Promise.resolve();if(a.isElement()){let s=a.prop("size/width"),l=a.prop("size/height");r.push(o.then(()=>new Promise((c,h)=>{a.resize(s+10,l+10),setTimeout(()=>{c()},100)})).then(()=>new Promise((c,h)=>{a.resize(s,l),setTimeout(()=>{c()},100)})).then(()=>new Promise((c,h)=>{XA(t.requireView(a).model,t),setTimeout(()=>{c()},100)})))}else a.isLink&&a.findView(t).requestConnectionUpdate()}Promise.all(r).then(()=>{t.hideTools(),n()})})}function Ym(e,t,n){let i=document.createElement("a");i.setAttribute("href",`data:${t};charset=utf-8,`+encodeURIComponent(e)),i.setAttribute("download",n),i.click()}const Sie={id:"print-section",class:"system-container printable","data-cursor":"grab"},_ie={class:"system-container-modeling-area"},Cie={class:"paperArea"},wie=["id"],Tie=wa({__name:"ModelingArea",props:{pageId:{},graph:{},paper:{},currentElementSelection:{},currentRequestTraceSelection:{},printing:{type:Boolean},appSettings:{}},emits:["update:paper","select:Element","select:RequestTrace","deselect:Element","deselect:RequestTrace"],setup(e,{emit:t}){const n=e,i=t,r=ln(KA());zc(()=>{var p=new gie(n.graph),y=new JE({el:Ml(`#${n.pageId}`),width:n.appSettings.paperWidth,height:n.appSettings.paperHeight,gridSize:n.appSettings.paperGridSize,drawGrid:{name:"dot",args:[{thickness:n.appSettings.paperGridThickness}]},model:n.graph,embeddingMode:!0,background:{color:"rgba(192, 192, 192, 0.3)"},async:!0,sorting:JE.sorting.APPROX,cellViewNamespace:w1,routerNamespace:aN,defaultLink:(_,I)=>p.defaultLink(_,I),defaultRouter:I9(n.appSettings.routerType),defaultConnector:{name:"jumpover",args:{radius:4}},defaultConnectionPoint:{name:"boundary",args:{sticky:!0,stroke:!0}},linkView:pg.extend({pointerdblclick:function(_,I,M){this.addVertex(I,M)}}),validateConnection:(_,I,M,B,U,K)=>p.validateLinks(_,I,M,B,U,K),validateEmbedding:(_,I)=>p.validateEmbedding(_,I),validateUnembedding:_=>p.validateUnembedding(_),allowLink:(_,I)=>p.checkCreatedLink(_,I),interactive:{labelMove:!1,addLinkFromMagnet:!0,linkMove:!0},restrictTranslate:!0,markAvailable:!0,multiLinks:!1});y.on({"element:pointerdown":function(_,I,M,B){if(this.hideTools(),a(),o(_),_.showTools(),n.graph.getConnectedLinks(_.model).forEach(U=>{U.attr("root/visibility")==="visible"&&Iu.add(n.paper.requireView(U),{selector:"line"},"my-element-highlight",{layer:"back",attrs:{stroke:"#feb663","stroke-width":5}})}),_.model.prop("entity/type")===ge.REQUEST_TRACE){const U=_.model.prop("entity/relations/involved_links");U&&U.length>0&&U.forEach(K=>{K&&K.length>0&&K.forEach(Q=>{const H=n.graph.getCell(Q);H.attr("root/visibility")==="visible"&&Iu.add(n.paper.requireView(H),{selector:"line"},"my-element-highlight",{layer:"back",attrs:{stroke:"#feb663","stroke-width":5}})})})}},"blank:pointerdown":function(_,I,M){this.hideTools(),s(),a()},"element:contextmenu":function(_,I,M,B){_.showTools()},"element:pointerup":function(_,I){if(_.model.isEmbedded()){let M=_.model.getParentCell(),B=M.size().height*M.size().width;if(M.getEmbeddedCells().map(K=>K.size().height*K.size().width*1.5).reduce((K,Q)=>K+Q,0)>=B*.3){let K=M.size().width+100,Q=M.size().height,H=Q;if(M.prop("entity/type")!==ge.INFRASTRUCTURE){const g=M.prop("defaults/size"),T=g.height/g.width;H=Number((T*K).toFixed(2))}M.resize(K,H,{deep:!0}),M.position(M.position().x-50,M.position().y-(H-Q)*.5)}}},"link:pointerclick":function(_,I){if(a(),o(_),_.highlight(),!_.hasTools()){let M=new O9;_.addTools(M)}_.showTools()},"cell:highlight":function(_,I,M){_.model.isLink()&&(this.hideTools(),this.model.getLinks().forEach(function(B){if(B!==_.model){Iu.remove(B.findView(_.paper));return}}))},"link:connect":(_,I,M,B,U)=>h(_,I,M),"element:icon:pointerclick":(_,I)=>l(I,_),"requestTrace:icon:pointerclick":(_,I,M,B)=>c(_,I)});var S=pie.partial(d,n.graph,y);n.graph.on("add remove change:source change:target",S),y.on("cell:pointerup",S),y.render(),n.graph.resetCells(n.graph.getCells()),GT(n.graph.getCells(),y),i("update:paper",y)});function a(){n.graph.getLinks().forEach(function(p){Iu.remove(p.findView(n.paper))})}function o(p){i("select:Element",p)}function s(){i("deselect:Element")}function l(p,y){p.stopPropagation(),y.model.prop("collapsed",!1),y.model.attr("icon/visibility","hidden"),y.model.getEmbeddedCells({deep:!0}).forEach(_=>{const M=_.prop("entityTypeHidden")?"hidden":"visible";_.attr("root/visibility",M,{isolate:!0}),_.prop("parentCollapsed",!1)})}function c(p,y){y.stopPropagation(),i("select:RequestTrace",p.model)}function h(p,y,S,_,I){let M=p.model.attributes.source,B=p.model.attributes.target;if(p.model.prop("entity/type")===ge.LINK&&S.model.prop("entity/type")===ge.INFRASTRUCTURE){let U=new C1;p.model.source(M,{anchor:{name:"perpendicular"}}),p.model.target(B),p.model.set("type",U.prop("type")),p.model.attr("root",U.attr("root")),p.model.attr("line",U.attr("line")),p.model.prop("entity",U.prop("entity"),{previousType:ge.LINK})}if(p.model.prop("entity/type")===ge.DEPLOYMENT_MAPPING&&(S.model.prop("entity/type")===ge.ENDPOINT||S.model.prop("entity/type")===ge.EXTERNAL_ENDPOINT)){let U=new _1;p.model.source(M,{anchor:{name:"perpendicular"}}),p.model.target(B),p.model.set("type",U.prop("type")),p.model.attr("root",U.attr("root")),p.model.attr("line",U.attr("line")),p.model.prop("entity",U.prop("entity"),{previousType:ge.DEPLOYMENT_MAPPING});return}!p.model.getSourceElement()||!p.model.getTargetElement()||(p.model.prop("entity/type"),ge.LINK)}function d(p,y,S){if(S instanceof Jn&&(S=S.model),S instanceof nr){p.getConnectedLinks(S).forEach(B=>d(p,y,B)),S.getEmbeddedCells().forEach(B=>p.getConnectedLinks(B).forEach(U=>d(p,y,U)));return}else if(S instanceof x1){var _=S.getSourceCell();if(_&&y.options.defaultRouter)if(y.options.defaultRouter.name==="manhattan"){var I=p.getConnectedLinks(_),M=0;for(const[U,K]of I.entries())if(K.id===S.id){M=U;break}let B=10+M*5;S.router({name:"manhattan",args:{step:5,padding:B,maximumLoops:5e3,maxAllowedDirectionChange:100}})}else S.router(y.options.defaultRouter);S.findView(y).requestConnectionUpdate()}}return(p,y)=>(ze(),He(Jt,null,[(ze(),Bc(rT,{disabled:!p.printing,to:"body"},[X("div",Sie,[X("div",_ie,[X("div",Cie,[X("div",{id:p.pageId},null,8,wie)])])])],8,["disabled"])),_i(YA,I2(vS(r.value)),null,16)],64))}}),Aie=["data-group-context","data-group-id"],kie=["id"],Iie=["for"],Oie=["innerHTML"],Pie=["innerHTML"],Mie={key:2,class:"rangeBoxCurrentValue ml-2 align-baseline badge badge-primary badge-pill"},Nie=["id","disabled","required","rows","maxlength","onUpdate:modelValue","aria-describedby","data-property-type","onKeydown"],Rie=["id","disabled","required","min","max","onUpdate:modelValue","step","aria-describedby","data-property-type","onKeydown"],Die=["id","disabled","required","min","max","step","maxlength","onUpdate:modelValue","aria-describedby","data-property-type","onKeydown"],Bie={key:3,class:"input-group"},Lie={key:0,class:"input-group-prepend"},Fie={class:"input-group-text"},zie={class:"modalInputLabel"},$ie=["id","disabled","required","placeholder","onUpdate:modelValue","aria-describedby","data-property-type","list","onKeydown"],qie=["id"],Uie=["value"],Hie=["id","disabled","required","checked","aria-describedby","data-property-type","onUpdate:modelValue","onChange"],Vie=["id","disabled","required","size","multiple","data-property-type","onUpdate:modelValue","onChange"],Gie=["value","placeholder","title","disabled"],Wie=["onClick"],jie=["for"],Kie={class:"custom-control custom-switch toggle-group"},Yie=["id","aria-describedby","data-property-type","disabled","required","onUpdate:modelValue"],Xie=["for"],Jie={key:7},Qie=["id","data-property-type","disabled","required","onClick"],Zie={class:"table-responsive"},ere={class:"table table-hover"},tre={class:"thead-dark"},nre=["data-table-context"],ire={key:1,class:"form-check"},rre=["value","disabled","checked","onUpdate:modelValue"],are={key:2,class:"form-check"},ore=["id","min","max","step","value","disabled","onUpdate:modelValue"],sre={key:8},lre=["id","data-property-type","disabled","required","onClick"],cre={class:"dynamic-list-wrapper"},ure={class:"table-responsive"},dre={class:"table table-hover"},hre={class:"thead-dark"},fre={key:0,class:"overloaded"},pre={class:"tableRow"},gre=["data-table-context"],mre={key:0},yre={key:1},vre={key:2,class:"overloaded"},bre=["onClick"],Ere=["onClick"],xre={class:"input-group"},Sre={class:"input-group-prepend"},_re={class:"input-group-text"},Cre={class:"modalInputLabel"},wre=["id","placeholder","onUpdate:modelValue"],Tre=["id","onUpdate:modelValue","onChange"],Are=["value"],kre=["id","checked","onUpdate:modelValue"],Ire=["onClick"],Ore={key:9,class:"input-group-append"},Pre=["id","disabled","onClick"],Mre=["id"],Nre={class:"invalid-feedback"},Rre={class:"valid-feedback"};function bw(e){let t=[];for(const n of e){let i={providedFeature:n.providedFeature,enterButtonId:n.providedFeature+"-enterButton",helpTextId:n.providedFeature+"-helpText",contentType:n.contentType,label:n.label,inputProperties:n.inputProperties,helpText:n.helpText,show:n.show,provideEnterButton:n.provideEnterButton,jointJsConfig:n.jointJsConfig,includeFormCheck:!0,validationState:"",attributes:{},value:""};switch(n.contentType){case Ut.TEXTAREA:let a=n;t.push({...i,attributes:a.attributes,value:""});break;case Ut.INPUT_TEXTBOX:let o=n;t.push({...i,attributes:o.attributes,value:""});break;case Ut.INPUT_NUMBERBOX:let s=n;t.push({...i,attributes:s.attributes,value:0});break;case Ut.INPUT_RANGE:let l=n;t.push({...i,attributes:l.attributes,value:0});break;case Ut.CHECKBOX:let c=n;t.push({...i,attributes:c.attributes,value:""});break;case Ut.DROPDOWN:let h=n;t.push({...i,attributes:h.attributes,dropdownOptions:h.dropdownOptions,value:h.attributes.defaultValue});break;case Ut.TOGGLE:let d=n;t.push({...i,attributes:{labels:d.labels},value:"",checked:d.inputProperties.checked});break;case Ut.MULTI_SELECT:let p=n;t.push({...i,attributes:p.attributes,showDialog:!1,tableRows:[]});break;case Ut.DYNAMIC_LIST:let y=n;t.push({...i,attributes:JSON.parse(JSON.stringify(y.attributes)),newElementData:(()=>{let S={};if(Array.isArray(y.attributes.listElementFields))for(const _ of y.attributes.listElementFields)S[_.key]="";return S})(),showDialog:!1,value:[]});break}}return t}const Dre=wa({__name:"PropertiesEditor",props:{groupId:{},cardBodyId:{},propertyOptions:{}},emits:["on:EnterProperty","on:ChangeFromDropdown"],setup(e,{emit:t}){const n=t;function i(c){n("on:EnterProperty",c)}function r(c){c.showDialog=!c.showDialog}function a(c){if(Object.entries(c.newElementData).length===1)for(const[h,d]of Object.entries(c.newElementData))c.value.push(d);else{let h={};for(const[d,p]of Object.entries(c.newElementData))h[d]=p;c.value.push(h)}for(const h of Object.keys(c.newElementData))c.newElementData[h]=""}function o(c,h){c.value.splice(h,1)}function s(c,h){let d=c.value.splice(h,1);c.providedFeature==="artifacts"&&n("on:ChangeFromDropdown",c,c.attributes.listElementFields.find(p=>p.key==="type"),d[0].type);for(const[p,y]of Object.entries(c.newElementData))c.newElementData[p]=d[0][p]}function l(c,h){n("on:ChangeFromDropdown",c,h,c.newElementData[h.key])}return(c,h)=>(ze(!0),He(Jt,null,An(c.propertyOptions,d=>Rn((ze(),He("div",{"data-group-context":c.groupId,"data-group-id":c.cardBodyId},[X("form",{id:d.providedFeature,class:Xn(["form-group",[{"needs-validation":d.includeFormCheck},{"form-check":d.contentType===ci(Ut).CHECKBOX},{novalidate:d.includeFormCheck}]])},[X("label",{for:d.providedFeature,class:Xn({"form-check-label":d.contentType===ci(Ut).CHECKBOX})},[d.attributes.svgRepresentation?(ze(),He("span",{key:0,innerHTML:d.attributes.svgRepresentation},null,8,Oie)):vn("",!0),d.attributes.iconClass?(ze(),He("i",{key:1,class:Xn(d.attributes.iconClass)},null,2)):vn("",!0),X("span",{innerHTML:d.label},null,8,Pie),d.contentType===ci(Ut).INPUT_RANGE?(ze(),He("span",Mie,kt(d.value)+" px",1)):vn("",!0)],10,Iie),X("div",{class:Xn(["input-group",{"has-validation":d.includeFormCheck}])},[d.contentType===ci(Ut).TEXTAREA?Rn((ze(),He("textarea",{key:0,id:d.providedFeature,class:Xn(["form-control",d.validationState]),type:"text",disabled:d.inputProperties.disabled,required:d.inputProperties.required,rows:d.attributes.rows,maxlength:d.attributes.maxLength,"onUpdate:modelValue":p=>d.value=p,"aria-describedby":d.helpTextId,"data-property-type":c.groupId,onKeydown:_b(Sb(p=>i([d]),["prevent"]),["enter"])},null,42,Nie)),[[Js,d.value]]):vn("",!0),d.contentType===ci(Ut).INPUT_RANGE?Rn((ze(),He("input",{key:1,class:Xn(["col px-md-2 form-control-range form-check",d.validationState]),id:d.providedFeature,disabled:d.inputProperties.disabled,required:d.inputProperties.required,type:"range",min:d.attributes.min,max:d.attributes.max,"onUpdate:modelValue":p=>d.value=p,step:d.attributes.step,"aria-describedby":d.helpTextId,"data-property-type":c.groupId,onKeydown:_b(Sb(p=>i([d]),["prevent"]),["enter"])},null,42,Rie)),[[Js,d.value]]):vn("",!0),d.contentType===ci(Ut).INPUT_NUMBERBOX?Rn((ze(),He("input",{key:2,id:d.providedFeature,class:Xn(["form-control",d.validationState]),type:"number",disabled:d.inputProperties.disabled,required:d.inputProperties.required,min:d.attributes.min,max:d.attributes.max,step:d.attributes.step,maxlength:d.attributes.maxlength,"onUpdate:modelValue":p=>d.value=p,"aria-describedby":d.helpTextId,"data-property-type":c.groupId,onKeydown:_b(Sb(p=>i([d]),["prevent"]),["enter"])},null,42,Die)),[[Js,d.value]]):vn("",!0),d.contentType===ci(Ut).INPUT_TEXTBOX?(ze(),He("div",Bie,[d.attributes.inputLabelIcon?(ze(),He("div",Lie,[X("span",Fie,[X("i",{class:Xn(d.attributes.inputLabelIcon)},null,2),X("span",zie,kt(d.label),1)])])):vn("",!0),Rn(X("input",{id:d.providedFeature,class:Xn(["form-control",d.validationState]),type:"text",disabled:d.inputProperties.disabled,required:d.inputProperties.required,placeholder:d.attributes.placeholder,"onUpdate:modelValue":p=>d.value=p,"aria-describedby":d.helpTextId,"data-property-type":c.groupId,list:d.providedFeature+"-datalist",onKeydown:_b(Sb(p=>i([d]),["prevent"]),["enter"])},null,42,$ie),[[Js,d.value]]),X("datalist",{id:d.providedFeature+"-datalist"},[(ze(!0),He(Jt,null,An(d.attributes.suggestedValues,p=>(ze(),He("option",{value:p.value},kt(p.text),9,Uie))),256))],8,qie)])):vn("",!0),d.contentType===ci(Ut).CHECKBOX?Rn((ze(),He("input",{key:4,id:d.providedFeature,class:Xn(["form-check-input",d.validationState]),type:"checkbox",disabled:d.inputProperties.disabled,required:d.inputProperties.required,checked:d.inputProperties.checked,"aria-describedby":d.helpTextId,"data-property-type":c.groupId,"onUpdate:modelValue":p=>d.value=p,onChange:p=>i([d])},null,42,Hie)),[[Gd,d.value]]):vn("",!0),d.contentType===ci(Ut).DROPDOWN?Rn((ze(),He("select",{key:5,class:Xn(["custom-select",d.validationState]),id:d.providedFeature,disabled:d.inputProperties.disabled,required:d.inputProperties.required,size:d.attributes.size,multiple:d.attributes.multiple,"data-property-type":c.groupId,"onUpdate:modelValue":p=>d.value=p,onChange:p=>i([d])},[(ze(!0),He(Jt,null,An(d.dropdownOptions,p=>(ze(),He("option",{value:p.optionValue,class:Xn(p.representationClass),key:p.optionValue,placeholder:d.attributes.placeholder,title:p.optionTitle,disabled:p.disabled},kt(p.optionText),11,Gie))),128))],42,Vie)),[[wu,d.value]]):vn("",!0),d.contentType===ci(Ut).TOGGLE?(ze(),He("div",{key:6,class:"input-group",onClick:()=>{d.checked=!d.checked}},[X("label",{class:Xn(["detailsSidebar-toggle-leftLabel user-select-none",{"text-muted":d.checked}]),for:d.providedFeature},kt(d.attributes.labels.leftLabel),11,jie),X("div",Kie,[Rn(X("input",{id:d.providedFeature,class:"custom-control-input detailsSidebar-toggle",type:"checkbox","aria-describedby":d.helpTextId,"data-property-type":c.groupId,disabled:d.inputProperties.disabled,required:d.inputProperties.required,"onUpdate:modelValue":p=>d.checked=p},null,8,Yie),[[Gd,d.checked]]),X("label",{class:Xn(["detailsSidebar-toggle-rightLabel custom-control-label user-select-none",{"text-muted":!d.checked}]),for:d.providedFeature},kt(d.attributes.labels.rightLabel),11,Xie)])],8,Wie)):vn("",!0),d.contentType===ci(Ut).MULTI_SELECT?(ze(),He("div",Jie,[X("button",{id:d.providedFeature,class:"btn btn-dark btn-block",type:"button","aria-describedby":"","data-property-type":c.groupId,disabled:d.inputProperties.disabled,required:d.inputProperties.required,onClick:p=>r(d)},[X("i",{class:Xn(d.attributes.buttonIconClass)},null,2),yi(" "+kt(d.attributes.buttonText),1)],8,Qie),_i(xx,{show:d.showDialog,dialogMetaData:d.attributes.dialogMetaData,"onClose:Modal":p=>d.showDialog=!1,"onAction:Modal":p=>{i([d]),d.showDialog=!1}},{modalContent:Mf(()=>[X("p",null,kt(d.attributes.dialogInfo),1),X("div",Zie,[X("table",ere,[X("thead",tre,[X("tr",null,[(ze(!0),He(Jt,null,An(d.attributes.tableColumnHeaders,p=>(ze(),He("th",null,kt(p.text),1))),256))])]),X("tbody",null,[(ze(!0),He(Jt,null,An(d.tableRows,p=>(ze(),He("tr",{class:Xn(["tableRow",[{"text-muted":p.attributes.disabled},p.attributes.representationClass]])},[(ze(!0),He(Jt,null,An(Object.entries(p.columns),([y,S])=>(ze(),He("td",{"data-table-context":y},[typeof S=="string"?(ze(),He("span",{key:0,class:Xn({"font-weight-bold":p.attributes.isTheCurrentEntity})},kt(S),3)):vn("",!0),typeof S=="object"&&S.contentType===ci(Ut).CHECKBOX_WITHOUT_LABEL?(ze(),He("div",ire,[Rn(X("input",{class:"dialogCheckBox form-check-input position-static",type:"checkbox",value:S.id,disabled:S.disabled,checked:S.checked,"onUpdate:modelValue":_=>S.checked=_},null,8,rre),[[Gd,S.checked]])])):vn("",!0),typeof S=="object"&&S.contentType===ci(Ut).INPUT_NUMBERBOX?(ze(),He("div",are,[Rn(X("input",{class:Xn(["position-static form-control",[d.validationState,{"cell-highlighted":S.highlight(S.value)}]]),id:S.id,type:"number",min:S.min,max:S.max,step:S.step,value:S.value,disabled:S.disabled,"onUpdate:modelValue":_=>S.value=_},null,10,ore),[[Js,S.value]])])):vn("",!0)],8,nre))),256))],2))),256))])])])]),_:2},1032,["show","dialogMetaData","onClose:Modal","onAction:Modal"])])):vn("",!0),d.contentType===ci(Ut).DYNAMIC_LIST?(ze(),He("div",sre,[X("button",{id:d.providedFeature,class:"btn btn-dark btn-block",type:"button","aria-describedby":"","data-property-type":c.groupId,disabled:d.inputProperties.disabled,required:d.inputProperties.required,onClick:p=>r(d)},[X("i",{class:Xn(d.attributes.buttonIconClass)},null,2),yi(" "+kt(d.attributes.buttonText),1)],8,lre),_i(xx,{show:d.showDialog,dialogMetaData:d.attributes.dialogMetaData,"onClose:Modal":p=>d.showDialog=!1,"onAction:Modal":p=>{i([d]),d.showDialog=!1}},{modalContent:Mf(()=>[X("p",null,kt(d.attributes.dialogInfo),1),X("div",cre,[X("div",ure,[X("table",dre,[X("thead",hre,[X("tr",null,[(ze(!0),He(Jt,null,An(d.attributes.listElementFields.slice(0,Math.min(3,d.attributes.listElementFields.length)),p=>(ze(),He("th",null,kt(p.label),1))),256)),d.attributes.listElementFields.length>3?(ze(),He("th",fre,[(ze(!0),He(Jt,null,An(d.attributes.listElementFields.slice(3),p=>(ze(),He("span",null,kt(p.label),1))),256))])):vn("",!0),h[0]||(h[0]=X("th",null,"Edit/Delete",-1))])]),X("tbody",null,[(ze(!0),He(Jt,null,An(d.value.entries(),([p,y])=>(ze(),He("tr",pre,[typeof y=="object"?(ze(!0),He(Jt,{key:0},An(Object.entries(y).slice(0,Math.min(3,Object.entries(y).length)),([S,_])=>(ze(),He("td",{"data-table-context":S},[typeof _=="string"?(ze(),He("span",mre,kt(_),1)):vn("",!0)],8,gre))),256)):(ze(),He("td",yre,[X("span",null,kt(y),1)])),typeof y=="object"&&Object.entries(y).length>3?(ze(),He("td",vre,[(ze(!0),He(Jt,null,An(Object.entries(y).slice(3),([S,_])=>(ze(),He("span",null,kt(_),1))),256))])):vn("",!0),X("td",null,[X("button",{type:"button",class:"btn btn-outline-dark",onClick:S=>s(d,p)},h[1]||(h[1]=[X("i",{class:"fa-solid fa-pen"},null,-1)]),8,bre),X("button",{type:"button",class:"btn btn-outline-dark",onClick:S=>o(d,p)},h[2]||(h[2]=[X("i",{class:"fa-solid fa-trash-can"},null,-1)]),8,Ere)])]))),256))])])]),h[3]||(h[3]=X("h5",null,"Add new Item",-1)),(ze(!0),He(Jt,null,An(d.attributes.listElementFields,p=>(ze(),He("div",null,[X("div",xre,[X("div",Sre,[X("span",_re,[X("i",{class:Xn(p.labelIcon)},null,2),X("span",Cre,kt(p.label),1)])]),p.fieldType==="text"?Rn((ze(),He("input",{key:0,id:p.key,class:"form-control",type:"text",placeholder:p.placeholder,"onUpdate:modelValue":y=>d.newElementData[p.key]=y},null,8,wre)),[[Js,d.newElementData[p.key]]]):vn("",!0),p.fieldType==="dropdown"?Rn((ze(),He("select",{key:1,id:p.key,class:"form-control","onUpdate:modelValue":y=>d.newElementData[p.key]=y,onChange:y=>l(d,p)},[(ze(!0),He(Jt,null,An(p.dropdownOptions,y=>(ze(),He("option",{value:y},kt(y),9,Are))),256))],40,Tre)),[[wu,d.newElementData[p.key]]]):vn("",!0),p.fieldType==="boolean"?Rn((ze(),He("input",{key:2,id:p.key,class:"dialogCheckBox form-check-input form-control",type:"checkbox",checked:d.newElementData[p.key],"onUpdate:modelValue":y=>d.newElementData[p.key]=y},null,8,kre)),[[Gd,d.newElementData[p.key]]]):vn("",!0)])]))),256)),X("button",{type:"button",class:"btn btn-outline-dark",onClick:p=>a(d)},[X("i",{class:Xn(d.attributes.addElementButton.labelIcon)},null,2),yi(" "+kt(d.attributes.addElementButton.label),1)],8,Ire)])]),_:2},1032,["show","dialogMetaData","onClose:Modal","onAction:Modal"])])):vn("",!0),d.provideEnterButton?(ze(),He("div",Ore,[X("button",{id:d.enterButtonId,disabled:d.inputProperties.disabled,class:"enterPropertyButton btn btn-outline-secondary",type:"button",onClick:p=>i([d])},h[4]||(h[4]=[X("i",{class:"enterPropertyButtonIcon fa-solid fa-check"},null,-1)]),8,Pre)])):vn("",!0)],2),d.helpText?(ze(),He("small",{key:0,id:d.helpTextId,class:"form-text text-muted"},kt(d.helpText),9,Mre)):vn("",!0),Rn(X("div",Nre,"Reset: Invalid input provided",512),[[La,d.validationState==="is-invalid"]]),Rn(X("div",Rre,"Successfully changed.",512),[[La,d.validationState==="is-valid"]])],10,kie)],8,Aie)),[[La,d.show]])),256))}}),Bre={class:"details-container"},Lre={class:"sameEntityHighlighting"},Fre={class:"sameEntityHighlighting-Form"},zre=["id"],$re={class:"form-group"},qre=["for"],Ure=["innerHTML"],Hre=["id","disabled","onUpdate:modelValue","onChange"],Vre=["value"],Gre={class:"accordion",id:"entireDetailsAccordion"},Wre=["id"],jre=["id"],Kre={class:"mb-0"},Yre=["id","data-bs-target","aria-controls"],Xre=["id","aria-labelledby"],Jre=["id"],Qre={key:0,class:"text-muted"},Zre=wa({__name:"DetailsSidebar",props:{graph:{},paper:{},selectedEntity:{},selectedDataAggregate:{},selectedBackingData:{}},emits:["update:selectedDataAggregate","update:selectedBackingData"],setup(e,{emit:t}){const n=(Q,H,g)=>{let T=[];for(const[A,D]of Object.entries(Q)){let Z={};Z[H]=A,Z[g]=D,T.push(Z)}return T},i={optionValue:void 0,optionText:"",optionTitle:"none",optionRepresentationClass:"validOption",disabled:!1},r=e,a=t,o=new RegExp("^relationship/.*");var s=null;const l=ln(""),c=ln([]);function h(Q,H){for(const g of Q){let T=g.options.find(A=>A.providedFeature===H);if(T)return T}return null}const d=ln((()=>{let Q=[];for(const H of Km.EntityHighlighting)Q.push({entityType:H.type+"-fieldset",selectId:H.type,svgRepresentation:H.svgRepresentation,labelText:H.labelText,highlightColour:H.highlightColour,options:[{optionValue:"none",optionText:"Choose existing entity..."}],selectedOption:(g=>{switch(g){case ge.DATA_AGGREGATE:return r.selectedDataAggregate;case ge.BACKING_DATA:return r.selectedBackingData;default:return"none"}})(H.type)});return Q})());function p(){for(let Q of d.value){let H=[{optionValue:"none",optionText:"Choose existing entity..."}],g=r.graph.getElements().filter(T=>T.prop("entity/type")===Q.selectId);for(const T of g){let A=T.prop("entity/assignedFamily");A?H.filter(D=>D.optionValue===A).length===0&&H.push({optionValue:A,optionText:A}):H.push({optionValue:T.id.toString(),optionText:T.attr("label/textWrap/text")})}Q.options=H}}function y(Q){let H=r.graph.getElements().filter(g=>g.prop("entity/type")===Q.selectId);for(const g of H)g.id.toString()===Q.selectedOption||g.prop("entity/assignedFamily")===Q.selectedOption?g.attr("body/fill",Q.highlightColour):g.attr("body/fill","white");switch(Q.selectId){case ge.DATA_AGGREGATE:a("update:selectedDataAggregate",Q.selectedOption);break;case ge.BACKING_DATA:a("update:selectedDataAggregate",Q.selectedOption);break}}function S(Q){let H=[];for(const[g,T]of Object.entries(Km.GeneralProperties))Q.includes(g)||H.push({groupId:g,cardId:g+"-card",headerId:g+"-header",headerButtonId:g+"-button",headline:T.headline,headlineIconClass:T.iconClass,dataTarget:"collapse-"+g,dataTargetId:"#collapse-"+g,cardBodyId:g+"-card-body",options:bw(T.options)});return H}zc(()=>{r.graph.on("resetHighlighting",()=>{for(const Q of d.value)Q.selectedOption="none",y(Q)}),r.graph.on("reloaded",()=>{p()}),r.graph.on("change",Q=>{(Q.prop("entity/type")===ge.BACKING_DATA||Q.prop("entity/type")===ge.DATA_AGGREGATE)&&p(),_(!0)})}),gS(_);function _(Q){if(!r.selectedEntity){s&&(s.model.off(null,null,"detailsSidebar"),s=null),l.value="",c.value.length=0;return}if(r.selectedEntity.model.id.toString()===l.value&&!Q)return;s=r.selectedEntity,l.value=s.model.id.toString(),c.value.length=0;let H=[];(s.model.prop("entity/type")===ge.LINK||r.selectedEntity.model.prop("entity/type")===ge.DEPLOYMENT_MAPPING)&&H.push("artifacts","label","size","position"),[ge.ENDPOINT,ge.EXTERNAL_ENDPOINT,ge.DATA_AGGREGATE,ge.BACKING_DATA,ge.REQUEST_TRACE,ge.NETWORK].includes(s.model.prop("entity/type"))&&H.push("artifacts"),c.value.push(...S(H));const T=Object.entries(ja).find(ie=>ie[1].type===s.model.prop("entity/type"))[1],A=c.value.find(ie=>ie.groupId==="entity").options;A.push(...bw(T.specificProperties));const D=Object.entries(wd).find(ie=>ie[1].type===s.model.prop("entity/type"))[1];c.value.find(ie=>ie.groupId==="relations").options.push(...bw(D.relations));for(let ie of c.value)for(let se of ie.options){let ue="";se.jointJsConfig.propertyType==="attribute"?ue=s.model.attr(se.jointJsConfig.modelPath):(se.jointJsConfig.propertyType==="property"||se.jointJsConfig.propertyType==="customProperty"||se.jointJsConfig.propertyType==="providedMethod"||se.jointJsConfig.propertyType==="relation")&&(ue=s.model.prop(se.jointJsConfig.modelPath),se.providedFeature==="entity-aspect-ratio"&&ue&&(ue="(h ~ "+(ue.height/ue.width).toFixed(2)+" * w)")),se.value=ue,se.validationState=""}switch(s.model.prop("entity/type")){case ge.COMPONENT:case ge.SERVICE:case ge.BACKING_SERVICE:case ge.STORAGE_BACKING_SERVICE:case ge.PROXY_BACKING_SERVICE:case ge.BROKER_BACKING_SERVICE:let ie=h(c.value,"identities");ie.includeFormCheck=!1,ie.value=n(s.model.prop("entity/properties/identities"),ie.attributes.listElementFields[0].key,ie.attributes.listElementFields[1].key),ie.attributes.listElementFields.find(et=>et.key==="identityType").dropdownOptions=i6();let se=h(c.value,"assigned_to_networks");se.includeFormCheck=!1;let ue=s.model.prop(se.jointJsConfig.modelPath)?s.model.prop(se.jointJsConfig.modelPath):[];se.tableRows.length=0,r.graph.getElements().filter(et=>et.prop("entity/type")===ge.NETWORK).forEach(et=>{se.tableRows.push({columns:{name:et.attr("label/textWrap/text"),assigned:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:ue.includes(et.id),id:et.id}},attributes:{representationClass:"validOption",disabled:!1}})});const $=r.graph.getElements().filter(et=>et.prop("entity/type")===ge.PROXY_BACKING_SERVICE).map(et=>({optionValue:et.id,optionText:et.attr("label/textWrap/text"),optionTitle:et.attr("label/textWrap/text"),optionRepresentationClass:"validOption",disabled:!1}));let W=h(c.value,"externalIngressProxiedBy");W.includeFormCheck=!1;const J=s.model.prop(W.jointJsConfig.modelPath);W.dropdownOptions=[i,...$],W.value=J;let G=h(c.value,"ingressProxiedBy");G.includeFormCheck=!1;const le=s.model.prop(G.jointJsConfig.modelPath);G.dropdownOptions=[i,...$],G.value=le;let Ie=h(c.value,"egressProxiedBy");Ie.includeFormCheck=!1;const it=s.model.prop(Ie.jointJsConfig.modelPath);Ie.dropdownOptions=[i,...$],Ie.value=it;const Je=r.graph.getElements().filter(et=>et.prop("entity/type")===ge.BACKING_SERVICE&&et.prop("entity/properties/providedFunctionality")==="naming/addressing"||et.prop("entity/type")===ge.PROXY_BACKING_SERVICE&&et.prop("entity/properties/kind")==="Service Mesh"||et.prop("entity/type")===ge.INFRASTRUCTURE||et.prop("entity/type")===ge.NETWORK);let Ge=h(c.value,"addressResolutionBy");Ge.includeFormCheck=!1;const Ze=s.model.prop(Ge.jointJsConfig.modelPath),Te=Je.map(et=>({optionValue:et.id,optionText:et.attr("label/textWrap/text"),optionTitle:et.attr("label/textWrap/text"),optionRepresentationClass:"validOption",disabled:!1}));Ge.dropdownOptions=[i,...Te],Ge.value=Ze;const Ae=r.graph.getElements().filter(et=>et.prop("entity/type")===ge.BACKING_SERVICE&&et.prop("entity/properties/providedFunctionality")==="authentication/authorization");let Ue=h(c.value,"authenticationBy");Ue.includeFormCheck=!1;const Xe=s.model.prop(Ue.jointJsConfig.modelPath),dt=Ae.map(et=>({optionValue:et.id,optionText:et.attr("label/textWrap/text"),optionTitle:et.attr("label/textWrap/text"),optionRepresentationClass:"validOption",disabled:!1}));Ue.dropdownOptions=[i,...dt],Ue.value=Xe;let te=h(c.value,"artifacts");te.includeFormCheck=!1,te.attributes.listElementFields.find(et=>et.key==="type").dropdownOptions=bE();break;case ge.INFRASTRUCTURE:let ce=h(c.value,"identities");ce.includeFormCheck=!1,ce.value=n(s.model.prop("entity/properties/identities"),ce.attributes.listElementFields[0].key,ce.attributes.listElementFields[1].key),ce.attributes.listElementFields.find(et=>et.key==="identityType").dropdownOptions=i6();let fe=h(c.value,"supported_artifacts");fe.includeFormCheck=!1;let Be=s.model.prop(fe.jointJsConfig.modelPath)?s.model.prop(fe.jointJsConfig.modelPath):[];fe.tableRows.length=0,bE().forEach(et=>{fe.tableRows.push({columns:{name:et,supported:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:Be.includes(et),id:et}},attributes:{representationClass:"validOption",disabled:!1}})});let we=h(c.value,"supported_update_strategies");we.includeFormCheck=!1;const re=s.model.prop(we.jointJsConfig.modelPath)?s.model.prop(we.jointJsConfig.modelPath):[];we.tableRows.length=0,Bte("relationship",KS,"update_strategy").forEach(et=>{we.tableRows.push({columns:{name:et,supported:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:re.includes(et),id:et}},attributes:{representationClass:"validOption",disabled:!1}})});let Ee=h(c.value,"assigned_to_networks");Ee.includeFormCheck=!1;let ve=s.model.prop(Ee.jointJsConfig.modelPath)?s.model.prop(Ee.jointJsConfig.modelPath):[];Ee.tableRows.length=0,r.graph.getElements().filter(et=>et.prop("entity/type")===ge.NETWORK).forEach(et=>{Ee.tableRows.push({columns:{name:et.attr("label/textWrap/text"),assigned:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:ve.includes(et.id),id:et.id}},attributes:{representationClass:"validOption",disabled:!1}})});let tt=h(c.value,"artifacts");tt.includeFormCheck=!1,tt.attributes.listElementFields.find(et=>et.key==="type").dropdownOptions=bE();break;case ge.DATA_AGGREGATE:for(let et of A)et.jointJsConfig.modelPath&&o.test(et.jointJsConfig.modelPath)&&(et.show=Li(()=>h(c.value,"embedded").value!==""&&h(c.value,"dataAggregate-chooseEditMode").checked),et.providedFeature==="usage_relation"&&(et.label=I(s.model.prop("entity/embedded"))));let yt=h(c.value,"dataAggregate-chooseEditMode");yt.show=Li(()=>h(c.value,"embedded").value!=="");let xt=h(c.value,"dataAggregate-assignedFamily");xt.show=Li(()=>h(c.value,"embedded").value!==""?h(c.value,"dataAggregate-chooseEditMode").checked:!1);let Nt=h(c.value,"dataAggregate-familyConfig");Nt.includeFormCheck=!1,Nt.show=Li(()=>h(c.value,"embedded").value!==""?!h(c.value,"dataAggregate-chooseEditMode").checked:!0),Nt.tableRows.length=0,r.graph.getElements().filter(et=>et.prop("entity/type")===ge.DATA_AGGREGATE).forEach(et=>{let _n=et.getParentCell(),Ln=!!_n,Oi=Ln?_n.attr("label/textWrap/text"):"-",na=et.prop(xt.jointJsConfig.modelPath).length!==0&&et.prop(xt.jointJsConfig.modelPath).localeCompare(r.selectedEntity.model.prop(xt.jointJsConfig.modelPath))===0;Nt.tableRows.push({attributes:{isTheCurrentEntity:s.model.id===et.id,representationClass:Ln?"validOption":"invalidOption",disabled:!Ln},columns:{name:et.attr("label/textWrap/text")?et.attr("label/textWrap/text"):"-",familyName:et.prop(xt.jointJsConfig.modelPath)?et.prop(xt.jointJsConfig.modelPath):"-",parent:Oi,included:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!Ln,checked:na,id:et.id}}})});break;case ge.BACKING_DATA:for(let et of A)et.jointJsConfig.modelPath&&o.test(et.jointJsConfig.modelPath)&&(et.show=Li(()=>h(c.value,"embedded").value!==""&&h(c.value,"backingData-chooseEditMode").checked),et.providedFeature==="usage_relation"&&(et.label=I(s.model.prop("entity/embedded"))));let at=h(c.value,"backingData-chooseEditMode");at.show=Li(()=>h(c.value,"embedded").value!=="");let At=h(c.value,"backingData-includedData");At.includeFormCheck=!1,At.show=Li(()=>h(c.value,"embedded").value!==""?h(c.value,"backingData-chooseEditMode").checked:!0),At.value=n(s.model.prop("entity/properties/included_data"),At.attributes.listElementFields[0].key,At.attributes.listElementFields[1].key);let Gt=h(c.value,"backingData-assignedFamily");Gt.show=Li(()=>h(c.value,"embedded").value!==""?h(c.value,"backingData-chooseEditMode").checked:!1);let tn=h(c.value,"backingData-familyConfig");tn.includeFormCheck=!1,tn.show=Li(()=>h(c.value,"embedded").value!==""?!h(c.value,"backingData-chooseEditMode").checked:!0),tn.tableRows.length=0,r.graph.getElements().filter(et=>et.prop("entity/type")===ge.BACKING_DATA).forEach(et=>{let _n=et.getParentCell(),Ln=!!_n,Oi=Ln?_n.attr("label/textWrap/text"):"-",na=et.prop(Gt.jointJsConfig.modelPath).length!==0&&et.prop(Gt.jointJsConfig.modelPath).localeCompare(r.selectedEntity.model.prop(Gt.jointJsConfig.modelPath))===0;tn.tableRows.push({attributes:{isTheCurrentEntity:s.model.id===et.id,representationClass:Ln?"validOption":"invalidOption",disabled:!Ln},columns:{name:et.attr("label/textWrap/text")?et.attr("label/textWrap/text"):"-",familyName:et.prop(Gt.jointJsConfig.modelPath)?et.prop(Gt.jointJsConfig.modelPath):"-",parent:Oi,included:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!Ln,checked:na,id:et.id}}})});break;case ge.REQUEST_TRACE:const wi=r.graph.getElements().filter(et=>et.prop("entity/type")===ge.EXTERNAL_ENDPOINT);let ii=h(c.value,"referred_endpoint");ii.includeFormCheck=!1;const ir=s.model.prop(ii.jointJsConfig.modelPath),Ti=wi.map(et=>{let _n="",Ln="",Oi=!0;return et.getParentCell()?(_n=et.getParentCell().attr("label/textWrap/text"),Ln="validOption",Oi=!1):(Oi=!0,Ln="invalidOption"),{optionValue:et.id,optionText:et.attr("label/textWrap/text"),optionTitle:`${_n?`(Parent: ${_n})`:"no parent: invalid option"}`,optionRepresentationClass:`${Ln||""}`,disabled:Oi}});ii.dropdownOptions=[i,...Ti],ii.value=ir;let bi=h(c.value,"involved_links");bi.includeFormCheck=!1;const Fi=r.graph.getLinks().filter(et=>et.prop("entity/type")===ge.LINK),ri=s.model.prop(bi.jointJsConfig.modelPath)?s.model.prop(bi.jointJsConfig.modelPath):[];bi.tableRows.length=0,Fi.sort((et,_n)=>et.getSourceElement().attr("label/textWrap/text").localeCompare(_n.getSourceElement().attr("label/textWrap/text"))).forEach(et=>{let _n=!0,Ln=!1,Oi="-";et.getTargetElement()&&et.getTargetElement().parent()?(Oi=r.graph.getCell(et.getTargetElement().parent()).attr("label/textWrap/text"),Ln=!0):Ln=!1,et.getSourceElement()&&et.getTargetElement()&&(_n=!Ln);const na=et.getSourceElement()?et.getSourceElement().attr("label/textWrap/text"):"-",ql=et.getTargetElement()?et.getTargetElement().attr("label/textWrap/text"):"-";let hl=ri.findIndex(Wr=>!!Wr&&Wr.includes(et.id));bi.tableRows.push({columns:{from:na,to:ql,parent:Oi,included:{contentType:Ut.INPUT_NUMBERBOX,disabled:_n,min:-1,max:Number.MAX_SAFE_INTEGER,step:1,value:hl,id:et.id.toString(),highlight:Wr=>Wr!==-1}},attributes:{representationClass:_n?"invalidOption":"validOption",disabled:_n}})});break;case ge.ENDPOINT:case ge.EXTERNAL_ENDPOINT:let zi=h(c.value,"uses_data");zi.includeFormCheck=!1;const mr=[];let Fa=s.model.getParentCell();Fa&&mr.push(...Fa.getEmbeddedCells().filter(et=>et.prop("entity/type")===ge.DATA_AGGREGATE));const la=new Set(s.model.prop(zi.jointJsConfig.modelPath));zi.tableRows.length=0,mr.sort((et,_n)=>et.attr("label/textWrap/text").localeCompare(_n.attr("label/textWrap/text"))).forEach(et=>{zi.tableRows.push({columns:{dataAggregateName:et.attr("label/textWrap/text"),usageRelation:et.prop("relationship/properties/usage_relation"),included:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:la.has(et.id),id:et.id}},attributes:{representationClass:"validOption",disabled:!1}})});let yr=h(c.value,"allow_access_to");yr.includeFormCheck=!1;let ta=s.model.prop(yr.jointJsConfig.modelPath)?s.model.prop(yr.jointJsConfig.modelPath):[];yr.tableRows.length=0,B(r.graph).forEach(et=>{yr.tableRows.push({columns:{name:et,allowed:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:ta.includes(et),id:et}},attributes:{representationClass:"validOption",disabled:!1}})});let Qn=h(c.value,"supported_authentication_methods");Qn.includeFormCheck=!1;let ca=s.model.prop(Qn.jointJsConfig.modelPath)?s.model.prop(Qn.jointJsConfig.modelPath):[];if(Qn.tableRows.length=0,Fte().forEach(et=>{Qn.tableRows.push({columns:{name:et,supported:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:ca.includes(et),id:et}},attributes:{representationClass:"validOption",disabled:!1}})}),Fa){let et=h(c.value,"documentedBy");et.includeFormCheck=!1;const _n=Fa.prop("entity/artifacts"),Ln=s.model.prop(et.jointJsConfig.modelPath)?s.model.prop(et.jointJsConfig.modelPath):[];et.tableRows.length=0,_n.forEach(Oi=>{et.tableRows.push({columns:{Artifact:Oi.key,Type:Oi.type,documenting:{contentType:Ut.CHECKBOX_WITHOUT_LABEL,disabled:!1,checked:Ln.includes(Oi.key),id:Oi.key}},attributes:{representationClass:"validOption",disabled:!1}})})}break}s.model.off(null,null,"detailsSidebar"),s.model.on("change:parent",ie=>{if(!s||ie.id!==s.model.id)return;let se=s.model.getParentCell(),ue="";if(se&&(ue=se.id.toString()),h(c.value,"embedded").value=ue,s.model.prop("entity/embedded",ue),s.model.prop("entity/type")===ge.DATA_AGGREGATE){let de=h(c.value,"usage_relation");de.label=I(s.model.prop("entity/embedded"))}},"detailsSidebar"),s.model.on("change:position",()=>{let ie=h(c.value,"entity-x-position");ie.value=s.model.prop(ie.jointJsConfig.modelPath);let se=h(c.value,"entity-y-position");se.value=s.model.prop(se.jointJsConfig.modelPath)},"detailsSidebar")}function I(Q){if(Q){const H=r.graph.getCell(Q).prop("entity/type");return(T=>{switch(H){case ge.COMPONENT:return'<svg width="30" height="20"><rect width="24" height="12" rx="2" ry="2" transform="translate(2.2, 2)" stroke-dasharray="0" stroke-width="2" stroke="black" fill="white"></rect></svg>';case ge.SERVICE:return'<svg width="30" height="20"><polygon points="5,0 15,0 20,8 15,16 5,16 0,8" transform="translate(7, 0.7)" stroke-dasharray="0" stroke-width="2" stroke="black" fill="white"></polygon></svg>';case ge.BACKING_SERVICE:return'<svg width="30" height="20"><polygon points="12.5,0 25,7.5 12.5,15 0,7.5" transform="translate(2, 0.8)" stroke-width="2" stroke="black" fill="white"></polygon></svg>';case ge.STORAGE_BACKING_SERVICE:return`<svg width="30" height="20">
                                <path transform="translate(6, 0.7) scale(0.27)" d="M 0 10 L 0 50 C 0 55.51784 17.928639999999998 60 40 60 C 62.07136 60 80 55.51784 80 50 L 80 10 C 80 4.4821599999999995 62.07136 0 40 0 C 17.928639999999998 0 0 4.4821599999999995 0 10 Z" stroke-width="5" stroke="black" fill="white"></path>
                                <ellipse transform="translate(6, 0.7) scale(0.27)" cy="10" ry="10" cx="40" rx="40" stroke-width="5" stroke="black" fill="white"></ellipse>
                                </svg>`;default:return""}})()+" Parent Relation:"}else return"Parent Relation:"}function M(Q){for(const H of Q){const g=A=>{let D={};for(const Z of A)D[Z[H.attributes.listElementFields[0].key]]=Z[H.attributes.listElementFields[1].key];return D};if(H.includeFormCheck&&!U(H)){H.validationState="is-invalid";let A="";H.jointJsConfig.propertyType==="attribute"?A=r.selectedEntity.model.attr(H.jointJsConfig.modelPath):H.jointJsConfig.propertyType==="property"&&(A=r.selectedEntity.model.prop(H.jointJsConfig.modelPath)),H.value=A;continue}H.validationState="is-valid";const T=r.selectedEntity.model;if(H.jointJsConfig.propertyType!=="free")if(H.jointJsConfig.propertyType==="providedMethod")switch(H.providedFeature){case"entity-x-position":T.position(H.value,T.position().y,{deep:!0,restrictedArea:r.paper.getArea()});break;case"entity-y-position":T.position(T.position().x,H.value,{deep:!0,restrictedArea:r.paper.getArea()});break;case"entity-width":let A=T.size().width,D=H.value,Z=T.size().height,ie=Z;if(T.prop("entity/keepAspectRatio")){const $=T.prop("defaults/size"),W=$.height/$.width;ie=Number((W*D).toFixed(2))}T.resize(D,ie,{deep:!0}),T.position(T.position().x-(D-A)*.5,T.position().y-(ie-Z)*.5);break;case"entity-height":let se=T.size().height,ue=H.value,de=T.size().width,F=de;if(T.prop("entity/keepAspectRatio")){const $=T.prop("defaults/size"),W=$.width/$.height;F=Number((W*ue).toFixed(2))}T.resize(F,ue,{deep:!0}),T.position(T.position().x-(F-de)*.5,T.position().y-(ue-se)*.5)}else if(H.jointJsConfig.propertyType==="attribute"){switch(T.prop("entity/type")){case ge.DATA_AGGREGATE:if(H.providedFeature==="entity-text"&&T.prop("entity/assignedFamily")){T.prop("entity/assignedFamily",H.value,{rewrite:!0});const A=r.graph.getElements().filter(D=>D.prop("entity/type")===ge.DATA_AGGREGATE&&D.attr(H.jointJsConfig.modelPath).localeCompare(T.attr(H.jointJsConfig.modelPath))===0);for(const D of A)D.attr(H.jointJsConfig.modelPath,H.value),D.prop("entity/assignedFamily",H.value,{rewrite:!0});continue}break;case ge.BACKING_DATA:if(H.providedFeature==="entity-text"&&T.prop("entity/assignedFamily")){T.prop("entity/assignedFamily",H.value,{rewrite:!0});const A=r.graph.getElements().filter(D=>D.prop("entity/type")===ge.BACKING_DATA&&D.attr(H.jointJsConfig.modelPath).localeCompare(T.attr(H.jointJsConfig.modelPath))===0);for(const D of A)D.attr(H.jointJsConfig.modelPath,H.value),D.prop("entity/assignedFamily",H.value,{rewrite:!0});continue}break}T.attr(H.jointJsConfig.modelPath,H.value)}else if(H.jointJsConfig.propertyType==="property"){if(T.prop(H.jointJsConfig.modelPath,H.value),T.prop("entity/type")===ge.BACKING_DATA&&T.prop("entity/assignedFamily")){const A=r.graph.getElements().filter(D=>D.prop("entity/type")===ge.BACKING_DATA&&D.prop("entity/assignedFamily").localeCompare(T.prop("entity/assignedFamily"))===0);for(const D of A)D.prop(H.jointJsConfig.modelPath,H.value);continue}}else if(H.jointJsConfig.propertyType==="customProperty")switch(T.prop("entity/type")){case ge.INFRASTRUCTURE:if(H.providedFeature==="supported_artifacts"){let A=[];H.tableRows.forEach(D=>{D.columns.supported.checked&&A.push(D.columns.supported.id)}),T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0})}else if(H.providedFeature==="supported_update_strategies"){let A=[];H.tableRows.forEach(D=>{D.columns.supported.checked&&A.push(D.columns.supported.id)}),T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0})}else if(H.providedFeature==="artifacts"){let A=new $T,D=H.value;for(const Z of D)if(Z.key){let ie=A.ensureUniqueness(Z.key);Z.key=ie}else{let ie=A.ensureUniqueness("artifact");Z.key=ie}T.prop(H.jointJsConfig.modelPath,D,{rewrite:!0})}else H.providedFeature==="identities"&&T.prop(H.jointJsConfig.modelPath,g(H.value),{rewrite:!0});break;case ge.DATA_AGGREGATE:if(H.providedFeature==="dataAggregate-familyConfig"){let A=T.attr("label/textWrap/text");for(let D of H.tableRows)D.columns.included.checked?(r.graph.getCell(D.columns.included.id).attr("label/textWrap/text",A,{rewrite:!0}),r.graph.getCell(D.columns.included.id).prop("entity/assignedFamily",A,{rewrite:!0})):r.graph.getCell(D.columns.included.id).prop("entity/assignedFamily").localeCompare(A)===0&&(r.graph.getCell(D.columns.included.id).attr("label/textWrap/text","Data Aggregate",{rewrite:!0}),r.graph.getCell(D.columns.included.id).prop("entity/assignedFamily","",{rewrite:!0}));continue}break;case ge.BACKING_DATA:if(H.providedFeature==="backingData-familyConfig"){let A=T.attr("label/textWrap/text");for(let D of H.tableRows)D.columns.included.checked?(r.graph.getCell(D.columns.included.id).attr("label/textWrap/text",A,{rewrite:!0}),r.graph.getCell(D.columns.included.id).prop("entity",T.prop("entity"),{rewrite:!0}),r.graph.getCell(D.columns.included.id).prop("entity/assignedFamily",A,{rewrite:!0})):r.graph.getCell(D.columns.included.id).prop("entity/assignedFamily").localeCompare(A)===0&&(r.graph.getCell(D.columns.included.id).attr("label/textWrap/text","Backing Data",{rewrite:!0}),r.graph.getCell(D.columns.included.id).prop("entity/assignedFamily","",{rewrite:!0}));continue}else if(H.providedFeature==="backingData-includedData"&&(T.prop(H.jointJsConfig.modelPath,g(H.value),{rewrite:!0}),T.prop("entity/assignedFamily"))){const A=r.graph.getElements().filter(D=>D.prop("entity/type")===ge.BACKING_DATA&&D.prop("entity/assignedFamily").localeCompare(T.prop("entity/assignedFamily"))===0);for(const D of A)D.prop(H.jointJsConfig.modelPath,g(H.value),{rewrite:!0});continue}break;case ge.COMPONENT:case ge.SERVICE:case ge.BACKING_SERVICE:case ge.STORAGE_BACKING_SERVICE:case ge.PROXY_BACKING_SERVICE:case ge.BROKER_BACKING_SERVICE:if(H.providedFeature==="artifacts"){let A=new $T,D=H.value;for(const Z of D)if(Z.key){let ie=A.ensureUniqueness(Z.key);Z.key=ie}else{let ie=A.ensureUniqueness("artifact");Z.key=ie}T.prop(H.jointJsConfig.modelPath,D,{rewrite:!0})}else H.providedFeature==="identities"&&T.prop(H.jointJsConfig.modelPath,g(H.value),{rewrite:!0});break;case ge.ENDPOINT:case ge.EXTERNAL_ENDPOINT:if(H.providedFeature==="supported_authentication_methods"){let A=[];H.tableRows.forEach(D=>{D.columns.supported.checked&&A.push(D.columns.supported.id)}),T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0})}break;default:console.error("no custom handling for this property defined: "+H.providedFeature)}else if(H.jointJsConfig.propertyType==="relation")switch(T.prop("entity/type")){case ge.COMPONENT:case ge.SERVICE:case ge.BACKING_SERVICE:case ge.STORAGE_BACKING_SERVICE:case ge.PROXY_BACKING_SERVICE:case ge.BROKER_BACKING_SERVICE:if(H.providedFeature==="assigned_to_networks"){let A=[];H.tableRows.forEach(D=>{D.columns.assigned.checked&&A.push(D.columns.assigned.id)}),T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0})}else H.providedFeature==="externalIngressProxiedBy"?T.prop(H.jointJsConfig.modelPath,H.value,{rewrite:!0}):H.providedFeature==="ingressProxiedBy"?T.prop(H.jointJsConfig.modelPath,H.value,{rewrite:!0}):H.providedFeature==="egressProxiedBy"?T.prop(H.jointJsConfig.modelPath,H.value,{rewrite:!0}):H.providedFeature==="addressResolutionBy"?T.prop(H.jointJsConfig.modelPath,H.value,{rewrite:!0}):H.providedFeature==="authenticationBy"&&T.prop(H.jointJsConfig.modelPath,H.value,{rewrite:!0});break;case ge.INFRASTRUCTURE:if(H.providedFeature==="assigned_to_networks"){let A=[];H.tableRows.forEach(D=>{D.columns.assigned.checked&&A.push(D.columns.assigned.id)}),T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0})}break;case ge.ENDPOINT:case ge.EXTERNAL_ENDPOINT:if(H.providedFeature==="uses_data"){let A=H.tableRows.filter(D=>D.columns.included.checked).map(D=>D.columns.included.id);T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0});continue}else if(H.providedFeature==="allow_access_to"){let A=[];H.tableRows.forEach(D=>{D.columns.allowed.checked&&A.push(D.columns.allowed.id)}),T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0})}else if(H.providedFeature==="documentedBy"){let A=[];H.tableRows.forEach(D=>{D.columns.documenting.checked&&A.push(D.columns.documenting.id)}),T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0})}break;case ge.REQUEST_TRACE:if(H.providedFeature==="involved_links"){let A=[];H.tableRows.forEach(D=>{let Z=D.columns.included.id,ie=D.columns.included.value;A[ie]?A[ie].push(Z):A[ie]=[Z]}),T.prop(H.jointJsConfig.modelPath,A,{rewrite:!0});continue}else H.providedFeature==="referred_endpoint"&&T.prop(H.jointJsConfig.modelPath,H.value);break;case ge.BACKING_DATA:case ge.DATA_AGGREGATE:T.prop(H.jointJsConfig.modelPath,H.value);break;default:console.error("no custom handling for this property defined: "+H.providedFeature)}else console.error("unknown property type for: "+H.providedFeature)}}function B(Q){let H=new Set;return H.add("external account"),Q.getElements().forEach(g=>{let T=g.prop("entity/properties/identities");T&&Object.keys(T)&&Object.keys(T).length>0&&Object.keys(T).forEach(A=>{H.add(A)})}),Array.from(H)}function U(Q){let H=Q.value;if(typeof H=="string"&&!H)return!1;if(typeof H=="number"){if(Q.jointJsConfig.minPath){let g=r.selectedEntity.model.prop(Q.jointJsConfig.minPath);return H>=g}if(Q.attributes&&Q.attributes.min)return H>=Number(Q.attributes.min)}return!0}function K(Q,H,g){if(Q.providedFeature==="artifacts"&&H.key==="type"){let T=h(c.value,"artifacts"),A=Km.GeneralProperties.artifacts.options[0].attributes.listElementFields.length;T.attributes.listElementFields.splice(A,T.attributes.listElementFields.length).forEach(ie=>{delete T.newElementData[ie.getKey]}),f0(g).forEach(ie=>{T.newElementData[ie.getKey]=ie.value;let se={fieldType:ie.getDataType==="select"?"dropdown":ie.getDataType,key:ie.getKey,label:ie.getName,helpText:ie.getDescription,labelIcon:"fa-solid fa-sliders",placeholder:ie.getExample,value:ie.value};ie.getDataType==="select"&&(se.dropdownOptions=ie.getOptions.map(ue=>ue.value)),T.attributes.listElementFields.push(se)})}}return(Q,H)=>(ze(),He("div",Bre,[X("div",Lre,[H[2]||(H[2]=X("div",{id:"entityHighlightingTitle"},[X("h6",null,"Entity Highlighting")],-1)),X("form",Fre,[(ze(!0),He(Jt,null,An(d.value,g=>(ze(),He("fieldset",{id:g.entityType},[X("div",$re,[X("label",{for:g.entityType},[X("span",{innerHTML:g.svgRepresentation},null,8,Ure),yi(kt(g.labelText),1)],8,qre),Rn(X("select",{class:"entityHighlightingOption custom-select",id:g.selectId,disabled:g.options.length==1,"onUpdate:modelValue":T=>g.selectedOption=T,onChange:T=>y(g)},[(ze(!0),He(Jt,null,An(g.options,T=>(ze(),He("option",{value:T.optionValue},kt(T.optionText),9,Vre))),256))],40,Hre),[[wu,g.selectedOption]])])],8,zre))),256))]),Rn(X("div",Gre,[H[1]||(H[1]=X("div",{id:"otherEntityDetailsTitle"},[X("h6",null,"Entity Properties")],-1)),(ze(!0),He(Jt,null,An(c.value,g=>(ze(),He("div",{id:g.cardId,class:"detailsSidebar card"},[X("div",{class:"card-header",id:g.headerId},[X("h2",Kre,[X("button",{id:g.headerButtonId,class:Xn(["detailsSidebar-headlineButton btn btn-link btn-block text-left collapsed",{collapsed:!0}]),type:"button","data-bs-toggle":"collapse","data-bs-target":g.dataTargetId,"aria-expanded":"false","aria-controls":g.dataTarget},[X("i",{class:Xn(["detailsSidebar-iconHeadline",g.headlineIconClass])},null,2),yi(" "+kt(g.headline),1)],8,Yre)])],8,jre),X("div",{id:g.dataTarget,class:"collapse","aria-labelledby":g.headerId,"data-parent":"#entireDetailsAccordion"},[X("div",{id:g.cardBodyId,class:"card-body"},[g.groupId==="entity"?(ze(),He("p",Qre,H[0]||(H[0]=[X("i",{class:"fa-solid fa-info",style:{"margin-right":"10px"}},null,-1),yi(" Properties included here will not change any presentation details but provide additional information, which is especially relevant for a TOSCA transformation. ")]))):vn("",!0),_i(Dre,{groupId:g.groupId,cardBodyId:g.cardBodyId,propertyOptions:g.options,"onOn:EnterProperty":M,"onOn:ChangeFromDropdown":K},null,8,["groupId","cardBodyId","propertyOptions"])],8,Jre)],8,Xre)],8,Wre))),256))],512),[[La,!!ci(s)]])])]))}}),u6={Component:{index:1,shape:new DA({position:{x:20,y:26},size:{width:100,height:45},attrs:{root:{title:"cna.qualityModel.Component"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Component"}}}})},Service:{index:2,shape:new BA({position:{x:145,y:18},size:{width:80,height:45},attrs:{root:{title:"cna.qualityModel.Service"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Service"}}}})},BackingService:{index:3,shape:new LA({position:{x:20,y:90},size:{width:90,height:90},attrs:{root:{title:"cna.qualityModel.BackingService"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Backing Service"}}}})},StorageBackingService:{index:4,shape:new zA({position:{x:145,y:100},size:{width:80,height:60},attrs:{root:{title:"cna.qualityModel.StorageBackingService"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Storage Backing Service"}}}})},ProxyBackingService:{index:5,shape:new FA({position:{x:20,y:170},size:{width:90,height:90},attrs:{root:{title:"cna.qualityModel.ProxyBackingService"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Proxy Backing Service"}}}})},BrokerBackingService:{index:6,shape:new $A({position:{x:140,y:175},size:{width:90,height:60},attrs:{root:{title:"cna.qualityModel.BrokerBackingService"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Broker Backing Service"}}}})},Endpoint:{index:7,shape:new qA({position:{x:41,y:252},size:{width:55,height:55},attrs:{root:{title:"cna.qualityModel.Endpoint"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{width:"115%",text:"Endpoint"}}}})},ExternalEndpoint:{index:8,shape:new UA({position:{x:155,y:252},size:{width:55,height:55},attrs:{root:{title:"cna.qualityModel.ExternalEndpoint"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{width:"115%",text:"External Endpoint"}}}})},Infrastructure:{index:9,shape:new HA({position:{x:20,y:334},size:{width:100,height:45},attrs:{root:{title:"cna.qualityModel.Infrastructure"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Infrastructure"}}}})},DataAggregate:{index:10,shape:new GA({position:{x:140,y:338},size:{width:45,height:25},attrs:{root:{title:"cna.qualityModel.DataAggregate"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Data Aggregate"}}}})},RequestTrace:{index:11,shape:new VA({position:{x:18,y:418},size:{width:110,height:45},attrs:{root:{title:"cna.qualityModel.RequestTrace"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Request Trace"}}}})},BackingData:{index:12,shape:new WA({position:{x:147,y:426},size:{width:80,height:27},attrs:{root:{title:"cna.qualityModel.BackingData"},body:{class:"entityHighlighting"},label:{fontSize:11,textWrap:{text:"Backing Data"}}}})},Link:{index:13,shape:new _1({source:{x:20,y:504},target:{x:120,y:504},labels:[{attrs:{rect:{fill:"none"},text:{text:"Link"}},position:{ref:"text",offset:18}}],attrs:{root:{title:"cna.qualityModel.Link"},wrapper:{cursor:"move",class:"sidebarConnection"}}})},DeploymentMapping:{index:14,shape:new C1({source:{x:145,y:504},target:{x:225,y:504},labels:[{attrs:{rect:{fill:"none"},text:{text:WE("Deployment Mapping",{width:100})}},position:{ref:"text",offset:22}}],attrs:{root:{title:"cna.qualityModel.DeploymentMapping"},wrapper:{cursor:"move",class:"sidebarConnection"}}})},Network:{index:15,shape:new jA({position:{x:35,y:550},size:{width:60,height:60},attrs:{root:{title:"cna.qualityModel.Network"},body:{class:"entityHighlighting",fill:"transparent"},label:{fontSize:11,textWrap:{text:"Network"}}}})}},eae={class:"entitySidebar"},tae=["id"],nae=wa({__name:"EntitySidebar",props:{paper:{},pageId:{},wrapperElementId:{}},setup(e){const t=e,n=`entityShapesPaper-${t.pageId}`,i=new Gf,r=ln("darkorange"),a=ln("darkorange"),o=ln(!1);zc(()=>{let d=Ml(`#${t.wrapperElementId}`).first();const p=d&&d.innerWidth()&&d.innerWidth()>0?d.innerWidth():245,y=d&&d.innerHeight()&&d.innerHeight()>0?d.innerHeight():600;r.value=getComputedStyle(document.documentElement).getPropertyValue("--entitySidebar-highlighting-colour")??"darkorange",a.value=getComputedStyle(document.documentElement).getPropertyValue("--entitySidebar-textHighlighting-colour")??"darkorange";let S=y-Ml(`#${t.wrapperElementId}-headline`).first().outerHeight(),_=Ml(`#${t.wrapperElementId}`).first().css("backgroundColor").split(","),I=_[0].concat(",",_[1]).concat(",",_[2]).concat(", ","0)"),M=new JE({el:Ml(`#${n}`),width:Math.floor(p)>=244?Math.floor(p):244,height:Math.floor(S)>=547?Math.floor(S):547,gridSize:10,drawGrid:!1,model:i,embeddingMode:!1,background:{color:I},interactive:!1,cellViewNamespace:w1});M.render(),M.on("cell:mouseenter",c),M.on("cell:mouseleave",h),M.on("element:pointerclick",s),M.on("requestTrace:icon:pointerclick",s),M.on("link:pointerclick",l),M.on("cell:pointermove",(B,U,K)=>{o.value=!0}),Object.keys(u6).forEach(B=>{i.addCell(u6[B].shape)})});function s(d){let p=i.getCell(d.model.id),y=p.clone();y.attr("label/fontSize",p.prop("defaults/fontSize")),y.attr("body/fill",p.prop("defaults/fill")),y.removeAttr("root/title"),y.position(30,20);let S=t.paper.model.addCell(y).getCell(y.id);XA(S,t.paper),t.paper.requireView(S),S.resize(p.prop("defaults/size/width"),p.prop("defaults/size/height"))}function l(d){let y=i.getCell(d.model.id).clone();y.attr("wrapper/cursor","pointer"),y.attr("wrapper/class","modelingArea-Connection"),y.attr("line/stroke","black"),y.removeAttr("root/title"),y.removeLabel(-1),y.prop("source",{x:30,y:30}),y.prop("target",{x:130,y:30}),t.paper.model.addCell(y);let S=new O9(!0);var _=y.findView(t.paper);_.addTools(S)}function c(d){if(d.model.isLink()){d.model.attr("line/stroke",r.value),d.model.attr("text/fill",r.value);return}d.$el.addClass("highlightEntity")}function h(d){if(d.model.isLink()){d.model.attr("line/stroke","black"),d.model.attr("text/fill","black");return}d.$el.removeClass("highlightEntity")}return(d,p)=>(ze(),He("div",eae,[X("div",{id:`${d.wrapperElementId}-headline`,class:"user-select-none entityShapes-headline sticky-top"},p[0]||(p[0]=[X("div",{class:"entityShapes-icon"},[X("i",{class:"fa-solid fa-shapes"})],-1),X("div",{class:"entityShapes-text"},[X("span",{class:""},"Entity Shapes")],-1)]),8,tae),X("div",{class:"entityShapes-container"},[X("div",{id:n,class:"entityShapes-paper"})])]))}}),iae={id:"app"},rae={class:"app-body"},aae=["id"],oae={class:"visible-modeling-area"},d6=wa({__name:"ModelingApp",props:{systemName:{},systemId:{},pageId:{},modelingData:{}},emits:["update:systemName","store:modelingData"],setup(e,{emit:t}){const n=e,i=t,r=ln(n.systemName);function a(de){de&&(r.value=de,i("update:systemName",r.value,n.pageId))}function o(de){i("store:modelingData",n.modelingData.id,l,n.modelingData.toImport,n.modelingData.importDone,de)}const s=ln(n.modelingData.entityManager?n.modelingData.entityManager.getGraph():new Gf({},{cellNamespace:w1})),l=(()=>{if(n.modelingData.entityManager)return n.modelingData.entityManager;{const de=new UT(s.value,n.systemId);return i("store:modelingData",n.modelingData.id,de,n.modelingData.toImport,!0,n.modelingData.appSettings),new UT(s.value,n.systemId)}})(),c=ln(),h=ln(),d=ln(),p=ln(!1),y=ln("none"),S=ln("none"),_=ln(KA());zc(()=>{let de;n.modelingData.toImport.fileName&&(n.modelingData.toImport.fileName.endsWith("json")?de=B(n.modelingData.toImport.fileContent,n.modelingData.toImport.fileName,"replace"):(n.modelingData.toImport.fileName.endsWith("yaml")||n.modelingData.toImport.fileName.endsWith("yml")||n.modelingData.toImport.fileName.endsWith("tosca"))&&(de=Q(n.modelingData.toImport.fileContent,n.modelingData.toImport.fileName,"replace")),de.then(()=>{i("store:modelingData",n.modelingData.id,l,{fileName:"",fileContent:""},!0,n.modelingData.appSettings)}))});function I(){c.value.trigger("blank:pointerdown"),h.value=null,s.value.trigger("resetHighlighting"),A()}function M(de,F){_.value={show:!0,dialogMetaData:{dialogSize:Zi.DEFAULT,header:{iconClass:"fa-solid fa-question",svgRepresentation:"",text:"Replace or merge?"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"",buttonText:"Merge"},{buttonIconClass:"",buttonText:"Replace"}]}},confirmationPrompt:"Do you want to replace the current model with the imported model or merge the imported model into the current model?",onCancel:()=>_.value.show=!1,actions:[function(){_.value.show=!1,l.getSystemEntity(),B(de,F,"merge")},function(){_.value.show=!1,B(de,F,"replace")}]}}function B(de,F,$){I();let W=l.loadFromJson(de,F,$);return W.error?(H("Import from JSON failed",W.error),Promise.resolve()):(a(l.getSystemEntity().getSystemName),GT(W.createdCells,c.value).then(J=>I()))}function U(){I();let de=l.convertToJson();Ym(JSON.stringify(de),"text/plain",`${r.value}.json`)}function K(de,F){_.value={show:!0,dialogMetaData:{dialogSize:Zi.DEFAULT,header:{iconClass:"fa-solid fa-question",svgRepresentation:"",text:"Replace or merge?"},footer:{showCancelButton:!0,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"",buttonText:"Merge"},{buttonIconClass:"",buttonText:"Replace"}]}},confirmationPrompt:"Do you want to replace the current model with the imported model or merge the imported model into the current model?",onCancel:()=>_.value.show=!1,actions:[function(){_.value.show=!1,l.getSystemEntity(),Q(de,F,"merge")},function(){_.value.show=!1,Q(de,F,"replace")}]}}function Q(de,F,$){I();let W=l.loadFromCustomTosca(n.systemId,de,F,$);return W.error?(H("Import from TOSCA failed",W.error),Promise.resolve()):(a(l.getSystemEntity().getSystemName),GT(W.createdCells,c.value).then(J=>I()))}function H(de,F){_.value={show:!0,dialogMetaData:{dialogSize:Zi.DEFAULT,header:{iconClass:"fa-solid fa-triangle-exclamation",svgRepresentation:"",text:de},footer:{showCancelButton:!1,cancelButtonText:"Cancel",actionButtons:[{buttonIconClass:"",buttonText:"OK"}]}},confirmationPrompt:F,onCancel:()=>_.value.show=!1,actions:[function(){_.value.show=!1}]}}function g(){let de=l.convertToCustomTosca();function F(){Ym(de.tosca,"text/plain",`${r.value}.yaml`)}de.errors.length>0?_.value={show:!0,dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-solid fa-triangle-exclamation",svgRepresentation:"",text:"Warning"},footer:{showCancelButton:!0,cancelButtonText:"No, cancel export",actionButtons:[{buttonIconClass:"",buttonText:"Yes, export anyway"}]}},confirmationPrompt:`Problems detected while preparing the export:
            <ul>
                <li> ${de.errors.join(`</li>
<li>`)} </li>
            </ul>
            Are you sure you want to export?
            `,onCancel:()=>_.value.show=!1,actions:[function(){_.value.show=!1,F()}]}:F()}function T(de){d.value=de,D(de);const F=[];de.prop("entity/relations/involved_links")&&F.push(...de.prop("entity/relations/involved_links").flat());let $=new Set(F);if($.add(de.id.toString()),$.add(de.prop("entity/relations/referred_endpoint")),de.prop("entity/relations/referred_endpoint")&&de.prop("entity/relations/referred_endpoint").length>0){let J=s.value.getCell(de.prop("entity/relations/referred_endpoint"));if(J.prop("entity/relations/uses_data"))for(const G of J.prop("entity/relations/uses_data"))$.add(s.value.getCell(G).id.toString())}if(F&&F.length>0)for(const J of F){const G=s.value.getCell(J);if($.add(G.getTargetElement().id.toString()),$.add(G.getTargetElement().parent()),$.add(G.getSourceElement().id.toString()),G.getTargetElement().prop("entity/relations/uses_data"))for(const le of G.getTargetElement().prop("entity/relations/uses_data"))$.add(s.value.getCell(le).id.toString())}const W=s.value.getCells();for(const J of W)$.has(J.id.toString())||(J.attr("root/visibility","hidden",{isolate:!0}),J.attr("icon/visibility","hidden",{isolate:!0}))}function A(){d.value?Z(d.value):s.value.getElements().filter(F=>F.prop("entity/type")===ge.REQUEST_TRACE).forEach(F=>{Z(F)}),d.value=null;const de=s.value.getCells();for(const F of de)(!F.prop("parentCollapsed")||F.prop("parentCollapsed")===!1)&&F.attr("root/visibility","visible",{isolate:!0}),(F.attr("collapsed")===!0||F.prop("entity/type")===ge.REQUEST_TRACE)&&F.attr("icon/visibility","visible",{isolate:!0})}function D(de){de.prop("collapsed",!1),de.attr("icon/visibility","hidden"),de.attr("body/fill","gold")}function Z(de){de.prop("collapsed",!0),de.attr("icon/visibility","visible"),de.attr("body/fill","white")}function ie(){p.value=!0,fS(function(){window.print(),p.value=!1})}function se(){let de=Ml(`#model${n.pageId}`),F=de.find("svg").clone()[0];F.setAttribute("xmlns","http://www.w3.org/2000/svg");let W=de.find(".joint-cells-layer")[0].getBoundingClientRect();F.setAttribute("viewBox",`0 0 ${W.x+W.width} ${W.y+W.height}`),F.getElementsByClassName("joint-grid-layer")[0].remove(),F.getElementsByClassName("joint-tools-layer")[0].remove();let J=F.getElementsByTagName("g"),G=[];for(const Ie of J)Ie.getAttribute("id")&&Ie.getAttribute("visibility")==="hidden"&&G.push(Ie.getAttribute("id"));G.push(...Array.from(F.getElementsByTagName("image")).filter(Ie=>Ie.getAttribute("id")).map(Ie=>Ie.getAttribute("id")));for(const Ie of G)F.getElementById(Ie)&&F.getElementById(Ie).remove();let le=F.outerHTML;le=le.replaceAll("&nbsp;"," "),Ym(le,"image/svg+xml",`${r.value}.svg`)}function ue(){let de=l.validateModeledSystem();de.length>0?_.value={show:!0,dialogMetaData:{dialogSize:Zi.LARGE,header:{iconClass:"fa-solid fa-triangle-exclamation",svgRepresentation:"",text:"Warning"},footer:{showCancelButton:!1,cancelButtonText:"",actionButtons:[{buttonIconClass:"",buttonText:"OK"}]}},confirmationPrompt:`The following problems were detected while validating the modeled system:
            <ul>
                <li> ${de.join(`</li>
<li>`)} </li>
            </ul>
            `,onCancel:()=>_.value.show=!1,actions:[function(){_.value.show=!1}]}:_.value={show:!0,dialogMetaData:{dialogSize:Zi.DEFAULT,header:{iconClass:"fa-solid fa-circle-check",svgRepresentation:"",text:"Validation passed."},footer:{showCancelButton:!1,cancelButtonText:"",actionButtons:[{buttonIconClass:"",buttonText:"OK"}]}},confirmationPrompt:"No problems were detected while validating the modeled system!",onCancel:()=>_.value.show=!1,actions:[function(){_.value.show=!1}]}}return(de,F)=>(ze(),He("div",iae,[(ze(),Bc(die,{"system-name":r.value,key:r.value,paper:c.value,graph:s.value,selectedRequestTrace:d.value,appSettings:de.modelingData?de.modelingData.appSettings:ci(Sx)(),"onUpdate:systemName":a,"onUpdate:appSettings":o,"onClick:exitRequestTraceView":A,"onClick:printActivePaper":ie,"onClick:exportSvg":se,"onClick:validate":ue,"onLoad:fromJson":M,"onSave:toJson":U,"onLoad:fromTosca":K,"onSave:toTosca":g,"onRequest:reloadFromJson":F[0]||(F[0]=($,W)=>{B($,W,"replace")})},null,8,["system-name","paper","graph","selectedRequestTrace","appSettings"])),X("div",rae,[X("div",{id:`entity-sidebar-${de.pageId}`,class:"entityShapes-sidebar-container d-print-none"},[_i(nae,{paper:c.value,pageId:`model${de.pageId}`,wrapperElementId:`entity-sidebar-${de.pageId}`},null,8,["paper","pageId","wrapperElementId"])],8,aae),X("div",oae,[_i(Tie,{pageId:`model${de.pageId}`,graph:s.value,paper:c.value,"onUpdate:paper":F[1]||(F[1]=$=>c.value=$),currentElementSelection:h.value,currentRequestTraceSelection:d.value,printing:p.value,appSettings:de.modelingData?de.modelingData.appSettings:ci(Sx)(),"onSelect:Element":F[2]||(F[2]=$=>h.value=$),"onSelect:RequestTrace":T,"onDeselect:Element":F[3]||(F[3]=$=>h.value=null),"onDeselect:RequestTrace":A},null,8,["pageId","graph","paper","currentElementSelection","currentRequestTraceSelection","printing","appSettings"])]),_i(Zre,{paper:c.value,graph:s.value,selectedEntity:h.value,selectedDataAggregate:y.value,selectedBackingData:S.value},null,8,["paper","graph","selectedEntity","selectedDataAggregate","selectedBackingData"])]),_i(YA,I2(vS(_.value)),null,16)]))}});class As{constructor(t,n,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=i}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new As(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class il{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new il(n,As.range(this,t))}}class wt{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+t,r,a,o=n&&n.loc;if(o&&o.start<=o.end){var s=o.lexer.input;r=o.start,a=o.end,r===s.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var l=s.slice(r,a).replace(/[^]/g,"$&̲"),c;r>15?c="…"+s.slice(r-15,r):c=s.slice(0,r);var h;a+15<s.length?h=s.slice(a,a+15)+"…":h=s.slice(a),i+=c+l+h}var d=new Error(i);return d.name="ParseError",d.__proto__=wt.prototype,d.position=r,r!=null&&a!=null&&(d.length=a-r),d.rawMessage=t,d}}wt.prototype.__proto__=Error.prototype;var sae=function(t,n){return t.indexOf(n)!==-1},lae=function(t,n){return t===void 0?n:t},cae=/([A-Z])/g,uae=function(t){return t.replace(cae,"-$1").toLowerCase()},dae={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},hae=/[&><"']/g;function fae(e){return String(e).replace(hae,t=>dae[t])}var P9=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},pae=function(t){var n=P9(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},gae=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},mae=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},un={contains:sae,deflt:lae,escape:fae,hyphenate:uae,getBaseElem:P9,isCharacterBox:pae,protocolFromUrl:mae},Xm={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function yae(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class JA{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Xm)if(Xm.hasOwnProperty(n)){var i=Xm[n];this[n]=t[n]!==void 0?i.processor?i.processor(t[n]):t[n]:yae(i)}}reportNonstrict(t,n,i){var r=this.strict;if(typeof r=="function"&&(r=r(t,n,i)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new wt("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),i);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,i){var r=this.strict;if(typeof r=="function")try{r=r(t,n,i)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=un.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var i=typeof this.trust=="function"?this.trust(t):this.trust;return!!i}}class Sd{constructor(t,n,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=i}sup(){return xc[vae[this.id]]}sub(){return xc[bae[this.id]]}fracNum(){return xc[Eae[this.id]]}fracDen(){return xc[xae[this.id]]}cramp(){return xc[Sae[this.id]]}text(){return xc[_ae[this.id]]}isTight(){return this.size>=2}}var QA=0,_x=1,gg=2,Pu=3,wy=4,el=5,p0=6,Mo=7,xc=[new Sd(QA,0,!1),new Sd(_x,0,!0),new Sd(gg,1,!1),new Sd(Pu,1,!0),new Sd(wy,2,!1),new Sd(el,2,!0),new Sd(p0,3,!1),new Sd(Mo,3,!0)],vae=[wy,el,wy,el,p0,Mo,p0,Mo],bae=[el,el,el,el,Mo,Mo,Mo,Mo],Eae=[gg,Pu,wy,el,p0,Mo,p0,Mo],xae=[Pu,Pu,el,el,Mo,Mo,Mo,Mo],Sae=[_x,_x,Pu,Pu,el,el,Mo,Mo],_ae=[QA,_x,gg,Pu,gg,Pu,gg,Pu],pn={DISPLAY:xc[QA],TEXT:xc[gg],SCRIPT:xc[wy],SCRIPTSCRIPT:xc[p0]},WT=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Cae(e){for(var t=0;t<WT.length;t++)for(var n=WT[t],i=0;i<n.blocks.length;i++){var r=n.blocks[i];if(e>=r[0]&&e<=r[1])return n.name}return null}var SE=[];WT.forEach(e=>e.blocks.forEach(t=>SE.push(...t)));function M9(e){for(var t=0;t<SE.length;t+=2)if(e>=SE[t]&&e<=SE[t+1])return!0;return!1}var Vp=80,wae=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},Tae=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},Aae=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},kae=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},Iae=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},Oae=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},Pae=function(t,n,i){var r=i-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},Mae=function(t,n,i){n=1e3*n;var r="";switch(t){case"sqrtMain":r=wae(n,Vp);break;case"sqrtSize1":r=Tae(n,Vp);break;case"sqrtSize2":r=Aae(n,Vp);break;case"sqrtSize3":r=kae(n,Vp);break;case"sqrtSize4":r=Iae(n,Vp);break;case"sqrtTall":r=Pae(n,Vp,i)}return r},Nae=function(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},h6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Rae=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let T1=class{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return un.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}};var wc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},qb={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},f6={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function N9(e,t){wc[e]=t}function ZA(e,t,n){if(!wc[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),r=wc[t][i];if(!r&&e[0]in f6&&(i=f6[e[0]].charCodeAt(0),r=wc[t][i]),!r&&n==="text"&&M9(i)&&(r=wc[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var Ew={};function Dae(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Ew[t]){var n=Ew[t]={cssEmPerMu:qb.quad[t]/18};for(var i in qb)qb.hasOwnProperty(i)&&(n[i]=qb[i][t])}return Ew[t]}var Bae=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],p6=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],g6=function(t,n){return n.size<2?t:Bae[t-1][n.size-1]};class Eu{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Eu.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=p6[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return new Eu(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:g6(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:p6[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=g6(Eu.BASESIZE,t);return this.size===n&&this.textSize===Eu.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Eu.BASESIZE?["sizing","reset-size"+this.size,"size"+Eu.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Dae(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Eu.BASESIZE=6;var jT={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Lae={ex:!0,em:!0,mu:!0},R9=function(t){return typeof t!="string"&&(t=t.unit),t in jT||t in Lae||t==="ex"},_r=function(t,n){var i;if(t.unit in jT)i=jT[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")i=n.fontMetrics().cssEmPerMu;else{var r;if(n.style.isTight()?r=n.havingStyle(n.style.text()):r=n,t.unit==="ex")i=r.fontMetrics().xHeight;else if(t.unit==="em")i=r.fontMetrics().quad;else throw new wt("Invalid unit: '"+t.unit+"'");r!==n&&(i*=r.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*i,n.maxSize)},Mt=function(t){return+t.toFixed(4)+"em"},ih=function(t){return t.filter(n=>n).join(" ")},D9=function(t,n,i){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},n){n.style.isTight()&&this.classes.push("mtight");var r=n.getColor();r&&(this.style.color=r)}},B9=function(t){var n=document.createElement(t);n.className=ih(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(n.style[i]=this.style[i]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},Fae=/[\s"'>/=\x00-\x1f]/,L9=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+un.escape(ih(this.classes))+'"');var i="";for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=un.hyphenate(r)+":"+this.style[r]+";");i&&(n+=' style="'+un.escape(i)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(Fae.test(a))throw new wt("Invalid attribute name '"+a+"'");n+=" "+a+'="'+un.escape(this.attributes[a])+'"'}n+=">";for(var o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n+="</"+t+">",n};class A1{constructor(t,n,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,D9.call(this,t,i,r),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return un.contains(this.classes,t)}toNode(){return B9.call(this,"span")}toMarkup(){return L9.call(this,"span")}}class e4{constructor(t,n,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,D9.call(this,n,r),this.children=i||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return un.contains(this.classes,t)}toNode(){return B9.call(this,"a")}toMarkup(){return L9.call(this,"a")}}class zae{constructor(t,n,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=i}hasClass(t){return un.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+un.escape(this.src)+'"'+(' alt="'+un.escape(this.alt)+'"'),n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=un.hyphenate(i)+":"+this.style[i]+";");return n&&(t+=' style="'+un.escape(n)+'"'),t+="'/>",t}}var $ae={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class sl{constructor(t,n,i,r,a,o,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=i||0,this.italic=r||0,this.skew=a||0,this.width=o||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var c=Cae(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=$ae[this.text])}hasClass(t){return un.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Mt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=ih(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(n=n||document.createElement("span"),n.style[i]=this.style[i]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=un.escape(ih(this.classes)),n+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=un.hyphenate(r)+":"+this.style[r]+";");i&&(t=!0,n+=' style="'+un.escape(i)+'"');var a=un.escape(this.text);return t?(n+=">",n+=a,n+="</span>",n):a}}class Bu{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+un.escape(this.attributes[n])+'"');t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</svg>",t}}class rh{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",h6[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+un.escape(this.alternate)+'"/>':'<path d="'+un.escape(h6[this.pathName])+'"/>'}}class KT{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+un.escape(this.attributes[n])+'"');return t+="/>",t}}function m6(e){if(e instanceof sl)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function qae(e){if(e instanceof A1)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var Uae={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Hae={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},sr={math:{},text:{}};function w(e,t,n,i,r,a){sr[e][r]={font:t,group:n,replace:i},a&&i&&(sr[e][i]=sr[e][r])}var N="math",bt="text",j="main",ye="ams",gr="accent-token",Yt="bin",Fo="close",M0="inner",fn="mathord",ea="op-token",Bs="open",i_="punct",xe="rel",Uu="spacing",Ne="textord";w(N,j,xe,"≡","\\equiv",!0);w(N,j,xe,"≺","\\prec",!0);w(N,j,xe,"≻","\\succ",!0);w(N,j,xe,"∼","\\sim",!0);w(N,j,xe,"⊥","\\perp");w(N,j,xe,"⪯","\\preceq",!0);w(N,j,xe,"⪰","\\succeq",!0);w(N,j,xe,"≃","\\simeq",!0);w(N,j,xe,"∣","\\mid",!0);w(N,j,xe,"≪","\\ll",!0);w(N,j,xe,"≫","\\gg",!0);w(N,j,xe,"≍","\\asymp",!0);w(N,j,xe,"∥","\\parallel");w(N,j,xe,"⋈","\\bowtie",!0);w(N,j,xe,"⌣","\\smile",!0);w(N,j,xe,"⊑","\\sqsubseteq",!0);w(N,j,xe,"⊒","\\sqsupseteq",!0);w(N,j,xe,"≐","\\doteq",!0);w(N,j,xe,"⌢","\\frown",!0);w(N,j,xe,"∋","\\ni",!0);w(N,j,xe,"∝","\\propto",!0);w(N,j,xe,"⊢","\\vdash",!0);w(N,j,xe,"⊣","\\dashv",!0);w(N,j,xe,"∋","\\owns");w(N,j,i_,".","\\ldotp");w(N,j,i_,"⋅","\\cdotp");w(N,j,Ne,"#","\\#");w(bt,j,Ne,"#","\\#");w(N,j,Ne,"&","\\&");w(bt,j,Ne,"&","\\&");w(N,j,Ne,"ℵ","\\aleph",!0);w(N,j,Ne,"∀","\\forall",!0);w(N,j,Ne,"ℏ","\\hbar",!0);w(N,j,Ne,"∃","\\exists",!0);w(N,j,Ne,"∇","\\nabla",!0);w(N,j,Ne,"♭","\\flat",!0);w(N,j,Ne,"ℓ","\\ell",!0);w(N,j,Ne,"♮","\\natural",!0);w(N,j,Ne,"♣","\\clubsuit",!0);w(N,j,Ne,"℘","\\wp",!0);w(N,j,Ne,"♯","\\sharp",!0);w(N,j,Ne,"♢","\\diamondsuit",!0);w(N,j,Ne,"ℜ","\\Re",!0);w(N,j,Ne,"♡","\\heartsuit",!0);w(N,j,Ne,"ℑ","\\Im",!0);w(N,j,Ne,"♠","\\spadesuit",!0);w(N,j,Ne,"§","\\S",!0);w(bt,j,Ne,"§","\\S");w(N,j,Ne,"¶","\\P",!0);w(bt,j,Ne,"¶","\\P");w(N,j,Ne,"†","\\dag");w(bt,j,Ne,"†","\\dag");w(bt,j,Ne,"†","\\textdagger");w(N,j,Ne,"‡","\\ddag");w(bt,j,Ne,"‡","\\ddag");w(bt,j,Ne,"‡","\\textdaggerdbl");w(N,j,Fo,"⎱","\\rmoustache",!0);w(N,j,Bs,"⎰","\\lmoustache",!0);w(N,j,Fo,"⟯","\\rgroup",!0);w(N,j,Bs,"⟮","\\lgroup",!0);w(N,j,Yt,"∓","\\mp",!0);w(N,j,Yt,"⊖","\\ominus",!0);w(N,j,Yt,"⊎","\\uplus",!0);w(N,j,Yt,"⊓","\\sqcap",!0);w(N,j,Yt,"∗","\\ast");w(N,j,Yt,"⊔","\\sqcup",!0);w(N,j,Yt,"◯","\\bigcirc",!0);w(N,j,Yt,"∙","\\bullet",!0);w(N,j,Yt,"‡","\\ddagger");w(N,j,Yt,"≀","\\wr",!0);w(N,j,Yt,"⨿","\\amalg");w(N,j,Yt,"&","\\And");w(N,j,xe,"⟵","\\longleftarrow",!0);w(N,j,xe,"⇐","\\Leftarrow",!0);w(N,j,xe,"⟸","\\Longleftarrow",!0);w(N,j,xe,"⟶","\\longrightarrow",!0);w(N,j,xe,"⇒","\\Rightarrow",!0);w(N,j,xe,"⟹","\\Longrightarrow",!0);w(N,j,xe,"↔","\\leftrightarrow",!0);w(N,j,xe,"⟷","\\longleftrightarrow",!0);w(N,j,xe,"⇔","\\Leftrightarrow",!0);w(N,j,xe,"⟺","\\Longleftrightarrow",!0);w(N,j,xe,"↦","\\mapsto",!0);w(N,j,xe,"⟼","\\longmapsto",!0);w(N,j,xe,"↗","\\nearrow",!0);w(N,j,xe,"↩","\\hookleftarrow",!0);w(N,j,xe,"↪","\\hookrightarrow",!0);w(N,j,xe,"↘","\\searrow",!0);w(N,j,xe,"↼","\\leftharpoonup",!0);w(N,j,xe,"⇀","\\rightharpoonup",!0);w(N,j,xe,"↙","\\swarrow",!0);w(N,j,xe,"↽","\\leftharpoondown",!0);w(N,j,xe,"⇁","\\rightharpoondown",!0);w(N,j,xe,"↖","\\nwarrow",!0);w(N,j,xe,"⇌","\\rightleftharpoons",!0);w(N,ye,xe,"≮","\\nless",!0);w(N,ye,xe,"","\\@nleqslant");w(N,ye,xe,"","\\@nleqq");w(N,ye,xe,"⪇","\\lneq",!0);w(N,ye,xe,"≨","\\lneqq",!0);w(N,ye,xe,"","\\@lvertneqq");w(N,ye,xe,"⋦","\\lnsim",!0);w(N,ye,xe,"⪉","\\lnapprox",!0);w(N,ye,xe,"⊀","\\nprec",!0);w(N,ye,xe,"⋠","\\npreceq",!0);w(N,ye,xe,"⋨","\\precnsim",!0);w(N,ye,xe,"⪹","\\precnapprox",!0);w(N,ye,xe,"≁","\\nsim",!0);w(N,ye,xe,"","\\@nshortmid");w(N,ye,xe,"∤","\\nmid",!0);w(N,ye,xe,"⊬","\\nvdash",!0);w(N,ye,xe,"⊭","\\nvDash",!0);w(N,ye,xe,"⋪","\\ntriangleleft");w(N,ye,xe,"⋬","\\ntrianglelefteq",!0);w(N,ye,xe,"⊊","\\subsetneq",!0);w(N,ye,xe,"","\\@varsubsetneq");w(N,ye,xe,"⫋","\\subsetneqq",!0);w(N,ye,xe,"","\\@varsubsetneqq");w(N,ye,xe,"≯","\\ngtr",!0);w(N,ye,xe,"","\\@ngeqslant");w(N,ye,xe,"","\\@ngeqq");w(N,ye,xe,"⪈","\\gneq",!0);w(N,ye,xe,"≩","\\gneqq",!0);w(N,ye,xe,"","\\@gvertneqq");w(N,ye,xe,"⋧","\\gnsim",!0);w(N,ye,xe,"⪊","\\gnapprox",!0);w(N,ye,xe,"⊁","\\nsucc",!0);w(N,ye,xe,"⋡","\\nsucceq",!0);w(N,ye,xe,"⋩","\\succnsim",!0);w(N,ye,xe,"⪺","\\succnapprox",!0);w(N,ye,xe,"≆","\\ncong",!0);w(N,ye,xe,"","\\@nshortparallel");w(N,ye,xe,"∦","\\nparallel",!0);w(N,ye,xe,"⊯","\\nVDash",!0);w(N,ye,xe,"⋫","\\ntriangleright");w(N,ye,xe,"⋭","\\ntrianglerighteq",!0);w(N,ye,xe,"","\\@nsupseteqq");w(N,ye,xe,"⊋","\\supsetneq",!0);w(N,ye,xe,"","\\@varsupsetneq");w(N,ye,xe,"⫌","\\supsetneqq",!0);w(N,ye,xe,"","\\@varsupsetneqq");w(N,ye,xe,"⊮","\\nVdash",!0);w(N,ye,xe,"⪵","\\precneqq",!0);w(N,ye,xe,"⪶","\\succneqq",!0);w(N,ye,xe,"","\\@nsubseteqq");w(N,ye,Yt,"⊴","\\unlhd");w(N,ye,Yt,"⊵","\\unrhd");w(N,ye,xe,"↚","\\nleftarrow",!0);w(N,ye,xe,"↛","\\nrightarrow",!0);w(N,ye,xe,"⇍","\\nLeftarrow",!0);w(N,ye,xe,"⇏","\\nRightarrow",!0);w(N,ye,xe,"↮","\\nleftrightarrow",!0);w(N,ye,xe,"⇎","\\nLeftrightarrow",!0);w(N,ye,xe,"△","\\vartriangle");w(N,ye,Ne,"ℏ","\\hslash");w(N,ye,Ne,"▽","\\triangledown");w(N,ye,Ne,"◊","\\lozenge");w(N,ye,Ne,"Ⓢ","\\circledS");w(N,ye,Ne,"®","\\circledR");w(bt,ye,Ne,"®","\\circledR");w(N,ye,Ne,"∡","\\measuredangle",!0);w(N,ye,Ne,"∄","\\nexists");w(N,ye,Ne,"℧","\\mho");w(N,ye,Ne,"Ⅎ","\\Finv",!0);w(N,ye,Ne,"⅁","\\Game",!0);w(N,ye,Ne,"‵","\\backprime");w(N,ye,Ne,"▲","\\blacktriangle");w(N,ye,Ne,"▼","\\blacktriangledown");w(N,ye,Ne,"■","\\blacksquare");w(N,ye,Ne,"⧫","\\blacklozenge");w(N,ye,Ne,"★","\\bigstar");w(N,ye,Ne,"∢","\\sphericalangle",!0);w(N,ye,Ne,"∁","\\complement",!0);w(N,ye,Ne,"ð","\\eth",!0);w(bt,j,Ne,"ð","ð");w(N,ye,Ne,"╱","\\diagup");w(N,ye,Ne,"╲","\\diagdown");w(N,ye,Ne,"□","\\square");w(N,ye,Ne,"□","\\Box");w(N,ye,Ne,"◊","\\Diamond");w(N,ye,Ne,"¥","\\yen",!0);w(bt,ye,Ne,"¥","\\yen",!0);w(N,ye,Ne,"✓","\\checkmark",!0);w(bt,ye,Ne,"✓","\\checkmark");w(N,ye,Ne,"ℶ","\\beth",!0);w(N,ye,Ne,"ℸ","\\daleth",!0);w(N,ye,Ne,"ℷ","\\gimel",!0);w(N,ye,Ne,"ϝ","\\digamma",!0);w(N,ye,Ne,"ϰ","\\varkappa");w(N,ye,Bs,"┌","\\@ulcorner",!0);w(N,ye,Fo,"┐","\\@urcorner",!0);w(N,ye,Bs,"└","\\@llcorner",!0);w(N,ye,Fo,"┘","\\@lrcorner",!0);w(N,ye,xe,"≦","\\leqq",!0);w(N,ye,xe,"⩽","\\leqslant",!0);w(N,ye,xe,"⪕","\\eqslantless",!0);w(N,ye,xe,"≲","\\lesssim",!0);w(N,ye,xe,"⪅","\\lessapprox",!0);w(N,ye,xe,"≊","\\approxeq",!0);w(N,ye,Yt,"⋖","\\lessdot");w(N,ye,xe,"⋘","\\lll",!0);w(N,ye,xe,"≶","\\lessgtr",!0);w(N,ye,xe,"⋚","\\lesseqgtr",!0);w(N,ye,xe,"⪋","\\lesseqqgtr",!0);w(N,ye,xe,"≑","\\doteqdot");w(N,ye,xe,"≓","\\risingdotseq",!0);w(N,ye,xe,"≒","\\fallingdotseq",!0);w(N,ye,xe,"∽","\\backsim",!0);w(N,ye,xe,"⋍","\\backsimeq",!0);w(N,ye,xe,"⫅","\\subseteqq",!0);w(N,ye,xe,"⋐","\\Subset",!0);w(N,ye,xe,"⊏","\\sqsubset",!0);w(N,ye,xe,"≼","\\preccurlyeq",!0);w(N,ye,xe,"⋞","\\curlyeqprec",!0);w(N,ye,xe,"≾","\\precsim",!0);w(N,ye,xe,"⪷","\\precapprox",!0);w(N,ye,xe,"⊲","\\vartriangleleft");w(N,ye,xe,"⊴","\\trianglelefteq");w(N,ye,xe,"⊨","\\vDash",!0);w(N,ye,xe,"⊪","\\Vvdash",!0);w(N,ye,xe,"⌣","\\smallsmile");w(N,ye,xe,"⌢","\\smallfrown");w(N,ye,xe,"≏","\\bumpeq",!0);w(N,ye,xe,"≎","\\Bumpeq",!0);w(N,ye,xe,"≧","\\geqq",!0);w(N,ye,xe,"⩾","\\geqslant",!0);w(N,ye,xe,"⪖","\\eqslantgtr",!0);w(N,ye,xe,"≳","\\gtrsim",!0);w(N,ye,xe,"⪆","\\gtrapprox",!0);w(N,ye,Yt,"⋗","\\gtrdot");w(N,ye,xe,"⋙","\\ggg",!0);w(N,ye,xe,"≷","\\gtrless",!0);w(N,ye,xe,"⋛","\\gtreqless",!0);w(N,ye,xe,"⪌","\\gtreqqless",!0);w(N,ye,xe,"≖","\\eqcirc",!0);w(N,ye,xe,"≗","\\circeq",!0);w(N,ye,xe,"≜","\\triangleq",!0);w(N,ye,xe,"∼","\\thicksim");w(N,ye,xe,"≈","\\thickapprox");w(N,ye,xe,"⫆","\\supseteqq",!0);w(N,ye,xe,"⋑","\\Supset",!0);w(N,ye,xe,"⊐","\\sqsupset",!0);w(N,ye,xe,"≽","\\succcurlyeq",!0);w(N,ye,xe,"⋟","\\curlyeqsucc",!0);w(N,ye,xe,"≿","\\succsim",!0);w(N,ye,xe,"⪸","\\succapprox",!0);w(N,ye,xe,"⊳","\\vartriangleright");w(N,ye,xe,"⊵","\\trianglerighteq");w(N,ye,xe,"⊩","\\Vdash",!0);w(N,ye,xe,"∣","\\shortmid");w(N,ye,xe,"∥","\\shortparallel");w(N,ye,xe,"≬","\\between",!0);w(N,ye,xe,"⋔","\\pitchfork",!0);w(N,ye,xe,"∝","\\varpropto");w(N,ye,xe,"◀","\\blacktriangleleft");w(N,ye,xe,"∴","\\therefore",!0);w(N,ye,xe,"∍","\\backepsilon");w(N,ye,xe,"▶","\\blacktriangleright");w(N,ye,xe,"∵","\\because",!0);w(N,ye,xe,"⋘","\\llless");w(N,ye,xe,"⋙","\\gggtr");w(N,ye,Yt,"⊲","\\lhd");w(N,ye,Yt,"⊳","\\rhd");w(N,ye,xe,"≂","\\eqsim",!0);w(N,j,xe,"⋈","\\Join");w(N,ye,xe,"≑","\\Doteq",!0);w(N,ye,Yt,"∔","\\dotplus",!0);w(N,ye,Yt,"∖","\\smallsetminus");w(N,ye,Yt,"⋒","\\Cap",!0);w(N,ye,Yt,"⋓","\\Cup",!0);w(N,ye,Yt,"⩞","\\doublebarwedge",!0);w(N,ye,Yt,"⊟","\\boxminus",!0);w(N,ye,Yt,"⊞","\\boxplus",!0);w(N,ye,Yt,"⋇","\\divideontimes",!0);w(N,ye,Yt,"⋉","\\ltimes",!0);w(N,ye,Yt,"⋊","\\rtimes",!0);w(N,ye,Yt,"⋋","\\leftthreetimes",!0);w(N,ye,Yt,"⋌","\\rightthreetimes",!0);w(N,ye,Yt,"⋏","\\curlywedge",!0);w(N,ye,Yt,"⋎","\\curlyvee",!0);w(N,ye,Yt,"⊝","\\circleddash",!0);w(N,ye,Yt,"⊛","\\circledast",!0);w(N,ye,Yt,"⋅","\\centerdot");w(N,ye,Yt,"⊺","\\intercal",!0);w(N,ye,Yt,"⋒","\\doublecap");w(N,ye,Yt,"⋓","\\doublecup");w(N,ye,Yt,"⊠","\\boxtimes",!0);w(N,ye,xe,"⇢","\\dashrightarrow",!0);w(N,ye,xe,"⇠","\\dashleftarrow",!0);w(N,ye,xe,"⇇","\\leftleftarrows",!0);w(N,ye,xe,"⇆","\\leftrightarrows",!0);w(N,ye,xe,"⇚","\\Lleftarrow",!0);w(N,ye,xe,"↞","\\twoheadleftarrow",!0);w(N,ye,xe,"↢","\\leftarrowtail",!0);w(N,ye,xe,"↫","\\looparrowleft",!0);w(N,ye,xe,"⇋","\\leftrightharpoons",!0);w(N,ye,xe,"↶","\\curvearrowleft",!0);w(N,ye,xe,"↺","\\circlearrowleft",!0);w(N,ye,xe,"↰","\\Lsh",!0);w(N,ye,xe,"⇈","\\upuparrows",!0);w(N,ye,xe,"↿","\\upharpoonleft",!0);w(N,ye,xe,"⇃","\\downharpoonleft",!0);w(N,j,xe,"⊶","\\origof",!0);w(N,j,xe,"⊷","\\imageof",!0);w(N,ye,xe,"⊸","\\multimap",!0);w(N,ye,xe,"↭","\\leftrightsquigarrow",!0);w(N,ye,xe,"⇉","\\rightrightarrows",!0);w(N,ye,xe,"⇄","\\rightleftarrows",!0);w(N,ye,xe,"↠","\\twoheadrightarrow",!0);w(N,ye,xe,"↣","\\rightarrowtail",!0);w(N,ye,xe,"↬","\\looparrowright",!0);w(N,ye,xe,"↷","\\curvearrowright",!0);w(N,ye,xe,"↻","\\circlearrowright",!0);w(N,ye,xe,"↱","\\Rsh",!0);w(N,ye,xe,"⇊","\\downdownarrows",!0);w(N,ye,xe,"↾","\\upharpoonright",!0);w(N,ye,xe,"⇂","\\downharpoonright",!0);w(N,ye,xe,"⇝","\\rightsquigarrow",!0);w(N,ye,xe,"⇝","\\leadsto");w(N,ye,xe,"⇛","\\Rrightarrow",!0);w(N,ye,xe,"↾","\\restriction");w(N,j,Ne,"‘","`");w(N,j,Ne,"$","\\$");w(bt,j,Ne,"$","\\$");w(bt,j,Ne,"$","\\textdollar");w(N,j,Ne,"%","\\%");w(bt,j,Ne,"%","\\%");w(N,j,Ne,"_","\\_");w(bt,j,Ne,"_","\\_");w(bt,j,Ne,"_","\\textunderscore");w(N,j,Ne,"∠","\\angle",!0);w(N,j,Ne,"∞","\\infty",!0);w(N,j,Ne,"′","\\prime");w(N,j,Ne,"△","\\triangle");w(N,j,Ne,"Γ","\\Gamma",!0);w(N,j,Ne,"Δ","\\Delta",!0);w(N,j,Ne,"Θ","\\Theta",!0);w(N,j,Ne,"Λ","\\Lambda",!0);w(N,j,Ne,"Ξ","\\Xi",!0);w(N,j,Ne,"Π","\\Pi",!0);w(N,j,Ne,"Σ","\\Sigma",!0);w(N,j,Ne,"Υ","\\Upsilon",!0);w(N,j,Ne,"Φ","\\Phi",!0);w(N,j,Ne,"Ψ","\\Psi",!0);w(N,j,Ne,"Ω","\\Omega",!0);w(N,j,Ne,"A","Α");w(N,j,Ne,"B","Β");w(N,j,Ne,"E","Ε");w(N,j,Ne,"Z","Ζ");w(N,j,Ne,"H","Η");w(N,j,Ne,"I","Ι");w(N,j,Ne,"K","Κ");w(N,j,Ne,"M","Μ");w(N,j,Ne,"N","Ν");w(N,j,Ne,"O","Ο");w(N,j,Ne,"P","Ρ");w(N,j,Ne,"T","Τ");w(N,j,Ne,"X","Χ");w(N,j,Ne,"¬","\\neg",!0);w(N,j,Ne,"¬","\\lnot");w(N,j,Ne,"⊤","\\top");w(N,j,Ne,"⊥","\\bot");w(N,j,Ne,"∅","\\emptyset");w(N,ye,Ne,"∅","\\varnothing");w(N,j,fn,"α","\\alpha",!0);w(N,j,fn,"β","\\beta",!0);w(N,j,fn,"γ","\\gamma",!0);w(N,j,fn,"δ","\\delta",!0);w(N,j,fn,"ϵ","\\epsilon",!0);w(N,j,fn,"ζ","\\zeta",!0);w(N,j,fn,"η","\\eta",!0);w(N,j,fn,"θ","\\theta",!0);w(N,j,fn,"ι","\\iota",!0);w(N,j,fn,"κ","\\kappa",!0);w(N,j,fn,"λ","\\lambda",!0);w(N,j,fn,"μ","\\mu",!0);w(N,j,fn,"ν","\\nu",!0);w(N,j,fn,"ξ","\\xi",!0);w(N,j,fn,"ο","\\omicron",!0);w(N,j,fn,"π","\\pi",!0);w(N,j,fn,"ρ","\\rho",!0);w(N,j,fn,"σ","\\sigma",!0);w(N,j,fn,"τ","\\tau",!0);w(N,j,fn,"υ","\\upsilon",!0);w(N,j,fn,"ϕ","\\phi",!0);w(N,j,fn,"χ","\\chi",!0);w(N,j,fn,"ψ","\\psi",!0);w(N,j,fn,"ω","\\omega",!0);w(N,j,fn,"ε","\\varepsilon",!0);w(N,j,fn,"ϑ","\\vartheta",!0);w(N,j,fn,"ϖ","\\varpi",!0);w(N,j,fn,"ϱ","\\varrho",!0);w(N,j,fn,"ς","\\varsigma",!0);w(N,j,fn,"φ","\\varphi",!0);w(N,j,Yt,"∗","*",!0);w(N,j,Yt,"+","+");w(N,j,Yt,"−","-",!0);w(N,j,Yt,"⋅","\\cdot",!0);w(N,j,Yt,"∘","\\circ",!0);w(N,j,Yt,"÷","\\div",!0);w(N,j,Yt,"±","\\pm",!0);w(N,j,Yt,"×","\\times",!0);w(N,j,Yt,"∩","\\cap",!0);w(N,j,Yt,"∪","\\cup",!0);w(N,j,Yt,"∖","\\setminus",!0);w(N,j,Yt,"∧","\\land");w(N,j,Yt,"∨","\\lor");w(N,j,Yt,"∧","\\wedge",!0);w(N,j,Yt,"∨","\\vee",!0);w(N,j,Ne,"√","\\surd");w(N,j,Bs,"⟨","\\langle",!0);w(N,j,Bs,"∣","\\lvert");w(N,j,Bs,"∥","\\lVert");w(N,j,Fo,"?","?");w(N,j,Fo,"!","!");w(N,j,Fo,"⟩","\\rangle",!0);w(N,j,Fo,"∣","\\rvert");w(N,j,Fo,"∥","\\rVert");w(N,j,xe,"=","=");w(N,j,xe,":",":");w(N,j,xe,"≈","\\approx",!0);w(N,j,xe,"≅","\\cong",!0);w(N,j,xe,"≥","\\ge");w(N,j,xe,"≥","\\geq",!0);w(N,j,xe,"←","\\gets");w(N,j,xe,">","\\gt",!0);w(N,j,xe,"∈","\\in",!0);w(N,j,xe,"","\\@not");w(N,j,xe,"⊂","\\subset",!0);w(N,j,xe,"⊃","\\supset",!0);w(N,j,xe,"⊆","\\subseteq",!0);w(N,j,xe,"⊇","\\supseteq",!0);w(N,ye,xe,"⊈","\\nsubseteq",!0);w(N,ye,xe,"⊉","\\nsupseteq",!0);w(N,j,xe,"⊨","\\models");w(N,j,xe,"←","\\leftarrow",!0);w(N,j,xe,"≤","\\le");w(N,j,xe,"≤","\\leq",!0);w(N,j,xe,"<","\\lt",!0);w(N,j,xe,"→","\\rightarrow",!0);w(N,j,xe,"→","\\to");w(N,ye,xe,"≱","\\ngeq",!0);w(N,ye,xe,"≰","\\nleq",!0);w(N,j,Uu," ","\\ ");w(N,j,Uu," ","\\space");w(N,j,Uu," ","\\nobreakspace");w(bt,j,Uu," ","\\ ");w(bt,j,Uu," "," ");w(bt,j,Uu," ","\\space");w(bt,j,Uu," ","\\nobreakspace");w(N,j,Uu,null,"\\nobreak");w(N,j,Uu,null,"\\allowbreak");w(N,j,i_,",",",");w(N,j,i_,";",";");w(N,ye,Yt,"⊼","\\barwedge",!0);w(N,ye,Yt,"⊻","\\veebar",!0);w(N,j,Yt,"⊙","\\odot",!0);w(N,j,Yt,"⊕","\\oplus",!0);w(N,j,Yt,"⊗","\\otimes",!0);w(N,j,Ne,"∂","\\partial",!0);w(N,j,Yt,"⊘","\\oslash",!0);w(N,ye,Yt,"⊚","\\circledcirc",!0);w(N,ye,Yt,"⊡","\\boxdot",!0);w(N,j,Yt,"△","\\bigtriangleup");w(N,j,Yt,"▽","\\bigtriangledown");w(N,j,Yt,"†","\\dagger");w(N,j,Yt,"⋄","\\diamond");w(N,j,Yt,"⋆","\\star");w(N,j,Yt,"◃","\\triangleleft");w(N,j,Yt,"▹","\\triangleright");w(N,j,Bs,"{","\\{");w(bt,j,Ne,"{","\\{");w(bt,j,Ne,"{","\\textbraceleft");w(N,j,Fo,"}","\\}");w(bt,j,Ne,"}","\\}");w(bt,j,Ne,"}","\\textbraceright");w(N,j,Bs,"{","\\lbrace");w(N,j,Fo,"}","\\rbrace");w(N,j,Bs,"[","\\lbrack",!0);w(bt,j,Ne,"[","\\lbrack",!0);w(N,j,Fo,"]","\\rbrack",!0);w(bt,j,Ne,"]","\\rbrack",!0);w(N,j,Bs,"(","\\lparen",!0);w(N,j,Fo,")","\\rparen",!0);w(bt,j,Ne,"<","\\textless",!0);w(bt,j,Ne,">","\\textgreater",!0);w(N,j,Bs,"⌊","\\lfloor",!0);w(N,j,Fo,"⌋","\\rfloor",!0);w(N,j,Bs,"⌈","\\lceil",!0);w(N,j,Fo,"⌉","\\rceil",!0);w(N,j,Ne,"\\","\\backslash");w(N,j,Ne,"∣","|");w(N,j,Ne,"∣","\\vert");w(bt,j,Ne,"|","\\textbar",!0);w(N,j,Ne,"∥","\\|");w(N,j,Ne,"∥","\\Vert");w(bt,j,Ne,"∥","\\textbardbl");w(bt,j,Ne,"~","\\textasciitilde");w(bt,j,Ne,"\\","\\textbackslash");w(bt,j,Ne,"^","\\textasciicircum");w(N,j,xe,"↑","\\uparrow",!0);w(N,j,xe,"⇑","\\Uparrow",!0);w(N,j,xe,"↓","\\downarrow",!0);w(N,j,xe,"⇓","\\Downarrow",!0);w(N,j,xe,"↕","\\updownarrow",!0);w(N,j,xe,"⇕","\\Updownarrow",!0);w(N,j,ea,"∐","\\coprod");w(N,j,ea,"⋁","\\bigvee");w(N,j,ea,"⋀","\\bigwedge");w(N,j,ea,"⨄","\\biguplus");w(N,j,ea,"⋂","\\bigcap");w(N,j,ea,"⋃","\\bigcup");w(N,j,ea,"∫","\\int");w(N,j,ea,"∫","\\intop");w(N,j,ea,"∬","\\iint");w(N,j,ea,"∭","\\iiint");w(N,j,ea,"∏","\\prod");w(N,j,ea,"∑","\\sum");w(N,j,ea,"⨂","\\bigotimes");w(N,j,ea,"⨁","\\bigoplus");w(N,j,ea,"⨀","\\bigodot");w(N,j,ea,"∮","\\oint");w(N,j,ea,"∯","\\oiint");w(N,j,ea,"∰","\\oiiint");w(N,j,ea,"⨆","\\bigsqcup");w(N,j,ea,"∫","\\smallint");w(bt,j,M0,"…","\\textellipsis");w(N,j,M0,"…","\\mathellipsis");w(bt,j,M0,"…","\\ldots",!0);w(N,j,M0,"…","\\ldots",!0);w(N,j,M0,"⋯","\\@cdots",!0);w(N,j,M0,"⋱","\\ddots",!0);w(N,j,Ne,"⋮","\\varvdots");w(bt,j,Ne,"⋮","\\varvdots");w(N,j,gr,"ˊ","\\acute");w(N,j,gr,"ˋ","\\grave");w(N,j,gr,"¨","\\ddot");w(N,j,gr,"~","\\tilde");w(N,j,gr,"ˉ","\\bar");w(N,j,gr,"˘","\\breve");w(N,j,gr,"ˇ","\\check");w(N,j,gr,"^","\\hat");w(N,j,gr,"⃗","\\vec");w(N,j,gr,"˙","\\dot");w(N,j,gr,"˚","\\mathring");w(N,j,fn,"","\\@imath");w(N,j,fn,"","\\@jmath");w(N,j,Ne,"ı","ı");w(N,j,Ne,"ȷ","ȷ");w(bt,j,Ne,"ı","\\i",!0);w(bt,j,Ne,"ȷ","\\j",!0);w(bt,j,Ne,"ß","\\ss",!0);w(bt,j,Ne,"æ","\\ae",!0);w(bt,j,Ne,"œ","\\oe",!0);w(bt,j,Ne,"ø","\\o",!0);w(bt,j,Ne,"Æ","\\AE",!0);w(bt,j,Ne,"Œ","\\OE",!0);w(bt,j,Ne,"Ø","\\O",!0);w(bt,j,gr,"ˊ","\\'");w(bt,j,gr,"ˋ","\\`");w(bt,j,gr,"ˆ","\\^");w(bt,j,gr,"˜","\\~");w(bt,j,gr,"ˉ","\\=");w(bt,j,gr,"˘","\\u");w(bt,j,gr,"˙","\\.");w(bt,j,gr,"¸","\\c");w(bt,j,gr,"˚","\\r");w(bt,j,gr,"ˇ","\\v");w(bt,j,gr,"¨",'\\"');w(bt,j,gr,"˝","\\H");w(bt,j,gr,"◯","\\textcircled");var F9={"--":!0,"---":!0,"``":!0,"''":!0};w(bt,j,Ne,"–","--",!0);w(bt,j,Ne,"–","\\textendash");w(bt,j,Ne,"—","---",!0);w(bt,j,Ne,"—","\\textemdash");w(bt,j,Ne,"‘","`",!0);w(bt,j,Ne,"‘","\\textquoteleft");w(bt,j,Ne,"’","'",!0);w(bt,j,Ne,"’","\\textquoteright");w(bt,j,Ne,"“","``",!0);w(bt,j,Ne,"“","\\textquotedblleft");w(bt,j,Ne,"”","''",!0);w(bt,j,Ne,"”","\\textquotedblright");w(N,j,Ne,"°","\\degree",!0);w(bt,j,Ne,"°","\\degree");w(bt,j,Ne,"°","\\textdegree",!0);w(N,j,Ne,"£","\\pounds");w(N,j,Ne,"£","\\mathsterling",!0);w(bt,j,Ne,"£","\\pounds");w(bt,j,Ne,"£","\\textsterling",!0);w(N,ye,Ne,"✠","\\maltese");w(bt,ye,Ne,"✠","\\maltese");var y6='0123456789/@."';for(var xw=0;xw<y6.length;xw++){var v6=y6.charAt(xw);w(N,j,Ne,v6,v6)}var b6='0123456789!@*()-=+";:?/.,';for(var Sw=0;Sw<b6.length;Sw++){var E6=b6.charAt(Sw);w(bt,j,Ne,E6,E6)}var Cx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _w=0;_w<Cx.length;_w++){var Ub=Cx.charAt(_w);w(N,j,fn,Ub,Ub),w(bt,j,Ne,Ub,Ub)}w(N,ye,Ne,"C","ℂ");w(bt,ye,Ne,"C","ℂ");w(N,ye,Ne,"H","ℍ");w(bt,ye,Ne,"H","ℍ");w(N,ye,Ne,"N","ℕ");w(bt,ye,Ne,"N","ℕ");w(N,ye,Ne,"P","ℙ");w(bt,ye,Ne,"P","ℙ");w(N,ye,Ne,"Q","ℚ");w(bt,ye,Ne,"Q","ℚ");w(N,ye,Ne,"R","ℝ");w(bt,ye,Ne,"R","ℝ");w(N,ye,Ne,"Z","ℤ");w(bt,ye,Ne,"Z","ℤ");w(N,j,fn,"h","ℎ");w(bt,j,fn,"h","ℎ");var Tn="";for(var Eo=0;Eo<Cx.length;Eo++){var Or=Cx.charAt(Eo);Tn=String.fromCharCode(55349,56320+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56372+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56424+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56580+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56684+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56736+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56788+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56840+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56944+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Eo<26&&(Tn=String.fromCharCode(55349,56632+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn),Tn=String.fromCharCode(55349,56476+Eo),w(N,j,fn,Or,Tn),w(bt,j,Ne,Or,Tn))}Tn="𝕜";w(N,j,fn,"k",Tn);w(bt,j,Ne,"k",Tn);for(var Hh=0;Hh<10;Hh++){var _d=Hh.toString();Tn=String.fromCharCode(55349,57294+Hh),w(N,j,fn,_d,Tn),w(bt,j,Ne,_d,Tn),Tn=String.fromCharCode(55349,57314+Hh),w(N,j,fn,_d,Tn),w(bt,j,Ne,_d,Tn),Tn=String.fromCharCode(55349,57324+Hh),w(N,j,fn,_d,Tn),w(bt,j,Ne,_d,Tn),Tn=String.fromCharCode(55349,57334+Hh),w(N,j,fn,_d,Tn),w(bt,j,Ne,_d,Tn)}var YT="ÐÞþ";for(var Cw=0;Cw<YT.length;Cw++){var Hb=YT.charAt(Cw);w(N,j,fn,Hb,Hb),w(bt,j,Ne,Hb,Hb)}var Vb=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],x6=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Vae=function(t,n){var i=t.charCodeAt(0),r=t.charCodeAt(1),a=(i-55296)*1024+(r-56320)+65536,o=n==="math"?0:1;if(119808<=a&&a<120484){var s=Math.floor((a-119808)/26);return[Vb[s][2],Vb[s][o]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[x6[l][2],x6[l][o]]}else{if(a===120485||a===120486)return[Vb[0][2],Vb[0][o]];if(120486<a&&a<120782)return["",""];throw new wt("Unsupported character: "+t)}},r_=function(t,n,i){return sr[i][t]&&sr[i][t].replace&&(t=sr[i][t].replace),{value:t,metrics:ZA(t,n,i)}},Il=function(t,n,i,r,a){var o=r_(t,n,i),s=o.metrics;t=o.value;var l;if(s){var c=s.italic;(i==="text"||r&&r.font==="mathit")&&(c=0),l=new sl(t,s.height,s.depth,c,s.skew,s.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+i+"'")),l=new sl(t,0,0,0,0,0,a);if(r){l.maxFontSize=r.sizeMultiplier,r.style.isTight()&&l.classes.push("mtight");var h=r.getColor();h&&(l.style.color=h)}return l},Gae=function(t,n,i,r){return r===void 0&&(r=[]),i.font==="boldsymbol"&&r_(t,"Main-Bold",n).metrics?Il(t,"Main-Bold",n,i,r.concat(["mathbf"])):t==="\\"||sr[n][t].font==="main"?Il(t,"Main-Regular",n,i,r):Il(t,"AMS-Regular",n,i,r.concat(["amsrm"]))},Wae=function(t,n,i,r,a){return a!=="textord"&&r_(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},jae=function(t,n,i){var r=t.mode,a=t.text,o=["mord"],s=r==="math"||r==="text"&&n.font,l=s?n.font:n.fontFamily,c="",h="";if(a.charCodeAt(0)===55349&&([c,h]=Vae(a,r)),c.length>0)return Il(a,c,r,n,o.concat(h));if(l){var d,p;if(l==="boldsymbol"){var y=Wae(a,r,n,o,i);d=y.fontName,p=[y.fontClass]}else s?(d=q9[l].fontName,p=[l]):(d=Gb(l,n.fontWeight,n.fontShape),p=[l,n.fontWeight,n.fontShape]);if(r_(a,d,r).metrics)return Il(a,d,r,n,o.concat(p));if(F9.hasOwnProperty(a)&&d.slice(0,10)==="Typewriter"){for(var S=[],_=0;_<a.length;_++)S.push(Il(a[_],d,r,n,o.concat(p)));return $9(S)}}if(i==="mathord")return Il(a,"Math-Italic",r,n,o.concat(["mathnormal"]));if(i==="textord"){var I=sr[r][a]&&sr[r][a].font;if(I==="ams"){var M=Gb("amsrm",n.fontWeight,n.fontShape);return Il(a,M,r,n,o.concat("amsrm",n.fontWeight,n.fontShape))}else if(I==="main"||!I){var B=Gb("textrm",n.fontWeight,n.fontShape);return Il(a,B,r,n,o.concat(n.fontWeight,n.fontShape))}else{var U=Gb(I,n.fontWeight,n.fontShape);return Il(a,U,r,n,o.concat(U,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},Kae=(e,t)=>{if(ih(e.classes)!==ih(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var i in e.style)if(e.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;for(var r in t.style)if(t.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;return!0},Yae=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof sl&&i instanceof sl&&Kae(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e},t4=function(t){for(var n=0,i=0,r=0,a=0;a<t.children.length;a++){var o=t.children[a];o.height>n&&(n=o.height),o.depth>i&&(i=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}t.height=n,t.depth=i,t.maxFontSize=r},ns=function(t,n,i,r){var a=new A1(t,n,i,r);return t4(a),a},z9=(e,t,n,i)=>new A1(e,t,n,i),Xae=function(t,n,i){var r=ns([t],[],n);return r.height=Math.max(i||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),r.style.borderBottomWidth=Mt(r.height),r.maxFontSize=1,r},Jae=function(t,n,i,r){var a=new e4(t,n,i,r);return t4(a),a},$9=function(t){var n=new T1(t);return t4(n),n},Qae=function(t,n){return t instanceof T1?ns([],[t],n):t},Zae=function(t){if(t.positionType==="individualShift"){for(var n=t.children,i=[n[0]],r=-n[0].shift-n[0].elem.depth,a=r,o=1;o<n.length;o++){var s=-n[o].shift-a-n[o].elem.depth,l=s-(n[o-1].elem.height+n[o-1].elem.depth);a=a+s,i.push({type:"kern",size:l}),i.push(n[o])}return{children:i,depth:r}}var c;if(t.positionType==="top"){for(var h=t.positionData,d=0;d<t.children.length;d++){var p=t.children[d];h-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}c=h}else if(t.positionType==="bottom")c=-t.positionData;else{var y=t.children[0];if(y.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")c=-y.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")c=-y.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:c}},eoe=function(t,n){for(var{children:i,depth:r}=Zae(t),a=0,o=0;o<i.length;o++){var s=i[o];if(s.type==="elem"){var l=s.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var c=ns(["pstrut"],[]);c.style.height=Mt(a);for(var h=[],d=r,p=r,y=r,S=0;S<i.length;S++){var _=i[S];if(_.type==="kern")y+=_.size;else{var I=_.elem,M=_.wrapperClasses||[],B=_.wrapperStyle||{},U=ns(M,[c,I],void 0,B);U.style.top=Mt(-a-y-I.depth),_.marginLeft&&(U.style.marginLeft=_.marginLeft),_.marginRight&&(U.style.marginRight=_.marginRight),h.push(U),y+=I.height+I.depth}d=Math.min(d,y),p=Math.max(p,y)}var K=ns(["vlist"],h);K.style.height=Mt(p);var Q;if(d<0){var H=ns([],[]),g=ns(["vlist"],[H]);g.style.height=Mt(-d);var T=ns(["vlist-s"],[new sl("​")]);Q=[ns(["vlist-r"],[K,T]),ns(["vlist-r"],[g])]}else Q=[ns(["vlist-r"],[K])];var A=ns(["vlist-t"],Q);return Q.length===2&&A.classes.push("vlist-t2"),A.height=p,A.depth=-d,A},toe=(e,t)=>{var n=ns(["mspace"],[],t),i=_r(e,t);return n.style.marginRight=Mt(i),n},Gb=function(t,n,i){var r="";switch(t){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=t}var a;return n==="textbf"&&i==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",r+"-"+a},q9={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},U9={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},noe=function(t,n){var[i,r,a]=U9[t],o=new rh(i),s=new Bu([o],{width:Mt(r),height:Mt(a),style:"width:"+Mt(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=z9(["overlay"],[s],n);return l.height=a,l.style.height=Mt(a),l.style.width=Mt(r),l},Ye={fontMap:q9,makeSymbol:Il,mathsym:Gae,makeSpan:ns,makeSvgSpan:z9,makeLineSpan:Xae,makeAnchor:Jae,makeFragment:$9,wrapFragment:Qae,makeVList:eoe,makeOrd:jae,makeGlue:toe,staticSvg:noe,svgData:U9,tryCombineChars:Yae},Sr={number:3,unit:"mu"},Vh={number:4,unit:"mu"},fu={number:5,unit:"mu"},ioe={mord:{mop:Sr,mbin:Vh,mrel:fu,minner:Sr},mop:{mord:Sr,mop:Sr,mrel:fu,minner:Sr},mbin:{mord:Vh,mop:Vh,mopen:Vh,minner:Vh},mrel:{mord:fu,mop:fu,mopen:fu,minner:fu},mopen:{},mclose:{mop:Sr,mbin:Vh,mrel:fu,minner:Sr},mpunct:{mord:Sr,mop:Sr,mrel:fu,mopen:Sr,mclose:Sr,mpunct:Sr,minner:Sr},minner:{mord:Sr,mop:Sr,mbin:Vh,mrel:fu,mopen:Sr,mpunct:Sr,minner:Sr}},roe={mord:{mop:Sr},mop:{mord:Sr,mop:Sr},mbin:{},mrel:{},mopen:{},mclose:{mop:Sr},mpunct:{},minner:{mop:Sr}},H9={},wx={},Tx={};function Ht(e){for(var{type:t,names:n,props:i,handler:r,htmlBuilder:a,mathmlBuilder:o}=e,s={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r},l=0;l<n.length;++l)H9[n[l]]=s;t&&(a&&(wx[t]=a),o&&(Tx[t]=o))}function Kf(e){var{type:t,htmlBuilder:n,mathmlBuilder:i}=e;Ht({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}var Ax=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Vr=function(t){return t.type==="ordgroup"?t.body:[t]},Lu=Ye.makeSpan,aoe=["leftmost","mbin","mopen","mrel","mop","mpunct"],ooe=["rightmost","mrel","mclose","mpunct"],soe={display:pn.DISPLAY,text:pn.TEXT,script:pn.SCRIPT,scriptscript:pn.SCRIPTSCRIPT},loe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},sa=function(t,n,i,r){r===void 0&&(r=[null,null]);for(var a=[],o=0;o<t.length;o++){var s=Ii(t[o],n);if(s instanceof T1){var l=s.children;a.push(...l)}else a.push(s)}if(Ye.tryCombineChars(a),!i)return a;var c=n;if(t.length===1){var h=t[0];h.type==="sizing"?c=n.havingSize(h.size):h.type==="styling"&&(c=n.havingStyle(soe[h.style]))}var d=Lu([r[0]||"leftmost"],[],n),p=Lu([r[1]||"rightmost"],[],n),y=i==="root";return S6(a,(S,_)=>{var I=_.classes[0],M=S.classes[0];I==="mbin"&&un.contains(ooe,M)?_.classes[0]="mord":M==="mbin"&&un.contains(aoe,I)&&(S.classes[0]="mord")},{node:d},p,y),S6(a,(S,_)=>{var I=XT(_),M=XT(S),B=I&&M?S.hasClass("mtight")?roe[I][M]:ioe[I][M]:null;if(B)return Ye.makeGlue(B,c)},{node:d},p,y),a},S6=function e(t,n,i,r,a){r&&t.push(r);for(var o=0;o<t.length;o++){var s=t[o],l=V9(s);if(l){e(l.children,n,i,null,a);continue}var c=!s.hasClass("mspace");if(c){var h=n(s,i.node);h&&(i.insertAfter?i.insertAfter(h):(t.unshift(h),o++))}c?i.node=s:a&&s.hasClass("newline")&&(i.node=Lu(["leftmost"])),i.insertAfter=(d=>p=>{t.splice(d+1,0,p),o++})(o)}r&&t.pop()},V9=function(t){return t instanceof T1||t instanceof e4||t instanceof A1&&t.hasClass("enclosing")?t:null},coe=function e(t,n){var i=V9(t);if(i){var r=i.children;if(r.length){if(n==="right")return e(r[r.length-1],"right");if(n==="left")return e(r[0],"left")}}return t},XT=function(t,n){return t?(n&&(t=coe(t,n)),loe[t.classes[0]]||null):null},Ty=function(t,n){var i=["nulldelimiter"].concat(t.baseSizingClasses());return Lu(n.concat(i))},Ii=function(t,n,i){if(!t)return Lu();if(wx[t.type]){var r=wx[t.type](t,n);if(i&&n.size!==i.size){r=Lu(n.sizingClasses(i),[r],n);var a=n.sizeMultiplier/i.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new wt("Got group of unknown type: '"+t.type+"'")};function Wb(e,t){var n=Lu(["base"],e,t),i=Lu(["strut"]);return i.style.height=Mt(n.height+n.depth),n.depth&&(i.style.verticalAlign=Mt(-n.depth)),n.children.unshift(i),n}function JT(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var i=sa(e,t,"root"),r;i.length===2&&i[1].hasClass("tag")&&(r=i.pop());for(var a=[],o=[],s=0;s<i.length;s++)if(o.push(i[s]),i[s].hasClass("mbin")||i[s].hasClass("mrel")||i[s].hasClass("allowbreak")){for(var l=!1;s<i.length-1&&i[s+1].hasClass("mspace")&&!i[s+1].hasClass("newline");)s++,o.push(i[s]),i[s].hasClass("nobreak")&&(l=!0);l||(a.push(Wb(o,t)),o=[])}else i[s].hasClass("newline")&&(o.pop(),o.length>0&&(a.push(Wb(o,t)),o=[]),a.push(i[s]));o.length>0&&a.push(Wb(o,t));var c;n?(c=Wb(sa(n,t,!0)),c.classes=["tag"],a.push(c)):r&&a.push(r);var h=Lu(["katex-html"],a);if(h.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=Mt(h.height+h.depth),h.depth&&(d.style.verticalAlign=Mt(-h.depth))}return h}function G9(e){return new T1(e)}class Is{constructor(t,n,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=i||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=ih(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof Tc&&this.children[i+1]instanceof Tc){for(var r=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof Tc;)r+=this.children[++i].toText();t.appendChild(new Tc(r).toNode())}else t.appendChild(this.children[i].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=un.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+un.escape(ih(this.classes))+'"'),t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Tc{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return un.escape(this.toText())}toText(){return this.text}}class uoe{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Mt(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Mt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var _t={MathNode:Is,TextNode:Tc,SpaceNode:uoe,newDocumentFragment:G9},ll=function(t,n,i){return sr[n][t]&&sr[n][t].replace&&t.charCodeAt(0)!==55349&&!(F9.hasOwnProperty(t)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(t=sr[n][t].replace),new _t.TextNode(t)},n4=function(t){return t.length===1?t[0]:new _t.MathNode("mrow",t)},i4=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var i=n.font;if(!i||i==="mathnormal")return null;var r=t.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=t.text;if(un.contains(["\\imath","\\jmath"],a))return null;sr[r][a]&&sr[r][a].replace&&(a=sr[r][a].replace);var o=Ye.fontMap[i].fontName;return ZA(a,o,r)?Ye.fontMap[i].variant:null};function ww(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Tc&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof Tc&&n.text===","}else return!1}var us=function(t,n,i){if(t.length===1){var r=tr(t[0],n);return i&&r instanceof Is&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],o,s=0;s<t.length;s++){var l=tr(t[s],n);if(l instanceof Is&&o instanceof Is){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(ww(l)&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mn"&&ww(o))l.children=[...o.children,...l.children],a.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(o.type==="mn"||ww(o))){var c=l.children[0];c instanceof Is&&c.type==="mn"&&(c.children=[...o.children,...c.children],a.pop())}else if(o.type==="mi"&&o.children.length===1){var h=o.children[0];if(h instanceof Tc&&h.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Tc&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),a.pop())}}}a.push(l),o=l}return a},ah=function(t,n,i){return n4(us(t,n,i))},tr=function(t,n){if(!t)return new _t.MathNode("mrow");if(Tx[t.type]){var i=Tx[t.type](t,n);return i}else throw new wt("Got group of unknown type: '"+t.type+"'")};function _6(e,t,n,i,r){var a=us(e,n),o;a.length===1&&a[0]instanceof Is&&un.contains(["mrow","mtable"],a[0].type)?o=a[0]:o=new _t.MathNode("mrow",a);var s=new _t.MathNode("annotation",[new _t.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var l=new _t.MathNode("semantics",[o,s]),c=new _t.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&c.setAttribute("display","block");var h=r?"katex":"katex-mathml";return Ye.makeSpan([h],[c])}var W9=function(t){return new Eu({style:t.displayMode?pn.DISPLAY:pn.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},j9=function(t,n){if(n.displayMode){var i=["katex-display"];n.leqno&&i.push("leqno"),n.fleqn&&i.push("fleqn"),t=Ye.makeSpan(i,[t])}return t},doe=function(t,n,i){var r=W9(i),a;if(i.output==="mathml")return _6(t,n,r,i.displayMode,!0);if(i.output==="html"){var o=JT(t,r);a=Ye.makeSpan(["katex"],[o])}else{var s=_6(t,n,r,i.displayMode,!1),l=JT(t,r);a=Ye.makeSpan(["katex"],[s,l])}return j9(a,i)},hoe=function(t,n,i){var r=W9(i),a=JT(t,r),o=Ye.makeSpan(["katex"],[a]);return j9(o,i)},foe={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},poe=function(t){var n=new _t.MathNode("mo",[new _t.TextNode(foe[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},goe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},moe=function(t){return t.type==="ordgroup"?t.body.length:1},yoe=function(t,n){function i(){var s=4e5,l=t.label.slice(1);if(un.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=t,h=moe(c.base),d,p,y;if(h>5)l==="widehat"||l==="widecheck"?(d=420,s=2364,y=.42,p=l+"4"):(d=312,s=2340,y=.34,p="tilde4");else{var S=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][S],d=[0,239,300,360,420][S],y=[0,.24,.3,.3,.36,.42][S],p=l+S):(s=[0,600,1033,2339,2340][S],d=[0,260,286,306,312][S],y=[0,.26,.286,.3,.306,.34][S],p="tilde"+S)}var _=new rh(p),I=new Bu([_],{width:"100%",height:Mt(y),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:Ye.makeSvgSpan([],[I],n),minWidth:0,height:y}}else{var M=[],B=goe[l],[U,K,Q]=B,H=Q/1e3,g=U.length,T,A;if(g===1){var D=B[3];T=["hide-tail"],A=[D]}else if(g===2)T=["halfarrow-left","halfarrow-right"],A=["xMinYMin","xMaxYMin"];else if(g===3)T=["brace-left","brace-center","brace-right"],A=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+g+" children.");for(var Z=0;Z<g;Z++){var ie=new rh(U[Z]),se=new Bu([ie],{width:"400em",height:Mt(H),viewBox:"0 0 "+s+" "+Q,preserveAspectRatio:A[Z]+" slice"}),ue=Ye.makeSvgSpan([T[Z]],[se],n);if(g===1)return{span:ue,minWidth:K,height:H};ue.style.height=Mt(H),M.push(ue)}return{span:Ye.makeSpan(["stretchy"],M,n),minWidth:K,height:H}}}var{span:r,minWidth:a,height:o}=i();return r.height=o,r.style.height=Mt(o),a>0&&(r.style.minWidth=Mt(a)),r},voe=function(t,n,i,r,a){var o,s=t.height+t.depth+i+r;if(/fbox|color|angl/.test(n)){if(o=Ye.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new KT({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new KT({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new Bu(c,{width:"100%",height:Mt(s)});o=Ye.makeSvgSpan([],[h],a)}return o.height=s,o.style.height=Mt(s),o},Fu={encloseSpan:voe,mathMLnode:poe,svgSpan:yoe};function Wn(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function r4(e){var t=a_(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function a_(e){return e&&(e.type==="atom"||Hae.hasOwnProperty(e.type))?e:null}var a4=(e,t)=>{var n,i,r;e&&e.type==="supsub"?(i=Wn(e.base,"accent"),n=i.base,e.base=n,r=qae(Ii(e,t)),e.base=i):(i=Wn(e,"accent"),n=i.base);var a=Ii(n,t.havingCrampedStyle()),o=i.isShifty&&un.isCharacterBox(n),s=0;if(o){var l=un.getBaseElem(n),c=Ii(l,t.havingCrampedStyle());s=m6(c).skew}var h=i.label==="\\c",d=h?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),p;if(i.isStretchy)p=Fu.svgSpan(i,t),p=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+Mt(2*s)+")",marginLeft:Mt(2*s)}:void 0}]},t);else{var y,S;i.label==="\\vec"?(y=Ye.staticSvg("vec",t),S=Ye.svgData.vec[1]):(y=Ye.makeOrd({mode:i.mode,text:i.label},t,"textord"),y=m6(y),y.italic=0,S=y.width,h&&(d+=y.depth)),p=Ye.makeSpan(["accent-body"],[y]);var _=i.label==="\\textcircled";_&&(p.classes.push("accent-full"),d=a.height);var I=s;_||(I-=S/2),p.style.left=Mt(I),i.label==="\\textcircled"&&(p.style.top=".2em"),p=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-d},{type:"elem",elem:p}]},t)}var M=Ye.makeSpan(["mord","accent"],[p],t);return r?(r.children[0]=M,r.height=Math.max(M.height,r.height),r.classes[0]="mord",r):M},K9=(e,t)=>{var n=e.isStretchy?Fu.mathMLnode(e.label):new _t.MathNode("mo",[ll(e.label,e.mode)]),i=new _t.MathNode("mover",[tr(e.base,t),n]);return i.setAttribute("accent","true"),i},boe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Ht({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Ax(t[0]),i=!boe.test(e.funcName),r=!i||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:r,base:n}},htmlBuilder:a4,mathmlBuilder:K9});Ht({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],i=e.parser.mode;return i==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:a4,mathmlBuilder:K9});Ht({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:r}},htmlBuilder:(e,t)=>{var n=Ii(e.base,t),i=Fu.svgSpan(e,t),r=e.label==="\\utilde"?.12:0,a=Ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},t);return Ye.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var n=Fu.mathMLnode(e.label),i=new _t.MathNode("munder",[tr(e.base,t),n]);return i.setAttribute("accentunder","true"),i}});var jb=e=>{var t=new _t.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ht({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i,funcName:r}=e;return{type:"xArrow",mode:i.mode,label:r,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,i=t.havingStyle(n.sup()),r=Ye.wrapFragment(Ii(e.body,i,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var o;e.below&&(i=t.havingStyle(n.sub()),o=Ye.wrapFragment(Ii(e.below,i,t),t),o.classes.push(a+"-arrow-pad"));var s=Fu.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*s.height,c=-t.fontMetrics().axisHeight-.5*s.height-.111;(r.depth>.25||e.label==="\\xleftequilibrium")&&(c-=r.depth);var h;if(o){var d=-t.fontMetrics().axisHeight+o.height+.5*s.height+.111;h=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:c},{type:"elem",elem:s,shift:l},{type:"elem",elem:o,shift:d}]},t)}else h=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:c},{type:"elem",elem:s,shift:l}]},t);return h.children[0].children[0].children[1].classes.push("svg-align"),Ye.makeSpan(["mrel","x-arrow"],[h],t)},mathmlBuilder(e,t){var n=Fu.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(e.body){var r=jb(tr(e.body,t));if(e.below){var a=jb(tr(e.below,t));i=new _t.MathNode("munderover",[n,a,r])}else i=new _t.MathNode("mover",[n,r])}else if(e.below){var o=jb(tr(e.below,t));i=new _t.MathNode("munder",[n,o])}else i=jb(),i=new _t.MathNode("mover",[n,i]);return i}});var Eoe=Ye.makeSpan;function Y9(e,t){var n=sa(e.body,t,!0);return Eoe([e.mclass],n,t)}function X9(e,t){var n,i=us(e.body,t);return e.mclass==="minner"?n=new _t.MathNode("mpadded",i):e.mclass==="mord"?e.isCharacterBox?(n=i[0],n.type="mi"):n=new _t.MathNode("mi",i):(e.isCharacterBox?(n=i[0],n.type="mo"):n=new _t.MathNode("mo",i),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Ht({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.slice(5),body:Vr(r),isCharacterBox:un.isCharacterBox(r)}},htmlBuilder:Y9,mathmlBuilder:X9});var o_=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Ht({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:o_(t[0]),body:Vr(t[1]),isCharacterBox:un.isCharacterBox(t[1])}}});Ht({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:i}=e,r=t[1],a=t[0],o;i!=="\\stackrel"?o=o_(r):o="mrel";var s={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Vr(r)},l={type:"supsub",mode:a.mode,base:s,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:o,body:[l],isCharacterBox:un.isCharacterBox(l)}},htmlBuilder:Y9,mathmlBuilder:X9});Ht({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:o_(t[0]),body:Vr(t[0])}},htmlBuilder(e,t){var n=sa(e.body,t,!0),i=Ye.makeSpan([e.mclass],n,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(e,t){var n=us(e.body,t),i=new _t.MathNode("mstyle",n);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var xoe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},C6=()=>({type:"styling",body:[],mode:"math",style:"display"}),w6=e=>e.type==="textord"&&e.text==="@",Soe=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function _oe(e,t,n){var i=xoe[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var r=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},o=n.callFunction("\\Big",[a],[]),s=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[r,o,s]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Coe(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new wt("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var i=[],r=[i],a=0;a<t.length;a++){for(var o=t[a],s=C6(),l=0;l<o.length;l++)if(!w6(o[l]))s.body.push(o[l]);else{i.push(s),l+=1;var c=r4(o[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var p=!0,y=l+1;y<o.length;y++){if(Soe(o[y],c)){p=!1,l=y;break}if(w6(o[y]))throw new wt("Missing a "+c+" character to complete a CD arrow.",o[y]);h[d].body.push(o[y])}if(p)throw new wt("Missing a "+c+" character to complete a CD arrow.",o[l])}else throw new wt('Expected one of "<>AV=|." after @',o[l]);var S=_oe(c,h,e),_={type:"styling",body:[S],mode:"math",style:"display"};i.push(_),s=C6()}a%2===0?i.push(s):i.shift(),i=[],r.push(i)}e.gullet.endGroup(),e.gullet.endGroup();var I=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:I,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Ht({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),i=Ye.wrapFragment(Ii(e.label,n,t),t);return i.classes.push("cd-label-"+e.side),i.style.bottom=Mt(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(e,t){var n=new _t.MathNode("mrow",[tr(e.label,t)]);return n=new _t.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new _t.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Ht({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=Ye.wrapFragment(Ii(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new _t.MathNode("mrow",[tr(e.fragment,t)])}});Ht({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,i=Wn(t[0],"ordgroup"),r=i.body,a="",o=0;o<r.length;o++){var s=Wn(r[o],"textord");a+=s.text}var l=parseInt(a),c;if(isNaN(l))throw new wt("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new wt("\\@char with invalid code point "+a);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var J9=(e,t)=>{var n=sa(e.body,t.withColor(e.color),!1);return Ye.makeFragment(n)},Q9=(e,t)=>{var n=us(e.body,t.withColor(e.color)),i=new _t.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};Ht({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,i=Wn(t[0],"color-token").color,r=t[1];return{type:"color",mode:n.mode,color:i,body:Vr(r)}},htmlBuilder:J9,mathmlBuilder:Q9});Ht({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:i}=e,r=Wn(t[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var a=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:r,body:a}},htmlBuilder:J9,mathmlBuilder:Q9});Ht({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:i}=e,r=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:r&&Wn(r,"size").value}},htmlBuilder(e,t){var n=Ye.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Mt(_r(e.size,t)))),n},mathmlBuilder(e,t){var n=new _t.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Mt(_r(e.size,t)))),n}});var QT={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Z9=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new wt("Expected a control sequence",e);return t},woe=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},eR=(e,t,n,i)=>{var r=e.gullet.macros.get(n.text);r==null&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,r,i)};Ht({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var i=t.fetch();if(QT[i.text])return(n==="\\global"||n==="\\\\globallong")&&(i.text=QT[i.text]),Wn(t.parseFunction(),"internal");throw new wt("Invalid token after macro prefix",i)}});Ht({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=t.gullet.popToken(),r=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new wt("Expected a control sequence",i);for(var a=0,o,s=[[]];t.gullet.future().text!=="{";)if(i=t.gullet.popToken(),i.text==="#"){if(t.gullet.future().text==="{"){o=t.gullet.future(),s[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new wt('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new wt('Argument number "'+i.text+'" out of order');a++,s.push([])}else{if(i.text==="EOF")throw new wt("Expected a macro definition");s[a].push(i.text)}var{tokens:l}=t.gullet.consumeArg();return o&&l.unshift(o),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(r,{tokens:l,numArgs:a,delimiters:s},n===QT[n]),{type:"internal",mode:t.mode}}});Ht({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=Z9(t.gullet.popToken());t.gullet.consumeSpaces();var r=woe(t);return eR(t,i,r,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ht({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=Z9(t.gullet.popToken()),r=t.gullet.popToken(),a=t.gullet.popToken();return eR(t,i,a,n==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(r),{type:"internal",mode:t.mode}}});var km=function(t,n,i){var r=sr.math[t]&&sr.math[t].replace,a=ZA(r||t,n,i);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return a},o4=function(t,n,i,r){var a=i.havingBaseStyle(n),o=Ye.makeSpan(r.concat(a.sizingClasses(i)),[t],i),s=a.sizeMultiplier/i.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=a.sizeMultiplier,o},tR=function(t,n,i){var r=n.havingBaseStyle(i),a=(1-n.sizeMultiplier/r.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Mt(a),t.height-=a,t.depth+=a},Toe=function(t,n,i,r,a,o){var s=Ye.makeSymbol(t,"Main-Regular",a,r),l=o4(s,n,r,o);return i&&tR(l,r,n),l},Aoe=function(t,n,i,r){return Ye.makeSymbol(t,"Size"+n+"-Regular",i,r)},nR=function(t,n,i,r,a,o){var s=Aoe(t,n,a,r),l=o4(Ye.makeSpan(["delimsizing","size"+n],[s],r),pn.TEXT,r,o);return i&&tR(l,r,pn.TEXT),l},Tw=function(t,n,i){var r;n==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=Ye.makeSpan(["delimsizinginner",r],[Ye.makeSpan([],[Ye.makeSymbol(t,n,i)])]);return{type:"elem",elem:a}},Aw=function(t,n,i){var r=wc["Size4-Regular"][t.charCodeAt(0)]?wc["Size4-Regular"][t.charCodeAt(0)][4]:wc["Size1-Regular"][t.charCodeAt(0)][4],a=new rh("inner",Nae(t,Math.round(1e3*n))),o=new Bu([a],{width:Mt(r),height:Mt(n),style:"width:"+Mt(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),s=Ye.makeSvgSpan([],[o],i);return s.height=n,s.style.height=Mt(n),s.style.width=Mt(r),{type:"elem",elem:s}},ZT=.008,Kb={type:"kern",size:-1*ZT},koe=["|","\\lvert","\\rvert","\\vert"],Ioe=["\\|","\\lVert","\\rVert","\\Vert"],iR=function(t,n,i,r,a,o){var s,l,c,h,d="",p=0;s=c=h=t,l=null;var y="Size1-Regular";t==="\\uparrow"?c=h="⏐":t==="\\Uparrow"?c=h="‖":t==="\\downarrow"?s=c="⏐":t==="\\Downarrow"?s=c="‖":t==="\\updownarrow"?(s="\\uparrow",c="⏐",h="\\downarrow"):t==="\\Updownarrow"?(s="\\Uparrow",c="‖",h="\\Downarrow"):un.contains(koe,t)?(c="∣",d="vert",p=333):un.contains(Ioe,t)?(c="∥",d="doublevert",p=556):t==="["||t==="\\lbrack"?(s="⎡",c="⎢",h="⎣",y="Size4-Regular",d="lbrack",p=667):t==="]"||t==="\\rbrack"?(s="⎤",c="⎥",h="⎦",y="Size4-Regular",d="rbrack",p=667):t==="\\lfloor"||t==="⌊"?(c=s="⎢",h="⎣",y="Size4-Regular",d="lfloor",p=667):t==="\\lceil"||t==="⌈"?(s="⎡",c=h="⎢",y="Size4-Regular",d="lceil",p=667):t==="\\rfloor"||t==="⌋"?(c=s="⎥",h="⎦",y="Size4-Regular",d="rfloor",p=667):t==="\\rceil"||t==="⌉"?(s="⎤",c=h="⎥",y="Size4-Regular",d="rceil",p=667):t==="("||t==="\\lparen"?(s="⎛",c="⎜",h="⎝",y="Size4-Regular",d="lparen",p=875):t===")"||t==="\\rparen"?(s="⎞",c="⎟",h="⎠",y="Size4-Regular",d="rparen",p=875):t==="\\{"||t==="\\lbrace"?(s="⎧",l="⎨",h="⎩",c="⎪",y="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(s="⎫",l="⎬",h="⎭",c="⎪",y="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(s="⎧",h="⎩",c="⎪",y="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(s="⎫",h="⎭",c="⎪",y="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(s="⎧",h="⎭",c="⎪",y="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(s="⎫",h="⎩",c="⎪",y="Size4-Regular");var S=km(s,y,a),_=S.height+S.depth,I=km(c,y,a),M=I.height+I.depth,B=km(h,y,a),U=B.height+B.depth,K=0,Q=1;if(l!==null){var H=km(l,y,a);K=H.height+H.depth,Q=2}var g=_+U+K,T=Math.max(0,Math.ceil((n-g)/(Q*M))),A=g+T*Q*M,D=r.fontMetrics().axisHeight;i&&(D*=r.sizeMultiplier);var Z=A/2-D,ie=[];if(d.length>0){var se=A-_-U,ue=Math.round(A*1e3),de=Rae(d,Math.round(se*1e3)),F=new rh(d,de),$=(p/1e3).toFixed(3)+"em",W=(ue/1e3).toFixed(3)+"em",J=new Bu([F],{width:$,height:W,viewBox:"0 0 "+p+" "+ue}),G=Ye.makeSvgSpan([],[J],r);G.height=ue/1e3,G.style.width=$,G.style.height=W,ie.push({type:"elem",elem:G})}else{if(ie.push(Tw(h,y,a)),ie.push(Kb),l===null){var le=A-_-U+2*ZT;ie.push(Aw(c,le,r))}else{var Ie=(A-_-U-K)/2+2*ZT;ie.push(Aw(c,Ie,r)),ie.push(Kb),ie.push(Tw(l,y,a)),ie.push(Kb),ie.push(Aw(c,Ie,r))}ie.push(Kb),ie.push(Tw(s,y,a))}var it=r.havingBaseStyle(pn.TEXT),Je=Ye.makeVList({positionType:"bottom",positionData:Z,children:ie},it);return o4(Ye.makeSpan(["delimsizing","mult"],[Je],it),pn.TEXT,r,o)},kw=80,Iw=.08,Ow=function(t,n,i,r,a){var o=Mae(t,r,i),s=new rh(t,o),l=new Bu([s],{width:"400em",height:Mt(n),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return Ye.makeSvgSpan(["hide-tail"],[l],a)},Ooe=function(t,n){var i=n.havingBaseSizing(),r=sR("\\surd",t*i.sizeMultiplier,oR,i),a=i.sizeMultiplier,o=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),s,l=0,c=0,h=0,d;return r.type==="small"?(h=1e3+1e3*o+kw,t<1?a=1:t<1.4&&(a=.7),l=(1+o+Iw)/a,c=(1+o)/a,s=Ow("sqrtMain",l,h,o,n),s.style.minWidth="0.853em",d=.833/a):r.type==="large"?(h=(1e3+kw)*Jm[r.size],c=(Jm[r.size]+o)/a,l=(Jm[r.size]+o+Iw)/a,s=Ow("sqrtSize"+r.size,l,h,o,n),s.style.minWidth="1.02em",d=1/a):(l=t+o+Iw,c=t+o,h=Math.floor(1e3*t+o)+kw,s=Ow("sqrtTall",l,h,o,n),s.style.minWidth="0.742em",d=1.056),s.height=c,s.style.height=Mt(l),{span:s,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+o)*a}},rR=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Poe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],aR=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Jm=[0,1.2,1.8,2.4,3],Moe=function(t,n,i,r,a){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),un.contains(rR,t)||un.contains(aR,t))return nR(t,n,!1,i,r,a);if(un.contains(Poe,t))return iR(t,Jm[n],!1,i,r,a);throw new wt("Illegal delimiter: '"+t+"'")},Noe=[{type:"small",style:pn.SCRIPTSCRIPT},{type:"small",style:pn.SCRIPT},{type:"small",style:pn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Roe=[{type:"small",style:pn.SCRIPTSCRIPT},{type:"small",style:pn.SCRIPT},{type:"small",style:pn.TEXT},{type:"stack"}],oR=[{type:"small",style:pn.SCRIPTSCRIPT},{type:"small",style:pn.SCRIPT},{type:"small",style:pn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Doe=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},sR=function(t,n,i,r){for(var a=Math.min(2,3-r.style.size),o=a;o<i.length&&i[o].type!=="stack";o++){var s=km(t,Doe(i[o]),"math"),l=s.height+s.depth;if(i[o].type==="small"){var c=r.havingBaseStyle(i[o].style);l*=c.sizeMultiplier}if(l>n)return i[o]}return i[i.length-1]},lR=function(t,n,i,r,a,o){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var s;un.contains(aR,t)?s=Noe:un.contains(rR,t)?s=oR:s=Roe;var l=sR(t,n,s,r);return l.type==="small"?Toe(t,l.style,i,r,a,o):l.type==="large"?nR(t,l.size,i,r,a,o):iR(t,n,i,r,a,o)},Boe=function(t,n,i,r,a,o){var s=r.fontMetrics().axisHeight*r.sizeMultiplier,l=901,c=5/r.fontMetrics().ptPerEm,h=Math.max(n-s,i+s),d=Math.max(h/500*l,2*h-c);return lR(t,d,!0,r,a,o)},Mu={sqrtImage:Ooe,sizedDelim:Moe,sizeToMaxHeight:Jm,customSizedDelim:lR,leftRightDelim:Boe},T6={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Loe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function s_(e,t){var n=a_(e);if(n&&un.contains(Loe,n.text))return n;throw n?new wt("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new wt("Invalid delimiter type '"+e.type+"'",e)}Ht({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=s_(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:T6[e.funcName].size,mclass:T6[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?Ye.makeSpan([e.mclass]):Mu.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(ll(e.delim,e.mode));var n=new _t.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=Mt(Mu.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}});function A6(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ht({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new wt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:s_(t[0],e).text,color:n}}});Ht({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=s_(t[0],e),i=e.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=Wn(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{A6(e);for(var n=sa(e.body,t,!0,["mopen","mclose"]),i=0,r=0,a=!1,o=0;o<n.length;o++)n[o].isMiddle?a=!0:(i=Math.max(n[o].height,i),r=Math.max(n[o].depth,r));i*=t.sizeMultiplier,r*=t.sizeMultiplier;var s;if(e.left==="."?s=Ty(t,["mopen"]):s=Mu.leftRightDelim(e.left,i,r,t,e.mode,["mopen"]),n.unshift(s),a)for(var l=1;l<n.length;l++){var c=n[l],h=c.isMiddle;h&&(n[l]=Mu.leftRightDelim(h.delim,i,r,h.options,e.mode,[]))}var d;if(e.right===".")d=Ty(t,["mclose"]);else{var p=e.rightColor?t.withColor(e.rightColor):t;d=Mu.leftRightDelim(e.right,i,r,p,e.mode,["mclose"])}return n.push(d),Ye.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{A6(e);var n=us(e.body,t);if(e.left!=="."){var i=new _t.MathNode("mo",[ll(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if(e.right!=="."){var r=new _t.MathNode("mo",[ll(e.right,e.mode)]);r.setAttribute("fence","true"),e.rightColor&&r.setAttribute("mathcolor",e.rightColor),n.push(r)}return n4(n)}});Ht({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=s_(t[0],e);if(!e.parser.leftrightDepth)throw new wt("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Ty(t,[]);else{n=Mu.sizedDelim(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?ll("|","text"):ll(e.delim,e.mode),i=new _t.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var s4=(e,t)=>{var n=Ye.wrapFragment(Ii(e.body,t),t),i=e.label.slice(1),r=t.sizeMultiplier,a,o=0,s=un.isCharacterBox(e.body);if(i==="sout")a=Ye.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/r,o=-.5*t.fontMetrics().xHeight;else if(i==="phase"){var l=_r({number:.6,unit:"pt"},t),c=_r({number:.35,unit:"ex"},t),h=t.havingBaseSizing();r=r/h.sizeMultiplier;var d=n.height+n.depth+l+c;n.style.paddingLeft=Mt(d/2+l);var p=Math.floor(1e3*d*r),y=Oae(p),S=new Bu([new rh("phase",y)],{width:"400em",height:Mt(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=Ye.makeSvgSpan(["hide-tail"],[S],t),a.style.height=Mt(d),o=n.depth+l+c}else{/cancel/.test(i)?s||n.classes.push("cancel-pad"):i==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var _=0,I=0,M=0;/box/.test(i)?(M=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),_=t.fontMetrics().fboxsep+(i==="colorbox"?0:M),I=_):i==="angl"?(M=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),_=4*M,I=Math.max(0,.25-n.depth)):(_=s?.2:0,I=_),a=Fu.encloseSpan(n,i,_,I,t),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=Mt(M)):i==="angl"&&M!==.049&&(a.style.borderTopWidth=Mt(M),a.style.borderRightWidth=Mt(M)),o=n.depth+I,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var B;if(e.backgroundColor)B=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:o},{type:"elem",elem:n,shift:0}]},t);else{var U=/cancel|phase/.test(i)?["svg-align"]:[];B=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:o,wrapperClasses:U}]},t)}return/cancel/.test(i)&&(B.height=n.height,B.depth=n.depth),/cancel/.test(i)&&!s?Ye.makeSpan(["mord","cancel-lap"],[B],t):Ye.makeSpan(["mord"],[B],t)},l4=(e,t)=>{var n=0,i=new _t.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[tr(e.body,t)]);switch(e.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var r=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+r+"em solid "+String(e.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&i.setAttribute("mathbackground",e.backgroundColor),i};Ht({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:i,funcName:r}=e,a=Wn(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:a,body:o}},htmlBuilder:s4,mathmlBuilder:l4});Ht({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:i,funcName:r}=e,a=Wn(t[0],"color-token").color,o=Wn(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:o,borderColor:a,body:s}},htmlBuilder:s4,mathmlBuilder:l4});Ht({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});Ht({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"enclose",mode:n.mode,label:i,body:r}},htmlBuilder:s4,mathmlBuilder:l4});Ht({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var cR={};function $c(e){for(var{type:t,names:n,props:i,handler:r,htmlBuilder:a,mathmlBuilder:o}=e,s={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<n.length;++l)cR[n[l]]=s;a&&(wx[t]=a),o&&(Tx[t]=o)}var uR={};function ne(e,t){uR[e]=t}function k6(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var l_=e=>{var t=e.parser.settings;if(!t.displayMode)throw new wt("{"+e.envName+"} can be used only in display mode.")};function c4(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function gh(e,t,n){var{hskipBeforeAndAfter:i,addJot:r,cols:a,arraystretch:o,colSeparationType:s,autoTag:l,singleRow:c,emptySingleRow:h,maxNumCols:d,leqno:p}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!o){var y=e.gullet.expandMacroAsText("\\arraystretch");if(y==null)o=1;else if(o=parseFloat(y),!o||o<0)throw new wt("Invalid \\arraystretch: "+y)}e.gullet.beginGroup();var S=[],_=[S],I=[],M=[],B=l!=null?[]:void 0;function U(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function K(){B&&(e.gullet.macros.get("\\df@tag")?(B.push(e.subparse([new il("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):B.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(U(),M.push(k6(e));;){var Q=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),Q={type:"ordgroup",mode:e.mode,body:Q},n&&(Q={type:"styling",mode:e.mode,style:n,body:[Q]}),S.push(Q);var H=e.fetch().text;if(H==="&"){if(d&&S.length===d){if(c||s)throw new wt("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(H==="\\end"){K(),S.length===1&&Q.type==="styling"&&Q.body[0].body.length===0&&(_.length>1||!h)&&_.pop(),M.length<_.length+1&&M.push([]);break}else if(H==="\\\\"){e.consume();var g=void 0;e.gullet.future().text!==" "&&(g=e.parseSizeGroup(!0)),I.push(g?g.value:null),K(),M.push(k6(e)),S=[],_.push(S),U()}else throw new wt("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:r,arraystretch:o,body:_,cols:a,rowGaps:I,hskipBeforeAndAfter:i,hLinesBeforeRow:M,colSeparationType:s,tags:B,leqno:p}}function u4(e){return e.slice(0,1)==="d"?"display":"text"}var qc=function(t,n){var i,r,a=t.body.length,o=t.hLinesBeforeRow,s=0,l=new Array(a),c=[],h=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,p=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var y=n.havingStyle(pn.SCRIPT).sizeMultiplier;p=.2778*(y/n.sizeMultiplier)}var S=t.colSeparationType==="CD"?_r({number:3,unit:"ex"},n):12*d,_=3*d,I=t.arraystretch*S,M=.7*I,B=.3*I,U=0;function K(Ee){for(var ve=0;ve<Ee.length;++ve)ve>0&&(U+=.25),c.push({pos:U,isDashed:Ee[ve]})}for(K(o[0]),i=0;i<t.body.length;++i){var Q=t.body[i],H=M,g=B;s<Q.length&&(s=Q.length);var T=new Array(Q.length);for(r=0;r<Q.length;++r){var A=Ii(Q[r],n);g<A.depth&&(g=A.depth),H<A.height&&(H=A.height),T[r]=A}var D=t.rowGaps[i],Z=0;D&&(Z=_r(D,n),Z>0&&(Z+=B,g<Z&&(g=Z),Z=0)),t.addJot&&(g+=_),T.height=H,T.depth=g,U+=H,T.pos=U,U+=g+Z,l[i]=T,K(o[i+1])}var ie=U/2+n.fontMetrics().axisHeight,se=t.cols||[],ue=[],de,F,$=[];if(t.tags&&t.tags.some(Ee=>Ee))for(i=0;i<a;++i){var W=l[i],J=W.pos-ie,G=t.tags[i],le=void 0;G===!0?le=Ye.makeSpan(["eqn-num"],[],n):G===!1?le=Ye.makeSpan([],[],n):le=Ye.makeSpan([],sa(G,n,!0),n),le.depth=W.depth,le.height=W.height,$.push({type:"elem",elem:le,shift:J})}for(r=0,F=0;r<s||F<se.length;++r,++F){for(var Ie=se[F]||{},it=!0;Ie.type==="separator";){if(it||(de=Ye.makeSpan(["arraycolsep"],[]),de.style.width=Mt(n.fontMetrics().doubleRuleSep),ue.push(de)),Ie.separator==="|"||Ie.separator===":"){var Je=Ie.separator==="|"?"solid":"dashed",Ge=Ye.makeSpan(["vertical-separator"],[],n);Ge.style.height=Mt(U),Ge.style.borderRightWidth=Mt(h),Ge.style.borderRightStyle=Je,Ge.style.margin="0 "+Mt(-h/2);var Ze=U-ie;Ze&&(Ge.style.verticalAlign=Mt(-Ze)),ue.push(Ge)}else throw new wt("Invalid separator type: "+Ie.separator);F++,Ie=se[F]||{},it=!1}if(!(r>=s)){var Te=void 0;(r>0||t.hskipBeforeAndAfter)&&(Te=un.deflt(Ie.pregap,p),Te!==0&&(de=Ye.makeSpan(["arraycolsep"],[]),de.style.width=Mt(Te),ue.push(de)));var Ae=[];for(i=0;i<a;++i){var Ue=l[i],Xe=Ue[r];if(Xe){var dt=Ue.pos-ie;Xe.depth=Ue.depth,Xe.height=Ue.height,Ae.push({type:"elem",elem:Xe,shift:dt})}}Ae=Ye.makeVList({positionType:"individualShift",children:Ae},n),Ae=Ye.makeSpan(["col-align-"+(Ie.align||"c")],[Ae]),ue.push(Ae),(r<s-1||t.hskipBeforeAndAfter)&&(Te=un.deflt(Ie.postgap,p),Te!==0&&(de=Ye.makeSpan(["arraycolsep"],[]),de.style.width=Mt(Te),ue.push(de)))}}if(l=Ye.makeSpan(["mtable"],ue),c.length>0){for(var te=Ye.makeLineSpan("hline",n,h),ce=Ye.makeLineSpan("hdashline",n,h),fe=[{type:"elem",elem:l,shift:0}];c.length>0;){var Be=c.pop(),we=Be.pos-ie;Be.isDashed?fe.push({type:"elem",elem:ce,shift:we}):fe.push({type:"elem",elem:te,shift:we})}l=Ye.makeVList({positionType:"individualShift",children:fe},n)}if($.length===0)return Ye.makeSpan(["mord"],[l],n);var re=Ye.makeVList({positionType:"individualShift",children:$},n);return re=Ye.makeSpan(["tag"],[re],n),Ye.makeFragment([l,re])},Foe={c:"center ",l:"left ",r:"right "},Uc=function(t,n){for(var i=[],r=new _t.MathNode("mtd",[],["mtr-glue"]),a=new _t.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var s=t.body[o],l=[],c=0;c<s.length;c++)l.push(new _t.MathNode("mtd",[tr(s[c],n)]));t.tags&&t.tags[o]&&(l.unshift(r),l.push(r),t.leqno?l.unshift(a):l.push(a)),i.push(new _t.MathNode("mtr",l))}var h=new _t.MathNode("mtable",i),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);h.setAttribute("rowspacing",Mt(d));var p="",y="";if(t.cols&&t.cols.length>0){var S=t.cols,_="",I=!1,M=0,B=S.length;S[0].type==="separator"&&(p+="top ",M=1),S[S.length-1].type==="separator"&&(p+="bottom ",B-=1);for(var U=M;U<B;U++)S[U].type==="align"?(y+=Foe[S[U].align],I&&(_+="none "),I=!0):S[U].type==="separator"&&I&&(_+=S[U].separator==="|"?"solid ":"dashed ",I=!1);h.setAttribute("columnalign",y.trim()),/[sd]/.test(_)&&h.setAttribute("columnlines",_.trim())}if(t.colSeparationType==="align"){for(var K=t.cols||[],Q="",H=1;H<K.length;H++)Q+=H%2?"0em ":"1em ";h.setAttribute("columnspacing",Q.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var g="",T=t.hLinesBeforeRow;p+=T[0].length>0?"left ":"",p+=T[T.length-1].length>0?"right ":"";for(var A=1;A<T.length-1;A++)g+=T[A].length===0?"none ":T[A][0]?"dashed ":"solid ";return/[sd]/.test(g)&&h.setAttribute("rowlines",g.trim()),p!==""&&(h=new _t.MathNode("menclose",[h]),h.setAttribute("notation",p.trim())),t.arraystretch&&t.arraystretch<1&&(h=new _t.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},dR=function(t,n){t.envName.indexOf("ed")===-1&&l_(t);var i=[],r=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",o=gh(t.parser,{cols:i,addJot:!0,autoTag:a?void 0:c4(t.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),s,l=0,c={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var h="",d=0;d<n[0].body.length;d++){var p=Wn(n[0].body[d],"textord");h+=p.text}s=Number(h),l=s*2}var y=!l;o.body.forEach(function(M){for(var B=1;B<M.length;B+=2){var U=Wn(M[B],"styling"),K=Wn(U.body[0],"ordgroup");K.body.unshift(c)}if(y)l<M.length&&(l=M.length);else{var Q=M.length/2;if(s<Q)throw new wt("Too many math in a row: "+("expected "+s+", but got "+Q),M[0])}});for(var S=0;S<l;++S){var _="r",I=0;S%2===1?_="l":S>0&&y&&(I=1),i[S]={type:"align",align:_,pregap:I,postgap:0}}return o.colSeparationType=y?"align":"alignat",o};$c({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=a_(t[0]),i=n?[t[0]]:Wn(t[0],"ordgroup").body,r=i.map(function(o){var s=r4(o),l=s.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new wt("Unknown column alignment: "+l,o)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return gh(e.parser,a,u4(e.envName))},htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var r=e.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),n=r.fetch().text,"lcr".indexOf(n)===-1)throw new wt("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),i.cols=[{type:"align",align:n}]}}var a=gh(e.parser,i,u4(e.envName)),o=Math.max(0,...a.body.map(s=>s.length));return a.cols=new Array(o).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=gh(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=a_(t[0]),i=n?[t[0]]:Wn(t[0],"ordgroup").body,r=i.map(function(o){var s=r4(o),l=s.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new wt("Unknown column alignment: "+l,o)});if(r.length>1)throw new wt("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=gh(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new wt("{subarray} can contain only one column");return a},htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=gh(e.parser,t,u4(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:dR,htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){un.contains(["gather","gather*"],e.envName)&&l_(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:c4(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return gh(e.parser,t,"display")},htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:dR,htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){l_(e);var t={autoTag:c4(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return gh(e.parser,t,"display")},htmlBuilder:qc,mathmlBuilder:Uc});$c({type:"array",names:["CD"],props:{numArgs:0},handler(e){return l_(e),Coe(e.parser)},htmlBuilder:qc,mathmlBuilder:Uc});ne("\\nonumber","\\gdef\\@eqnsw{0}");ne("\\notag","\\nonumber");Ht({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new wt(e.funcName+" valid only within array environment")}});var I6=cR;Ht({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];if(r.type!=="ordgroup")throw new wt("Invalid environment name",r);for(var a="",o=0;o<r.body.length;++o)a+=Wn(r.body[o],"textord").text;if(i==="\\begin"){if(!I6.hasOwnProperty(a))throw new wt("No such environment: "+a,r);var s=I6[a],{args:l,optArgs:c}=n.parseArguments("\\begin{"+a+"}",s),h={mode:n.mode,envName:a,parser:n},d=s.handler(h,l,c);n.expect("\\end",!1);var p=n.nextToken,y=Wn(n.parseFunction(),"environment");if(y.name!==a)throw new wt("Mismatch: \\begin{"+a+"} matched by \\end{"+y.name+"}",p);return d}return{type:"environment",mode:n.mode,name:a,nameGroup:r}}});var hR=(e,t)=>{var n=e.font,i=t.withFont(n);return Ii(e.body,i)},fR=(e,t)=>{var n=e.font,i=t.withFont(n);return tr(e.body,i)},O6={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ht({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=Ax(t[0]),a=i;return a in O6&&(a=O6[a]),{type:"font",mode:n.mode,font:a.slice(1),body:r}},htmlBuilder:hR,mathmlBuilder:fR});Ht({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,i=t[0],r=un.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:o_(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}});Ht({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i,breakOnTokenText:r}=e,{mode:a}=n,o=n.parseExpression(!0,r),s="math"+i.slice(1);return{type:"font",mode:a,font:s,body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:hR,mathmlBuilder:fR});var pR=(e,t)=>{var n=t;return e==="display"?n=n.id>=pn.SCRIPT.id?n.text():pn.DISPLAY:e==="text"&&n.size===pn.DISPLAY.size?n=pn.TEXT:e==="script"?n=pn.SCRIPT:e==="scriptscript"&&(n=pn.SCRIPTSCRIPT),n},d4=(e,t)=>{var n=pR(e.size,t.style),i=n.fracNum(),r=n.fracDen(),a;a=t.havingStyle(i);var o=Ii(e.numer,a,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<l?l:o.depth}a=t.havingStyle(r);var c=Ii(e.denom,a,t),h,d,p;e.hasBarLine?(e.barSize?(d=_r(e.barSize,t),h=Ye.makeLineSpan("frac-line",t,d)):h=Ye.makeLineSpan("frac-line",t),d=h.height,p=h.height):(h=null,d=0,p=t.fontMetrics().defaultRuleThickness);var y,S,_;n.size===pn.DISPLAY.size||e.size==="display"?(y=t.fontMetrics().num1,d>0?S=3*p:S=7*p,_=t.fontMetrics().denom1):(d>0?(y=t.fontMetrics().num2,S=p):(y=t.fontMetrics().num3,S=3*p),_=t.fontMetrics().denom2);var I;if(h){var B=t.fontMetrics().axisHeight;y-o.depth-(B+.5*d)<S&&(y+=S-(y-o.depth-(B+.5*d))),B-.5*d-(c.height-_)<S&&(_+=S-(B-.5*d-(c.height-_)));var U=-(B-.5*d);I=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:_},{type:"elem",elem:h,shift:U},{type:"elem",elem:o,shift:-y}]},t)}else{var M=y-o.depth-(c.height-_);M<S&&(y+=.5*(S-M),_+=.5*(S-M)),I=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:_},{type:"elem",elem:o,shift:-y}]},t)}a=t.havingStyle(n),I.height*=a.sizeMultiplier/t.sizeMultiplier,I.depth*=a.sizeMultiplier/t.sizeMultiplier;var K;n.size===pn.DISPLAY.size?K=t.fontMetrics().delim1:n.size===pn.SCRIPTSCRIPT.size?K=t.havingStyle(pn.SCRIPT).fontMetrics().delim2:K=t.fontMetrics().delim2;var Q,H;return e.leftDelim==null?Q=Ty(t,["mopen"]):Q=Mu.customSizedDelim(e.leftDelim,K,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?H=Ye.makeSpan([]):e.rightDelim==null?H=Ty(t,["mclose"]):H=Mu.customSizedDelim(e.rightDelim,K,!0,t.havingStyle(n),e.mode,["mclose"]),Ye.makeSpan(["mord"].concat(a.sizingClasses(t)),[Q,Ye.makeSpan(["mfrac"],[I]),H],t)},h4=(e,t)=>{var n=new _t.MathNode("mfrac",[tr(e.numer,t),tr(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var i=_r(e.barSize,t);n.setAttribute("linethickness",Mt(i))}var r=pR(e.size,t.style);if(r.size!==t.style.size){n=new _t.MathNode("mstyle",[n]);var a=r.size===pn.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var o=[];if(e.leftDelim!=null){var s=new _t.MathNode("mo",[new _t.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),o.push(s)}if(o.push(n),e.rightDelim!=null){var l=new _t.MathNode("mo",[new _t.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return n4(o)}return n};Ht({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],a=t[1],o,s=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,s="(",l=")";break;case"\\\\bracefrac":o=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:a,hasBarLine:o,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:d4,mathmlBuilder:h4});Ht({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ht({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:i}=e,r;switch(n){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:r,token:i}}});var P6=["display","text","script","scriptscript"],M6=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};Ht({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,i=t[4],r=t[5],a=Ax(t[0]),o=a.type==="atom"&&a.family==="open"?M6(a.text):null,s=Ax(t[1]),l=s.type==="atom"&&s.family==="close"?M6(s.text):null,c=Wn(t[2],"size"),h,d=null;c.isBlank?h=!0:(d=c.value,h=d.number>0);var p="auto",y=t[3];if(y.type==="ordgroup"){if(y.body.length>0){var S=Wn(y.body[0],"textord");p=P6[Number(S.text)]}}else y=Wn(y,"textord"),p=P6[Number(y.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:r,continued:!1,hasBarLine:h,barSize:d,leftDelim:o,rightDelim:l,size:p}},htmlBuilder:d4,mathmlBuilder:h4});Ht({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:i,token:r}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Wn(t[0],"size").value,token:r}}});Ht({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],a=gae(Wn(t[1],"infix").size),o=t[2],s=a.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:o,continued:!1,hasBarLine:s,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:d4,mathmlBuilder:h4});var gR=(e,t)=>{var n=t.style,i,r;e.type==="supsub"?(i=e.sup?Ii(e.sup,t.havingStyle(n.sup()),t):Ii(e.sub,t.havingStyle(n.sub()),t),r=Wn(e.base,"horizBrace")):r=Wn(e,"horizBrace");var a=Ii(r.base,t.havingBaseStyle(pn.DISPLAY)),o=Fu.svgSpan(r,t),s;if(r.isOver?(s=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},t),s.children[0].children[0].children[1].classes.push("svg-align")):(s=Ye.makeVList({positionType:"bottom",positionData:a.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},t),s.children[0].children[0].children[0].classes.push("svg-align")),i){var l=Ye.makeSpan(["mord",r.isOver?"mover":"munder"],[s],t);r.isOver?s=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},t):s=Ye.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Ye.makeSpan(["mord",r.isOver?"mover":"munder"],[s],t)},zoe=(e,t)=>{var n=Fu.mathMLnode(e.label);return new _t.MathNode(e.isOver?"mover":"munder",[tr(e.base,t),n])};Ht({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:gR,mathmlBuilder:zoe});Ht({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[1],r=Wn(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:Vr(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=sa(e.body,t,!1);return Ye.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=ah(e.body,t);return n instanceof Is||(n=new Is("mrow",[n])),n.setAttribute("href",e.href),n}});Ht({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=Wn(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<i.length;a++){var o=i[a];o==="~"&&(o="\\textasciitilde"),r.push({type:"textord",mode:"text",text:o})}var s={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:i,body:Vr(s)}}});Ht({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:Vr(t[0])}},htmlBuilder(e,t){var n=sa(e.body,t,!1);return Ye.makeFragment(n)},mathmlBuilder(e,t){return new _t.MathNode("mrow",us(e.body,t))}});Ht({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i,token:r}=e,a=Wn(t[0],"raw").string,o=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,l={};switch(i){case"\\htmlClass":l.class=a,s={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,s={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,s={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var c=a.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(d.length!==2)throw new wt("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}s={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(s)?{type:"html",mode:n.mode,attributes:l,body:Vr(o)}:n.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{var n=sa(e.body,t,!1),i=["enclosing"];e.attributes.class&&i.push(...e.attributes.class.trim().split(/\s+/));var r=Ye.makeSpan(i,n,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&r.setAttribute(a,e.attributes[a]);return r},mathmlBuilder:(e,t)=>ah(e.body,t)});Ht({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:Vr(t[0]),mathml:Vr(t[1])}},htmlBuilder:(e,t)=>{var n=sa(e.html,t,!1);return Ye.makeFragment(n)},mathmlBuilder:(e,t)=>ah(e.mathml,t)});var Pw=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new wt("Invalid size: '"+t+"' in \\includegraphics");var i={number:+(n[1]+n[2]),unit:n[3]};if(!R9(i))throw new wt("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Ht({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:i}=e,r={number:0,unit:"em"},a={number:.9,unit:"em"},o={number:0,unit:"em"},s="";if(n[0])for(var l=Wn(n[0],"raw").string,c=l.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(d.length===2){var p=d[1].trim();switch(d[0].trim()){case"alt":s=p;break;case"width":r=Pw(p);break;case"height":a=Pw(p);break;case"totalheight":o=Pw(p);break;default:throw new wt("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var y=Wn(t[0],"url").url;return s===""&&(s=y,s=s.replace(/^.*[\\/]/,""),s=s.substring(0,s.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:y})?{type:"includegraphics",mode:i.mode,alt:s,width:r,height:a,totalheight:o,src:y}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=_r(e.height,t),i=0;e.totalheight.number>0&&(i=_r(e.totalheight,t)-n);var r=0;e.width.number>0&&(r=_r(e.width,t));var a={height:Mt(n+i)};r>0&&(a.width=Mt(r)),i>0&&(a.verticalAlign=Mt(-i));var o=new zae(e.src,e.alt,a);return o.height=n,o.depth=i,o},mathmlBuilder:(e,t)=>{var n=new _t.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var i=_r(e.height,t),r=0;if(e.totalheight.number>0&&(r=_r(e.totalheight,t)-i,n.setAttribute("valign",Mt(-r))),n.setAttribute("height",Mt(i+r)),e.width.number>0){var a=_r(e.width,t);n.setAttribute("width",Mt(a))}return n.setAttribute("src",e.src),n}});Ht({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,r=Wn(t[0],"size");if(n.settings.strict){var a=i[1]==="m",o=r.value.unit==="mu";a?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+r.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder(e,t){return Ye.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=_r(e.dimension,t);return new _t.SpaceNode(n)}});Ht({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:r}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=Ye.makeSpan([],[Ii(e.body,t)]),n=Ye.makeSpan(["inner"],[n],t)):n=Ye.makeSpan(["inner"],[Ii(e.body,t)]);var i=Ye.makeSpan(["fix"],[]),r=Ye.makeSpan([e.alignment],[n,i],t),a=Ye.makeSpan(["strut"]);return a.style.height=Mt(r.height+r.depth),r.depth&&(a.style.verticalAlign=Mt(-r.depth)),r.children.unshift(a),r=Ye.makeSpan(["thinbox"],[r],t),Ye.makeSpan(["mord","vbox"],[r],t)},mathmlBuilder:(e,t)=>{var n=new _t.MathNode("mpadded",[tr(e.body,t)]);if(e.alignment!=="rlap"){var i=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}});Ht({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:i}=e,r=i.mode;i.switchMode("math");var a=n==="\\("?"\\)":"$",o=i.parseExpression(!1,a);return i.expect(a),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:o}}});Ht({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new wt("Mismatched "+e.funcName)}});var N6=(e,t)=>{switch(t.style.size){case pn.DISPLAY.size:return e.display;case pn.TEXT.size:return e.text;case pn.SCRIPT.size:return e.script;case pn.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Ht({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:Vr(t[0]),text:Vr(t[1]),script:Vr(t[2]),scriptscript:Vr(t[3])}},htmlBuilder:(e,t)=>{var n=N6(e,t),i=sa(n,t,!1);return Ye.makeFragment(i)},mathmlBuilder:(e,t)=>{var n=N6(e,t);return ah(n,t)}});var mR=(e,t,n,i,r,a,o)=>{e=Ye.makeSpan([],[e]);var s=n&&un.isCharacterBox(n),l,c;if(t){var h=Ii(t,i.havingStyle(r.sup()),i);c={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var d=Ii(n,i.havingStyle(r.sub()),i);l={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-d.height)}}var p;if(c&&l){var y=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+o;p=Ye.makeVList({positionType:"bottom",positionData:y,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Mt(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:Mt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var S=e.height-o;p=Ye.makeVList({positionType:"top",positionData:S,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Mt(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},i)}else if(c){var _=e.depth+o;p=Ye.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:Mt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return e;var I=[p];if(l&&a!==0&&!s){var M=Ye.makeSpan(["mspace"],[],i);M.style.marginRight=Mt(a),I.unshift(M)}return Ye.makeSpan(["mop","op-limits"],I,i)},yR=["\\smallint"],N0=(e,t)=>{var n,i,r=!1,a;e.type==="supsub"?(n=e.sup,i=e.sub,a=Wn(e.base,"op"),r=!0):a=Wn(e,"op");var o=t.style,s=!1;o.size===pn.DISPLAY.size&&a.symbol&&!un.contains(yR,a.name)&&(s=!0);var l;if(a.symbol){var c=s?"Size2-Regular":"Size1-Regular",h="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(h=a.name.slice(1),a.name=h==="oiint"?"\\iint":"\\iiint"),l=Ye.makeSymbol(a.name,c,"math",t,["mop","op-symbol",s?"large-op":"small-op"]),h.length>0){var d=l.italic,p=Ye.staticSvg(h+"Size"+(s?"2":"1"),t);l=Ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:p,shift:s?.08:0}]},t),a.name="\\"+h,l.classes.unshift("mop"),l.italic=d}}else if(a.body){var y=sa(a.body,t,!0);y.length===1&&y[0]instanceof sl?(l=y[0],l.classes[0]="mop"):l=Ye.makeSpan(["mop"],y,t)}else{for(var S=[],_=1;_<a.name.length;_++)S.push(Ye.mathsym(a.name[_],a.mode,t));l=Ye.makeSpan(["mop"],S,t)}var I=0,M=0;return(l instanceof sl||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(I=(l.height-l.depth)/2-t.fontMetrics().axisHeight,M=l.italic),r?mR(l,n,i,t,o,M,I):(I&&(l.style.position="relative",l.style.top=Mt(I)),l)},k1=(e,t)=>{var n;if(e.symbol)n=new Is("mo",[ll(e.name,e.mode)]),un.contains(yR,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Is("mo",us(e.body,t));else{n=new Is("mi",[new Tc(e.name.slice(1))]);var i=new Is("mo",[ll("⁡","text")]);e.parentIsSupSub?n=new Is("mrow",[n,i]):n=G9([n,i])}return n},$oe={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ht({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=i;return r.length===1&&(r=$oe[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:N0,mathmlBuilder:k1});Ht({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Vr(i)}},htmlBuilder:N0,mathmlBuilder:k1});var qoe={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ht({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:N0,mathmlBuilder:k1});Ht({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:N0,mathmlBuilder:k1});Ht({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,i=n;return i.length===1&&(i=qoe[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:N0,mathmlBuilder:k1});var vR=(e,t)=>{var n,i,r=!1,a;e.type==="supsub"?(n=e.sup,i=e.sub,a=Wn(e.base,"operatorname"),r=!0):a=Wn(e,"operatorname");var o;if(a.body.length>0){for(var s=a.body.map(d=>{var p=d.text;return typeof p=="string"?{type:"textord",mode:d.mode,text:p}:d}),l=sa(s,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var h=l[c];h instanceof sl&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Ye.makeSpan(["mop"],l,t)}else o=Ye.makeSpan(["mop"],[],t);return r?mR(o,n,i,t,t.style,0,0):o},Uoe=(e,t)=>{for(var n=us(e.body,t.withFont("mathrm")),i=!0,r=0;r<n.length;r++){var a=n[r];if(!(a instanceof _t.SpaceNode))if(a instanceof _t.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=a.children[0];a.children.length===1&&o instanceof _t.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var s=n.map(h=>h.toText()).join("");n=[new _t.TextNode(s)]}var l=new _t.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new _t.MathNode("mo",[ll("⁡","text")]);return e.parentIsSupSub?new _t.MathNode("mrow",[l,c]):_t.newDocumentFragment([l,c])};Ht({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"operatorname",mode:n.mode,body:Vr(r),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:vR,mathmlBuilder:Uoe});ne("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Kf({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Ye.makeFragment(sa(e.body,t,!1)):Ye.makeSpan(["mord"],sa(e.body,t,!0),t)},mathmlBuilder(e,t){return ah(e.body,t,!0)}});Ht({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(e,t){var n=Ii(e.body,t.havingCrampedStyle()),i=Ye.makeLineSpan("overline-line",t),r=t.fontMetrics().defaultRuleThickness,a=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},t);return Ye.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var n=new _t.MathNode("mo",[new _t.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new _t.MathNode("mover",[tr(e.body,t),n]);return i.setAttribute("accent","true"),i}});Ht({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"phantom",mode:n.mode,body:Vr(i)}},htmlBuilder:(e,t)=>{var n=sa(e.body,t.withPhantom(),!1);return Ye.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=us(e.body,t);return new _t.MathNode("mphantom",n)}});Ht({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=Ye.makeSpan([],[Ii(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Ye.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=us(Vr(e.body),t),i=new _t.MathNode("mphantom",n),r=new _t.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Ht({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=Ye.makeSpan(["inner"],[Ii(e.body,t.withPhantom())]),i=Ye.makeSpan(["fix"],[]);return Ye.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:(e,t)=>{var n=us(Vr(e.body),t),i=new _t.MathNode("mphantom",n),r=new _t.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}});Ht({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,i=Wn(t[0],"size").value,r=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:r}},htmlBuilder(e,t){var n=Ii(e.body,t),i=_r(e.dy,t);return Ye.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new _t.MathNode("mpadded",[tr(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}});Ht({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Ht({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:i}=e,r=n[0],a=Wn(t[0],"size"),o=Wn(t[1],"size");return{type:"rule",mode:i.mode,shift:r&&Wn(r,"size").value,width:a.value,height:o.value}},htmlBuilder(e,t){var n=Ye.makeSpan(["mord","rule"],[],t),i=_r(e.width,t),r=_r(e.height,t),a=e.shift?_r(e.shift,t):0;return n.style.borderRightWidth=Mt(i),n.style.borderTopWidth=Mt(r),n.style.bottom=Mt(a),n.width=i,n.height=r+a,n.depth=-a,n.maxFontSize=r*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=_r(e.width,t),i=_r(e.height,t),r=e.shift?_r(e.shift,t):0,a=t.color&&t.getColor()||"black",o=new _t.MathNode("mspace");o.setAttribute("mathbackground",a),o.setAttribute("width",Mt(n)),o.setAttribute("height",Mt(i));var s=new _t.MathNode("mpadded",[o]);return r>=0?s.setAttribute("height",Mt(r)):(s.setAttribute("height",Mt(r)),s.setAttribute("depth",Mt(-r))),s.setAttribute("voffset",Mt(r)),s}});function bR(e,t,n){for(var i=sa(e,t,!1),r=t.sizeMultiplier/n.sizeMultiplier,a=0;a<i.length;a++){var o=i[a].classes.indexOf("sizing");o<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(n)):i[a].classes[o+1]==="reset-size"+t.size&&(i[a].classes[o+1]="reset-size"+n.size),i[a].height*=r,i[a].depth*=r}return Ye.makeFragment(i)}var R6=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Hoe=(e,t)=>{var n=t.havingSize(e.size);return bR(e.body,n,t)};Ht({type:"sizing",names:R6,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:i,parser:r}=e,a=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:R6.indexOf(i)+1,body:a}},htmlBuilder:Hoe,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),i=us(e.body,n),r=new _t.MathNode("mstyle",i);return r.setAttribute("mathsize",Mt(n.sizeMultiplier)),r}});Ht({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:i}=e,r=!1,a=!1,o=n[0]&&Wn(n[0],"ordgroup");if(o)for(var s="",l=0;l<o.body.length;++l){var c=o.body[l];if(s=c.text,s==="t")r=!0;else if(s==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var h=t[0];return{type:"smash",mode:i.mode,body:h,smashHeight:r,smashDepth:a}},htmlBuilder:(e,t)=>{var n=Ye.makeSpan([],[Ii(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var a=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Ye.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var n=new _t.MathNode("mpadded",[tr(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});Ht({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i}=e,r=n[0],a=t[0];return{type:"sqrt",mode:i.mode,body:a,index:r}},htmlBuilder(e,t){var n=Ii(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=Ye.wrapFragment(n,t);var i=t.fontMetrics(),r=i.defaultRuleThickness,a=r;t.style.id<pn.TEXT.id&&(a=t.fontMetrics().xHeight);var o=r+a/4,s=n.height+n.depth+o+r,{span:l,ruleWidth:c,advanceWidth:h}=Mu.sqrtImage(s,t),d=l.height-c;d>n.height+n.depth+o&&(o=(o+d-n.height-n.depth)/2);var p=l.height-n.height-o-c;n.style.paddingLeft=Mt(h);var y=Ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+p)},{type:"elem",elem:l},{type:"kern",size:c}]},t);if(e.index){var S=t.havingStyle(pn.SCRIPTSCRIPT),_=Ii(e.index,S,t),I=.6*(y.height-y.depth),M=Ye.makeVList({positionType:"shift",positionData:-I,children:[{type:"elem",elem:_}]},t),B=Ye.makeSpan(["root"],[M]);return Ye.makeSpan(["mord","sqrt"],[B,y],t)}else return Ye.makeSpan(["mord","sqrt"],[y],t)},mathmlBuilder(e,t){var{body:n,index:i}=e;return i?new _t.MathNode("mroot",[tr(n,t),tr(i,t)]):new _t.MathNode("msqrt",[tr(n,t)])}});var D6={display:pn.DISPLAY,text:pn.TEXT,script:pn.SCRIPT,scriptscript:pn.SCRIPTSCRIPT};Ht({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:i,parser:r}=e,a=r.parseExpression(!0,n),o=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:o,body:a}},htmlBuilder(e,t){var n=D6[e.style],i=t.havingStyle(n).withFont("");return bR(e.body,i,t)},mathmlBuilder(e,t){var n=D6[e.style],i=t.havingStyle(n),r=us(e.body,i),a=new _t.MathNode("mstyle",r),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},s=o[e.style];return a.setAttribute("scriptlevel",s[0]),a.setAttribute("displaystyle",s[1]),a}});var Voe=function(t,n){var i=t.base;if(i)if(i.type==="op"){var r=i.limits&&(n.style.size===pn.DISPLAY.size||i.alwaysHandleSupSub);return r?N0:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(n.style.size===pn.DISPLAY.size||i.limits);return a?vR:null}else{if(i.type==="accent")return un.isCharacterBox(i.base)?a4:null;if(i.type==="horizBrace"){var o=!t.sub;return o===i.isOver?gR:null}else return null}else return null};Kf({type:"supsub",htmlBuilder(e,t){var n=Voe(e,t);if(n)return n(e,t);var{base:i,sup:r,sub:a}=e,o=Ii(i,t),s,l,c=t.fontMetrics(),h=0,d=0,p=i&&un.isCharacterBox(i);if(r){var y=t.havingStyle(t.style.sup());s=Ii(r,y,t),p||(h=o.height-y.fontMetrics().supDrop*y.sizeMultiplier/t.sizeMultiplier)}if(a){var S=t.havingStyle(t.style.sub());l=Ii(a,S,t),p||(d=o.depth+S.fontMetrics().subDrop*S.sizeMultiplier/t.sizeMultiplier)}var _;t.style===pn.DISPLAY?_=c.sup1:t.style.cramped?_=c.sup3:_=c.sup2;var I=t.sizeMultiplier,M=Mt(.5/c.ptPerEm/I),B=null;if(l){var U=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(o instanceof sl||U)&&(B=Mt(-o.italic))}var K;if(s&&l){h=Math.max(h,_,s.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var Q=c.defaultRuleThickness,H=4*Q;if(h-s.depth-(l.height-d)<H){d=H-(h-s.depth)+l.height;var g=.8*c.xHeight-(h-s.depth);g>0&&(h+=g,d-=g)}var T=[{type:"elem",elem:l,shift:d,marginRight:M,marginLeft:B},{type:"elem",elem:s,shift:-h,marginRight:M}];K=Ye.makeVList({positionType:"individualShift",children:T},t)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var A=[{type:"elem",elem:l,marginLeft:B,marginRight:M}];K=Ye.makeVList({positionType:"shift",positionData:d,children:A},t)}else if(s)h=Math.max(h,_,s.depth+.25*c.xHeight),K=Ye.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:s,marginRight:M}]},t);else throw new Error("supsub must have either sup or sub.");var D=XT(o,"right")||"mord";return Ye.makeSpan([D],[o,Ye.makeSpan(["msupsub"],[K])],t)},mathmlBuilder(e,t){var n=!1,i,r;e.base&&e.base.type==="horizBrace"&&(r=!!e.sup,r===e.base.isOver&&(n=!0,i=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[tr(e.base,t)];e.sub&&a.push(tr(e.sub,t)),e.sup&&a.push(tr(e.sup,t));var o;if(n)o=i?"mover":"munder";else if(e.sub)if(e.sup){var c=e.base;c&&c.type==="op"&&c.limits&&t.style===pn.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(t.style===pn.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===pn.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===pn.DISPLAY)?o="munder":o="msub"}else{var s=e.base;s&&s.type==="op"&&s.limits&&(t.style===pn.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||t.style===pn.DISPLAY)?o="mover":o="msup"}return new _t.MathNode(o,a)}});Kf({type:"atom",htmlBuilder(e,t){return Ye.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new _t.MathNode("mo",[ll(e.text,e.mode)]);if(e.family==="bin"){var i=i4(e,t);i==="bold-italic"&&n.setAttribute("mathvariant",i)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var ER={mi:"italic",mn:"normal",mtext:"normal"};Kf({type:"mathord",htmlBuilder(e,t){return Ye.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new _t.MathNode("mi",[ll(e.text,e.mode,t)]),i=i4(e,t)||"italic";return i!==ER[n.type]&&n.setAttribute("mathvariant",i),n}});Kf({type:"textord",htmlBuilder(e,t){return Ye.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=ll(e.text,e.mode,t),i=i4(e,t)||"normal",r;return e.mode==="text"?r=new _t.MathNode("mtext",[n]):/[0-9]/.test(e.text)?r=new _t.MathNode("mn",[n]):e.text==="\\prime"?r=new _t.MathNode("mo",[n]):r=new _t.MathNode("mi",[n]),i!==ER[r.type]&&r.setAttribute("mathvariant",i),r}});var Mw={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Nw={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Kf({type:"spacing",htmlBuilder(e,t){if(Nw.hasOwnProperty(e.text)){var n=Nw[e.text].className||"";if(e.mode==="text"){var i=Ye.makeOrd(e,t,"textord");return i.classes.push(n),i}else return Ye.makeSpan(["mspace",n],[Ye.mathsym(e.text,e.mode,t)],t)}else{if(Mw.hasOwnProperty(e.text))return Ye.makeSpan(["mspace",Mw[e.text]],[],t);throw new wt('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(Nw.hasOwnProperty(e.text))n=new _t.MathNode("mtext",[new _t.TextNode(" ")]);else{if(Mw.hasOwnProperty(e.text))return new _t.MathNode("mspace");throw new wt('Unknown type of space "'+e.text+'"')}return n}});var B6=()=>{var e=new _t.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Kf({type:"tag",mathmlBuilder(e,t){var n=new _t.MathNode("mtable",[new _t.MathNode("mtr",[B6(),new _t.MathNode("mtd",[ah(e.body,t)]),B6(),new _t.MathNode("mtd",[ah(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var L6={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},F6={"\\textbf":"textbf","\\textmd":"textmd"},Goe={"\\textit":"textit","\\textup":"textup"},z6=(e,t)=>{var n=e.font;if(n){if(L6[n])return t.withTextFontFamily(L6[n]);if(F6[n])return t.withTextFontWeight(F6[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(Goe[n])};Ht({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"text",mode:n.mode,body:Vr(r),font:i}},htmlBuilder(e,t){var n=z6(e,t),i=sa(e.body,n,!0);return Ye.makeSpan(["mord","text"],i,n)},mathmlBuilder(e,t){var n=z6(e,t);return ah(e.body,n)}});Ht({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ii(e.body,t),i=Ye.makeLineSpan("underline-line",t),r=t.fontMetrics().defaultRuleThickness,a=Ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:n}]},t);return Ye.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var n=new _t.MathNode("mo",[new _t.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new _t.MathNode("munder",[tr(e.body,t),n]);return i.setAttribute("accentunder","true"),i}});Ht({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Ii(e.body,t),i=t.fontMetrics().axisHeight,r=.5*(n.height-i-(n.depth+i));return Ye.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new _t.MathNode("mpadded",[tr(e.body,t)],["vcenter"])}});Ht({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new wt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=$6(e),i=[],r=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var o=n[a];o==="~"&&(o="\\textasciitilde"),i.push(Ye.makeSymbol(o,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return Ye.makeSpan(["mord","text"].concat(r.sizingClasses(t)),Ye.tryCombineChars(i),r)},mathmlBuilder(e,t){var n=new _t.TextNode($6(e)),i=new _t.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var $6=e=>e.body.replace(/ /g,e.star?"␣":" "),Wd=H9,xR=`[ \r
	]`,Woe="\\\\[a-zA-Z@]+",joe="\\\\[^\uD800-\uDFFF]",Koe="("+Woe+")"+xR+"*",Yoe=`\\\\(
|[ \r	]+
?)[ \r	]*`,e2="[̀-ͯ]",Xoe=new RegExp(e2+"+$"),Joe="("+xR+"+)|"+(Yoe+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(e2+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(e2+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Koe)+("|"+joe+")");class q6{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(Joe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new il("EOF",new As(this,n,n));var i=this.tokenRegex.exec(t);if(i===null||i.index!==n)throw new wt("Unexpected character: '"+t[n]+"'",new il(t[n],new As(this,n,n+1)));var r=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new il(r,new As(this,n,this.tokenRegex.lastIndex))}}class Qoe{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new wt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,i){if(i===void 0&&(i=!1),i){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var Zoe=uR;ne("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});ne("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});ne("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});ne("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});ne("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});ne("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ne("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var U6={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ne("\\char",function(e){var t=e.popToken(),n,i="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")i=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new wt("\\char` missing argument");i=t.text.charCodeAt(0)}else n=10;if(n){if(i=U6[t.text],i==null||i>=n)throw new wt("Invalid base-"+n+" digit "+t.text);for(var r;(r=U6[e.future().text])!=null&&r<n;)i*=n,i+=r,e.popToken()}return"\\@char{"+i+"}"});var f4=(e,t,n,i)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new wt("\\newcommand's first argument must be a macro name");var a=r[0].text,o=e.isDefined(a);if(o&&!t)throw new wt("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!o&&!n)throw new wt("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var s=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var l="",c=e.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new wt("Invalid number of arguments: "+l);s=parseInt(l),r=e.consumeArg().tokens}return o&&i||e.macros.set(a,{tokens:r,numArgs:s}),""};ne("\\newcommand",e=>f4(e,!1,!0,!1));ne("\\renewcommand",e=>f4(e,!0,!1,!1));ne("\\providecommand",e=>f4(e,!0,!0,!0));ne("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});ne("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});ne("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Wd[n],sr.math[n],sr.text[n]),""});ne("\\bgroup","{");ne("\\egroup","}");ne("~","\\nobreakspace");ne("\\lq","`");ne("\\rq","'");ne("\\aa","\\r a");ne("\\AA","\\r A");ne("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");ne("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ne("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");ne("ℬ","\\mathscr{B}");ne("ℰ","\\mathscr{E}");ne("ℱ","\\mathscr{F}");ne("ℋ","\\mathscr{H}");ne("ℐ","\\mathscr{I}");ne("ℒ","\\mathscr{L}");ne("ℳ","\\mathscr{M}");ne("ℛ","\\mathscr{R}");ne("ℭ","\\mathfrak{C}");ne("ℌ","\\mathfrak{H}");ne("ℨ","\\mathfrak{Z}");ne("\\Bbbk","\\Bbb{k}");ne("·","\\cdotp");ne("\\llap","\\mathllap{\\textrm{#1}}");ne("\\rlap","\\mathrlap{\\textrm{#1}}");ne("\\clap","\\mathclap{\\textrm{#1}}");ne("\\mathstrut","\\vphantom{(}");ne("\\underbar","\\underline{\\text{#1}}");ne("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ne("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");ne("\\ne","\\neq");ne("≠","\\neq");ne("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");ne("∉","\\notin");ne("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");ne("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");ne("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");ne("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");ne("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");ne("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");ne("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");ne("⟂","\\perp");ne("‼","\\mathclose{!\\mkern-0.8mu!}");ne("∌","\\notni");ne("⌜","\\ulcorner");ne("⌝","\\urcorner");ne("⌞","\\llcorner");ne("⌟","\\lrcorner");ne("©","\\copyright");ne("®","\\textregistered");ne("️","\\textregistered");ne("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ne("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ne("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ne("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ne("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ne("⋮","\\vdots");ne("\\varGamma","\\mathit{\\Gamma}");ne("\\varDelta","\\mathit{\\Delta}");ne("\\varTheta","\\mathit{\\Theta}");ne("\\varLambda","\\mathit{\\Lambda}");ne("\\varXi","\\mathit{\\Xi}");ne("\\varPi","\\mathit{\\Pi}");ne("\\varSigma","\\mathit{\\Sigma}");ne("\\varUpsilon","\\mathit{\\Upsilon}");ne("\\varPhi","\\mathit{\\Phi}");ne("\\varPsi","\\mathit{\\Psi}");ne("\\varOmega","\\mathit{\\Omega}");ne("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ne("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ne("\\boxed","\\fbox{$\\displaystyle{#1}$}");ne("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ne("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ne("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ne("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ne("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var H6={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ne("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in H6?t=H6[n]:(n.slice(0,4)==="\\not"||n in sr.math&&un.contains(["bin","rel"],sr.math[n].group))&&(t="\\dotsb"),t});var p4={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ne("\\dotso",function(e){var t=e.future().text;return t in p4?"\\ldots\\,":"\\ldots"});ne("\\dotsc",function(e){var t=e.future().text;return t in p4&&t!==","?"\\ldots\\,":"\\ldots"});ne("\\cdots",function(e){var t=e.future().text;return t in p4?"\\@cdots\\,":"\\@cdots"});ne("\\dotsb","\\cdots");ne("\\dotsm","\\cdots");ne("\\dotsi","\\!\\cdots");ne("\\dotsx","\\ldots\\,");ne("\\DOTSI","\\relax");ne("\\DOTSB","\\relax");ne("\\DOTSX","\\relax");ne("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ne("\\,","\\tmspace+{3mu}{.1667em}");ne("\\thinspace","\\,");ne("\\>","\\mskip{4mu}");ne("\\:","\\tmspace+{4mu}{.2222em}");ne("\\medspace","\\:");ne("\\;","\\tmspace+{5mu}{.2777em}");ne("\\thickspace","\\;");ne("\\!","\\tmspace-{3mu}{.1667em}");ne("\\negthinspace","\\!");ne("\\negmedspace","\\tmspace-{4mu}{.2222em}");ne("\\negthickspace","\\tmspace-{5mu}{.277em}");ne("\\enspace","\\kern.5em ");ne("\\enskip","\\hskip.5em\\relax");ne("\\quad","\\hskip1em\\relax");ne("\\qquad","\\hskip2em\\relax");ne("\\tag","\\@ifstar\\tag@literal\\tag@paren");ne("\\tag@paren","\\tag@literal{({#1})}");ne("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new wt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ne("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ne("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ne("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ne("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ne("\\newline","\\\\\\relax");ne("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var SR=Mt(wc["Main-Regular"][84][1]-.7*wc["Main-Regular"][65][1]);ne("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+SR+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ne("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+SR+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ne("\\hspace","\\@ifstar\\@hspacer\\@hspace");ne("\\@hspace","\\hskip #1\\relax");ne("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ne("\\ordinarycolon",":");ne("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ne("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ne("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ne("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ne("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ne("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ne("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ne("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ne("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ne("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ne("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ne("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ne("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ne("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ne("∷","\\dblcolon");ne("∹","\\eqcolon");ne("≔","\\coloneqq");ne("≕","\\eqqcolon");ne("⩴","\\Coloneqq");ne("\\ratio","\\vcentcolon");ne("\\coloncolon","\\dblcolon");ne("\\colonequals","\\coloneqq");ne("\\coloncolonequals","\\Coloneqq");ne("\\equalscolon","\\eqqcolon");ne("\\equalscoloncolon","\\Eqqcolon");ne("\\colonminus","\\coloneq");ne("\\coloncolonminus","\\Coloneq");ne("\\minuscolon","\\eqcolon");ne("\\minuscoloncolon","\\Eqcolon");ne("\\coloncolonapprox","\\Colonapprox");ne("\\coloncolonsim","\\Colonsim");ne("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ne("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ne("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ne("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ne("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");ne("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ne("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ne("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ne("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ne("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ne("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ne("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ne("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ne("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");ne("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");ne("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");ne("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");ne("\\nleqq","\\html@mathml{\\@nleqq}{≰}");ne("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");ne("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");ne("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");ne("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");ne("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");ne("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");ne("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");ne("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");ne("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");ne("\\imath","\\html@mathml{\\@imath}{ı}");ne("\\jmath","\\html@mathml{\\@jmath}{ȷ}");ne("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");ne("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");ne("⟦","\\llbracket");ne("⟧","\\rrbracket");ne("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");ne("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");ne("⦃","\\lBrace");ne("⦄","\\rBrace");ne("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");ne("⦵","\\minuso");ne("\\darr","\\downarrow");ne("\\dArr","\\Downarrow");ne("\\Darr","\\Downarrow");ne("\\lang","\\langle");ne("\\rang","\\rangle");ne("\\uarr","\\uparrow");ne("\\uArr","\\Uparrow");ne("\\Uarr","\\Uparrow");ne("\\N","\\mathbb{N}");ne("\\R","\\mathbb{R}");ne("\\Z","\\mathbb{Z}");ne("\\alef","\\aleph");ne("\\alefsym","\\aleph");ne("\\Alpha","\\mathrm{A}");ne("\\Beta","\\mathrm{B}");ne("\\bull","\\bullet");ne("\\Chi","\\mathrm{X}");ne("\\clubs","\\clubsuit");ne("\\cnums","\\mathbb{C}");ne("\\Complex","\\mathbb{C}");ne("\\Dagger","\\ddagger");ne("\\diamonds","\\diamondsuit");ne("\\empty","\\emptyset");ne("\\Epsilon","\\mathrm{E}");ne("\\Eta","\\mathrm{H}");ne("\\exist","\\exists");ne("\\harr","\\leftrightarrow");ne("\\hArr","\\Leftrightarrow");ne("\\Harr","\\Leftrightarrow");ne("\\hearts","\\heartsuit");ne("\\image","\\Im");ne("\\infin","\\infty");ne("\\Iota","\\mathrm{I}");ne("\\isin","\\in");ne("\\Kappa","\\mathrm{K}");ne("\\larr","\\leftarrow");ne("\\lArr","\\Leftarrow");ne("\\Larr","\\Leftarrow");ne("\\lrarr","\\leftrightarrow");ne("\\lrArr","\\Leftrightarrow");ne("\\Lrarr","\\Leftrightarrow");ne("\\Mu","\\mathrm{M}");ne("\\natnums","\\mathbb{N}");ne("\\Nu","\\mathrm{N}");ne("\\Omicron","\\mathrm{O}");ne("\\plusmn","\\pm");ne("\\rarr","\\rightarrow");ne("\\rArr","\\Rightarrow");ne("\\Rarr","\\Rightarrow");ne("\\real","\\Re");ne("\\reals","\\mathbb{R}");ne("\\Reals","\\mathbb{R}");ne("\\Rho","\\mathrm{P}");ne("\\sdot","\\cdot");ne("\\sect","\\S");ne("\\spades","\\spadesuit");ne("\\sub","\\subset");ne("\\sube","\\subseteq");ne("\\supe","\\supseteq");ne("\\Tau","\\mathrm{T}");ne("\\thetasym","\\vartheta");ne("\\weierp","\\wp");ne("\\Zeta","\\mathrm{Z}");ne("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ne("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ne("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ne("\\bra","\\mathinner{\\langle{#1}|}");ne("\\ket","\\mathinner{|{#1}\\rangle}");ne("\\braket","\\mathinner{\\langle{#1}\\rangle}");ne("\\Bra","\\left\\langle#1\\right|");ne("\\Ket","\\left|#1\\right\\rangle");var _R=e=>t=>{var n=t.consumeArg().tokens,i=t.consumeArg().tokens,r=t.consumeArg().tokens,a=t.consumeArg().tokens,o=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var l=d=>p=>{e&&(p.macros.set("|",o),r.length&&p.macros.set("\\|",s));var y=d;if(!d&&r.length){var S=p.future();S.text==="|"&&(p.popToken(),y=!0)}return{tokens:y?r:i,numArgs:0}};t.macros.set("|",l(!1)),r.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,h=t.expandTokens([...a,...c,...n]);return t.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};ne("\\bra@ket",_R(!1));ne("\\bra@set",_R(!0));ne("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ne("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ne("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ne("\\angln","{\\angl n}");ne("\\blue","\\textcolor{##6495ed}{#1}");ne("\\orange","\\textcolor{##ffa500}{#1}");ne("\\pink","\\textcolor{##ff00af}{#1}");ne("\\red","\\textcolor{##df0030}{#1}");ne("\\green","\\textcolor{##28ae7b}{#1}");ne("\\gray","\\textcolor{gray}{#1}");ne("\\purple","\\textcolor{##9d38bd}{#1}");ne("\\blueA","\\textcolor{##ccfaff}{#1}");ne("\\blueB","\\textcolor{##80f6ff}{#1}");ne("\\blueC","\\textcolor{##63d9ea}{#1}");ne("\\blueD","\\textcolor{##11accd}{#1}");ne("\\blueE","\\textcolor{##0c7f99}{#1}");ne("\\tealA","\\textcolor{##94fff5}{#1}");ne("\\tealB","\\textcolor{##26edd5}{#1}");ne("\\tealC","\\textcolor{##01d1c1}{#1}");ne("\\tealD","\\textcolor{##01a995}{#1}");ne("\\tealE","\\textcolor{##208170}{#1}");ne("\\greenA","\\textcolor{##b6ffb0}{#1}");ne("\\greenB","\\textcolor{##8af281}{#1}");ne("\\greenC","\\textcolor{##74cf70}{#1}");ne("\\greenD","\\textcolor{##1fab54}{#1}");ne("\\greenE","\\textcolor{##0d923f}{#1}");ne("\\goldA","\\textcolor{##ffd0a9}{#1}");ne("\\goldB","\\textcolor{##ffbb71}{#1}");ne("\\goldC","\\textcolor{##ff9c39}{#1}");ne("\\goldD","\\textcolor{##e07d10}{#1}");ne("\\goldE","\\textcolor{##a75a05}{#1}");ne("\\redA","\\textcolor{##fca9a9}{#1}");ne("\\redB","\\textcolor{##ff8482}{#1}");ne("\\redC","\\textcolor{##f9685d}{#1}");ne("\\redD","\\textcolor{##e84d39}{#1}");ne("\\redE","\\textcolor{##bc2612}{#1}");ne("\\maroonA","\\textcolor{##ffbde0}{#1}");ne("\\maroonB","\\textcolor{##ff92c6}{#1}");ne("\\maroonC","\\textcolor{##ed5fa6}{#1}");ne("\\maroonD","\\textcolor{##ca337c}{#1}");ne("\\maroonE","\\textcolor{##9e034e}{#1}");ne("\\purpleA","\\textcolor{##ddd7ff}{#1}");ne("\\purpleB","\\textcolor{##c6b9fc}{#1}");ne("\\purpleC","\\textcolor{##aa87ff}{#1}");ne("\\purpleD","\\textcolor{##7854ab}{#1}");ne("\\purpleE","\\textcolor{##543b78}{#1}");ne("\\mintA","\\textcolor{##f5f9e8}{#1}");ne("\\mintB","\\textcolor{##edf2df}{#1}");ne("\\mintC","\\textcolor{##e0e5cc}{#1}");ne("\\grayA","\\textcolor{##f6f7f7}{#1}");ne("\\grayB","\\textcolor{##f0f1f2}{#1}");ne("\\grayC","\\textcolor{##e3e5e6}{#1}");ne("\\grayD","\\textcolor{##d6d8da}{#1}");ne("\\grayE","\\textcolor{##babec2}{#1}");ne("\\grayF","\\textcolor{##888d93}{#1}");ne("\\grayG","\\textcolor{##626569}{#1}");ne("\\grayH","\\textcolor{##3b3e40}{#1}");ne("\\grayI","\\textcolor{##21242c}{#1}");ne("\\kaBlue","\\textcolor{##314453}{#1}");ne("\\kaGreen","\\textcolor{##71B307}{#1}");var CR={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class ese{constructor(t,n,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new Qoe(Zoe,n.macros),this.mode=i,this.stack=[]}feed(t){this.lexer=new q6(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,i,r;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:r,end:i}=this.consumeArg(["]"])}else({tokens:r,start:n,end:i}=this.consumeArg());return this.pushToken(new il("EOF",i.loc)),this.pushTokens(r),n.range(i,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],i=t&&t.length>0;i||this.consumeSpaces();var r=this.future(),a,o=0,s=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++o;else if(a.text==="}"){if(--o,o===-1)throw new wt("Extra }",a)}else if(a.text==="EOF")throw new wt("Unexpected end of input in a macro argument, expected '"+(t&&i?t[s]:"}")+"'",a);if(t&&i)if((o===0||o===1&&t[s]==="{")&&a.text===t[s]){if(++s,s===t.length){n.splice(-s,s);break}}else s=0}while(o!==0||i);return r.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:r,end:a}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new wt("The length of delimiters doesn't match the number of args!");for(var i=n[0],r=0;r<i.length;r++){var a=this.popToken();if(i[r]!==a.text)throw new wt("Use of the macro doesn't match its definition",a)}}for(var o=[],s=0;s<t;s++)o.push(this.consumeArg(n&&n[s+1]).tokens);return o}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new wt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),i=n.text,r=n.noexpand?null:this._getExpansion(i);if(r==null||t&&r.unexpandable){if(t&&r==null&&i[0]==="\\"&&!this.isDefined(i))throw new wt("Undefined control sequence: "+i);return this.pushToken(n),!1}this.countExpansion(1);var a=r.tokens,o=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var s=a.length-1;s>=0;--s){var l=a[s];if(l.text==="#"){if(s===0)throw new wt("Incomplete placeholder at end of macro body",l);if(l=a[--s],l.text==="#")a.splice(s+1,1);else if(/^[1-9]$/.test(l.text))a.splice(s,2,...o[+l.text-1]);else throw new wt("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new il(t)]):void 0}expandTokens(t){var n=[],i=this.stack.length;for(this.pushTokens(t);this.stack.length>i;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),n.push(r)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(i=>i.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var i=this.lexer.catcodes[t];if(i!=null&&i!==13)return}var r=typeof n=="function"?n(this):n;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var o=r.replace(/##/g,"");o.indexOf("#"+(a+1))!==-1;)++a;for(var s=new q6(r,this.settings),l=[],c=s.lex();c.text!=="EOF";)l.push(c),c=s.lex();l.reverse();var h={tokens:l,numArgs:a};return h}return r}isDefined(t){return this.macros.has(t)||Wd.hasOwnProperty(t)||sr.math.hasOwnProperty(t)||sr.text.hasOwnProperty(t)||CR.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Wd.hasOwnProperty(t)&&!Wd[t].primitive}}var V6=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Yb=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Rw={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},G6={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class c_{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ese(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new wt("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new il("}")),this.gullet.pushTokens(t);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,i}parseExpression(t,n){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(c_.endOfExpression.indexOf(r.text)!==-1||n&&r.text===n||t&&Wd[r.text]&&Wd[r.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(t){for(var n=-1,i,r=0;r<t.length;r++)if(t[r].type==="infix"){if(n!==-1)throw new wt("only one infix operator per group",t[r].token);n=r,i=t[r].replaceWith}if(n!==-1&&i){var a,o,s=t.slice(0,n),l=t.slice(n+1);s.length===1&&s[0].type==="ordgroup"?a=s[0]:a={type:"ordgroup",mode:this.mode,body:s},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var c;return i==="\\\\abovefrac"?c=this.callFunction(i,[a,t[n],o],[]):c=this.callFunction(i,[a,o],[]),[c]}else return t}handleSupSubscript(t){var n=this.fetch(),i=n.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(t)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new wt("Expected group after '"+i+"'",n);return r}formatUnsupportedCmd(t){for(var n=[],i=0;i<t.length;i++)n.push({type:"textord",mode:"text",text:t[i]});var r={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(t){var n=this.parseGroup("atom",t);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var i,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var o=a.text==="\\limits";n.limits=o,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new wt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new wt("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new wt("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new wt("Double superscript",a);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();this.fetch().text==="'";)l.push(s),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(Yb[a.text]){var c=V6.test(a.text),h=[];for(h.push(new il(Yb[a.text])),this.consume();;){var d=this.fetch().text;if(!Yb[d]||V6.test(d)!==c)break;h.unshift(new il(Yb[d])),this.consume()}var p=this.subparse(h);c?r={type:"ordgroup",mode:"math",body:p}:i={type:"ordgroup",mode:"math",body:p}}else break}return i||r?{type:"supsub",mode:this.mode,base:n,sup:i,sub:r}:n}parseFunction(t,n){var i=this.fetch(),r=i.text,a=Wd[r];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new wt("Got function '"+r+"' with no arguments"+(n?" as "+n:""),i);if(this.mode==="text"&&!a.allowedInText)throw new wt("Can't use function '"+r+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new wt("Can't use function '"+r+"' in math mode",i);var{args:o,optArgs:s}=this.parseArguments(r,a);return this.callFunction(r,o,s,i,t)}callFunction(t,n,i,r,a){var o={funcName:t,parser:this,token:r,breakOnTokenText:a},s=Wd[t];if(s&&s.handler)return s.handler(o,n,i);throw new wt("No function handler for "+t)}parseArguments(t,n){var i=n.numArgs+n.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var r=[],a=[],o=0;o<i;o++){var s=n.argTypes&&n.argTypes[o],l=o<n.numOptionalArgs;(n.primitive&&s==null||n.type==="sqrt"&&o===1&&a[0]==null)&&(s="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",s,l);if(l)a.push(c);else if(c!=null)r.push(c);else throw new wt("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(t,n,i){switch(n){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,n);case"hbox":{var r=this.parseArgumentGroup(i,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new wt("A primitive argument cannot be optional");var o=this.parseGroup(t);if(o==null)throw new wt("Expected group as "+t,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new wt("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var i=this.gullet.scanArgument(n);if(i==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),i.text=r,i}parseRegexGroup(t,n){for(var i=this.fetch(),r=i,a="",o;(o=this.fetch()).text!=="EOF"&&t.test(a+o.text);)r=o,a+=r.text,this.consume();if(a==="")throw new wt("Invalid "+n+": '"+i.text+"'",i);return i.range(r,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!i)throw new wt("Invalid color: '"+n.text+"'",n);var r=i[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(t){var n,i=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",i=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!r)throw new wt("Invalid size: '"+n.text+"'",n);var a={number:+(r[1]+r[2]),unit:r[3]};if(!R9(a))throw new wt("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var i=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(t,n){var i=this.gullet.scanArgument(t);if(i==null)return null;var r=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return n&&this.switchMode(r),o}parseGroup(t,n){var i=this.fetch(),r=i.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var o=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:As.range(i,l),body:s,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,t)||this.parseSymbol(),a==null&&r[0]==="\\"&&!CR.hasOwnProperty(r)){if(this.settings.throwOnError)throw new wt("Undefined control sequence: "+r,i);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(t){for(var n=t.length-1,i=0;i<n;++i){var r=t[i],a=r.text;a==="-"&&t[i+1].text==="-"&&(i+1<n&&t[i+2].text==="-"?(t.splice(i,3,{type:"textord",mode:"text",loc:As.range(r,t[i+2]),text:"---"}),n-=2):(t.splice(i,2,{type:"textord",mode:"text",loc:As.range(r,t[i+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&t[i+1].text===a&&(t.splice(i,2,{type:"textord",mode:"text",loc:As.range(r,t[i+1]),text:a+a}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var i=n.slice(5),r=i.charAt(0)==="*";if(r&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new wt(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:r}}G6.hasOwnProperty(n[0])&&!sr[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=G6[n[0]]+n.slice(1));var a=Xoe.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var o;if(sr[this.mode][n]){this.settings.strict&&this.mode==="math"&&YT.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var s=sr[this.mode][n].group,l=As.range(t),c;if(Uae.hasOwnProperty(s)){var h=s;c={type:"atom",mode:this.mode,family:h,loc:l,text:n}}else c={type:s,mode:this.mode,loc:l,text:n};o=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(M9(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),o={type:"textord",mode:"text",loc:As.range(t),text:n};else return null;if(this.consume(),a)for(var d=0;d<a[0].length;d++){var p=a[0][d];if(!Rw[p])throw new wt("Unknown accent ' "+p+"'",t);var y=Rw[p][this.mode]||Rw[p].text;if(!y)throw new wt("Accent "+p+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:As.range(t),label:y,isStretchy:!1,isShifty:!0,base:o}}return o}}c_.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var g4=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new c_(t,n);delete i.gullet.macros.current["\\df@tag"];var r=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new wt("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:i.subparse([new il("\\df@tag")])}]}return r},m4=function(t,n,i){n.textContent="";var r=u_(t,i).toNode();n.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),m4=function(){throw new wt("KaTeX doesn't work in quirks mode.")});var wR=function(t,n){var i=u_(t,n).toMarkup();return i},TR=function(t,n){var i=new JA(n);return g4(t,i)},AR=function(t,n,i){if(i.throwOnError||!(t instanceof wt))throw t;var r=Ye.makeSpan(["katex-error"],[new sl(n)]);return r.setAttribute("title",t.toString()),r.setAttribute("style","color:"+i.errorColor),r},u_=function(t,n){var i=new JA(n);try{var r=g4(t,i);return doe(r,t,i)}catch(a){return AR(a,t,i)}},kR=function(t,n){var i=new JA(n);try{var r=g4(t,i);return hoe(r,t,i)}catch(a){return AR(a,t,i)}},IR="0.16.22",OR={Span:A1,Anchor:e4,SymbolNode:sl,SvgNode:Bu,PathNode:rh,LineNode:KT},Im={version:IR,render:m4,renderToString:wR,ParseError:wt,SETTINGS_SCHEMA:Xm,__parse:TR,__renderToDomTree:u_,__renderToHTMLTree:kR,__setFontMetrics:N9,__defineSymbol:w,__defineFunction:Ht,__defineMacro:ne,__domTree:OR};const tse=Object.freeze(Object.defineProperty({__proto__:null,ParseError:wt,SETTINGS_SCHEMA:Xm,__defineFunction:Ht,__defineMacro:ne,__defineSymbol:w,__domTree:OR,__parse:TR,__renderToDomTree:u_,__renderToHTMLTree:kR,__setFontMetrics:N9,default:Im,get render(){return m4},renderToString:wR,version:IR},Symbol.toStringTag,{value:"Module"})),PR="sans-serif",y4=nr.define("quamoco.QualityAspect",{defaults:{size:{width:150,height:40},fontSize:14,fill:"#cccccc",stroke:"black",strokeWidth:2},size:{width:150,height:40},attrs:{root:{title:"cna.quamoco.QualityAspect"},body:{width:"calc(w)",height:"calc(h)",strokeDasharray:0,strokeWidth:2,stroke:"black",fill:"#cccccc"},label:{fill:"black",fontFamily:PR,fontWeight:"Normal",fontSize:14,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",x:"calc(0.5*w)",y:"calc(0.5*h)",textWrap:{text:"Quality Aspect"}}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),MR=nr.define("quamoco.ProductFactor",{defaults:{size:{width:120,height:60},fontSize:12,fill:"#cccccc",stroke:"black",strokeWidth:2},size:{width:120,height:60},attrs:{root:{title:"cna.quamoco.QualityAspect"},body:{width:"calc(w)",height:"calc(h)",strokeDasharray:0,strokeWidth:2,stroke:"black",fill:"white"},label:{fill:"black",fontFamily:PR,fontWeight:"Normal",fontSize:12,strokeWidth:0,textAnchor:"middle",textVerticalAnchor:"middle",x:"calc(0.5*w)",y:"calc(0.5*h)",text:"Product Factor"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),NR=LS.define("quamoco.Impact",{attrs:{root:{title:"Link"},line:{stroke:"black",strokeDasharray:"4 4",strokeWidth:2,strokeLineJoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}}},defaultLabel:{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{label:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},body:{ref:"label",fill:"white",width:"calc(1.2*w)",height:"calc(1.2*h)",x:"calc(x-calc(0.1*w))",y:"calc(y-calc(0.1*h))"}}}}),nse=Object.assign({quamoco:{QualityAspectElement:y4,ProductFactorElement:MR,ImpactElement:NR}},jM);var wv,Tv;class ise{constructor(t,n){Fe(this,wv);Fe(this,Tv);De(this,wv,t),De(this,Tv,n)}get getId(){return k(this,wv)}get getName(){return k(this,Tv)}}wv=new WeakMap,Tv=new WeakMap;var Av,kv,Iv;class rse{constructor(t,n,i){Fe(this,Av);Fe(this,kv);Fe(this,Iv);De(this,Av,t),De(this,kv,n),De(this,Iv,i)}get getImpactedFactor(){return k(this,Av)}get getSourceFactor(){return k(this,kv)}get getImpactType(){return k(this,Iv)}}Av=new WeakMap,kv=new WeakMap,Iv=new WeakMap;var Ov,Pv,Mv,Nv,Rv,vf,Xg;class ase{constructor(t,n,i,r,a){Fe(this,Ov);Fe(this,Pv);Fe(this,Mv);Fe(this,Nv);Fe(this,Rv);Fe(this,vf);Fe(this,Xg);De(this,Ov,t),De(this,Pv,n),De(this,Mv,i),De(this,Nv,r),De(this,Rv,a),De(this,vf,void 0),De(this,Xg,[])}get getId(){return k(this,Ov)}get getName(){return k(this,Pv)}get getCalculationDescription(){return k(this,Mv)}get getCalculationFormula(){return k(this,Nv)}get getHelperFunctions(){return k(this,Rv)}get getSources(){return k(this,Xg)}addSource(t){k(this,Xg).push(t)}addCalculation(t){De(this,vf,t)}isCalculationAvailable(){return!!k(this,vf)}calculate(t){return k(this,vf).call(this,t)}}Ov=new WeakMap,Pv=new WeakMap,Mv=new WeakMap,Nv=new WeakMap,Rv=new WeakMap,vf=new WeakMap,Xg=new WeakMap;var Dv,Bv,Lv,Fv,Jg,Qg,Zg,vc,Su,bf,Ef;class ose{constructor(t,n,i,r){Fe(this,Dv);Fe(this,Bv);Fe(this,Lv);Fe(this,Fv);Fe(this,Jg);Fe(this,Qg);Fe(this,Zg);Fe(this,vc);Fe(this,Su);Fe(this,bf);Fe(this,Ef);De(this,Dv,t),De(this,Bv,n),De(this,Lv,i),De(this,Fv,r),De(this,Jg,[]),De(this,Qg,[]),De(this,Zg,[]),De(this,vc,new Map),De(this,Su,new Map),De(this,bf,[]),De(this,Ef,[]),this.getImpactedFactors=this.getImpactedFactors.bind(this),this.getImpactingFactors=this.getImpactingFactors.bind(this)}get getFactorType(){return"productFactor"}get getId(){return k(this,Dv)}get getName(){return k(this,Bv)}get getDescription(){return k(this,Lv)}get getCategories(){return k(this,Fv)}get getRelevantEntities(){return k(this,Jg)}get getApplicableEntities(){return k(this,Qg)}get getSources(){return k(this,Zg)}get getOutgoingImpacts(){return k(this,bf)}get getIncomingImpacts(){return k(this,Ef)}addRelevantEntity(t){k(this,Jg).push(t)}addApplicableEntity(t){k(this,Qg).push(t)}addSource(t){k(this,Zg).push(t)}addMeasure(t,n){if(k(this,vc).has(t))k(this,vc).get(t).push(n);else{let i=[n];k(this,vc).set(t,i)}}addOutgoingImpact(t){k(this,bf).push(t)}addIncomingImpact(t){k(this,Ef).push(t)}addEvaluation(t,n){k(this,Su).set(t,n)}getImpactedFactors(){return k(this,bf).map(t=>t.getImpactedFactor)}getImpactingFactors(){return k(this,Ef).map(t=>t.getSourceFactor)}getAllMeasures(){let t=new Map;return[...k(this,vc).values()].flatMap(n=>n).forEach(n=>t.set(n.getId,n)),[...t.values()]}getMeasuresFor(t){return k(this,vc).has(t)?k(this,vc).get(t):[]}isEvaluationAvailable(t){return k(this,Su).has(t)}getAllEvaluations(){return[...k(this,Su).values()]}getEvaluation(t){return k(this,Su).get(t)}evaluate(t,n){return k(this,Su).get(t).evaluate(n.getCalculatedMeasures(),n.getEvaluatedProductFactors())}}Dv=new WeakMap,Bv=new WeakMap,Lv=new WeakMap,Fv=new WeakMap,Jg=new WeakMap,Qg=new WeakMap,Zg=new WeakMap,vc=new WeakMap,Su=new WeakMap,bf=new WeakMap,Ef=new WeakMap;var zv,$v,qv,Uv,xf,Sf;class v4{constructor(t,n,i,r){Fe(this,zv);Fe(this,$v);Fe(this,qv);Fe(this,Uv);Fe(this,xf);Fe(this,Sf);De(this,zv,t),De(this,$v,n),De(this,qv,i),De(this,Uv,r),De(this,Sf,[])}get getFactorType(){return"qualityAspect"}get getId(){return k(this,zv)}get getName(){return k(this,$v)}get getHighLevelAspectKey(){return k(this,qv)}get getDescription(){return k(this,Uv)}get getIncomingImpacts(){return k(this,Sf)}addIncomingImpact(t){k(this,Sf).push(t)}addEvaluation(t){De(this,xf,t)}getImpactingFactors(){return k(this,Sf).map(t=>t.getSourceFactor)}isEvaluationAvailable(){return k(this,xf)!==void 0}getEvaluation(){return k(this,xf)}evaluate(t){return k(this,xf).evaluate(t.getCalculatedMeasures(),t.getEvaluatedProductFactors())}}zv=new WeakMap,$v=new WeakMap,qv=new WeakMap,Uv=new WeakMap,xf=new WeakMap,Sf=new WeakMap;let pm=Ao().map(e=>e.getKey);Bf().map(e=>e.getKey);var v=(e=>(e.SYSTEM="system",e.COMPONENT="component",e.SERVICE="service",e.BACKING_SERVICE="backingService",e.STORAGE_BACKING_SERVICE="storageBackingService",e.PROXY_BACKING_SERVICE="proxyBackingService",e.BROKER_BACKING_SERVICE="brokerBackingService",e.ENDPOINT="iendpoint",e.EXTERNAL_ENDPOINT="externalEndpoint",e.LINK="link",e.INFRASTRUCTURE="infrastructure",e.DEPLOYMENT_MAPPING="deploymentMapping",e.REQUEST_TRACE="requestTrace",e.DATA_AGGREGATE="dataAggregate",e.BACKING_DATA="backingData",e.NETWORK="network",e.ARTIFACT="artifact",e))(v||{});const t2={system:{name:"System",description:"The cloud-native application as a whole",relation:{type:"is-a",target:"system"},symbol:"SYS",formal:"	SYS := (C,L,I,DM,RT,DA,BD,N)"},component:{name:"Component",description:"An abstract entity for representing distinguishable executable parts of the system that provide certain functionalities. It can for example be a service or a certain cloud resource. Regarding its granularity, it should, generally speaking, correspond to something that can be run as an OS process.",relation:{type:"part-of",target:"system"},symbol:"C",formal:`	C := (id,name,props,RDA<sub>C</sub>,RBD<sub>C</sub>,RN<sub>C</sub>,artifacts,providedEndpoints,externalIngressProxiedBy,ingressProxiedBy,egressProxiedBy,addressResolutionBy,authenticationBy)
        props<sub>C</sub> := {${Ao().map(e=>e.getKey).join(",")}}
        RDA<sub>C</sub> ⊆ C ⨯ DA
        props<sub>RDA<sub>C</sub></sub> := {${bx().map(e=>e.getKey).join(",")}}
        RBD<sub>C</sub> ⊆ C ⨯ BD
        props<sub>RBD<sub>C</sub></sub> := {${Ex().map(e=>e.getKey).join(",")}}
        RN<sub>C</sub> ⊆ C ⨯ N
        artifacts ⊆ A
        providedEndpoints ⊆ E
        externalIngressProxiedBy ∈ PBS
        ingressProxiedBy ∈ PBS
        egressProxiedBy ∈ PBS
        addressResolutionBy ∈ BS ∪ PBS ∪ I ∪ N
        authenticationBy ∈ BS`},service:{name:"Service",description:"A component that implements a business functionality.",relation:{type:"is-a",target:"component"},symbol:"S",formal:`	S ⊆ C
        props<sub>S</sub> := props<sub>C</sub> ∪ {${t_().filter(e=>!pm.includes(e.getKey)).map(e=>e.getKey).join(",")}}`},backingService:{name:"Backing Service",description:"A component providing general functionalities needed by services, for example, messaging, logging.",relation:{type:"is-a",target:"component"},symbol:"BS",formal:`	BS ⊆ C
        props<sub>BS</sub> := props<sub>C</sub> ∪ {${VS().filter(e=>!pm.includes(e.getKey)).map(e=>e.getKey).join(",")}}`},storageBackingService:{name:"Storage Backing Service",description:"An explicitly stateful component used to store business data, e.g., a database.",relation:{type:"is-a",target:"component"},symbol:"SBS",formal:`	SBS ⊆ C
        props<sub>SBS</sub> := props<sub>C</sub> ∪ {${n_().filter(e=>!pm.includes(e.getKey)).map(e=>e.getKey).join(",")}}`},proxyBackingService:{name:"Proxy Backing Service",description:"A component which can act as a proxy for all kinds of communication (links) between other components.",relation:{type:"is-a",target:"component"},symbol:"PBS",formal:`	PBS ⊆ C
        props<sub>PBS</sub> := props<sub>C</sub> ∪ {${ZS().filter(e=>!pm.includes(e.getKey)).map(e=>e.getKey).join(",")}}`},brokerBackingService:{name:"Broker Backing Service",description:"A component which acts as a communication broker, for example a message broker or an event store.",relation:{type:"is-a",target:"component"},symbol:"BBS",formal:`	BBS ⊆ C
        props<sub>BBS</sub> := props<sub>C</sub> ∪ {${GS().filter(e=>!pm.includes(e.getKey)).map(e=>e.getKey).join(",")}}`},iendpoint:{name:"Endpoint",description:"A communication endpoint, for example a REST endpoint, message producer/listener.",relation:{type:"part-of",target:"component"},symbol:"E",formal:`	E := (id,name,props,RDA<sub>E</sub>,documentedBy,allow_access_to)
        props<sub>E</sub> := {${Bf().map(e=>e.getKey).join(",")}}
        RDA<sub>E</sub> ⊆ E ⨯ DA
        props<sub>RDA<sub>E</sub></sub> := {${bx().map(e=>e.getKey).join(",")}}
        documentedBy ⊆ A
        allow_acces_to ⊆ accounts `},externalEndpoint:{name:"External Endpoint",description:"An endpoint which is explicitly publicly available.",relation:{type:"is-a",target:"iendpoint"},symbol:"EE",formal:"	EE ⊆ E"},link:{name:"Link",description:"A directed potential connection between a specific component and a specific endpoint of a different component. Potential in this case refers to the design time perspective, meaning that a component is implemented so that it can invoke the respective endpoint.",relation:{type:"part-of",target:"system"},symbol:"L",formal:`	L := (id,props,sourceComponent,targetEndpoint)
        props<sub>L</sub> := {${XS().map(e=>e.getKey).join(",")}}
        sourceComponent ∈ C
        targetEndpoint ∈ E
        targetEndpoint ∉ sourceComponent.E`},infrastructure:{name:"Infrastructure",description:"The technical foundation where components are deployed, e.g., a container orchestration system.",relation:{type:"part-of",target:"system"},symbol:"I",formal:`	I := (id,name,props,artifacts,RBD<sub>I</sub>,RN<sub>I</sub>)
        props<sub>I</sub> := {${jS().map(e=>e.getKey).join(",")}}
        artifacts ⊆ A
        RBD<sub>I</sub> ⊆ I ⨯ BD
        props<sub>RBD<sub>I</sub></sub> := {${Ex().map(e=>e.getKey).join(",")}}
        RN<sub>I</sub> ⊆ I ⨯ N`},deploymentMapping:{name:"Deployment Mapping",description:"A connection between a component or infrastructure and its underlying infrastructure on which that component or infrastructure is deployed.",relation:{type:"part-of",target:"system"},symbol:"DM",formal:`	DM := (id,props,deployed,host)
        props<sub>DM</sub> := {${YS().map(e=>e.getKey).join(",")}}
        deployed ∈ C ∪ I
        host ∈ I
        deployed ≠ host`},requestTrace:{name:"Request Trace",description:"The whole resulting trace of a service invocation from the outside that means when an external endpoint is invoked. A request trace includes a collection of components and links.",relation:{type:"part-of",target:"system"},symbol:"RT",formal:`	RT := (id,name,props,involvedLinks,referencedEndpoint)
        props<sub>RT</sub> := {${e_().map(e=>e.getKey).join(",")}}
        involvedLinks ⊆ STEP
        STEP := (l₁,...,lₙ) | lᵢ ∈ L
        referencedEndpoint ∈ EE`},dataAggregate:{name:"Data Aggregate",description:"An aggregate which needs to be persisted and is used by services, e.g., business objects.",relation:{type:"part-of",target:"system"},symbol:"DA",formal:`	DA := (id, name, props)
        props<sub>DA</sub> := {${WS().map(e=>e.getKey).join(",")}}`},backingData:{name:"Backing Data",description:"Non-business data, e.g., config values, secrets, logs, metrics",relation:{type:"part-of",target:"system"},symbol:"BD",formal:`	BD := (id, name, props)
        props<sub>BD</sub> := {${HS().map(e=>e.getKey).join(",")}}`},network:{name:"Network",description:"A network or subnet which covers a range of (ip) addresses and to which components and infrastructure entities can be assigned to.",relation:{type:"part-of",target:"system"},symbol:"N",formal:`	N := (id, name, props)
        props<sub>N</sub> := {${JS().map(e=>e.getKey).join(",")}}`},artifact:{name:"Artifact",description:"An artifact associated with a component or an infrastructure entity that enables the actual deployment or execution of that entity. For example, a Jar-File or a Container Image",relation:{type:"part-of",target:"component"},symbol:"A",formal:`	A := (id, type, props)
        props<sub>A</sub> := {${f0("CNA.Artifact").map(e=>e.getKey).join(",")}}`}},Od={security:{name:"Security",aspects:{confidentiality:{name:"Confidentiality",description:"Confidentiality describes to what extent data processed in a system is only accessible to those who actually need it and is otherwise protected from illegitimate access."},integrity:{name:"Integrity",description:"Integrity describes how well a system is able to prevent unauthorized access or manipulation of functions and data."},nonrepudiation:{name:"Non-repudiation",description:"Non-repudiation describes to what extent it is possible to prove and reconstruct which actions have taken place in a system."},accountability:{name:"Accountability",description:"Accountability describes to what extent it is possible in a system to trace back actions that have taken place back to the subject that performed them."},authenticity:{name:"Authenticity",description:"Authenticity describes how well a system is able to identify a subject and validate its identity as well as claims made by a subject."}}},maintainability:{name:"Maintainability",aspects:{modularity:{name:"Modularity",description:"Modularity describes how well a system is composed of different components, so that a change in one component has a minimal impact on other components."},reusability:{name:"Reusability",description:"Reusability describes to what extent parts of a system can be used in more than one system."},analyzability:{name:"Analyzability",description:"Analyzability describes to what extent it is possible to accurately assess the impact of an intended change as well as the extent to which failures can be diagnosed to find their cause or parts that need to be changed can be identified."},modifiability:{name:"Modifiability",description:"Modifiability describes how well a system can be modified without introducing defects or degrading other qualities of the system."},testability:{name:"Testability",description:"Testability describes how effective test criteria can be defined and used for a system are to check the intended behavior of a system as well as how facile it is to perform the tests to determine whether the test criteria are met."},simplicity:{name:"Simplicity",description:"Simplicity describes how well a system is composed of as few components as possible and includes simple instead of complex interrelations to enable a good overview and understanding of the system."}}},performanceEfficiency:{name:"Performance efficiency",aspects:{timeBehaviour:{name:"Time-behaviour",description:"Time-behaviour describes how well a system performs in terms of processing and response times as well as the throughput rate when performing its functions."},resourceUtilization:{name:"Resource utilization",description:"Resource utilization describes to what extent resources are available and used as required by a system when performing its functions, in terms of storage space needed, CPU utilization, memory usage, or network usage."},capability:{name:"Capability",description:"Capability describes to which extent the maximum limits of a system meet its requirements, in terms of workload sizes or number of concurrent users."},elasticity:{name:"Elasticity",description:"Elasticity describes the rapidness and accurateness with which a system is able to adjust its allocated resources to the currently required amount without over- or under-allocation."}}},portability:{name:"Portability",aspects:{adaptability:{name:"Adaptability",description:"Adaptability describes how well and how easy a system can be adapted to be executed on different or evolving software, platforms, environments, or hardware."},installability:{name:"Installability",description:"Installability describes how well a system can be installed or uninstalled completely and correctly in a specific environment."},replaceability:{name:"Replaceability",description:"Replaceability describes how well a component or system can replace another component or system for the same purpose in the same environment."}}},reliability:{name:"Reliability",aspects:{availability:{name:"Availability",description:"Availability describes to what extent a system is operational and accessible at any point in time when it is needed."},faultTolerance:{name:"Fault tolerance",description:"Fault tolerance describes how well a system is able to operate even when facing software or hardware faults."},recoverability:{name:"Recoverability",description:"Recoverability describes how well a system is able to recover and return to the intended state after an interruption or failure."},maturity:{name:"Maturity",description:"Maturity describes to what extent a system meets the specified needs for reliability in normal, expected circumstances."}}},compatibility:{name:"Compatibility",aspects:{coExistence:{name:"Co-existence",description:"Co-existence describes how well a system can operate and perform its functions while sharing an environment and resources with other systems and without negatively impacting those other systems."},interoperability:{name:"Interoperability",description:"Interoperability describes how well two parts of a system or two systems are able to exchange information and to process such exchanged information."}}}};Object.freeze(Od);Object.freeze({...Od.compatibility.aspects,...Od.maintainability.aspects,...Od.performanceEfficiency.aspects,...Od.portability.aspects,...Od.reliability.aspects,...Od.security.aspects});const RR={cloudInfrastructure:{name:"Cloud Infrastructure"},networkCommunication:{name:"Network Communication"},applicationAdministration:{name:"Application Administration"},dataManagement:{name:"Data Management"},businessDomain:{name:"Business Domain"}};Object.freeze(RR);const W6="at-least-one",j6="mean",DR={dataEncryptionInTransit:{name:"Data encryption in transit",description:"Data which is sent or received through a link from one component to or from an endpoint of another component is encrypted so that even when an attacker has access to the network layer, the data is protected.",categories:["networkCommunication"],relevantEntities:[v.LINK,v.ENDPOINT],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Scholl2019",section:"6 Encrypt Data in Transit"},{key:"Indrasiri2021",section:"2 Security (Use TLS for synchronous communications)"}],measures:["ratioOfEndpointsSupportingSsl","ratioOfExternalEndpointsSupportingTls","ratioOfSecuredLinks"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"dataEncryptionInTransit",measures:["ratioOfExternalEndpointsSupportingTls","ratioOfSecuredLinks"],reasoning:"The more communication is encrypted, the better confidential data is protected. It can be measured by links targeting secure endpoints."}]},secretsManagement:{name:"Secrets management",description:"Secrets (e.g. passwords, access tokens, encryption keys) which allow access to other components or data are managed specifically to make sure they stay confidential and only authorized components or persons can access them. Managed in this case refers to where and how secrets are stored and how components which need them can access them.",categories:["applicationAdministration","cloudInfrastructure","dataManagement"],relevantEntities:[v.BACKING_SERVICE,v.INFRASTRUCTURE,v.BACKING_DATA,v.COMPONENT],applicableEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM,v.REQUEST_TRACE],sources:[],measures:[],evaluations:[{targetEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"Secrets management is concered with where and how secrets are stored and how they are made accessible to components which need them.",precondition:"at-least-one",impactsInterpretation:"mean"}]},isolatedSecrets:{name:"Isolated secrets",description:"Secrets (e.g. passwords, access tokens, encryption keys) are not stored in component artifacts (e.g. binaries, images). Instead, secrets are stored for example in the deployment environment and components are given access at runtime only to those secrets which they actually need and only when they need it.",categories:["applicationAdministration"],relevantEntities:[v.BACKING_SERVICE,v.INFRASTRUCTURE,v.BACKING_DATA,v.COMPONENT],applicableEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Scholl2019",section:"6 Never Store Secrets or Configuration Inside an Image"},{key:"Adkins2020",section:"14 Don't Check In Secrets"}],measures:["secretsExternalization"],evaluations:[{targetEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM,v.REQUEST_TRACE],evaluation:"isolatedSecrets",measures:["secretsExternalization"],reasoning:"The more secrets are stored outside of the components which use them, the more secrets are isolated."}]},secretsStoredInSpecializedServices:{name:"Secrets stored in specialized services",description:"A dedicated backing service to host secrets (e.g. passwords, access tokens, encryption keys) exists. All secrets required by a system are hosted in this backing service where they can also be managed (for example they can be revoked or replaced with updated secrets). Components fetch secrets from this backing services in a controlled way when they need them.",categories:["cloudInfrastructure","dataManagement"],relevantEntities:[v.BACKING_SERVICE,v.BACKING_DATA,v.COMPONENT],applicableEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM],sources:[{key:"Scholl2019",section:"6 Securely Store All Secrets"},{key:"Arundel2019",section:"10 Kubernetes Secrets"}],measures:["secretsStoredInVault"],evaluations:[{targetEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM],evaluation:"secretsStoredInSpecializedServices",measures:["secretsStoredInVault"],reasoning:"The more secrets are stored in vaults, the more they are stored in specialized services which encrypt them and offer management features."}]},accessRestriction:{name:"Access restriction",description:"Access to components is restricted to those who actually need it. Also, within a system access controls are put in place to have multiple layers of defense. A dedicated component to manage access policies can be used.",categories:["networkCommunication","applicationAdministration"],relevantEntities:[v.COMPONENT,v.ENDPOINT,v.BACKING_SERVICE],applicableEntities:[v.COMPONENT,v.SYSTEM],sources:[],measures:[],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM],evaluation:"aggregateImpacts",measures:[],precondition:"at-least-one",impactsInterpretation:"lowest",reasoning:"How well access restriction is supported depends on the impacting factors. Their impacts are simply aggregated to evaluate this factor."}]},leastPrivilegedAccess:{name:"Least-privileged access",description:"Access to endpoints is given as restrictive as possible so that only components who really need it can access an endpoint.",categories:["networkCommunication","applicationAdministration"],relevantEntities:[v.COMPONENT,v.ENDPOINT],applicableEntities:[v.COMPONENT,v.SYSTEM],sources:[{key:"Scholl2019",section:"6 Grant Least-Privileged Access"},{key:"Arundel2019",section:"11 Access Control and Permissions"}],measures:["accessRestrictedToCallers"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM],evaluation:"leastPrivilegedAccess",measures:["accessRestrictedToCallers"],reasoning:"Access to endpoints is minimal if access is allowed only to those who actually need. it"}]},accessControlManagementConsistency:{name:"Access control management consistency",description:"Access control for endpoints is managed in a consistent way, that means for example always the same format is used for access control lists or a single account directory in a dedicated backing service exists for all components. Access control configurations can then be made always in the same known style and only in a dedicated place. Based on such a consistent access control configuration, also verifications can be performed to ensure that access restrictions are implemented correctly.",categories:["applicationAdministration","networkCommunication"],relevantEntities:[v.COMPONENT,v.ENDPOINT,v.BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[{key:"Adkins2020",section:"6 Access Control (Access control managed by framework)"},{key:"Goniwada2021",section:"9 Policy as Code (consistently describe your security policies in form of code)"}],measures:["ratioOfEndpointsThatSupportTokenBasedAuthentication","ratioOfEndpointsThatSupportApiKeys","ratioOfEndpointsThatSupportPlaintextAuthentication","ratioOfEndpointsThatAreIncludedInASingleSignOnApproach","iendpointAccessMethodsConsistency","externalEndpointAccessConsistency"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"accessControlManagementConsistency",measures:["iendpointAccessMethodsConsistency","externalEndpointAccessConsistency"],reasoning:"Access control consistency is calculated for all endpoints and all external endpoints separately. Both results are averaged and the factor is evaluated as high if this consistency is also high. If there are not endpoints in the system, the evaluation is none."}]},accountSeparation:{name:"Account separation",description:"Components are separated by assigning them different accounts. Ideally each component has an individual account. Through this, it is possible to trace which component performed which actions and it is possible to restrict access to other components on a fine-grained level, so that for example in the case of an attack, compromised components can be isolated based on their account.",categories:["applicationAdministration","businessDomain"],relevantEntities:[v.COMPONENT],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Scholl2019",section:"6 Use Separate Accounts/Subscriptions/Tenants”"},{key:"Adkins2020",section:"8 Role separation”(let different services run with different roles to restrict access)"},{key:"Adkins2020",section:"8 “Location separation (use different roles for a service in different locations to limit attack impacts)"}],measures:["ratioOfUniqueAccountUsage"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"accountSeparation",measures:["ratioOfUniqueAccountUsage"],reasoning:"The higher the ratio of unique account usage, the more this product factor is present."}]},authenticationDelegation:{name:"Authentication delegation",description:"The verification of an entity for authenticity, for example upon a request, is delegated to a dedicated backing service. This concern is therefore removed from individual components so that their focus can remain on business functionalities while for example different authentication options can be managed in one place only.",categories:["applicationAdministration","businessDomain"],relevantEntities:[v.COMPONENT,v.BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Scholl2019",section:"6 Use Federated Identity Management"},{key:"Goniwada2021",section:"9 Decentralized Identity"}],measures:["ratioOfDelegatedAuthentication"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"authenticationDelegation",measures:["ratioOfDelegatedAuthentication"],reasoning:"The higher the ratio of delegated authentication, the more this product factor is present."}]},serviceOrientation:{name:"Service-orientation",description:"Cloud-native applications realize modularity by being service-oriented, that means the system is decomposed into services encapsulating specific functionalities and communicating with each other only through specific interfaces. Commonly, a microservices architectural style is used.",categories:["businessDomain","dataManagement","networkCommunication"],relevantEntities:[v.COMPONENT,v.DATA_AGGREGATE,v.ENDPOINT,v.LINK],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[],measures:[],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"aggregateImpacts",measures:[],reasoning:"Service-orientation has a number of aspects that need to be considered. Therefore, the evaluation for this factor just aggregates the impacts from other factors impacting this factor.",precondition:"majority",impactsInterpretation:"median"}]},limitedFunctionalScope:{name:"Limited functional scope",description:"Each service covers only a limited, but cohesive functional scope to keep services manageable.",categories:["businessDomain","dataManagement"],relevantEntities:[v.COMPONENT,v.ENDPOINT,v.LINK],applicableEntities:[v.COMPONENT,v.SYSTEM],sources:[{key:"Reznik2019",section:"9 Microservices Architecture"},{key:"Adkins2020",section:"7 Use Microservices"},{key:"Goniwada2021",section:"3 Polylithic Architecture Principle (Build separate services for different business functionalities) "}],measures:["totalServiceInterfaceCohesion","cohesivenessOfService","cohesionOfAServiceBasedOnOtherEndpointsCalled","lackOfCohesion","averageLackOfCohesion","serviceSize","unreachableEndpointCount"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"aggregateImpacts",measures:[],reasoning:"The limited functional scope of a component or system is evaluated simply by aggregating the results of limited data scope and limited functional scope.",precondition:"at-least-one",impactsInterpretation:"median"}]},limitedDataScope:{name:"Limited data scope",description:"The number of data aggregates that are processed in a service is limited to those which need to be administrated together, for example to fulfill data consistency requirements. The aim is to keep the functional scope of a service cohesive. Data aggregates for which consistency requirements can be relaxed might be distributed over separate services.",categories:["businessDomain","dataManagement"],relevantEntities:[v.COMPONENT,v.ENDPOINT,v.DATA_AGGREGATE],applicableEntities:[v.COMPONENT,v.SYSTEM],sources:[],measures:["dataAggregateScope","serviceInterfaceDataCohesion","cohesionBetweenEndpointsBasedOnDataAggregateUsage","resourceCount"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"limitedDataScope",measures:["cohesionBetweenEndpointsBasedOnDataAggregateUsage"],reasoning:"Based on cohesionBetweenEndpointsBasedOnDataAggregateUsage. The higher the cohesion is, the more this factor is present. For the system entity, the measure is aggregated across services."}]},limitedEndpointScope:{name:"Limited endpoint scope",description:"To keep the functional scope of services limited, the number of endpoints of a service is limited to a cohesive set of endpoints that provide related operations.",categories:["businessDomain"],relevantEntities:[v.COMPONENT,v.ENDPOINT,v.LINK],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[],measures:["numberOfProvidedSynchronousAndAsynchronousEndpoints","numberOfSynchronousEndpointsOfferedByAService","serviceInterfaceUsageCohesion","distributionOfSynchronousCalls","cohesionOfEndpointsBasedOnInvocationByOtherServices","unusedEndpointCount"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"limitedEndpointScope",measures:["serviceInterfaceUsageCohesion"],reasoning:"Based on serviceInterfaceUsageCohesion. The higher the cohesion is, the more this factor is present. For the system entity, the measure is aggregated across services."}]},commandQueryResponsibilitySegregation:{name:"Command query responsibility segregation",description:"Endpoints for read (query) and write (command) operations on the same data aggregate are separated into different services. Changes to these operations can then be made independently and also different representations for data aggregates can be used. That way operations on data aggregates can be adjusted to differing usage patterns, different format requirements, or if they are changed for different reasons.",categories:["networkCommunication","businessDomain"],relevantEntities:[v.COMPONENT,v.ENDPOINT,v.LINK],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[{key:"Davis2019",section:"4.4"},{key:"Richardson2019",section:"7.2 Using the CQRS pattern"},{key:"Bastani2017",section:"12 CQRS (Command Query Responsibility Segregation)"},{key:"Indrasiri2021",section:"4 Command and Query Responsibility Segregation Pattern"},{key:"Goniwada2021",section:"4 Command and Query Responsibility Segregation Pattern"}],measures:["numberOfReadEndpointsProvidedByAService","numberOfWriteEndpointsProvidedByAService","readWriteSeparationForDataAggregates"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"commandQueryResponsibilitySegregation",measures:["readWriteSeparationForDataAggregates"],reasoning:"Based on readWriteSeparationForDataAggregates the factor is evaluated as being present, the higher the separation of read and write operations on the same data aggregate is, across one or more component(s)."}]},separationByGateways:{name:"Separation by gateways",description:"Individual components or groups of components are separated through gateways. That means communication is proxied and controlled at specific gateway components. It also abstracts one part of a system from another so that it can be reused by different components without needing direct links to components that actually provide the needed functionality. This way, communication can also be redirected when component endpoints change without changing the gateway endpoint. Also, incoming communication from outside of a system can be directed at external endpoints of a central component (the gateway).",categories:["networkCommunication","businessDomain"],relevantEntities:[v.COMPONENT,v.PROXY_BACKING_SERVICE,v.ENDPOINT,v.LINK],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"10.2"},{key:"Richardson2019",section:"8.2"},{key:"Bastani2017",section:"8 Edge Services: Filtering and Proxying with Netflix Zuul"},{key:"Indrasiri2021",section:"7 API Gateway Pattern"},{key:"Indrasiri2021",section:"7 API Microgateway Pattern (Smaller API microgateways to avoid having a monolithic API gateway)"},{key:"Goniwada2021",section:"4 “Mediator” (Use a mediator pattern between clients and servers)"}],measures:["externallyAvailableEndpoints","centralizationOfExternallyAvailableEndpoints","apiCompositionUtilizationMetric","ratioOfRequestTracesThroughGateway","degreeOfSeparationByGateways"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"separationByGateways",measures:["degreeOfSeparationByGateways"],reasoning:"Based on degreeOfSeparationByGateways the factor is evaluated as being present, the higher the degree of separation by gateways is."}]},isolatedState:{name:"Isolated state",description:"Services are structured by clearly separating stateless from stateful services. Stateful services should be reduced to a minimum. That way, state is isolated within these specifically stateful services which can be managed accordingly. The majority of stateless services is easier to deploy and modify.",categories:["dataManagement","businessDomain"],relevantEntities:[v.COMPONENT,v.DATA_AGGREGATE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Goniwada2021",section:"3 Be Smart with State Principle"}],measures:[],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"Depends on whether state is only stored in specific services (mostlyStatelessServices) and if those services that are stateful are handled properly (specializedStatefulServices)",precondition:"at-least-one",impactsInterpretation:"lowest"}]},mostlyStatelessServices:{name:"Mostly stateless services",description:"Most services in a system are kept stateless, that means not requiring durable disk space on the infrastructure that they run on. Stateless services can be replaced, updated or replicated at any time. Stateful services are reduced to a minimum.",categories:["dataManagement","businessDomain"],relevantEntities:[v.COMPONENT,v.DATA_AGGREGATE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"5.4"},{key:"Scholl2019",section:"6 “Design Stateless Services That Scale Out"},{key:"Goniwada2021",section:"3 Be Smart with State Principle, 5 Stateless Services"}],measures:["ratioOfStateDependencyOfEndpoints","ratioOfStatefulComponents","ratioOfStatelessComponents","degreeToWhichComponentsAreLinkedToStatefulComponents"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"mostlyStatelessServices",measures:["ratioOfStatelessComponents","degreeToWhichComponentsAreLinkedToStatefulComponents"],reasoning:"This factor is fulfilled if the ratio of stateless services is rather high and if in addition the degree to which components are linked to stateful components is rather low. These two measures are aggregated."}]},specializedStatefulServices:{name:"Specialized stateful services",description:"For stateful components, that means components that do require durable disk space on the infrastructure that they run on, specialized software or frameworks are used that can handle distributed state by replicating it over several components or component instances while still ensuring consistency requirements for that state.",categories:["dataManagement","businessDomain"],relevantEntities:[v.COMPONENT,v.STORAGE_BACKING_SERVICE,v.DATA_AGGREGATE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"5.4"},{key:"Ibryam2020",section:"11 “Stateful Service”"}],measures:["ratioOfSpecializedStatefulServices","suitablyReplicatedStatefulService"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"specializedStatefulServices",measures:["ratioOfSpecializedStatefulServices","suitablyReplicatedStatefulService"],reasoning:"This factor is fulfilled if the ratio of specialized stateful services is rather high. If stateful services are replicated, also suitablyReplicatedStatefulService is included in the evaluation and needs to be rather high."}]},looseCoupling:{name:"Loose coupling",description:"In cloud-native applications communication between components is loosely coupled in time, location, and language to achieve greater independence.",categories:["businessDomain","networkCommunication"],relevantEntities:[v.COMPONENT,v.LINK,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[],measures:[],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"Depends on whether communication is asynchronous and in addition, if event sourcing is used.",precondition:"at-least-one",impactsInterpretation:"median"}]},asynchronousCommunication:{name:"Asynchronous communication",description:"Asynchronous links (e.g. based on messaging backing services) are preferred for the communication between components. That way, components are decoupled in time meaning that not all linked components need to be available at the same time for a successful communication. Additionally, callers do not await a response.",categories:["networkCommunication","businessDomain"],relevantEntities:[v.LINK,v.ENDPOINT,v.REQUEST_TRACE,v.BROKER_BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"4.2"},{key:"Scholl2019",section:"6 Prefer Asynchronous Communication"},{key:"Richardson2019",section:"3.3.2, 3.4 Using asynchronous messaging to improve availability"},{key:"Indrasiri2021",section:"3 Service Choreography Pattern"},{key:"Ruecker2021",section:"9 Asynchronous Request/Response (Use asynchronous communication to make services more robust)"},{key:"Goniwada2021",section:"4 Asynchronous Nonblocking I/O"}],measures:["numberOfAsynchronousEndpointsOfferedByAService","numberOfSynchronousOutgoingLinks","numberOfAsynchronousOutgoingLinks","ratioOfAsynchronousOutgoingLinks","degreeOfAsynchronousCommunication","asynchronousCommunicationUtilization","numberOfSynchronousEndpoints","numberOfAsynchronousEndpoints"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"asynchronousCommunication",measures:["degreeOfAsynchronousCommunication","asynchronousCommunicationUtilization"],reasoning:"This factor is fulfilled if the degree of asychronous communication and the asynchronousCommunicationUtilization are rather high. Both measures are relevant and therefore aggregated."}]},communicationPartnerAbstraction:{name:"Communication partner abstraction",description:"Communication via links is not based on specific communication partners (specific components) but abstracted based on the content of communication. An example is event-driven communication where events are published to channels without the publisher knowing which components receive events and events can therefore also be received by components which are created later in time.",categories:["networkCommunication"],relevantEntities:[v.LINK,v.BROKER_BACKING_SERVICE,v.ENDPOINT,v.REQUEST_TRACE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Richardson2019",section:"6 Event-driven communication"},{key:"Ruecker2021",section:"8: Event-driven systems “event chains emerge over time and therefore lack visibility."}],measures:["eventSourcingUtilizationMetric"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"communicationPartnerAbstraction",measures:["eventSourcingUtilizationMetric"],reasoning:"This factor is fulfilled if the degree of communication via an event store is rather high."}]},persistentCommunication:{name:"Persistent communication",description:"Links persist messages which have been sent (e.g. based on messaging backing services). That way, components are decoupled, because components need not yet exist at the time a message is sent, but can still receive a message. Communication can also be repeated, because persisted messages can be retrieved again.",categories:["networkCommunication"],relevantEntities:[v.LINK,v.BROKER_BACKING_SERVICE,v.ENDPOINT],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Indrasiri2021",section:"5 Event Sourcing Pattern: Log-based message brokers"}],measures:["serviceInteractionViaBackingService","eventSourcingUtilizationMetric"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"persistentCommunication",measures:["serviceInteractionViaBackingService","eventSourcingUtilizationMetric"],reasoning:"This factor is fulfilled if communication is persistent. It can be partly persistent if communication happens via a message broker which at least temporarily stores messages. But for a higher fullfillment an event store should be utilized."}]},usageOfExistingSolutionsForNonCoreCapabilities:{name:"Usage of existing solutions for non-core capabilities",description:"For non-core capabilities readily available solutions are used. This means solutions which are based on a standard or a specification, are widely adopted and ideally open source so that their well-functioning is ensured by a broader community. Non-core capabilities include interface technologies or protocols for endpoints, infrastructure technologies (for example container orchestration engines), and software for backing services. That way capabilities don't need to self-implemented and existing integration options can be used.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:[v.COMPONENT,v.BACKING_SERVICE,v.STORAGE_BACKING_SERVICE,v.BROKER_BACKING_SERVICE,v.PROXY_BACKING_SERVICE,v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[{key:"Reznik2019",section:"9 Avoid Reinventing the Wheel"},{key:"Adkins2020",section:"12 Frameworks to Enforce Security and Reliability"}],measures:["ratioOfNonCustomBackingServices"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"usageOfExistingSolutionsForNonCoreCapabilities",measures:["ratioOfNonCustomBackingServices"],reasoning:"This factor depends on the ratio of non-custom backing services used. The higher this ratio is, the more this factor is fulfilled."}]},standardization:{name:"Standardization",description:"By using standardized technologies within components, for interfaces, and especially for the infrastructure, backing services and other non-business concerns, reusability can be increased and the effort to develop additional functionality which integrates with existing components can be reduced.",categories:["applicationAdministration"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE],sources:[],measures:["ratioOfStandardizedArtifacts","ratioOfEntitiesProvidingStandardizedArtifacts"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE],evaluation:"standardization",measures:["ratioOfStandardizedArtifacts","ratioOfEntitiesProvidingStandardizedArtifacts"],reasoning:"This factor is present, if entities include standardized artifacts. It is evaluated on the one hand based on whether entities include standardized artifacts at all and on the other hand the ratio of standardized artifacts."}]},componentSimilarity:{name:"Component similarity",description:"The more similar components are, the easier it is for developers to work on an unfamiliar component. Furthermore, similar components can be more easily integrated and maintained in the same way. Similarity considers mainly the libraries and technologies used for implementing service logic and service endpoints, as well as their deployment.",categories:["applicationAdministration"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Reznik2019",section:"9 Reference Architecture"}],measures:["componentArtifactsSimilarity","infrastructureArtifactsSimilarity"],evaluations:[{targetEntities:[v.REQUEST_TRACE],evaluation:"componentSimilarityRequestTrace",measures:["componentArtifactsSimilarity"],reasoning:"On the level of a request trace, the evaluation of this factor only considers the component similarity of the components involved in the request trace. The similarity is based on the artifacts."},{targetEntities:[v.SYSTEM],evaluation:"componentSimilaritySystem",measures:["componentArtifactsSimilarity","infrastructureArtifactsSimilarity"],reasoning:"On the level of the whole system, the evaluation of this factor considers the component similarity and infrastructure similarity based on their included artifacts."}]},automatedMonitoring:{name:"Automated monitoring",description:"Cloud-native applications enable monitoring at various levels (business functionalities in services, backing-service functionalities, infrastructure) in an automated fashion to enable observable and autonomous reactions to changing system conditions.",categories:["applicationAdministration","businessDomain","networkCommunication","dataManagement"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE],sources:[{key:"Goniwada2021",section:"3 High Observability Principle"}],measures:["ratioOfInfrastructureNodesThatSupportMonitoring","ratioOfComponentsThatSupportMonitoring"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"Depends on whether components and infrastructure support monitoring through logging, metrics, distributed tracing and health and readiness checks.",precondition:"at-least-one",impactsInterpretation:"median"}]},consistentCentralizedLogging:{name:"Consistent centralized logging",description:"Logging functionality, specifically the automated collection of logs, is concentrated in a centralized backing service which combines and stores logs from the components of a system. The logs are kept consistent regarding their format and level of granularity. In the backing service also log analysis functionalities are provided, for example by also enabling a correlation of logs from different components.",categories:["applicationAdministration","dataManagement"],relevantEntities:[v.COMPONENT,v.BACKING_DATA,v.BACKING_SERVICE,v.LINK],applicableEntities:[v.COMPONENT,v.SYSTEM,v.INFRASTRUCTURE],sources:[{key:"Davis2019",section:"11.1"},{key:"Scholl2019",section:"6 Use a Unified Logging System"},{key:"Scholl2019",section:"6 Common and Structured Logging Format"},{key:"Richardson2019",section:"11.3.2 Applying the Log aggregation pattern"},{key:"Reznik2019",section:"10 Observability"},{key:"Garrison2017",section:"7 Monitoring and Logging"},{key:"Adkins2020",section:"15 Design your logging to be immutable"},{key:"Arundel2019",section:"15 Logging"},{key:"Bastani2017",section:"13 Application Logging"},{key:"Bastani2017",section:"13 Audit Events (capture events for audits, like failed logins etc)"},{key:"Ruecker2021",section:"11 Custom Centralized Monitoring"},{key:"Goniwada2021",section:"19 One Source of Truth"}],measures:["ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService"],evaluations:[{targetEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM],evaluation:"consistentCentralizedLogging",measures:["ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService"],reasoning:"The factor is fullfilled, if services export logs to a logging service. This is checked by the ratio of components or infrastructure that export logs to a central service."}]},consistentCentralizedMetrics:{name:"Consistent centralized metrics",description:"Metrics gathering and calculation functionality for monitoring purposes is concentrated in a centralized component which combines, aggregates and stores metrics from the components of a system. The metrics are kept consistent regarding their format and support multiple levels of granularity. In the backing service also metric analysis functionalities are provided, for example by also enabling correlations of metrics.",categories:["applicationAdministration","businessDomain"],relevantEntities:[v.COMPONENT,v.BACKING_DATA,v.BACKING_SERVICE,v.LINK],applicableEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM],sources:[{key:"Davis2019",section:"11.2"},{key:"Scholl2019",section:"6 Tag Your Metrics Appropriately"},{key:"Richardson2019",section:"11.3.4 Applying the Applications metrics pattern"},{key:"Garrison2017",section:"7 Monitoring and Logging, Metrics Aggregation"},{key:"Reznik2019",section:"10 Observability"},{key:"Arundel2019",section:"15 Metrics help predict problems"},{key:"Bastani2017",section:"13 Metrics"},{key:"Arundel2019",section:"16 The RED Pattern (common metrics you should have for services"},{key:"Arundel2019",section:"16 The USE Pattern (common metrics for resources"},{key:"Goniwada2021",section:"19 One Source of Truth"}],measures:["ratioOfComponentsOrInfrastructureNodesThatExportMetrics","ratioOfComponentsOrInfrastructureNodesThatEnablePerformanceAnalytics"],evaluations:[{targetEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM],evaluation:"consistentCentralizedMetrics",measures:["ratioOfComponentsOrInfrastructureNodesThatExportMetrics"],reasoning:"The factor is fullfilled, if services export metrics to a metrics service. This is checked by the ratio of components or infrastructure that export metrics to a central service."}]},distributedTracingOfInvocations:{name:"Distributed tracing of invocations",description:"For request traces that span multiple components in a system, distributed tracing is enabled so that traces based on correlation IDs are captured automatically and stored in a backing service where they can be analyzed and problems within request traces can be clearly attributed to single components.",categories:["applicationAdministration","networkCommunication"],relevantEntities:[v.COMPONENT,v.BACKING_SERVICE,v.REQUEST_TRACE],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"11.3"},{key:"Scholl2019",section:"6 Use Correlation IDs"},{key:"Richardson2019",section:"11.3.3 Using the Distributed tracing pattern"},{key:"Garrison2017",section:"7 Debugging and Tracing"},{key:"Reznik2019",section:"10 Observability"},{key:"Arundel2019",section:"15 Tracing"},{key:"Bastani2017",section:"13 Distributed Tracing"},{key:"Ruecker2021",section:"11 Observability and Distributed Tracing Tools (Use Distributed Tracing)"},{key:"Goniwada2021",section:"19 One Source of Truth"}],measures:["distributedTracingSupport"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"distributedTracingOfInvocations",measures:["distributedTracingSupport"],reasoning:"The more components are connected to a distributed tracing service, the more this factor is fulfilled."}]},healthAndReadinessChecks:{name:"Health and readiness checks",description:"All components in a system offer health and readiness checks so that unhealthy components can be identified and communication can be restricted to happen only between healthy and ready components. Health and readiness checks can for example be dedicated endpoints of components which can be called regularly to check a component. That way, also an up-to-date holistic overview of the health of a system is enabled.",categories:["applicationAdministration"],relevantEntities:[v.COMPONENT,v.ENDPOINT],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Scholl2019",section:"6 Implement Health Checks and Readiness Checks"},{key:"Ibryam2020",section:"4 Health Probe"},{key:"Richardson2019",section:"11.3.1 Using the Health check API pattern"},{key:"Garrison2017",section:"7 State Management"},{key:"Arundel2019",section:"5 Liveness Probes"},{key:"Arundel2019",section:"5 Readiness Probes"},{key:"Bastani2017",section:"13 Health Checks"},{key:"Indrasiri2021",section:"1 Why container orchestration?, Health monitoring"},{key:"Goniwada2021",section:"4 Fail Fast, 16 Health Probe"}],measures:["ratioOfServicesThatProvideHealthEndpoints","ratioOfServicesThatProvideReadinessEndpoints"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"healthAndReadinessChecks",measures:["ratioOfServicesThatProvideHealthEndpoints","ratioOfServicesThatProvideReadinessEndpoints"],reasoning:"The higher the number of services providing health and readiness checks, the more this factor is fulfilled."}]},automatedInfrastructureProvisioning:{name:"Automated infrastructure provisioning",description:"Infrastructure provisioning should be automated based on component requirements which are either stated explicitly or inferred from the component which should be deployed. The infrastructure and tools used should require only minimal manual effort. Ideally it should be combined with continuous delivery processes so that no further interaction is needed for a component deployment.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:[v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE],sources:[{key:"Reznik2019",section:"10 Automated Infrastructure"},{key:"Goniwada2021",section:"5 Automation"}],measures:["ratioOfAutomaticallyProvisionedInfrastructure"],evaluations:[{targetEntities:[v.SYSTEM,v.INFRASTRUCTURE],evaluation:"automatedInfrastructureProvisioning",measures:["ratioOfAutomaticallyProvisionedInfrastructure"],reasoning:"The higher the number of infrastructure entites that are provisioned automatically, the more this factor is fulfilled."}]},useInfrastructureAsCode:{name:"Use infrastructure as code",description:"The infrastructure requirements and constraints of a system are defined (coded) independently of the actual runtime in a storable format. That way a defined infrastructure can be automatically provisioned repeatedly and ideally also on different underlying infrastructures (cloud providers) based on the stored infrastructure definition. Infrastructure provisioning and configuration operations are not performed manually via an interface of a cloud provider.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:[v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE],sources:[{key:"Scholl2019",section:"6 Describe Infrastructure Using Code"},{key:"Goniwada2021",section:"16 Declarative Deployment, 17 What Is Infrastructure as Code?"}],measures:["linesOfCodeForDeploymentConfiguration","ratioOfInfrastructureWithIaCArtifact"],evaluations:[{targetEntities:[v.SYSTEM,v.INFRASTRUCTURE],evaluation:"useInfrastructureAsCode",measures:["ratioOfInfrastructureWithIaCArtifact"],reasoning:"The higher the number of infrastructure entites that include an IaC (Infrastructure as Code) artifact, the more this factor is fulfilled."}]},dynamicScheduling:{name:"Dynamic scheduling",description:"Resource provisioning to deployed components is dynamic and automated so that every component is ensured to have the resources it needs and only that many resources are provisioned which are really needed at the same time. This requires dynamic adjustments to resources to adapt to changing environments. This capability should be part of the used infrastructure.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Reznik2019",section:"10 Dynamic Scheduling"},{key:"Garrison2017",section:"7 Resource Allocation and Scheduling"},{key:"Ibryam2020",section:"6 Automated Placement"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Resource Management"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Automatic provisioning"},{key:"Goniwada2021",section:"16 Automated Placement"}],measures:["ratioOfDeploymentsOnDynamicInfrastructure"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"dynamicScheduling",measures:["ratioOfDeploymentsOnDynamicInfrastructure"],reasoning:"The higher the number of deployment mappings on a platform or cloud service, the more this factor is fulfilled."}]},serviceIndependence:{name:"Service independence",description:"Services are as independent as possible throughout their lifecycle, that means development, operation, and evolution. Changes to one service have a minimum impact on other services.",categories:["businessDomain","networkCommunication","cloudInfrastructure","applicationAdministration","dataManagement"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.LINK,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[{key:"Goniwada2021",section:"3 Decentralize Everything Principle (Decentralize deployment, governance)"}],measures:[],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"aggregateImpacts",reasoning:"Depends on various aspects of how services depend on each other. Each aspect can have an impact",measures:[],precondition:"majority",impactsInterpretation:"mean"}]},lowCoupling:{name:"Low coupling",description:"The coupling in a system is low in terms of links between components. Each link represents a dependency and therefore decreases service independence.",categories:["businessDomain"],relevantEntities:[v.COMPONENT,v.LINK,v.ENDPOINT,v.DATA_AGGREGATE],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[],measures:["numberOfLinksPerComponent","numberOfConsumedEndpoints","incomingOutgoingRatioOfAComponent","ratioOfOutgoingLinksOfAService","couplingDegreeBasedOnPotentialCoupling","interactionDensityBasedOnComponents","interactionDensityBasedOnLinks","serviceCouplingBasedOnEndpointEntropy","systemCouplingBasedOnEndpointEntropy","modularityQualityBasedOnCohesionAndCoupling","combinedMetricForIndirectDependency","servicesInterdependenceInTheSystem","indirectInteractionDensity","averageNumberOfDirectlyConnectedServices","numberOfComponentsThatAreLinkedToAComponent","numberOfComponentsAComponentIsLinkedTo","numberOfLinksBetweenTwoServices","aggregateSystemMetricToMeasureServiceCoupling","numberOfComponentsAComponentIsLinkedToRelativeToTheTotalAmountOfComponents","degreeOfCouplingInASystem","serviceCouplingBasedOnDataExchangeComplexity","simpleDegreeOfCouplingInASystem","directServiceSharing","transitivelySharedServices","ratioOfSharedNonExternalComponentsToNonExternalComponents","ratioOfSharedDependenciesOfNonExternalComponentsToPossibleDependencies","degreeOfDependenceOnOtherComponents","averageSystemCoupling","couplingOfServicesBasedOnUsedDataAggregates","couplingOfServicesBasedServicesWhichCallThem","couplingOfServicesBasedServicesWhichAreCalledByThem","couplingOfServicesBasedOnAmountOfRequestTracesThatIncludeASpecificLink","couplingOfServicesBasedTimesThatTheyOccurInTheSameRequestTrace","totalNumberOfLinksInASystem","numberOfServicesWhichHaveIncomingLinks","numberOfServicesWhichHaveOutgoingLinks","numberOfServicesWhichHaveBothIncomingAndOutgoingLinks"],evaluations:[{targetEntities:[v.COMPONENT],evaluation:"lowCouplingForComponent",measures:["numberOfComponentsAComponentIsLinkedToRelativeToTheTotalAmountOfComponents"],reasoning:"Evaluation is based on the number of components a component is linked to relative to the total amount of components. The higher this metric is, the less this factor is fulfilled."},{targetEntities:[v.SYSTEM],evaluation:"lowCouplingForSystem",measures:["degreeOfCouplingInASystem"],reasoning:"Evaluation is based on the degree of coupling in the system. The higher this degree is, the less this factor is fulfilled."}]},functionalDecentralization:{name:"Functional decentralization",description:"Business functionality is decentralized over the system as a whole to separate unrelated functionalities from each other and make components more independent.",categories:["businessDomain"],relevantEntities:[v.COMPONENT,v.LINK,v.ENDPOINT,v.REQUEST_TRACE],applicableEntities:[v.SYSTEM],sources:[],measures:["conceptualModularityQualityBasedOnDataAggregateCohesionAndCoupling","cyclicCommunication","numberOfSynchronousCycles","relativeImportanceOfTheService","extentOfAggregationComponents","systemCentralization","densityOfAggregation","aggregatorCentralization","dataAggregateConvergenceAcrossComponents","serviceCriticality","ratioOfCyclicRequestTraces","numberOfPotentialCyclesInASystem","dataAggregateSpread","requestTraceSimilarityBasedOnIncludedComponents"],evaluations:[{targetEntities:[v.SYSTEM],evaluation:"functionalDecentralization",measures:["dataAggregateSpread","requestTraceSimilarityBasedOnIncludedComponents"],reasoning:"Evaluation is based on Data Aggregate Spread and Request trace simiarlity. If both measures are available, they equally contribute to the evaluation. If only on measure is available, only this is used."}]},limitedRequestTraceScope:{name:"Limited request trace scope",description:"A request that requires the collaboration of several services is still limited to as few services as possible. Otherwise, the more services are part of a request trace the more dependent they are on each other.",categories:["businessDomain","networkCommunication"],relevantEntities:[v.COMPONENT,v.LINK,v.ENDPOINT,v.REQUEST_TRACE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[],measures:["maximumLengthOfServiceLinkChainPerRequestTrace","maximumNumberOfServicesWithinARequestTrace","numberOfRequestTraces","averageComplexityOfRequestTraces","requestTraceComplexity","requestTraceLength","numberOfCyclesInRequestTraces","ratioOfRequestTracesContainingFrontend"],evaluations:[{targetEntities:[v.SYSTEM],evaluation:"limitedRequestTraceScopeForSystem",measures:["averageComplexityOfRequestTraces","maximumNumberOfServicesWithinARequestTrace"],reasoning:"Evaluation is based on the number of involved links and components of request traces. On the system level, the evaluation is averaged across request traces."},{targetEntities:[v.REQUEST_TRACE],evaluation:"limitedRequestTraceScopeForRequestTrace",measures:["requestTraceComplexity","maximumNumberOfServicesWithinARequestTrace"],reasoning:"Evaluation is based on the number of involved links and components of a request traces"}]},logicalGrouping:{name:"Logical grouping",description:"Services are logically grouped so that services which are related (for example by having many links or processing the same data aggregates) are in the same group, but services which are more independent are separated in different groups. That way a separation can also be achieved on the network and infrastructure level by separating service groups more strictly, such as having different subnets for such logical groups or not letting different groups run on the same infrastructure. Potential impacts of a compromised or misbehaving service can therefore be reduced to the group to which it belongs but other groups are ideally unaffected.",categories:["cloudInfrastructure","applicationAdministration","businessDomain"],relevantEntities:[v.COMPONENT,v.LINK,v.NETWORK],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[{key:"Scholl2019",section:"6 Use Namespaces to Organize Services in Kubernetes"},{key:"Arundel2019",section:"5 Using Namespaces"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Componentization and isolation"}],measures:["namespaceSeparation"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT],evaluation:"logicalGrouping",measures:["namespaceSeparation"],reasoning:"Evaluation of this factor is based on namespaces. The more components are separated and thus grouped by namespaces, the more the factor is fullfilled"}]},backingServiceDecentralization:{name:"Backing service decentralization",description:"Different backing services are assigned to different components. That way, a decentralization is achieved. For example, instead of one message broker for a whole system, several message brokers can be used, each for a group of components that are interrelated. A problem in one messaging broker has an impact on only those components using it, but not on components having separate message brokers.",categories:["applicationAdministration","cloudInfrastructure","dataManagement"],relevantEntities:[v.COMPONENT,v.LINK,v.BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[{key:"Indrasiri2021",section:"4 Decentralized Data Management (decentralized data leads to higher service independence while centralized data leads to higher consistency.)"},{key:"Indrasiri2021",section:"4 Data Service Pattern (As having a negative impact because multiple services should not access the same data);"},{key:"Ruecker2021",section:"2 Different Workflow Engines for different services"},{key:"Goniwada2021",section:"5 Distributed State, Decentralized Data"}],measures:["degreeOfStorageBackendSharing","ratioOfStorageBackendSharing","sharedStorageBackingServiceInteractions","databaseTypeUtilization","numberOfServiceConnectedToStorageBackingService","ratioOfBrokerBackendSharing","averageStorageBackendSharing","averageWeightedStorageBackendSharing","averageBrokerBackendSharing","averageWeightedBrokerBackendSharing"],evaluations:[{targetEntities:[v.SYSTEM],evaluation:"backingServiceDecentralizationForSystem",measures:["averageWeightedStorageBackendSharing","averageWeightedBrokerBackendSharing"],reasoning:"Evaluation is based on the average sharing of backing services (storage backing services and broker services). The lower the sharing, the higher the decentralization and thus the fulfillment of this factor"},{targetEntities:[v.COMPONENT],evaluation:"backingServiceDecentralizationForComponent",measures:["ratioOfStorageBackendSharing","ratioOfBrokerBackendSharing"],reasoning:"Evaluation is based on the ratio of backend sharing (storage backing services and broker services). The lower the sharing, the higher the decentralization and thus the fulfillment of this factor"}]},addressingAbstraction:{name:"Addressing abstraction",description:"In a link from one component to another the specific addresses for reaching the other component is not used, but instead an abstract address is used. That way, the specific addresses of components can be changed without impacting the link between components. This can be achieved for example through service discovery where components are addressed through abstract service names and specific addresses are resolved through service discovery which can be implemented in the infrastructure or a backing service.",categories:["networkCommunication"],relevantEntities:[v.COMPONENT,v.LINK,v.BACKING_SERVICE,v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"8.3"},{key:"Ibryam2020",section:"12 Service Discovery"},{key:"Richardson2019",section:"Using service discovery"},{key:"Garrison2017",section:"7 Service Discovery"},{key:"Indrasiri2021",section:"3 Service Registry and Discovery Pattern"},{key:"Bastani2017",section:"7 Routing (Use service discovery with support for health checks and respect varying workloads)"},{key:"Indrasiri2021",section:"3 Service Abstraction Pattern (Use an abstraction layer in front of services (for example Kubernetes Service))"},{key:"Goniwada2021",section:"4 Service Discovery"}],measures:["serviceDiscoveryUsage"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE],evaluation:"addressingAbstraction",measures:["serviceDiscoveryUsage"],reasoning:"The more communication uses abstract addresses for communication partners, the higher is the adressing abstraction. Usage of abstract addresses can be measured by the usage of service discovery mechanisms."}]},sparsity:{name:"Sparsity",description:"The more sparse a system is, the fewer components there are which need to be operated and maintained by the developers of a system. This covers all types of components, such as services, backing services, storage backing services, and also the infrastructure.",categories:["applicationAdministration","businessDomain"],relevantEntities:[v.COMPONENT,v.LINK,v.ENDPOINT,v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM],sources:[],measures:["averageNumberOfEndpointsPerService","numberOfDependencies","numberOfVersionsPerService","concurrentlyAvailableVersionsComplexity","serviceSupportForTransactions","numberOfComponents","numberOfServices","numberOfBackingServices"],evaluations:[{targetEntities:[v.SYSTEM],evaluation:"sparsity",measures:["numberOfComponents"],reasoning:"The more components there are in a system, the less sparse it is. Although the evaluation is quite subjective, for a general tendency, this evaluation considers systems sparse that have less than 10 components."}]},operationOutsourcing:{name:"Operation outsourcing",description:"By outsourcing the operation of infrastructure and components to a cloud provider or other vendor, the operation is simplified because responsibility is transferred. Furthermore, costs can be made more flexible because providers and vendors can provide a usage-based pricing.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],sources:[],measures:["ratioOfProviderManagedComponentsAndInfrastructure"],evaluations:[{targetEntities:[v.SYSTEM],evaluation:"operationOutsourcing",measures:["ratioOfProviderManagedComponentsAndInfrastructure"],reasoning:"Depends on both the outsourcing (management by provider) of components and infrastructure."},{targetEntities:[v.COMPONENT],evaluation:"aggregateImpacts",reasoning:"Depends on the factor Managed backing services",measures:[],precondition:"at-least-one",impactsInterpretation:"median"},{targetEntities:[v.INFRASTRUCTURE],evaluation:"aggregateImpacts",measures:[],reasoning:"Depends on the factor Managed infrastructure",precondition:"at-least-one",impactsInterpretation:"median"}]},managedInfrastructure:{name:"Managed infrastructure",description:"Infrastructure such as basic computing, storage or network resources, but potentially also software infrastructure (for example a container orchestration engine) is managed by a cloud provider who is responsible for a stable functioning and up-to-date functionalities. The more infrastructure is managed, the more operational responsibility is transferred. This will also be reflected in the costs which are then calculated more on usage-based pricing schemes.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE],sources:[],measures:["ratioOfFullyManagedInfrastructure"],evaluations:[{targetEntities:[v.INFRASTRUCTURE,v.SYSTEM],evaluation:"managedInfrastructure",measures:["ratioOfFullyManagedInfrastructure"],reasoning:"The more infrastructure entities are managed by a provider, the more this factor is fulfilled."}]},managedBackingServices:{name:"Managed backing services",description:"Backing services that provide non-business functionality are operated and managed by vendors who are responsible for a stable functioning and up-to-date functionalities. Operational responsibility is transferred which is also reflected in the costs which are then calculated more on usage-based pricing schemes.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.BACKING_SERVICE,v.BROKER_BACKING_SERVICE,v.PROXY_BACKING_SERVICE,v.STORAGE_BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT],sources:[{key:"Scholl2019",section:"6 Use Managed Databases and Analytics Services"},{key:"Arundel2019",section:"15 Don't build your own monitoring infrastructure (Use an external monitoring service)"},{key:"Bastani2017",section:"10 managed and automated messaging system (operating your own messaging system increases operational overhead, better use a system managed by a platform)"}],measures:["ratioOfManagedBackingServices"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM],evaluation:"managedBackingServices",measures:["ratioOfManagedBackingServices"],reasoning:"The more backing services are managed by a provider, the more this factor is fulfilled."}]},replication:{name:"Replication",description:"Business logic and needed data is replicated at various points in a system so that latencies can be minimized and requests can be distributed for fast request handling.",categories:["applicationAdministration","dataManagement","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.DATA_AGGREGATE,v.DEPLOYMENT_MAPPING,v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[],measures:[],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"Replication can be achieved in different ways, each way already having a positive impact. Therefore if any of the underlying factors is present, replication is increased.",precondition:"at-least-one",impactsInterpretation:"mean"}]},serviceReplication:{name:"Service replication",description:"Services and therefore their provided functionalities are replicated across different locations so that the latency for accesses from different locations is minimized and the incoming load can be distributed among replicas.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.SYSTEM,v.SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"5.1. Cloud-native apps have many instances deployed"},{key:"Scholl2019",section:"6 Design Stateless Services That Scale Out"}],measures:["amountOfRedundancy","serviceReplicationLevel","medianServiceReplication","smallestReplicationValue"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"serviceReplication",measures:["serviceReplicationLevel","amountOfRedundancy"],reasoning:"Service replication is measured by the number of replicas for a service and the redudancy introduced by deploying it on multiple infrastructure instances."}]},horizontalDataReplication:{name:"Horizontal data replication",description:"Data is replicated horizontally, that means duplicated across several instances of a storage backing service so that a higher load can be handled and replicas closer to the service where data is needed can be used to reduce latency.",categories:["applicationAdministration","dataManagement"],relevantEntities:[v.STORAGE_BACKING_SERVICE,v.DATA_AGGREGATE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE,v.COMPONENT],sources:[{key:"Scholl2019",section:"6 Use Data Partitioning and Replication for Scale"},{key:"Goniwada2021",section:"4 Data Replication"}],measures:["storageReplicationLevel"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"horizontalDataReplication",measures:["storageReplicationLevel"],reasoning:"Horizontal data replication is measured by the number of replicas for storage backing services."}]},verticalDataReplication:{name:"Vertical data replication",description:"Data is replicated vertically, that means across a request trace so that it is available closer to where a request initially comes in. Typically, caching is used for vertical data replication.",categories:["applicationAdministration","dataManagement"],relevantEntities:[v.COMPONENT,v.DATA_AGGREGATE,v.REQUEST_TRACE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE,v.COMPONENT],sources:[{key:"Scholl2019",section:"6 Use Caching"},{key:"Bastani2017",section:"9 Caching (Use an In-Memory cache for queries to relieve datastore from traffic; replication into faster data storage)"},{key:"Indrasiri2021",section:"4 Caching Pattern"}],measures:["ratioOfCachedDataAggregates","dataReplicationAlongRequestTrace"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM],evaluation:"systemVerticalDataReplication",measures:["ratioOfCachedDataAggregates"],reasoning:"Data is replicated vertically if data aggregates are cached by those components using them."},{targetEntities:[v.REQUEST_TRACE],evaluation:"requestTraceVerticalDataReplication",measures:["dataReplicationAlongRequestTrace"],reasoning:"Data is replicated vertically if data aggregates used throughout a request trace are cached by the involved components."}]},shardedDataStoreReplication:{name:"Sharded data store replication",description:"Data storage is sharded, that means data is split into several storage backing service instances by a certain strategy so that requests can be distributed across shards to increase performance. One example strategy could be to shard data geographically, that means user data from one location is stored in one shard while user data from another location is stored in a different shard. One storage backing service instance is then less likely to be overloaded with requests, because the number of potential requests is limited by the amount of data in that instance.",categories:["applicationAdministration","dataManagement"],relevantEntities:[v.STORAGE_BACKING_SERVICE,v.DATA_AGGREGATE],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE,v.COMPONENT],sources:[{key:"Indrasiri2021",section:"4 Data Sharding Pattern"},{key:"Goniwada2021",section:"4 Data Partitioning Pattern"}],measures:["dataShardingLevel"],evaluations:[{targetEntities:[v.SYSTEM,v.REQUEST_TRACE,v.COMPONENT],evaluation:"shardedDataStoreReplication",measures:["dataShardingLevel"],reasoning:"Sharding is a specific form of replication and is measured by the amount of shards used by each storage backing service."}]},enforcementOfAppropriateResourceBoundaries:{name:"Enforcement of appropriate resource boundaries",description:"The resources required by a component are predictable as precisely as possible and specified accordingly for each component in terms of lower and upper boundaries. Resources include CPU, memory, GPU, or Network requirements. This information is used by the infrastructure to enforce these resource boundaries. Thereby it is ensured that a component has the resources available that it needs to function properly, that the infrastructure can optimize the amount of allocated resource, and that components are not negatively impacted by defective components which excessively consume resources.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],sources:[{key:"Scholl2019",section:"6 Define CPU and Memory Limits for Your Containers"},{key:"Arundel2019",section:"5 Resource Limits"},{key:"Ibryam2020",section:"2 Defined Resource requirements"},{key:"Arundel2019",section:"5 Resource Quotas (limit maximum resources for a namespace)"},{key:"Goniwada2021",section:"3 Runtime Confinement Principle, 6 Predictable Demands"}],measures:["ratioOfInfrastructureEnforcingResourceBoundaries","ratioOfDeploymentMappingsWithStatedResourceRequirements"],evaluations:[{targetEntities:[v.INFRASTRUCTURE,v.SYSTEM],evaluation:"enforcementOfAppropriateResourceBoundaries",measures:["ratioOfInfrastructureEnforcingResourceBoundaries","ratioOfDeploymentMappingsWithStatedResourceRequirements"],reasoning:"Enforcement of appropriate resource boundaries is evaluated based on infrastructure entities. The more infrastructure entities support it, the more this factor is fullfilled."},{targetEntities:[v.COMPONENT],evaluation:"enforcementOfAppropriateResourceBoundariesForComponents",measures:["ratioOfDeploymentMappingsWithStatedResourceRequirements"],reasoning:"Enforcement of appropriate resource boundaries is evaluated based on deployment mappings of components that state resource boundaries. Only then it is possible to have suitable resource boundaries."}]},builtInAutoscaling:{name:"Built-in autoscaling",description:"Horizontal up- and down-scaling of components is automated and built into the infrastructure on which components run. Horizontal scaling means that component instances are replicated when the load increases and components instances are removed when load decreases. This autoscaling is based on rules which can be configured according to system needs.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],sources:[{key:"Scholl2019",section:"6 Use Platform Autoscaling Features"},{key:"Ibryam2020",section:"24 Elastic Scale"},{key:"Bastani2017",section:"13 Autoscaling"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Scaling"},{key:"Goniwada2021",section:"5 Elasticity in Microservices"}],measures:["deployedEntitiesAutoscaling","infrastructureAutoscaling"],evaluations:[{targetEntities:[v.INFRASTRUCTURE,v.SYSTEM],evaluation:"builtInAutoscaling",measures:["deployedEntitiesAutoscaling","infrastructureAutoscaling"],reasoning:"The evaluation of this factor considers whether the used infrastructure can on the one hand automatically scale the components deployed on it and on the other hand whether it can scale itself."},{targetEntities:[v.COMPONENT],evaluation:"builtInAutoscalingForComponent",measures:["deployedEntitiesAutoscaling"],reasoning:"For single components it is evaluated whether the infrastructure that it is deployed on supports autoscaling."}]},infrastructureAbstraction:{name:"Infrastructure abstraction",description:"The used infrastructure such as physical hardware, virtual hardware, or software platform is abstracted by clear boundaries to enable a clear differentiation of responsibilities for operating and managing infrastructure. For example, when a managed container orchestration system is used, the system is operable on that level of abstraction meaning that the API of the orchestration system is the boundary. Problems with underlying hardware or VMs are handled transparently by the provider.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE],sources:[{key:"Bastani2017",section:"14 Service Brokers (make use of service brokers as an additional level of abstraction to automatically add or remove backing services)"},{key:"Goniwada2021",section:"3 Location-Independent Principle"}],measures:["ratioOfAbstractedHardware"],evaluations:[{targetEntities:[v.INFRASTRUCTURE,v.SYSTEM],evaluation:"infrastructureAbstraction",measures:["ratioOfAbstractedHardware"],reasoning:"The evaluation of this factor considers whether the used infrastructure abstracts from underlying hardware. Thus components can be deployed on a platform without having to consider the underlying hardware."}]},cloudVendorAbstraction:{name:"Cloud vendor abstraction",description:"The managed infrastructure and backing services used by a system and provided by a cloud vendor are based on unified or standardized interfaces so that vendor specifics are abstracted and a system could potentially be transferred to another cloud vendor offering the same unified or standardized interfaces.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.INFRASTRUCTURE,v.COMPONENT],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],sources:[{key:"Indrasiri2021",section:"1 Dynamic Management; Multicloud support"}],measures:["servicePortability","nonProviderSpecificInfrastructureArtifacts","nonProviderSpecificComponentArtifacts"],evaluations:[{targetEntities:[v.SYSTEM],evaluation:"cloudVendorAbstraction",measures:["nonProviderSpecificInfrastructureArtifacts","nonProviderSpecificComponentArtifacts"],reasoning:"The evaluation of this factor considers whether artifacts used for components and infrastructure are specific to certain cloud providers or not."},{targetEntities:[v.INFRASTRUCTURE],evaluation:"cloudVendorAbstractionForInfrastructure",measures:["nonProviderSpecificInfrastructureArtifacts"],reasoning:"The evaluation of this factor considers whether artifacts used for infrastructure are specific to certain cloud providers or not."},{targetEntities:[v.COMPONENT],evaluation:"cloudVendorAbstractionForComponents",measures:["nonProviderSpecificComponentArtifacts"],reasoning:"The evaluation of this factor considers whether artifacts used for components are specific to certain cloud providers or not."}]},configurationManagement:{name:"Configuration management",description:"Configuration values which are specific to an environment are managed separately in a consistent way. Through this, components are more portable across environments and configuration can change independently of components.",categories:["applicationAdministration","dataManagement"],relevantEntities:[v.BACKING_DATA,v.INFRASTRUCTURE,v.COMPONENT],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE],sources:[],measures:[],evaluations:[{targetEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"Configuration management is concered with where and how config data is stored and how it is made accessible to components which need them.",precondition:"at-least-one",impactsInterpretation:"median"}]},isolatedConfiguration:{name:"Isolated configuration",description:"Following DevOps principles, environment-specific configurations are separated from component artifacts (e.g. deployment units) and provided by the environment in which a cloud-native application runs. This enables adaptability across environments (also across testing and production environments)",categories:["applicationAdministration","dataManagement"],relevantEntities:[v.BACKING_DATA,v.INFRASTRUCTURE,v.COMPONENT],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"6.2 The app's configuration layer"},{key:"Ibryam2020",section:"18 EnvVar Configuration"},{key:"Scholl2019",section:"6 Never Store Secrets or Configuration Inside an Image"},{key:"Adkins2020",section:"14 Treat Configuration as Code"},{key:"Indrasiri2021",section:"1 Decoupled Configurations"}],measures:["configurationExternalization"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE],evaluation:"isolatedConfiguration",measures:["configurationExternalization"],reasoning:"Configuration is isolated, when it is externalized from those components that use it. The more configuration data is externalized, the more this factor is fulfilled."}]},configurationStoredInSpecializedServices:{name:"Configuration stored in specialized services",description:"Configuration values are stored in specialized backing services and not only environment variables for example. That way, changing configurations at runtime is facilitated and can be enabled by connecting components to such specialized backing services and checking for updated configurations at runtime. Additionally, configurations can be stored once, but accessed by different components.",categories:["applicationAdministration","dataManagement"],relevantEntities:[v.BACKING_DATA,v.INFRASTRUCTURE,v.COMPONENT,v.BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],sources:[{key:"Ibryam2020",section:"19 Configuration Resource"},{key:"Richardson2019",section:"11.2 “Designing configurable services"},{key:"Arundel2019",section:"10 ConfigMaps"},{key:"Bastani2017",section:"3 Centralized, Journaled Configuration"},{key:"Bastani2017",section:"3 Refreshable Configuration"}],measures:["configurationStoredInConfigService"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],evaluation:"configurationStoredInSpecializedServices",measures:["configurationStoredInConfigService"],reasoning:"The more config data is stored in specialized config services, the more this factor is fulfilled."}]},contractBasedLinks:{name:"Contract-based links",description:"Contracts are defined for the communication via links so that changes to endpoints can be evaluated by their impact on the contract and delayed when a contract would be broken. That way consumers of endpoints can adapt to changes when necessary without suddenly breaking communication via a link due to a changed endpoint.",categories:["networkCommunication","businessDomain"],relevantEntities:[v.LINK,v.ENDPOINT,v.COMPONENT],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Bastani2017",section:"4 Consumer-Driven Contract Testing (Use contracts for APIs to test against)"}],measures:["ratioOfEndpointsCoveredByContract"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"contractBasedLinks",measures:["ratioOfEndpointsCoveredByContract"],reasoning:"The more endpoints are covered by a contract artifact, the more this factor is fulfilled."}]},standardizedSelfContainedDeploymentUnit:{name:"Standardized self-contained deployment unit",description:"The components are deployed as standardized self-contained units so that the same artifact can reliably be installed and run in different environments and on different infrastructure.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:[v.COMPONENT,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Reznik2019",section:"10 Containerized Apps"},{key:"Adkins2020",section:"7 Use Containers (smaller deployments, separated operating system, portable);"},{key:"Indrasiri2021",section:"1 Use Containerization and Container Orchestration"},{key:"Garrison2017",section:"7 Application Runtime and Isolation"},{key:"Goniwada2021",section:"3 Deploy Independently Principle (deploy services in independent containers), Self-Containment Principle, 5 Containerization"}],measures:["standardizedDeployments","selfContainedDeployments"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"standardizedSelfContainedDeploymentUnit",measures:["standardizedDeployments","selfContainedDeployments"],reasoning:"The evaluation is based on whether artifacts of components are standardized and self-contained, both aspects contribute equally to the fulfillment of this factor."}]},immutableArtifacts:{name:"Immutable artifacts",description:"Infrastructure and components of a system are defined and described in its entirety at development time so that artifacts are immutable at runtime. This means upgrades are introduced at runtime through replacement of components instead of modification. Furthermore components do not differ across environments and in case of replication all replicas are identical to avoid unexpected behavior.",categories:["applicationAdministration"],relevantEntities:[v.COMPONENT,v.DEPLOYMENT_MAPPING,v.INFRASTRUCTURE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],sources:[{key:"Scholl2019",section:"6 Don't Modify Deployed Infrastructure"},{key:"Indrasiri2021",section:"1 Containerization"},{key:"Goniwada2021",section:"3 Process Disposability Principle, Image Immutability Principle"}],measures:["numberOfDeploymentTargetEnvironments","replacingDeployments"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],evaluation:"immutableArtifacts",measures:["replacingDeployments"],reasoning:"The evaluation is based on whether the deployment mappings in focus are immutable in the sense that they do not allow in-place updates, but instead replacing updates."}]},guardedIngress:{name:"Guarded ingress",description:"Ingress communication, that means communication coming from outside of a system, needs to be guarded. It should be ensured that access to external endpoints is controlled by components offering these external endpoints. Control means for example that only authorized access is possible, maliciously large load is blocked, or secure communication protocols are ensured.",categories:["networkCommunication","applicationAdministration"],relevantEntities:[v.ENDPOINT,v.EXTERNAL_ENDPOINT,v.COMPONENT,v.PROXY_BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Scholl2019",section:"6 Implement Rate Limiting and Throttling"},{key:"Adkins2020",section:"8 Throttling (Delaying processing or responding to remain functional and decrease traffic from individual clients) (should be automated, part of graceful degradation)"},{key:"Adkins2020",section:"8 Load shedding (In case of traffic spike, deny low priority requests to remain functional) (should be automated, part of graceful degradation)"},{key:"Goniwada2021",section:"5 Throttling "}],measures:["ratioOfComponentsWhoseExternalIngressIsProxied","ratioOfRateLimitingEndpoints"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"guardedIngress",measures:["ratioOfComponentsWhoseExternalIngressIsProxied","ratioOfRateLimitingEndpoints"],reasoning:"The evaluation is based on whether the external ingress traffic on considered components is proxied. Proxies can provide analysis, transformation and filtering of incoming traffic. Furthermore, it is considered whether rate limiting is applied by endpoints"}]},distribution:{name:"Distribution",description:"Components are distributed across locations and data centers for better availability, reliability, and performance.",categories:["dataManagement","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE],sources:[],measures:["componentDensity","numberOfServiceHostedOnOneInfrastructure","numberOfAvailabilityZonesUsedByInfrastructure"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"The evaluation is based on the factors Physical Data Distribution and Physical Service Distribution.",precondition:"at-least-one",impactsInterpretation:"median"},{targetEntities:[v.INFRASTRUCTURE],evaluation:"distribution",measures:["numberOfAvailabilityZonesUsedByInfrastructure"],reasoning:"The evaluation is based on whether the infrastructure is using multiple availability zones. The factor is fulfilled low if more than one availability zone is used, and increasing to moderate if three are used to high if five or more are used."}]},physicalDataDistribution:{name:"Physical data distribution",description:"Storage Backing Service instances where Data aggregates are persisted are distributed across physical locations (e.g. availability zones of a cloud vendor) so that even in the case of a failure of one physical location, another physical location is still useable.",categories:["dataManagement","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING,v.DATA_AGGREGATE,v.STORAGE_BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Scholl2019",section:"6 Keep Data in Multiple Regions or Zones"},{key:"Indrasiri2021",section:"4 Data Sharding Pattern: Geographically distribute data"}],measures:["numberOfAvailabilityZonesUsedByStorageServices"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"physicalDataDistribution",measures:["numberOfAvailabilityZonesUsedByStorageServices"],reasoning:"The evaluation is based on whether the storage service are deployed on infrastructure using multiple availability zones. The factor is fulfilled low if more than one availability zone is used, and increasing to moderate if three are used to high if five or more are used."}]},physicalServiceDistribution:{name:"Physical service distribution",description:"Components are distributed through replication across physical locations (e.g. availability zones of a cloud vendor) so that even in the case of a failure of one physical location, another physical location is still useable.",categories:["cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[],measures:["numberOfAvailabilityZonesUsedByServices"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"physicalServiceDistribution",measures:["numberOfAvailabilityZonesUsedByServices"],reasoning:"The evaluation is based on whether the services are deployed on infrastructure using multiple availability zones. The factor is fulfilled low if more than one availability zone is used, and increasing to moderate if three are used to high if five or more are used."}]},seamlessUpgrades:{name:"Seamless upgrades",description:"Upgrades of services do not interfere with availability. There are different strategies, like rolling upgrades, to achieve this which should be provided as a capability by the infrastructure.",categories:["applicationAdministration","cloudInfrastructure","networkCommunication","businessDomain"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE,v.COMPONENT,v.REQUEST_TRACE],sources:[],measures:[],evaluations:[{targetEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"Seamless upgrades are possible if rolling upgrade of components can be done and are further simplified if components are proxied by gateways.",precondition:"at-least-one",impactsInterpretation:"median"}]},rollingUpgradesEnabled:{name:"Rolling upgrades enabled",description:"The infrastructure on which components are deployed provides the ability for rolling upgrades. That means upgrades of components can be performed seamlessly in an automated manner. Seamlessly means that upgrades of components do not necessitate planned downtime.",categories:["applicationAdministration","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"7.2"},{key:"Scholl2019",section:"6 Use Zero-Downtime Releases"},{key:"Ibryam2020",section:"3 Declarative Deployment"},{key:"Reznik2019",section:"10 Risk-Reducing Deployment Strategies"},{key:"Arundel2019",section:"13 Rolling Updates"},{key:"Indrasiri2021",section:"1 Why container orchestration?; Rolling upgrades"}],measures:["rollingUpdateOption","rollingUpdates"],evaluations:[{targetEntities:[v.SYSTEM],evaluation:"rollingUpgradesEnabled",measures:["rollingUpdateOption","rollingUpdates"],reasoning:"The evaluation is based on whether the infrastructure entities on which components are deployed, support a rolling upgrade option and whether the components also use it via their deployment mappings"},{targetEntities:[v.INFRASTRUCTURE],evaluation:"rollingUpgradesEnabledForInfrastructure",measures:["rollingUpdateOption"],reasoning:"The evaluation is based on whether the infrastructure entities on which components are deployed, support a rolling upgrade option."},{targetEntities:[v.COMPONENT,v.REQUEST_TRACE],evaluation:"rollingUpgradesEnabledForComponents",measures:["rollingUpdates"],reasoning:"The evaluation is based on whether the components use a rolling upgrade strategy via their deployment mappings"}]},automatedInfrastructureMaintenance:{name:"Automated infrastructure maintenance",description:"The used infrastructure should automate regular maintenance tasks as much as possible in a way that the operation of components is not impacted by these tasks. Such tasks include updates of operating systems, standard libraries, and middleware managed by the infrastructure, but also certificate regeneration.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:[v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE],sources:[{key:"Reznik2019",section:"10 Automated Infrastructure"},{key:"Goniwada2021",section:"5 Automation"}],measures:["ratioOfAutomaticallyMaintainedInfrastructure"],evaluations:[{targetEntities:[v.INFRASTRUCTURE,v.SYSTEM],evaluation:"automatedInfrastructureMaintenance",measures:["ratioOfAutomaticallyMaintainedInfrastructure"],reasoning:"The more infrastructure entities are automatically maintained, the more this factor is fulfilled."}]},autonomousFaultHandling:{name:"Autonomous fault handling",description:"Services expect faults at different levels and either handle them or minimize their impact by relying on the capabilities of cloud environments.",categories:["networkCommunication","cloudInfrastructure"],relevantEntities:[v.COMPONENT,v.LINK,v.ENDPOINT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[],measures:[],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"aggregateImpacts",measures:[],reasoning:"Autonomous fault handling is evaluated based on the factors impacting it, mainly those considering the fault tolerance of communication links",precondition:"at-least-one",impactsInterpretation:"median"}]},invocationTimeouts:{name:"Invocation timeouts",description:"For links between components, timeouts are defined to avoid infinite waiting on a service that is unavailable and a timely handling of problems.",categories:["networkCommunication"],relevantEntities:[v.COMPONENT,v.LINK,v.ENDPOINT],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Indrasiri2021",section:"3 Resilient Connectivity Pattern: Time-out"},{key:"Richardson2019",section:"3.2.3 Handling partial failures using the Circuit Breaker pattern"},{key:"Goniwada2021",section:"5 Timeout"}],measures:["ratioOfLinksWithTimeout"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"invocationTimeouts",measures:["ratioOfLinksWithTimeout"],reasoning:"The evaluation is simply based on whether links within the system use timeouts, not specific timeout durations. The more links use a timeout, the more this factor is fulfilled."}]},retriesForSafeInvocations:{name:"Retries for safe invocations",description:"Links that are safe to invoke multiple times without leading to unintended state changes, are automatically retried in case of errors to transparently handle transient faults in communication. That way faults can be prevented from being propagated higher up in a request trace.",categories:["networkCommunication"],relevantEntities:[v.COMPONENT,v.LINK,v.ENDPOINT],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"9.1"},{key:"Scholl2019",section:"6 Handle Transient Failures with Retries"},{key:"Scholl2019",section:"6 Use a Finite Number of Retries"},{key:"Bastani2017",section:"12 Isolating Failures and Graceful Degradation: Use retries"},{key:"Indrasiri2021",section:"3 Resilient Connectivity Pattern: Retry"},{key:"Ruecker2021",section:"9 Synchronous Request/Response (Use retries in synchronous communications)"},{key:"Ruecker2021",section:"9 The Importance of Idempotency (Communication which is retried needs idempotency)"},{key:"Goniwada2021",section:"Idempotent Service Operation, Retry, 5 Retry "}],measures:["ratioOfLinksWithRetryLogic"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"retriesForSafeInvocations",measures:["ratioOfLinksWithRetryLogic"],reasoning:"The evaluation is simply based on whether links within the system use retry logic if applicable. The more links use retries, the more this factor is fulfilled."}]},circuitBreakedCommunication:{name:"Circuit breaked communication",description:"For links a circuit breaker implementation is used which avoids unnecessary communication and therefore waiting time if a communication is known to fail. Instead, the circuit breaker immediately returns an error response of a default response, is possible, while periodically retrying communication in the background.",categories:["networkCommunication"],relevantEntities:[v.COMPONENT,v.LINK,v.ENDPOINT],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Davis2019",section:"10.1"},{key:"Scholl2019",section:"6 Use Circuit Breakers for Nontransient Failures"},{key:"Richardson2019",section:"3.2.3 Handling partial failures using the Circuit Breaker pattern"},{key:"Bastani2017",section:"12 Isolating Failures and Graceful Degradation: circuit breaker"},{key:"Indrasiri2021",section:"3 Resilient Connectivity Pattern: Circuit breaker"},{key:"Goniwada2021",section:"4 Circuit Breaker"}],measures:["ratioOfLinksWithComplexFailover"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],evaluation:"circuitBreakedCommunication",measures:["ratioOfLinksWithComplexFailover"],reasoning:"The evaluation is simply based on whether links within the system use circuit breakers. The more links use circuit breakers, the more this factor is fulfilled."}]},automatedRestarts:{name:"Automated restarts",description:"When a component is found to be unhealthy, that means not functioning as expected, it is directly and automatically restarted. Ideally this capability is provided by the infrastructure on which a component is running.",categories:["cloudInfrastructure","applicationAdministration"],relevantEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.DEPLOYMENT_MAPPING],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],sources:[{key:"Bastani2017",section:"13 automatic remediation"},{key:"Indrasiri2021",section:"1 Why container orchestration?; High availability"},{key:"Goniwada2021",section:"5 Self-Healing"}],measures:["deploymentsWithRestart"],evaluations:[{targetEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE],evaluation:"automatedRestarts",measures:["deploymentsWithRestart"],reasoning:"The evaluation is based on whether the deployment mappings of components include automated restarts in case of failing health checks."}]},apiBasedCommunication:{name:"API-based communication",description:"All endpoints that are offered by a service are part of a well-defined and documented API. That means, the APIs are based on common principles, are declarative instead of imperative, and are documented in a standardized or specified format (such as the OpenAPI specification). Communication only happens via endpoints that are part of such APIs and can be both synchronous or asynchronous.",categories:["networkCommunication","businessDomain"],relevantEntities:[v.COMPONENT,v.ENDPOINT,v.LINK],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Reznik2019",section:"9 Communicate Through APIs"},{key:"Adkins2020",section:"6 Understandable Interface Specifications (Use Interface specifications for understandability"},{key:"Bastani2017",section:"6 Everything is an API (Services are integrated via APIs)"},{key:"Indrasiri2021",section:"2 Service Definitions in Synchronous Communication (Use a service definition for each service);"},{key:"Indrasiri2021",section:"2 Service Definition in Asynchronous Communication (Use schemas to define message formats);"},{key:"Goniwada2021",section:"3 API First Principle"}],measures:["ratioOfDocumentedEndpoints"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"apiBasedCommunication",measures:["ratioOfDocumentedEndpoints"],reasoning:"Communication is based on documented APIs if documentation artifacts exist that specify an API and cover the endpoints of components."}]},consistentlyMediatedCommunication:{name:"Consistently mediated communication",description:"By mediating communication through additional components, there is no direct dependence on the other communication partner and additional operations can be performed to manage the communication, such as load balancing, monitoring, or the enforcement of policies. By using centralized mediation approaches, such as Service Meshes, management actions can be performed universally and consistently across the components of an application.",categories:["networkCommunication"],relevantEntities:[v.COMPONENT,v.ENDPOINT,v.LINK,v.BACKING_SERVICE,v.PROXY_BACKING_SERVICE],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE],sources:[{key:"Indrasiri2021",section:"3 Sidecar Pattern, Service Mesh Pattern, Service Abstraction Pattern (Proxy communication with services to include service discovery and load balancing)"},{key:"Davis2019",section:"10.3"},{key:"Richardson2019",section:"11.4.2"}],measures:["serviceMeshUsage","ratioOfComponentsWhoseEgressIsProxied"],evaluations:[{targetEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE],evaluation:"consistentlyMediatedCommunication",measures:["serviceMeshUsage"],reasoning:"Communication is mediated, if ingress and egress of components is proxied for example by a service mesh"}]}};Object.freeze(DR);const sse=[{impactedFactor:"secretsManagement",sourceFactor:"secretsStoredInSpecializedServices",impactType:"positive"},{impactedFactor:"confidentiality",sourceFactor:"dataEncryptionInTransit",impactType:"positive"},{impactedFactor:"confidentiality",sourceFactor:"secretsManagement",impactType:"positive"},{impactedFactor:"secretsManagement",sourceFactor:"isolatedSecrets",impactType:"positive"},{impactedFactor:"integrity",sourceFactor:"accessRestriction",impactType:"positive"},{impactedFactor:"accessRestriction",sourceFactor:"leastPrivilegedAccess",impactType:"positive"},{impactedFactor:"accessRestriction",sourceFactor:"accessControlManagementConsistency",impactType:"positive"},{impactedFactor:"accountability",sourceFactor:"accountSeparation",impactType:"positive"},{impactedFactor:"authenticity",sourceFactor:"authenticationDelegation",impactType:"positive"},{impactedFactor:"modularity",sourceFactor:"serviceOrientation",impactType:"positive"},{impactedFactor:"serviceOrientation",sourceFactor:"limitedFunctionalScope",impactType:"positive"},{impactedFactor:"limitedFunctionalScope",sourceFactor:"limitedDataScope",impactType:"positive"},{impactedFactor:"limitedFunctionalScope",sourceFactor:"limitedEndpointScope",impactType:"positive"},{impactedFactor:"limitedFunctionalScope",sourceFactor:"commandQueryResponsibilitySegregation",impactType:"positive"},{impactedFactor:"simplicity",sourceFactor:"commandQueryResponsibilitySegregation",impactType:"negative"},{impactedFactor:"serviceOrientation",sourceFactor:"separationByGateways",impactType:"positive"},{impactedFactor:"seamlessUpgrades",sourceFactor:"separationByGateways",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"seamlessUpgrades",impactType:"positive"},{impactedFactor:"modularity",sourceFactor:"isolatedState",impactType:"positive"},{impactedFactor:"replaceability",sourceFactor:"isolatedState",impactType:"positive"},{impactedFactor:"elasticity",sourceFactor:"isolatedState",impactType:"positive"},{impactedFactor:"isolatedState",sourceFactor:"mostlyStatelessServices",impactType:"positive"},{impactedFactor:"testability",sourceFactor:"mostlyStatelessServices",impactType:"positive"},{impactedFactor:"isolatedState",sourceFactor:"specializedStatefulServices",impactType:"positive"},{impactedFactor:"modularity",sourceFactor:"looseCoupling",impactType:"positive"},{impactedFactor:"looseCoupling",sourceFactor:"asynchronousCommunication",impactType:"positive"},{impactedFactor:"looseCoupling",sourceFactor:"communicationPartnerAbstraction",impactType:"positive"},{impactedFactor:"analyzability",sourceFactor:"communicationPartnerAbstraction",impactType:"negative"},{impactedFactor:"faultTolerance",sourceFactor:"persistentCommunication",impactType:"positive"},{impactedFactor:"simplicity",sourceFactor:"usageOfExistingSolutionsForNonCoreCapabilities",impactType:"positive"},{impactedFactor:"reusability",sourceFactor:"standardization",impactType:"positive"},{impactedFactor:"reusability",sourceFactor:"componentSimilarity",impactType:"positive"},{impactedFactor:"analyzability",sourceFactor:"automatedMonitoring",impactType:"positive"},{impactedFactor:"automatedMonitoring",sourceFactor:"consistentCentralizedLogging",impactType:"positive"},{impactedFactor:"accountability",sourceFactor:"consistentCentralizedLogging",impactType:"positive"},{impactedFactor:"automatedMonitoring",sourceFactor:"consistentCentralizedMetrics",impactType:"positive"},{impactedFactor:"automatedMonitoring",sourceFactor:"distributedTracingOfInvocations",impactType:"positive"},{impactedFactor:"automatedMonitoring",sourceFactor:"healthAndReadinessChecks",impactType:"positive"},{impactedFactor:"automatedRestarts",sourceFactor:"healthAndReadinessChecks",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"healthAndReadinessChecks",impactType:"positive"},{impactedFactor:"modifiability",sourceFactor:"automatedInfrastructureProvisioning",impactType:"positive"},{impactedFactor:"installability",sourceFactor:"automatedInfrastructureProvisioning",impactType:"positive"},{impactedFactor:"modifiability",sourceFactor:"useInfrastructureAsCode",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"useInfrastructureAsCode",impactType:"positive"},{impactedFactor:"reusability",sourceFactor:"useInfrastructureAsCode",impactType:"positive"},{impactedFactor:"recoverability",sourceFactor:"useInfrastructureAsCode",impactType:"positive"},{impactedFactor:"modifiability",sourceFactor:"serviceIndependence",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"lowCoupling",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"functionalDecentralization",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"limitedRequestTraceScope",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"logicalGrouping",impactType:"positive"},{impactedFactor:"serviceIndependence",sourceFactor:"backingServiceDecentralization",impactType:"positive"},{impactedFactor:"modifiability",sourceFactor:"addressingAbstraction",impactType:"positive"},{impactedFactor:"replaceability",sourceFactor:"addressingAbstraction",impactType:"positive"},{impactedFactor:"simplicity",sourceFactor:"sparsity",impactType:"positive"},{impactedFactor:"simplicity",sourceFactor:"operationOutsourcing",impactType:"positive"},{impactedFactor:"operationOutsourcing",sourceFactor:"managedInfrastructure",impactType:"positive"},{impactedFactor:"operationOutsourcing",sourceFactor:"managedBackingServices",impactType:"positive"},{impactedFactor:"resourceUtilization",sourceFactor:"dynamicScheduling",impactType:"positive"},{impactedFactor:"timeBehaviour",sourceFactor:"replication",impactType:"positive"},{impactedFactor:"replication",sourceFactor:"serviceReplication",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"serviceReplication",impactType:"positive"},{impactedFactor:"replication",sourceFactor:"horizontalDataReplication",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"horizontalDataReplication",impactType:"positive"},{impactedFactor:"replication",sourceFactor:"verticalDataReplication",impactType:"positive"},{impactedFactor:"analyzability",sourceFactor:"verticalDataReplication",impactType:"negative"},{impactedFactor:"availability",sourceFactor:"verticalDataReplication",impactType:"positive"},{impactedFactor:"replication",sourceFactor:"shardedDataStoreReplication",impactType:"positive"},{impactedFactor:"resourceUtilization",sourceFactor:"enforcementOfAppropriateResourceBoundaries",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"enforcementOfAppropriateResourceBoundaries",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"builtInAutoscaling",impactType:"positive"},{impactedFactor:"elasticity",sourceFactor:"builtInAutoscaling",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"infrastructureAbstraction",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"cloudVendorAbstraction",impactType:"positive"},{impactedFactor:"reusability",sourceFactor:"cloudVendorAbstraction",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"configurationManagement",impactType:"positive"},{impactedFactor:"configurationManagement",sourceFactor:"isolatedConfiguration",impactType:"positive"},{impactedFactor:"configurationManagement",sourceFactor:"configurationStoredInSpecializedServices",impactType:"positive"},{impactedFactor:"interoperability",sourceFactor:"contractBasedLinks",impactType:"positive"},{impactedFactor:"adaptability",sourceFactor:"contractBasedLinks",impactType:"positive"},{impactedFactor:"installability",sourceFactor:"standardizedSelfContainedDeploymentUnit",impactType:"positive"},{impactedFactor:"replaceability",sourceFactor:"immutableArtifacts",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"guardedIngress",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"distribution",impactType:"positive"},{impactedFactor:"distribution",sourceFactor:"physicalDataDistribution",impactType:"positive"},{impactedFactor:"distribution",sourceFactor:"physicalServiceDistribution",impactType:"positive"},{impactedFactor:"seamlessUpgrades",sourceFactor:"rollingUpgradesEnabled",impactType:"positive"},{impactedFactor:"availability",sourceFactor:"automatedInfrastructureMaintenance",impactType:"positive"},{impactedFactor:"recoverability",sourceFactor:"automatedInfrastructureMaintenance",impactType:"positive"},{impactedFactor:"faultTolerance",sourceFactor:"autonomousFaultHandling",impactType:"positive"},{impactedFactor:"autonomousFaultHandling",sourceFactor:"invocationTimeouts",impactType:"positive"},{impactedFactor:"autonomousFaultHandling",sourceFactor:"retriesForSafeInvocations",impactType:"positive"},{impactedFactor:"autonomousFaultHandling",sourceFactor:"circuitBreakedCommunication",impactType:"positive"},{impactedFactor:"recoverability",sourceFactor:"automatedRestarts",impactType:"positive"},{impactedFactor:"interoperability",sourceFactor:"apiBasedCommunication",impactType:"positive"},{impactedFactor:"testability",sourceFactor:"apiBasedCommunication",impactType:"positive"},{impactedFactor:"interoperability",sourceFactor:"consistentlyMediatedCommunication",impactType:"positive"},{impactedFactor:"timeBehaviour",sourceFactor:"consistentlyMediatedCommunication",impactType:"negative"},{impactedFactor:"analyzability",sourceFactor:"consistentlyMediatedCommunication",impactType:"positive"}],BR={ratioOfEndpointsSupportingSsl:{name:"Ratio of endpoints that support SSL",calculation:"Endpoints that support SSL / All endpoints",calculationFormula:"\\frac{| \\Set{ e | e \\in E \\land e.protocol \\in SUPPORTS\\_TLS } |}{|E|}",helperFunctions:['SUPPORTS\\_TLS = \\{ \\text{"https"}, \\text{"sftp"} \\}'],sources:["Ntentos2022"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfExternalEndpointsSupportingTls:{name:"Ratio of external endpoints that support TLS",calculation:"External Endpoints that support TLS / All External Endpoints",calculationFormula:"\\frac{| \\Set{ ee | ee \\in EE \\land ee.protocol \\in SUPPORTS\\_TLS } |}{|EE|}",helperFunctions:['SUPPORTS\\_TLS = \\{\\text{"https"}, \\text{"sftp"} \\}'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfSecuredLinks:{name:"Ratio of secured links",calculation:"Links secured by SSL / All links",calculationFormula:"\\frac{| \\Set{ l | l \\in L \\land l.targetEndpoint.protocol \\in SUPPORTS\\_TLS } |}{|L|}",helperFunctions:['SUPPORTS\\_TLS = \\{\\text{"https"}, \\text{"sftp"} \\}'],sources:["Zdun2023","Zdun2023a"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},ratioOfEndpointsThatSupportTokenBasedAuthentication:{name:"Ratio of endpoints that support token-based authentication ",calculation:"Endpoints supporting tokens / All endpoints",calculationFormula:'\\frac{| \\Set{ e | e \\in E \\land \\text{"Token"} \\in e.supported\\_authentication\\_methods } |}{|E|}',helperFunctions:[],sources:["Ntentos2022","Zdun2023","Zdun2023a"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfEndpointsThatSupportApiKeys:{name:"Ratio of endpoints that support API Keys",calculation:"Endpoints supporting API keys / All endpoints",calculationFormula:'\\frac{| \\Set{ e | e \\in E \\land \\text{"API-Key"} \\in e.supported\\_authentication\\_methods } |}{|E|}',helperFunctions:[],sources:["Ntentos2022"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfEndpointsThatSupportPlaintextAuthentication:{name:"Ratio of endpoints that support plaintext authentication",calculation:"Endpoints supporting basic authentication / All endpoints",calculationFormula:'\\frac{| \\Set{ e | e \\in E \\land \\text{"basic\\_authentication"} \\in e.supported\\_authentication\\_methods } |}{|E|}',helperFunctions:[],sources:["Ntentos2022","Zdun2023","Zdun2023a"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfEndpointsThatAreIncludedInASingleSignOnApproach:{name:"Ratio of endpoints that are included in an single-sign-on approach",calculation:"Endpoints supporting a Single Sign-On approach / All endpoints",calculationFormula:'\\frac{| \\Set{ e | e \\in E \\land \\text{"Single Sign-On"} \\in e.supported\\_authentication\\_methods } |}{|E|}',helperFunctions:[],sources:["Ntentos2022"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},totalServiceInterfaceCohesion:{name:"Total service interface cohesion",calculation:'("Service Interface Data Cohesion" + "Service Interface Usage Cohesion") / 2',calculationFormula:"\\frac{Service Interface Data Cohesion + Service Interface Usage Cohesion}{2}",helperFunctions:[],sources:["Bogner2017","Perepletchikov2007"],applicableEntities:[v.COMPONENT]},cohesivenessOfService:{name:"Cohesiveness of service",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Oliveira2018","La2013"],applicableEntities:[v.COMPONENT]},cohesionOfAServiceBasedOnOtherEndpointsCalled:{name:"Cohesion of a service based on other endpoints called",calculation:"Endpoints that are called from this services which are from the same other service / All Endpoints called by this service",calculationFormula:"",helperFunctions:[],sources:["Peng2022"],applicableEntities:[v.COMPONENT]},dataAggregateScope:{name:"Data aggregate scope",calculation:"Total number of data aggregates in a component/system",calculationFormula:"| SYS.DA | or | C.RDA_C |",helperFunctions:[],sources:["Shim2008","Zimmermann2015"],applicableEntities:[v.COMPONENT,v.SYSTEM]},serviceInterfaceDataCohesion:{name:"Service interface data cohesion",calculation:"| Set of Service Endpoints that use the same Data Aggregate | / Number of Data Aggregates used in a Service",calculationFormula:"\\frac{| \\Set{ e | e \\in c.providedEndpoints \\land \\exists e' \\in c.providedEndpoints (\\land ((e.RDA_E \\cap e'.RDA_E) \\neq \\emptyset))} |}{|c.RDA_C|}",helperFunctions:[],sources:["Bogner2017","Perepletchikov2007","Kazemi2011","Brito2021","Jin2021","Jin2018","Athanasopoulos2011","Athanasopoulos2015","Bogner2020"],applicableEntities:[v.COMPONENT]},cohesionBetweenEndpointsBasedOnDataAggregateUsage:{name:"Cohesion between endpoints based on data aggregate usage",calculation:"Average-of(Number of Shared Usage of Data Aggregates per endpoint pair) over all endpoints / All Data Aggregates used by endpoints",calculationFormula:"\\frac{\\frac{\\displaystyle\\sum_{i=1}^{|c.providedEndpoints|} |\\Set{(e_i,e_n) | n>i \\land ((e_i.RDA_E \\cap e_n.RDA_E) \\neq \\emptyset) }|}{|c.providedEndpoints|}}{ | \\Set{da | \\exists e \\in c.providedEndpoints ( \\exists (e,da) \\in e.RDA_E) } |}",helperFunctions:[],sources:["Peng2022"],applicableEntities:[v.COMPONENT,v.SYSTEM]},numberOfProvidedSynchronousAndAsynchronousEndpoints:{name:"Number of provided synchronous and asynchronous endpoints",calculation:"Number of endpoints of a service provides",calculationFormula:"|\\Set{ e | e \\in c.providedEndpoints } |",helperFunctions:[],sources:["Apel2019","Engel2018","Shim2008","Brito2021","Jin2021","Daniel2023"],applicableEntities:[v.COMPONENT]},numberOfSynchronousEndpointsOfferedByAService:{name:"Number of synchronous endpoints offered by a service",calculation:"Number of endpoints of a service of kind query or command",calculationFormula:'|\\Set{ e | e \\in c.providedEndpoints \\land (e.kind = \\text{"query"} \\lor e.kind = \\text{"command"})  } |',helperFunctions:[],sources:["Shim2008"],applicableEntities:[v.COMPONENT]},serviceInterfaceUsageCohesion:{name:"Service interface usage cohesion",calculation:"Sum-of(Number of endpoints used per client of this service) / (number of clients of this service * number of endpoints of this service)",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|C|} |\\Set{e | e \\in c.providedEndpoints \\land linked(c_i,e)}|}{ |\\Set{ c' | c' \\in C \\land connected(c',c) }| \\times |c.providedEndpoints| }",helperFunctions:["linked: c,e \\to (\\exists l \\in L (l.sourceComponent = c \\land l.targetEndpoint = e))","connected: c_a,c_b \\to \\exists l \\in L (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_b.providedEndpoints)"],sources:["Bogner2017","Perepletchikov2007","Kazemi2011"],applicableEntities:[v.COMPONENT,v.SYSTEM]},distributionOfSynchronousCalls:{name:"Distribution of synchronous calls",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Engel2018"],applicableEntities:[v.COMPONENT]},cohesionOfEndpointsBasedOnInvocationByOtherServices:{name:"Cohesion of endpoints based on invocation by other services",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Peng2022"],applicableEntities:[v.COMPONENT]},externallyAvailableEndpoints:{name:"Externally available endpoints",calculation:"Absolute number of external endpoints",calculationFormula:"|\\Set{ ee | ee \\in EE }|",helperFunctions:[],sources:["Zimmermann2015"],applicableEntities:[v.SYSTEM]},centralizationOfExternallyAvailableEndpoints:{name:"Centralization of externally available endpoints",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Ntentos2020","Ntentos2021"],applicableEntities:[v.SYSTEM]},apiCompositionUtilizationMetric:{name:"API Composition utilization metric",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Ntentos2020","Ntentos2021"],applicableEntities:[v.SYSTEM]},ratioOfStateDependencyOfEndpoints:{name:"Ratio of state dependency of endpoints",calculation:"Number of Endpoints requiring a Data Aggregate / Total number of Endpoints",calculationFormula:"\\frac{ |\\Set{e | e \\in E \\land e.RDA_E \\neq \\emptyset }| }{ |E|  }",helperFunctions:[],sources:["Karhikeyan2012"],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE]},ratioOfStatefulComponents:{name:"Ratio of stateful components",calculation:"Number of stateful components / Total number of components",calculationFormula:"\\frac{ |\\Set{ c | c \\in C \\land c.stateless = false }| }{ |C|  }",helperFunctions:[],sources:["Qian2006"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},ratioOfStatelessComponents:{name:"Ratio of stateless components",calculation:"Number of stateless components / Total number of components",calculationFormula:"\\frac{ |\\Set{ c | c \\in C \\land c.stateless = true }| }{ |C|  }",helperFunctions:[],sources:["Hirzalla2009"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},degreeToWhichComponentsAreLinkedToStatefulComponents:{name:"Degree to which components are linked to stateful components",calculation:"(sum-of(Ratio of stateful Components based on all Components a Component is linked to) for all Components) / Total Number of Components)",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|C|} \\frac{ |\\Set{ c' | c' \\in C \\land isLinkedTo(c_i,c') \\land c'.stateless = false  }| }{ |\\Set{ c' | c' \\in C \\land isLinkedTo(c_i,c')}| } }{ |C| }",helperFunctions:["isLinkedTo: c_a,c_b \\to (\\exists l \\in L (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_b.providedEndpoints)"],sources:["Qian2006"],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE]},numberOfAsynchronousEndpointsOfferedByAService:{name:"Number of asynchronous endpoints offered by a service",calculation:"Number of endpoints of a service of kind event or subscribe",calculationFormula:"|\\Set{ e | e \\in c.providedEndpoints \\land isAsync(e)  }|",helperFunctions:['isAsync: e \\to (e.kind = \\text{"send event"} \\lor e.kind = \\text{"subscribe"})'],sources:["Shim2008","Daniel2023"],applicableEntities:[v.COMPONENT]},numberOfSynchronousOutgoingLinks:{name:"Number of synchronous outgoing links",calculation:"Number of outgoing links of a service targeting a synchronous endpoint.",calculationFormula:"|\\Set{ l | l \\in L \\land l.sourceComponent = c \\land isSync(l)  }|",helperFunctions:['isSync: l \\to (l.targetEndpoint.kind = \\text{"query"} \\lor l.targetEndpoint.kind = \\text{"command"})'],sources:["Apel2019","Daniel2023"],applicableEntities:[v.COMPONENT]},numberOfAsynchronousOutgoingLinks:{name:"Number of asynchronous outgoing links",calculation:"Number of outgoing links of a service targeting an asynchronous endpoint.",calculationFormula:"|\\Set{ l | l \\in L \\land l.sourceComponent = c \\land isAsync(l)  }|",helperFunctions:['isAsync: l \\to (l.targetEndpoint.kind = \\text{"send event"} \\lor l.targetEndpoint.kind = \\text{"subscribe"})'],sources:["Apel2019","Daniel2023"],applicableEntities:[v.COMPONENT]},ratioOfAsynchronousOutgoingLinks:{name:"Ratio of asynchronous outgoing links",calculation:"Number of outgoing links of a service that are asynchronous / Number of all outgoing links",calculationFormula:"\\frac{|\\Set{ l | l \\in L \\land l.sourceComponent = c \\land isAsync(l)  }|}{|\\Set{ l | l \\in L \\land l.sourceComponent = c }|}",helperFunctions:['isAsync: l \\to (l.targetEndpoint.kind = \\text{"send event"} \\lor l.targetEndpoint.kind = \\text{"subscribe"})'],sources:["Karhikeyan2012"],applicableEntities:[v.COMPONENT]},degreeOfAsynchronousCommunication:{name:"Degree of asynchronous communication",calculation:"Average-of(Ratio of asynchronous endpoints) over all components",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|C|} \\frac{|\\Set{ e | e \\in c_i.providedEndpoints \\land isAsync(e)  }|}{|\\Set{ e | e \\in c_i.providedEndpoints}|}  }{|C|}",helperFunctions:['isAsync: e \\to (e.kind = \\text{"send event"} \\lor e.kind = \\text{"subscribe"})'],sources:["Qian2006"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},asynchronousCommunicationUtilization:{name:"Asynchronous communication utilization",calculation:"Number of Links targeting an asynchronous Endpoint / Total number of Links",calculationFormula:"\\frac{|\\Set{ l | l \\in L \\land isAsync(l) }| }{|L|}",helperFunctions:['isAsync: l \\to (l.targetEndpoint.kind = \\text{"send event"} \\lor l.targetEndpoint.kind = \\text{"subscribe"})'],sources:["Ntentos2020a"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},eventSourcingUtilizationMetric:{name:"Event sourcing utilization metric",calculation:"Number of service interconnections via an Event Store / Total number of service interconnections",calculationFormula:"\\frac{|eventBasedInteractions|}{|eventBasedInteractions| + |\\Set{ l | l \\in L \\land isSync(l)  } | }",helperFunctions:["eventBasedInteractions = \\Set{ (l_1,l_2) | t(l_1) = e_1 \\land t(l_2) = e_2 \\land ofLog(e_1) \\land ofLog(e_2) \\land isEventBased(e_1,e_2) }","t: l \\to l.targetEndpoint",'ofLog: e \\to e \\in bbs.providedEndpoints \\land bbs \\in BBS \\land bbs.kind = \\text{"log"}','isEventBased: e_a,e_b \\to e_a.kind = \\text{"send event"} \\land e_b.kind = \\text{"subscribe"} \\land e_a.url = e_b.url','isSync: l \\to (l.targetEndpoint.kind = \\text{"query"} \\lor l.targetEndpoint.kind = \\text{"command"})'],sources:["Ntentos2020","Ntentos2021"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},ratioOfInfrastructureNodesThatSupportMonitoring:{name:"Ratio of infrastructure nodes that support monitoring",calculation:"Number of Infrastructure nodes providing metrics and logs / Total number of Infrastructure nodes",calculationFormula:'\\frac{ |\\Set{ i | i \\in I \\land \\exists bd \\in BD (\\exists (i,bd) \\in i.BDA \\land bd.kind = \\text{"metrics"} \\land bd.kind = \\text{"logs"} )} | }{|I|}',helperFunctions:[],sources:["Ntentos2022","Zdun2023"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},ratioOfComponentsThatSupportMonitoring:{name:"Ratio of components that support monitoring",calculation:"Number of Components providing metrics and logs / Total number of Components",calculationFormula:'\\frac{ |\\Set{ c | c \\in C \\land \\exists bd \\in BD (\\exists (c,bd) \\in c.BDA \\land bd.kind = \\text{"metrics"} \\land bd.kind = \\text{"logs"} )} | }{|C|}',helperFunctions:[],sources:["Ntentos2022","Zdun2023"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService:{name:"Ratio of components or infrastructure nodes that export logs to a central service",calculation:"Number of Components or Infrastrcture Entities exporting logs to a central service / Total number of Components and Infrastructure entities",calculationFormula:"\\frac{ |componentsExportingLogs| + |infrastructureExportingLogs|}{ |C| + |I|}",helperFunctions:['linkedToLogger: c \\to (\\exists l \\in L (l.sourceComponent = c \\land l.targetEndpoint \\in ls \\land ls \\in BS \\land ls.kind = \\text{"logging"}) \\lor \\exists  l\\in L ( l.sourceComponent = ls \\land ls \\in BS \\land ls.kind = \\text{"logging"} \\land l.targetEndpoint \\in c.providedEndpoints))','sharesLogs: c \\to (\\exists bd \\in BD (bd.kind = \\text{"logs"} \\land \\exists (c,bd) \\in c.RBD_C \\land \\exists (ls,bd) \\in ls.RBD_C (ls \\in BS \\land ls.kind = \\text{"logging"})))',"componentsExportingLogs = \\Set{ c | c \\in C \\land linkedToLogger(c) \\land sharesLogs(c) }","infrastructureExportingLogs = \\Set{ i | i \\in I \\land sharesLogs(i)  }"],sources:["Ntentos2022"],applicableEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM]},ratioOfComponentsOrInfrastructureNodesThatExportMetrics:{name:"Ratio of components or infrastructure nodes that export metrics",calculation:"Number of Components or Infrastructure Entities exporting metrics to a central service / Total number of Components and Infrastructure entities",calculationFormula:"\\frac{ |componentsExportingMetrics| + |infrastructureExportingMetrics|}{ |C| + |I|}",helperFunctions:['linkedToMetrics: c \\to (\\exists l \\in L (l.sourceComponent = c \\land l.targetEndpoint \\in ms \\land ms \\in BS \\land ms.kind = \\text{"metrics"}) \\lor \\exists  l\\in L ( l.sourceComponent = ms \\land ms \\in BS \\land ms.kind = \\text{"metrics"} \\land l.targetEndpoint \\in c.providedEndpoints))','sharesMetrics: c \\to (\\exists bd \\in BD (bd.kind = \\text{"metrics"} \\land \\exists (c,bd) \\in c.RBD_C \\land \\exists (ms,bd) \\in ms.RBD_C (ms \\in BS \\land ms.kind = \\text{"metrics"})))',"componentsExportingMetrics = \\Set{ c | c \\in C \\land linkedToMetrics(c) \\land sharesMetrics(c) }","infrastructureExportingMetrics = \\Set{ i | i \\in I \\land sharesMetrics(i)  }"],sources:["Ntentos2022"],applicableEntities:[v.COMPONENT,v.INFRASTRUCTURE,v.SYSTEM]},ratioOfComponentsOrInfrastructureNodesThatEnablePerformanceAnalytics:{name:"Ratio of components or infrastructure nodes that enable performance analytics",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Ntentos2022"],applicableEntities:[v.SYSTEM]},distributedTracingSupport:{name:"Distributed tracing support",calculation:"Number of components linked to a tracing service / Total number of components which are not tracing services themselves",calculationFormula:"\\frac{ |\\Set{ c | c \\in C \\land \\lnot(isTracing(c)) \\land linkedToTracing(c) }| }{ |\\Set{ c | c \\in C \\land \\lnot(isTracing(c)) }|  }",helperFunctions:['isTracing: c \\to (c \\in BS \\land c.kind = \\text{"tracing"})','linkedToTracing: c \\to (\\exists l \\in L (l.sourceComponent = c \\land l.targetEndpoint \\in ts.providedEndpoints \\land ts \\in BS \\land ts.kind \\text{"tracing"}))'],sources:["Ntentos2020","Ntentos2021"],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE]},ratioOfServicesThatProvideHealthEndpoints:{name:"Ratio of services that provide health endpoints",calculation:"Number of Service with at least one health endpoint / Number of all Services",calculationFormula:"\\frac{ | \\Set{ s | s \\in S \\land \\exists e \\in s.providedEndpoints (e.health\\_check = true ) } | } {|S|} ",helperFunctions:[],sources:["Ntentos2022"],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE]},ratioOfServicesThatProvideReadinessEndpoints:{name:"Ratio of services that provide readiness endpoints",calculation:"Number of Service with at least one readiness endpoint / Number of all Services",calculationFormula:"\\frac{ | \\Set{ s | s \\in S \\land \\exists e \\in s.providedEndpoints (e.readiness\\_check = true ) } | } {|S|} ",helperFunctions:[],sources:["new"],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE]},linesOfCodeForDeploymentConfiguration:{name:"Lines of code (LOC) for deployment configuration",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Lehmann2017","Talwar2005"],applicableEntities:[v.COMPONENT]},numberOfLinksPerComponent:{name:"Number of links per component ",calculation:"Number of outoging and incoming links of a component",calculationFormula:"|\\Set{ l | l \\in L \\land (l.sourceComponent = c \\lor l.targetEndpoint \\in c.providedEndpoints ) } | ",helperFunctions:[],sources:["Zimmermann2015","Tiwari2014","Rosa2020"],applicableEntities:[v.COMPONENT]},numberOfConsumedEndpoints:{name:"Number of consumed endpoints",calculation:"Number of endpoints a service is linked to",calculationFormula:"| \\Set{ e | e \\in E \\land \\exists l \\in L (l.sourceComponent = s \\land l.targetEndpoint = e)  } | ",helperFunctions:[],sources:["Apel2019","Gamage2021","Perera2018"],applicableEntities:[v.COMPONENT]},incomingOutgoingRatioOfAComponent:{name:"Incoming outgoing ratio of a component",calculation:"Number of outgoing links from a component / Number of incoming links of a component",calculationFormula:"\\frac{|\\Set{ l | l \\in L \\land l.sourceComponent = c } | }{ | \\Set{ l | l \\in L \\land l.targetEndpoint \\in c.providedEndpoints  } | }",helperFunctions:[],sources:["Tiwari2014"],applicableEntities:[v.COMPONENT]},ratioOfOutgoingLinksOfAService:{name:"Ratio of outgoing links of a service",calculation:"(Number of outgoing links of a service / (Total Number of links connected to a service)) * 100",calculationFormula:"\\frac{|\\Set{ l | l \\in L \\land l.sourceComponent = c } | }{ |\\Set{ l | l \\in L \\land (l.sourceComponent = c \\lor l.targetEndpoint \\in c.providedEndpoints ) } | } * 100",helperFunctions:[],sources:["PhamThiQuynh2009"],applicableEntities:[v.COMPONENT]},couplingDegreeBasedOnPotentialCoupling:{name:"Coupling degree based on potential coupling",calculation:"(Sum-of(Maximum path lengths between components when no links exist) - Sum-of(path lengths between components based on actually existing links)) / Sum-of(Maximum path lengths between components when no links exist) - Sum-of(Minimum path lengths when links exist between all components)",calculationFormula:"\\frac{ (|C| * (|C| - 1) * (|C| - 1)) - \\displaystyle\\sum_{i=1}^{|C|}\\sum_{j=1}^{|C|} minPath(c_i,c_j) }{(|C| * (|C| - 1) * (|C| - 1)) - (|C| * (|C| - 1))}",helperFunctions:["minPath: c_a,c_b \\to |(l_1,...,l_n)| | (l_1.sourceComponent = c_a \\land l_n.targetEndpoint \\in c_b.providedEndpoints) \\lor (l_1.sourceComponent = c_b \\land l_n.targetEndpoint \\in c_a.providedEndpoints) \\land \\min(n)"],sources:["PhamThiQuynh2009"],applicableEntities:[v.SYSTEM]},interactionDensityBasedOnComponents:{name:"Interaction density based on components",calculation:"Number of links in a system / Number of components in a system",calculationFormula:"\\frac{|L|}{|C|}",helperFunctions:[],sources:["Tiwari2014"],applicableEntities:[v.SYSTEM]},interactionDensityBasedOnLinks:{name:"Interaction density based on links",calculation:"Number of links in a system / Number of potential links in a system",calculationFormula:"\\frac{|L|}{ |C| * (|C| - 1)}",helperFunctions:[],sources:["Tiwari2014","Karhikeyan2012"],applicableEntities:[v.SYSTEM]},indirectInteractionDensity:{name:"Indirect Interaction density of a system",calculation:"Number of other components to which an indirect dependency exist / Number of components to which an indirect dependency could exist (because they are not direct dependencies) ",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|C \\setminus c|} \\begin{cases} 0 &\\text{if } directlyLinked(c,c_i) \\\\ 1 &\\text{if } indirectlyLinked(c,c_i) \\end{cases} }{ |\\Set{ c' | linked(c,c') }|}",helperFunctions:["directlyLinked: c_a,c_b \\to (\\exists l \\in L (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_b.providedEndpoints))","indirectlyLinked: c_a,c_b \\to (\\exists (l_1,...,l_n) \\subset L (l_1.sourceComponent = c_a \\land l_n.targetEndpoint \\in c_b.providedEndpoints \\land n > 1))","linked: c_a,c_b \\to (\\exists (l_1,...,l_n) \\subset L (l_1.sourceComponent = c_a \\land l_n.targetEndpoint \\in c_b.providedEndpoints))"],sources:["Karhikeyan2012"],applicableEntities:[v.COMPONENT]},serviceCouplingBasedOnEndpointEntropy:{name:"Service coupling based on endpoint entropy",calculation:"(sum-of(-log(1 /(Number of links connected to an endpoint + 1))) for all endpoints of a service) / Number of endpoints of a component",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|c.providedEndpoints|} - \\log (\\frac{1}{ |\\Set{ l | l \\in L \\land l.targetEndpoint = e_i}| + 1}) }{ |c.providedEndpoints|  }",helperFunctions:[],sources:["Wang2009"],applicableEntities:[v.COMPONENT]},systemCouplingBasedOnEndpointEntropy:{name:"System coupling based on endpoint entropy",calculation:'sum-of("Service Coupling based on Endpoint Entropy" for all components',calculationFormula:"\\displaystyle\\sum_{j=1}^{|C|}(\\frac{ \\displaystyle\\sum_{i=1}^{|c.providedEndpoints|} - \\log (\\frac{1}{ |\\Set{ l | l \\in L \\land l.targetEndpoint = e_i}| + 1}) }{ |c.providedEndpoints|  })",helperFunctions:[],sources:["Wang2009"],applicableEntities:[v.SYSTEM]},modularityQualityBasedOnCohesionAndCoupling:{name:"Modularity quality based on cohesion and coupling",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Brito2021","Jin2021"],applicableEntities:[v.SYSTEM]},combinedMetricForIndirectDependency:{name:"Combined metric for indirect dependency",calculation:'("Indirect Interaction density of a system" + "Indirect Dependency because of shared data repository") / 2',calculationFormula:'\\frac{ "Indirect Interaction density of a system" + "Indirect Dependency because of shared data repository" }{2} ',helperFunctions:[],sources:["Karhikeyan2012"],applicableEntities:[v.COMPONENT]},servicesInterdependenceInTheSystem:{name:"Services interdependence in the system",calculation:"Number of service pairs which are bi-directionally linked",calculationFormula:"|\\Set{ (c_1,c_2) | c_1,c_2 \\in C \\land bidirectionalLink(c_1,c_2)} |",helperFunctions:["bidirectionalLink: c_a,c_b \\to (\\exists l \\in L (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_b.providedEndpoints) \\land \\exists l \\in L (l.sourceComponent = c_b \\land l.targetEndpoint \\in c_a.providedEndpoints))"],sources:["Bogner2017","Rud2006"],applicableEntities:[v.SYSTEM]},averageNumberOfDirectlyConnectedServices:{name:"Average number of directly connected services",calculation:'("Number of Components a component is linked to" + "Number of Components that are linked to a component") / Number of services in the system',calculationFormula:"\\frac{| \\Set{ c' | c' \\in C \\land linked(c,c') } | + | \\Set{ c' | c' \\in C \\land linked(c',c) } | }{ |C| } ",helperFunctions:["linked: c_a,c_b \\to (\\exists l \\in L (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_b.providedEndpoints))"],sources:["Shim2008"],applicableEntities:[v.COMPONENT]},numberOfComponentsThatAreLinkedToAComponent:{name:"Number of components that are linked to a component",calculation:"Number of Components that are linked to a component (consumers)",calculationFormula:"| \\Set{ c' | c' \\in C \\land \\exists l \\in L (l.sourceComponent = c' \\land l.targetEndpoint \\in c.providedEndpoints) } |",helperFunctions:[],sources:["Bogner2017","Rud2006","Shim2008","Zhang2009","Asik2017","Gamage2021","Perera2018"],applicableEntities:[v.COMPONENT]},numberOfComponentsAComponentIsLinkedTo:{name:"Number of components a component is linked to",calculation:"Number of Components a component is linked to",calculationFormula:"| \\Set{ c' | c' \\in C \\land \\exists l \\in L (l.sourceComponent = c \\land l.targetEndpoint \\in c'.providedEndpoints) } |",helperFunctions:[],sources:["Bogner2017","Rud2006","Engel2018","Shim2008","Raj2021","Raj2018","Hofmeister2008","PhamThiQuynh2009","Zhang2009"],applicableEntities:[v.COMPONENT]},numberOfLinksBetweenTwoServices:{name:"Number of links between two services",calculation:"Number of Links from component A to unique endpoints of component B",calculationFormula:"| \\Set{ l | l \\in L \\land l.sourceComponent = c \\land l.targetEndpoint \\in c'.providedEndpoints } |",helperFunctions:[],sources:["Hofmeister2008"],applicableEntities:[v.COMPONENT]},aggregateSystemMetricToMeasureServiceCoupling:{name:"Aggregate system metric to measure service coupling",calculation:'(sum-of("Number of Components a component is linked to" for all Service Consumers)) / (Number of services) * (Number of services - 1)',calculationFormula:"\\frac{ \\sum_{i=1}^{|S|} | \\Set{ s' | s' \\in S \\land linked(s_i,s')} |  }{|S| * (|S| - 1) }",helperFunctions:["linked: s_a,s_b \\to (\\exists l \\in L (l.sourceComponent = s_a \\land l.targetEndpoint \\in s_b.providedEndpoints))"],sources:["Hofmeister2008","Gamage2021"],applicableEntities:[v.SYSTEM]},numberOfComponentsAComponentIsLinkedToRelativeToTheTotalAmountOfComponents:{name:"Number of components a component is linked to relative to the total amount of components",calculation:"Number of Components a component is linked to / Total Number of other Components",calculationFormula:"\\frac{| \\Set{ c' | c' \\in C \\land \\exists l \\in L (l.sourceComponent = c \\land l.targetEndpoint \\in c'.providedEndpoints) } |}{|C| - 1}",helperFunctions:[],sources:["Raj2021","Raj2018","Zhang2009"],applicableEntities:[v.COMPONENT]},degreeOfCouplingInASystem:{name:"Degree of coupling in a system",calculation:"Sum-of(Number of Components a component is linked to) / ((Total Number of Components)² - (Total Number of Components))",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|C|} | \\Set{ c' | c' \\in C \\land \\exists l \\in L (l.sourceComponent = c_i \\land l.targetEndpoint \\in c'.providedEndpoints) } | } {|C|^2 - |C| }",helperFunctions:[],sources:["Raj2021","Raj2018","Hofmeister2008","Zhang2009"],applicableEntities:[v.SYSTEM]},serviceCouplingBasedOnDataExchangeComplexity:{name:"Service coupling based on data exchange complexity",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Kazemi2013","Ma2009"],applicableEntities:[v.SYSTEM]},simpleDegreeOfCouplingInASystem:{name:"Simple degree of coupling in a system",calculation:"Sum-of(Number of Components a component is linked to) / (Total Number of Components)",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|C|} | \\Set{ c' | c' \\in C \\land \\exists l \\in L (l.sourceComponent = c_i \\land l.targetEndpoint \\in c'.providedEndpoints) } | } {|C|}",helperFunctions:[],sources:["Qian2006"],applicableEntities:[v.SYSTEM]},directServiceSharing:{name:"Direct service sharing",calculation:"((Number of Services with at least two incoming links from different services / Total number of services) + (Number of Endpoints with at least two incoming links from different services / Total number of links)) / 2",calculationFormula:"\\frac{\\frac{ |\\Set{ s | s \\in S \\land  differentIncomingLinksS(s)}|  }{|S|} + \\frac{ |\\Set{e | e \\in E \\land differentIncomingLinksE(e)}| }{|L|}}{2}  ",helperFunctions:["differentIncomingLinksS: s \\to (\\exists (l_1,l_2) \\subset L (l_1.sourceComponent = s' \\land l_1.targetEndpoint \\in s.providedEndpoints \\land l_2.sourceComponent = s'' \\land l_2.targetEndpoint \\in s.providedEndpoints))","differentIncomingLinksE: e \\to (\\exists (l_1,l_2) \\subset L (l_1.sourceComponent = s' \\land l_1.targetEndpoint = e \\land l_2.sourceComponent = s'' \\land l_2.targetEndpoint = e))"],sources:["Ntentos2020a"],applicableEntities:[v.SYSTEM]},transitivelySharedServices:{name:"Transitively shared services",calculation:"((Number of Services which are transitively reachable by another service / Total number of services) + (Number of Endpoints which are transitively reachable by another service / Total number of links)) / 2",calculationFormula:"\\frac{ \\frac{ |\\Set{ c | c \\in C \\land transitiveReach(c) }|  }{|C|}  + \\frac{ |\\Set{ e | e \\in E \\land  transitiveReachE(e)}| }{|L|}   }{2}",helperFunctions:["transitiveReachC: c \\to (\\exists (l_1,l_2) \\subset L (l_1.targetEndpoint \\in l_2.sourceComponent.providedEndpoints \\land l_2.targetEndpoint \\in c.providedEndpoints \\land l_1.sourceComponent \\neq c))","transitiveReachE: e \\to (\\exists (l_1,l_2) \\subset L (l_1.targetEndpoint \\in l_2.sourceComponent.providedEndpoints \\land l_2.targetEndpoint = e \\land e \\notin l_1.sourceComponent.providedEndpoints))"],sources:["Ntentos2020a"],applicableEntities:[v.SYSTEM]},ratioOfSharedNonExternalComponentsToNonExternalComponents:{name:"Ratio of shared non-external components to non-external components",calculation:"Number of Services with at least two incoming links from different services / Total number of services",calculationFormula:"\\frac{| \\Set{ s | s \\in S \\land twoDifferentInLinks(s) }|}{|S|}",helperFunctions:["twoDifferentInLinks: s \\to (\\exists s',s'' \\in S (s' \\neq s'' \\land \\exists l \\in L (l.sourceComponent = s' \\land l.targetEndpoint \\in s.providedEndpoints) \\land \\exists l' \\in L (l'.sourceComponent = s'' \\land l'.targetEndpoint \\in s.providedEndpoints)))"],sources:["Zdun2017"],applicableEntities:[v.SYSTEM]},ratioOfSharedDependenciesOfNonExternalComponentsToPossibleDependencies:{name:"Ratio of shared dependencies of non-external components to possible dependencies",calculation:"Number of component sharing relationships / (Number of components)²",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|C|} | \\Set{ (c',c'') | sharedDependency(c',c'',c_i) }| }{|C|}",helperFunctions:["sharedDependency: c_a,c_b,c_c \\to (c_a,c_b \\neq c_c \\land \\exists l \\in L (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_a.providedEndpoints) \\land \\exists l' \\in L (\\land l'.sourceComponent = c_b \\land l'.targetEndpoint \\in c_c.providedEndpoints))"],sources:["Zdun2017"],applicableEntities:[v.SYSTEM]},degreeOfDependenceOnOtherComponents:{name:"Degree of dependence on other components",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Oliveira2018","La2013","Oh2011","PhamThiQuynh2009"],applicableEntities:[v.COMPONENT]},averageSystemCoupling:{name:"Average system coupling",calculation:"Sum-of(relationship weights of links between services) / Number of services",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|L|} \\begin{cases} 0.1 &\\text{if } isSend(l_i)  \\\\ 0.5 &\\text{if } isCommand(l_i) \\\\ 0.2 &\\text{else } \\end{cases} + \\frac{\\displaystyle\\sum_{j=1}^{|l.targetEndpoint.RDA_E|} \\begin{cases} 0.1 &\\text{if } persists(l_i.targetEndpoint.rda_j) \\\\ 0.5 &\\text{if } caches(l_i.targetEndpoint.rda_j) \\\\ 0.25 &\\text{else } \\end{cases}   }{|l.targetEndpoint.RDA_E|} } { |C| }",helperFunctions:['isSend: l \\to (l.targetEndpoint.kind = \\text{"send event"})','isCommand: l \\to (l.targetEndpoint.kind = \\text{"command"})','persists: rda \\to (rda.usage\\_relation = \\text{"persistence"})','caches: rda \\to (rda.usage\\_relation = \\text{"cached-usage"})'],sources:["Filippone2023"],applicableEntities:[v.SYSTEM]},couplingOfServicesBasedOnUsedDataAggregates:{name:"Coupling of services based on used data aggregates",calculation:"Data Aggregates used by both two services / All Data Aggregates used by two services",calculationFormula:"\\frac{ |\\Set{ da | da \\in DA \\land \\exists (c_x, da) \\in c_x.RDA_C } \\cap \\Set{ da | da \\in DA \\land \\exists (c_y, da) \\in c_y.RDA_C }|  }{|\\Set{ da | da \\in DA \\land \\exists (c_x, da) \\in c_x.RDA_C } \\cup \\Set{ da | da \\in DA \\land \\exists (c_y, da) \\in c_y.RDA_C }|}",helperFunctions:[],sources:["Peng2022"],applicableEntities:[v.COMPONENT]},couplingOfServicesBasedServicesWhichCallThem:{name:"Coupling of services based services which call them",calculation:"Services which call both two services / All services calling either of the two services",calculationFormula:"\\frac{ |\\Set{ c | c \\in C \\land linked(c,c_x)  } \\cap \\Set{ c | c \\in C \\land linked(c,c_y) }|  }{|\\Set{ c | c \\in C \\land linked(c,c_x) } \\cup \\Set{ c | c \\in C \\land linked(c,c_y)}| }",helperFunctions:["linked: c_a,c_b \\to (\\exists l \\in L (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_b.providedEndpoints))"],sources:["Peng2022"],applicableEntities:[v.COMPONENT]},couplingOfServicesBasedServicesWhichAreCalledByThem:{name:"Coupling of services based services which are called by them",calculation:"Services which are called by both two services / All services called by either of the two services",calculationFormula:"\\frac{ |\\Set{ c | c \\in C \\land linked(c_x,c) } \\cap \\Set{ c | c \\in C \\land linked(c_y,c)}|  }{|\\Set{ c | c \\in C \\land linked(c_x,c) } \\cup \\Set{ c | c \\in C \\land linked(c_y,c)}| }",helperFunctions:["linked: c_a,c_b \\to (\\exists l \\in L (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_b.providedEndpoints))"],sources:["Peng2022"],applicableEntities:[v.COMPONENT]},couplingOfServicesBasedOnAmountOfRequestTracesThatIncludeASpecificLink:{name:"Coupling of services based on amount of request traces that include a specific link",calculation:"Maximum of probabilities that one service is called by the other in all requests traces in which the first service is included.",calculationFormula:"\\max(\\frac{ |\\Set{ rt | rt \\in RT \\land linkInRT(rt,c_x,c_y) }|  }{ |\\Set{ rt | rt \\in RT \\land c_y \\in rt.nodes}| }, \\frac{|\\Set{ rt | rt \\in RT \\land linkInRT(rt,c_y,c_x) }|   }{ |\\Set{ rt | rt \\in RT \\land c_x \\in rt.nodes}| }",helperFunctions:["linkInRT: rt,c_a,c_b \\to (\\exists l \\in rt.involvedLinks (l.sourceComponent = c_a \\land l.targetEndpoint \\in c_b.providedEndpoints))"],sources:["Peng2022"],applicableEntities:[v.COMPONENT]},couplingOfServicesBasedTimesThatTheyOccurInTheSameRequestTrace:{name:"Coupling of services based times that they occur in the same request trace",calculation:"Number of request traces which contain the same two services / Number of request traces",calculationFormula:"\\frac{|\\Set{rt | rt \\in RT \\land c_x,c_y \\in rt.nodes}| }{|RT|}",helperFunctions:[],sources:["Peng2022"],applicableEntities:[v.COMPONENT]},conceptualModularityQualityBasedOnDataAggregateCohesionAndCoupling:{name:"Conceptual modularity quality based on data aggregate cohesion and coupling",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Brito2021","Jin2021"],applicableEntities:[v.SYSTEM]},cyclicCommunication:{name:"Cyclic communication",calculation:"Whether or not a Service is part of a cyclic communication path",calculationFormula:"\\exists (l_1,l_2,...,l_n) \\in L (l_1.sourceComponent = c \\land l_n.targetEndpoint \\in c.providedEndpoints)",helperFunctions:[],sources:["Apel2019","Ntentos2020a"],applicableEntities:[v.COMPONENT]},numberOfSynchronousCycles:{name:"Number of synchronous cycles",calculation:"Number of cycles that exist between services based on synchronous links",calculationFormula:"| \\Set{ (l_1,l_2,...,l_n) | \\forall l_i \\in L (isSync(l_i)) \\land chain(l_n,l_1) } |",helperFunctions:['isSync: l \\to (l.targetEndpoint.kind = \\text{"query"} \\lor l.targetEndpoint.kind = \\text{"command"})',"chain: l_a,l_b \\to (l_a.targetEndpoint \\in l_b.sourceComponent.providedEndpoints)"],sources:["Engel2018"],applicableEntities:[v.SYSTEM]},relativeImportanceOfTheService:{name:"Relative importance of the service",calculation:"Number of Components that are linked to a component (consumers) / Total Number of Components",calculationFormula:"\\frac{| \\Set{ c' | c' \\in C \\land \\exists l \\in L (l.sourceComponent = c' \\land l.targetEndpoint \\in c.providedEndpoints) } |}{ |C| }",helperFunctions:[],sources:["Zhang2009"],applicableEntities:[v.COMPONENT]},extentOfAggregationComponents:{name:"Extent of aggregation components",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Hofmeister2008"],applicableEntities:[v.SYSTEM]},systemCentralization:{name:"System's centraliZation",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Hofmeister2008"],applicableEntities:[v.SYSTEM]},densityOfAggregation:{name:"Density of aggregation",calculation:"sum-of(ln(number of outoging links / total number of outgoing and incoming links * 2)) for all aggregators that means services which have incoming and outgoing links",calculationFormula:"\\displaystyle\\sum_{i=1}^{|\\Set{c | c \\in C \\land inAndOut(c)}|} \\ln( \\frac{ |\\Set{l | l \\in L \\land out(l,c_i) } |  }{|\\Set{l | l \\in L \\land inOrOut(c_i,l) } | * 2}   ) ",helperFunctions:["inAndOut: c \\to (\\exists l_1,l_2 \\in L (l_1.sourceComponent = c \\land l_2.targetEndpoint \\in c.providedEndpoints))","out: c,l \\to (l.sourceComponent = c)","inOrOut: c,l \\to (l.sourceComponent = c \\lor l.targetEndpoint \\in c.providedEndpoints)"],sources:["Hofmeister2008"],applicableEntities:[v.SYSTEM]},aggregatorCentralization:{name:"Aggregator centraliZation",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Hofmeister2008"],applicableEntities:[v.SYSTEM]},dataAggregateConvergenceAcrossComponents:{name:"Data aggregate convergence across components",calculation:"((sum-of(number of data aggregates used in a service) for all services) / Number of Services) + ((sum-of(Services that use a data aggregate) for all data aggregates) / Number of Data Aggregates)",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|C|} |c_i.RDA_C|}{|C|} + \\frac{\\displaystyle\\sum_{i=1}^{|DA|} |\\Set{ c | \\exists c.RDA_C (c.RDA_C.da = da_i)}| }{ |DA| }",helperFunctions:[],sources:["Kazemi2013","Ma2009"],applicableEntities:[v.SYSTEM]},serviceCriticality:{name:"Service criticality",calculation:"Number of Components that are linked to a component * Number of Components a component is linked to",calculationFormula:"| \\Set{ c' | c' \\in C \\land \\exists l (l \\in L \\land l.sourceComponent = c' \\land l.targetEndpoint \\in c.providedEndpoints) } | * | \\Set{ c' | c' \\in C \\land \\exists l \\in L (l.sourceComponent = c \\land l.targetEndpoint \\in c'.providedEndpoints) } | ",helperFunctions:[],sources:["Bogner2017","Rud2006"],applicableEntities:[v.COMPONENT]},ratioOfCyclicRequestTraces:{name:"Ratio of cyclic request traces",calculation:"Number of request traces with a cycle / Total number of request traces",calculationFormula:"\\frac{|\\Set{ rt | rt \\in RT \\land hasCycle(rt) }}{|RT|}",helperFunctions:["hasCycle: rt \\to (\\exists (l_1,l_2,...l_n) \\in rt.involvedLinks (l_n.targetEndpoint \\in l_1.sourceComponent.providedEndpoints))"],sources:["Genfer2021"],applicableEntities:[v.SYSTEM]},numberOfPotentialCyclesInASystem:{name:"Number of potential cycles in a system",calculation:"Number of cycles found in a system based on defined links",calculationFormula:"| \\Set{ (l_1,l_2,...,l_n) | \\forall l_i \\in L \\land l_n.targetEndpoint \\in l_1.sourceComponent.providedEndpoints } |",helperFunctions:[],sources:["Peng2022"],applicableEntities:[v.SYSTEM]},maximumLengthOfServiceLinkChainPerRequestTrace:{name:"Maximum length of service link chain per request trace",calculation:"Maximum of number-of links of request trace for all request traces",calculationFormula:"(\\displaystyle\\sum_{i=1}^{|rt.involvedLinks|} |rt.involvedLinksᵢ.links|) | \\forall rt' (rt' \\in RT \\land rt' \\neq rt \\land \\displaystyle\\sum_{i=1}^{|rt'.involvedLinks|} |rt'.involvedLinksᵢ.links| \\leq \\displaystyle\\sum_{i=1}^{|rt.involvedLinks|} |rt.involvedLinksᵢ.links|",helperFunctions:[],sources:["Apel2019","Engel2018","Rosa2020"],applicableEntities:[v.SYSTEM],aggregateOf:"requestTraceLength"},maximumNumberOfServicesWithinARequestTrace:{name:"Maximum number of services within a request trace",calculation:"Maximum of number-of components within a request trace for all request traces",calculationFormula:"(| rt.nodes |) | \\forall rt' (rt' \\in RT \\land rt' \\neq rt \\land rt'.nodes \\leq rt.nodes",helperFunctions:[],sources:["Apel2019"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},numberOfRequestTraces:{name:"Number of request traces",calculation:"Total number of request traces",calculationFormula:"|RT|",helperFunctions:[],sources:["Zimmermann2015"],applicableEntities:[v.SYSTEM]},averageComplexityOfRequestTraces:{name:"Average complexity of request traces",calculation:"(sum-of(Number of Links in Request Trace) for all Request Traces) / Total number of request traces",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|RT|} \\displaystyle\\sum_{j=1}^{|rt.involvedLinks|} |rt.involvedLinks_j.links| }{ |RT| }",helperFunctions:[],sources:["Zimmermann2015"],applicableEntities:[v.SYSTEM],aggregateOf:"requestTraceComplexity"},requestTraceLength:{name:"Request trace length",calculation:"Number of link steps in a request trace",calculationFormula:"|rt.involvedLinks|",helperFunctions:[],sources:["Peng2022","Gamage2021"],applicableEntities:[v.REQUEST_TRACE]},requestTraceComplexity:{name:"Request trace complexity",calculation:"Number of links in a request trace",calculationFormula:"\\displaystyle\\sum_{i=1}^{|rt.involvedLinks|} |rt.involvedLinks_i.links|",helperFunctions:[],sources:["new"],applicableEntities:[v.REQUEST_TRACE]},numberOfCyclesInRequestTraces:{name:"Number of cycles in request traces",calculation:"Number of Cycles in Request Trace",calculationFormula:"| \\Set{ (l_1,...,l_n) | l_i \\in L \\land hasCycle((l_1,...,l_n),rt)} |",helperFunctions:["hasCycle: (l_1,...,l_n),rt  \\to (\\forall l_i \\in (l_1,...,l_n) \\exists rt.involvedLinks ( l_i \\in rt.involvedLinks.links \\land chain(l_n,l_1)))","chain: l_a,l_b \\to (l_a.targetEndpoint \\in l_b.sourceComponent.providedEndpoints)"],sources:["Peng2022","Gamage2021"],applicableEntities:[v.REQUEST_TRACE]},degreeOfStorageBackendSharing:{name:"Degree of storage backend sharing",calculation:"Number of Services sharing the same Storage Backing Service",calculationFormula:"| \\Set{ c' | c' \\in C \\land \\exists l \\in L (l.sourceComponent = c' \\land l.targetEndpoint \\in sbs.providedEndpoints) } |",helperFunctions:[],sources:["Rosa2020"],applicableEntities:[v.COMPONENT]},ratioOfStorageBackendSharing:{name:"Ratio of storage backend sharing",calculation:"(sum-of(Number of Services sharing the same Storage Backing Service) for all Storage Backing Services) / (Total Number of Services * Total Number of Storage Backing Service)",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|SBS|} |\\Set{ s' | s' \\in S \\land share(s,s',sbs_i)  }|  }{|S| * |SBS|}",helperFunctions:["share s_a,s_b,sbs \\to (\\exists l_1,l_2 \\subset L (l_1.sourceComponent = s_a \\land l_2.sourceComponent = s_b \\land l_1.targetEndpoint \\in sbs.providedEndpoints \\land l_2.targetEndpoint \\in sbs.providedEndpoints))"],sources:["Karhikeyan2012"],applicableEntities:[v.COMPONENT]},sharedStorageBackingServiceInteractions:{name:"Shared storage backing service interactions",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Ntentos2020","Ntentos2020a","Ntentos2021"],applicableEntities:[v.SYSTEM]},databaseTypeUtilization:{name:"Database type utilization",calculation:"Storage Backing Services used by individual services / Total number of Storage Backing Services",calculationFormula:"\\frac{| \\Set{ sbs | sbs \\in SBS \\land | \\Set{ c' | connected(c',sbs) }| = 1 } | }{|SBS|}   ",helperFunctions:["connected: c,sbs \\to (\\exists l\\in L (l.sourceComponent = c \\land l.targetEndpoint \\in sbs.providedEndpoints))"],sources:["Ntentos2020a"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},serviceDiscoveryUsage:{name:"Service discovery usage",calculation:"Number of Links whose outgoing component is using address resolution / Total number of Links",calculationFormula:'\\frac{|\\Set{ l | l \\in L \\land l.sourceComponent.addressResolutionBy.address\\_resolution\\_kind \\neq \\text{"none"}}|}{|L|}',helperFunctions:[],sources:["Apel2019"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},averageNumberOfEndpointsPerService:{name:"Average number of endpoints per service",calculation:"Number of Endpoints / Number of Services",calculationFormula:"\\frac{|E|}{|C|}",helperFunctions:[],sources:["Bogner2017","Bogner2020","Hirzalla2009","Brito2021","Jin2021","Rosa2020","Kazemi2013","Ma2009","Desai2021"],applicableEntities:[v.SYSTEM]},numberOfDependencies:{name:"Number of dependencies",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Apel2019"],applicableEntities:[v.COMPONENT]},numberOfVersionsPerService:{name:"Number of versions per service",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Bogner2017","Hirzalla2009"],applicableEntities:[v.COMPONENT]},concurrentlyAvailableVersionsComplexity:{name:"Concurrently available versions complexity",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Karhikeyan2012"],applicableEntities:[v.COMPONENT]},serviceSupportForTransactions:{name:"Service support for transactions",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Bogner2017","Hirzalla2009"],applicableEntities:[v.COMPONENT]},numberOfComponents:{name:"Number of components",calculation:"Total number of components",calculationFormula:"|C|",helperFunctions:[],sources:["Silva2023","Venkitachalam2017","Shim2008","Zimmermann2015"],applicableEntities:[v.SYSTEM]},ratioOfProviderManagedComponentsAndInfrastructure:{name:"Ratio of provider-managed components and infrastructure",calculation:"Number of Provider-managed components and infrastructure nodes / All components and infrastructure nodes",calculationFormula:"\\frac{|\\Set{c | c \\in C \\land c.managed = true}| + |\\Set{ i | i \\in I \\land isManaged(i) }| }{|C| + |I|}",helperFunctions:['isManaged: i \\to (i.environment\\_access = \\text{"limited"} \\lor i.environment\\_access = \\text{"none"})'],sources:["Yussupov2022"],applicableEntities:[v.SYSTEM]},amountOfRedundancy:{name:"Amount of redundancy",calculation:"sum-of(deployment mappings) for all Components / Number of deployed Components",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|C|} | \\Set{ dm | dm \\in DM \\land dm.deployed = c_i} | }{ | \\Set{ c | c \\in C \\land \\exists dm \\in DM (dm.deployed = c)} |}",helperFunctions:[],sources:["Zimmermann2015"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE,v.COMPONENT]},serviceReplicationLevel:{name:"Service replication level",calculation:"The average value of replicas per service",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|DM|} dm_i.replicas | dm_i.deployed \\in S  }{ | \\Set{ s | s \\in S \\land \\exists dm \\in DM (dm.deployed = s)} | }",helperFunctions:[],sources:["Guerron2020","Souza2016"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE,v.COMPONENT]},medianServiceReplication:{name:"Median service replication level",calculation:"The median value of replicas per service",calculationFormula:"median(\\Set{ (repl_1,...,repl_n) | repl_i = \\displaystyle\\sum_{j=1}^{| \\Set{ dm | dm \\in DM \\land dm.deployed = s_i \\land s \\in S}|} dm_j.replicas })",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},smallestReplicationValue:{name:"Smallest service replication value",calculation:"minimum(value of replicas per service)",calculationFormula:"min(\\Set{ (repl_1,...,repl_n) | repl_i = \\displaystyle\\sum_{j=1}^{| \\Set{ dm | dm \\in DM \\land dm.deployed = s_i \\land s \\in S}|} dm_j.replicas })",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},storageReplicationLevel:{name:"Storage replication level",calculation:"The average value of replicas per storage backing service",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|DM|} dm_i.replicas | dm_i.deployed \\in SBS  }{ | \\Set{ sbs | sbs \\in SBS \\land \\exists dm \\in DM (dm.deployed = sbs)} | }",helperFunctions:[],sources:["Guerron2020","Souza2016"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE,v.COMPONENT]},servicePortability:{name:"Service portability",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Guerron2020","Singh2015"],applicableEntities:[v.COMPONENT]},configurationExternalization:{name:"Configuration externalization",calculation:"Number of configuration usages where config data is stored externally / Total number of configuration usages",calculationFormula:'\\frac{| \\Set{ bd | bd \\in BD \\land bd.kind = \\text{"config"} \\land  externalized(bd)} |}{ | \\Set{ bd | bd \\in BD \\land bd.kind = \\text{"config"} \\land isUsed(bd)}|}',helperFunctions:[`externalized: bd \\to (\\exists (ci,bd) \\in ci.RBD (ci \\in C \\cup I \\land (ci,bd).usage\\_relation = \\text{"usage"}) \\land \\exists (ci',bd) \\in ci'.RBD (ci' \\in C \\cup I \\land (ci',bd).usage\\_relation = \\text{"persistence"}))`,"isUsed: bd \\to (\\exists (ci,bd) \\in ci.RBD (ci \\in C \\cup I))"],sources:["Apel2019"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE]},numberOfDeploymentTargetEnvironments:{name:"Number of deployment target environments",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Apel2019"],applicableEntities:[v.SYSTEM]},ratioOfComponentsWhoseExternalIngressIsProxied:{name:"Ratio of components whose external ingress is proxied",calculation:"Number of components with external endpoints and an external ingress proxy / Total number of components with external endpoints",calculationFormula:"\\frac{|\\Set{ c | c \\in C \\land \\exists ee \\in EE (ee \\in c.providedEndpoints) \\land c.externalIngressProxiedBy \\neq \\emptyset }|}{ |\\Set{ c | c \\in C \\land \\exists ee \\in EE (ee \\in c.providedEndpoints)}| }",helperFunctions:[],sources:["Ntentos2022"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfComponentsWhoseEgressIsProxied:{name:"Ratio of components whose egress is proxied",calculation:"Number of components with an egress proxy / Total number of components",calculationFormula:"\\frac{|\\Set{ c | c \\in C \\land c.egressProxiedBy \\neq \\emptyset }|}{ |\\Set{ c | c \\in C }| }",helperFunctions:[],sources:["Ntentos2022"],applicableEntities:[v.SYSTEM]},componentDensity:{name:"Component density",calculation:"Number of deployed components / Number of infrastructure entities on which one or more components are deployed",calculationFormula:"\\frac{ | \\Set{ c | c \\in C \\land \\exists dm \\in DM (dm.deployed = c)} |  }{ | \\Set{ i | i \\in I \\land \\exists dm \\in DM (dm.host = i \\land dm.deployed \\in C)} |  }",helperFunctions:[],sources:["Guerron2020","Rizvi2017"],applicableEntities:[v.SYSTEM],aggregateOf:"numberOfServiceHostedOnOneInfrastructure"},numberOfAvailabilityZonesUsedByInfrastructure:{name:"Number of availability zones used by infrastructure",calculation:"Number of unique availability zones in which the infrastructure is running",calculationFormula:"| \\Set{ az | \\exists i \\in I \\land az \\in i.availability\\_zone) } |",helperFunctions:[],sources:["Guerron2020","Baranwal2014"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE,v.REQUEST_TRACE]},numberOfAvailabilityZonesUsedByServices:{name:"Number of availability zones used by services",calculation:"Number of unique availability zones used by the infrastructure on which services run.",calculationFormula:"| \\Set{ az | \\exists i \\in I (\\exists dm \\in DM (dm.host = i \\land dm.deployed \\in S) \\land az \\in i.availability\\_zone) } |",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},numberOfAvailabilityZonesUsedByStorageServices:{name:"Number of availability zones used by storage services",calculation:"Number of unique availability zones used by the infrastructure on which storage services run.",calculationFormula:"| \\Set{ az | \\exists i \\in I (\\exists dm \\in DM (dm.host = i \\land dm.deployed \\in SBS) \\land az \\in i.availability\\_zone) } |",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},rollingUpdateOption:{name:"Rolling update option",calculation:"Number of Infrastructure entities deploying components and supporting rolling update strategies / All Infrastructure entities deploying components",calculationFormula:"\\frac{ | \\Set{ i | i \\in I \\land deploysComponent(i) \\land supportsRollingUpdate(i)}  |}{| \\Set{ i | i \\in I \\land deploysComponent(i) }|}",helperFunctions:["deploysComponent: i \\to (\\exists dm \\in DM (dm.host = i \\land dm.deployed \\in C))",'supportsRollingUpdate: i \\to (\\text{"rolling"} \\in i.supported\\_update\\_strategies \\lor "blue\\text{-}green" \\in i.supported\\_update\\_strategies )'],sources:["Straesser2023"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},ratioOfLinksWithRetryLogic:{name:"Ratio of links with retry logic",calculation:"Number of Links to a synchronous endpoint with retries > 0 / Total number of Links to a synchronous endpoint",calculationFormula:"\\frac{|\\Set{l | l \\in L \\land isSync(l.targetEndpoint) \\land l.retries > 0 }| }{\\Set{l | l \\in L \\land isSync(l.targetEndpoint) }|}",helperFunctions:['isSync: e \\to (e.kind = \\text{"query"} \\lor e.kind = \\text{"command"})'],sources:["Apel2019"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfLinksWithComplexFailover:{name:"Ratio of links with complex failover",calculation:"Number of Links to a synchronous endpoint with a circuit breaker / Total number of Links to a synchronous endpoint",calculationFormula:'\\frac{|\\Set{l | l \\in L \\land isSync(l.targetEndpoint) \\land l.circuit\\_breaker \\neq \\text{"none"} }| }{\\Set{l | l \\in L \\land isSync(l.targetEndpoint) }|}',helperFunctions:['isSync e \\to (e.kind = \\text{"query"} \\lor e.kind = \\text{"command"})'],sources:["Apel2019"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},serviceInteractionViaBackingService:{name:"Service interaction via backing service",calculation:"Number of service interconnections via a broker backing service / Total number of service interconnections",calculationFormula:"\\frac{connectionsViaBroker}{connectionsViaBroker + \\Set{ l | l \\in L \\land serviceInteration(l) \\land isSync(l.targetEndpoint) }| }",helperFunctions:["connectionsViaBroker = | \\Set{ (l_1,l_2) | l_1,l_2 \\in L \\land viaBackingService(l_1,l_2)} |",'viaBackingService: l_a,l_b \\to l_a.sourceComponent \\in S \\land l_a.targetEndpoint \\in bbs.providedEndpoints \\land bbs \\in BBS \\land (bbs.kind = \\text{"queue"} \\lor bbs.kind = \\text{"topic"}) \\land l_a.targetEndpoint.kind = \\text{"send event"} \\land l_b.sourceComponent \\in S \\land l_b.targetEndpoint \\in bbs.providedEndpoints \\land l_b.targetEndpoint.kind = \\text{"subscribe"} \\land l_a.targetEndpoint.url\\_path = l_b.targetEndpoint.url\\_path',"serviceInteration: l \\to (l.sourceComponent \\in S \\land l.targetEndpoint \\in s'.providedEndpoints \\land s' \\in S)",'isSync: e \\to (e.kind = \\text{"query"} \\lor e.kind = \\text{"command"})'],sources:["Ntentos2020a","Ntentos2020","Ntentos2021"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},numberOfServices:{name:"Number of services",calculation:"Total Number of Services",calculationFormula:"|S|",helperFunctions:[],sources:["Shim2008","Raj2018","Hirzalla2009","Hofmeister2008","Zhang2009","Rud2006"],applicableEntities:[v.SYSTEM]},numberOfBackingServices:{name:"Number of backing services",calculation:"Total Number of Backing Services",calculationFormula:"|BS|",helperFunctions:[],sources:["Shim2008"],applicableEntities:[v.SYSTEM]},totalNumberOfLinksInASystem:{name:"Total number of links in a system",calculation:"Total number of links",calculationFormula:"|L|",helperFunctions:[],sources:["Brito2021","Jin2018","Tiwari2014","Assuncao2021","Zimmermann2015"],applicableEntities:[v.SYSTEM]},numberOfSynchronousEndpoints:{name:"Number of synchronous endpoints",calculation:"Total number of synchronous endpoints",calculationFormula:'|\\Set{ e | e \\in E \\land (e.kind = \\text{"query"} \\lor e.kind = \\text{"command"})}|',helperFunctions:[],sources:["Shim2008"],applicableEntities:[v.SYSTEM]},numberOfAsynchronousEndpoints:{name:"Number of asynchronous endpoints",calculation:"Total number of asynchronous endpoints",calculationFormula:'|\\Set{ e | e \\in E \\land (e.kind = \\text{"send event"} \\lor e.kind = \\text{"subscribe"})}|',helperFunctions:[],sources:["Shim2008"],applicableEntities:[v.SYSTEM]},numberOfServicesWhichHaveIncomingLinks:{name:"Number of services which have incoming links",calculation:"Total number of services which have at least one incoming link",calculationFormula:"|\\Set{ s | s \\in S \\land \\exists l \\in L (l.targetEndpoint \\in s.providedEndpoints) }|",helperFunctions:[],sources:["Shim2008","Hofmeister2008"],applicableEntities:[v.SYSTEM]},numberOfServicesWhichHaveOutgoingLinks:{name:"Number of services which have outgoing links",calculation:"Total number of services which have at least one outgoing link",calculationFormula:"|\\Set{ s | s \\in S \\land \\exists l \\in L (l.sourceComponent = s) }|",helperFunctions:[],sources:["Shim2008","Hofmeister2008"],applicableEntities:[v.SYSTEM]},numberOfServicesWhichHaveBothIncomingAndOutgoingLinks:{name:"Number of services which have both incoming and outgoing links",calculation:"Total number of services which have at least one incoming link and at least one outgoing link",calculationFormula:"|\\Set{ s | s \\in S \\land \\exists l \\in L (l.sourceComponent = s) \\exists l \\in L (l.targetEndpoint \\in s.providedEndpoints) }|",helperFunctions:[],sources:["Shim2008","Hofmeister2008"],applicableEntities:[v.SYSTEM]},lackOfCohesion:{name:"Lack of cohesion of a service",calculation:"",calculationFormula:"",helperFunctions:[],sources:["AlDebagy2020"],applicableEntities:[v.COMPONENT]},averageLackOfCohesion:{name:"Average system lack of cohesion of a service",calculation:"",calculationFormula:"",helperFunctions:[],sources:["AlDebagy2020"],applicableEntities:[v.SYSTEM],aggregateOf:"lackOfCohesion"},serviceSize:{name:"Size of a service",calculation:'"Number of Data Aggregates used in a service" + "Number of Components that are linked to a component"',calculationFormula:"|c.RDA_C| + |\\Set{ c' | \\exists l \\in L (l.sourceComponent = c' \\land l.targetEndpoint \\in c.providedEndpoints) }|",helperFunctions:[],sources:["Asik2017"],applicableEntities:[v.COMPONENT]},resourceCount:{name:"Data aggregate count",calculation:"Number of Data Aggregates used in a service",calculationFormula:"|s.RDA_C|",helperFunctions:[],sources:["Asik2017"],applicableEntities:[v.COMPONENT]},unusedEndpointCount:{name:"Unused endpoint count",calculation:"Number of Endpoints of a Component not targeted by a Link",calculationFormula:"|\\Set{ e | e \\in c.providedEndpoints \\land \\nexists l (l\\in L \\land l.targetEndpoint = e)  }| ",helperFunctions:[],sources:["Asik2017"],applicableEntities:[v.COMPONENT]},unreachableEndpointCount:{name:"Unreachable endpoint count",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Asik2017"],applicableEntities:[v.COMPONENT]},numberOfServiceConnectedToStorageBackingService:{name:"Number of services connected to a storage backing service",calculation:"Number of Services with a link to an Endpoint of a Storage Backing Service",calculationFormula:"|\\Set{s | s \\in S \\land linkedToBackingService(s) }|",helperFunctions:["linkedToBackingService: s \\to (\\exists l \\in L (l.sourceComponent = s \\land l.targetEndpoint \\in sbs.providedEndpoints \\land sbs \\in SBS))"],sources:["Daniel2023"],applicableEntities:[v.SYSTEM]},numberOfReadEndpointsProvidedByAService:{name:"Number of read endpoints provided by a service",calculation:'Number of Endpoints of kind "query" of a component',calculationFormula:'|\\Set{ e | e \\in c.providedEndpoints \\land e.kind = \\text{"query"}}|',helperFunctions:[],sources:["Daniel2023"],applicableEntities:[v.COMPONENT]},numberOfWriteEndpointsProvidedByAService:{name:"Number of write endpoints provided by a service",calculation:'Number of Endpoints of kind "command" or "send event" of a component',calculationFormula:'|\\Set{ e | e \\in c.providedEndpoints \\land (e.kind = \\text{"command"} \\lor e.kind = \\text{"send event"})}|',helperFunctions:[],sources:["Daniel2023"],applicableEntities:[v.COMPONENT]},numberOfServiceHostedOnOneInfrastructure:{name:"Number of services hosted on one infrastructure entity",calculation:"Number of Service deployed on an infrastructure entity",calculationFormula:"|\\Set{ s | s \\in S \\land \\exists dm \\in DM (dm.deployed = s \\land dm.host = i)}|",helperFunctions:[],sources:["Daniel2023"],applicableEntities:[v.INFRASTRUCTURE]},ratioOfRequestTracesThroughGateway:{name:"Ratio of request traces through a gateway",calculation:"Number of request traces including an API Gateway as a proxy / Total number of request traces",calculationFormula:"\\frac{|\\Set{ rt | rt \\in RT \\land proxiedByGateway(rt) }|}{|RT|}",helperFunctions:['proxiedByGateway: rt \\to ((rt.referencedEndpoint \\in c.providedEndpoints \\land c.externalIngressProxiedBy = p \\land p \\in PBS \\land p.kind = \\text{"API Gateway"}) \\lor (rt.referencedEndpoint \\in g.providedEndpoints \\land g \\in PBS \\land g.kind = \\text{"API Gateway"}))'],sources:["Zdun2023a"],applicableEntities:[v.SYSTEM]},ratioOfRequestTracesContainingFrontend:{name:"Ratio of request traces containing a frontend component",calculation:"",calculationFormula:"",helperFunctions:[],sources:["Zdun2023a"],applicableEntities:[v.SYSTEM]},dataShardingLevel:{name:"Level of sharding across storage backing services",calculation:"Average number of shards per Storage Backing Service",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|SBS|} sbs_i.shards}{|SBS|}",helperFunctions:[],sources:["new"],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE]},ratioOfCachedDataAggregates:{name:"Ratio of cached data aggregates",calculation:"Sum-of(Cached usage of a Data Aggregate in a Component) / Sum-of(Cached and uncached usage of a Data Aggregate in a Component",calculationFormula:'\\frac{\\displaystyle\\sum_{i=1}^{|C|} \\displaystyle\\sum_{j=1}^{|c_i.RDA_C|} \\begin{cases} 1 &\\text{if } c_i.rda_j.usage\\_relation = "cached\\text{-}usage" \\\\ 0 &\\text{else } \\end{cases}}{ \\displaystyle\\sum_{i=1}^{|C|} \\displaystyle\\sum_{j=1}^{|c_i.RDA_C|} \\begin{cases} 1 &\\text{if } c_i.rda_j.usage\\_relation = "cached\\text{-}usage" \\lor c_i.rda_j.usage\\_relation = \\text{"usage"} \\\\ 0 &\\text{else } \\end{cases} }',helperFunctions:[],sources:["new"],applicableEntities:[v.COMPONENT,v.SYSTEM]},dataReplicationAlongRequestTrace:{name:"Data replication along request trace",calculation:"Average(Replication of Data Aggregates along request trace)",calculationFormula:"\\frac{replicationAlong(rt)+ replicationInEndpoint(rt)}{ \\displaystyle\\sum_{i=1}^{|rt.involvedLinks|} |rt.involvedLinks_i.RDA_E| + |rt.referencedEndpoint.RDA_E|}",helperFunctions:["replicationAlong: rt \\to \\bigg( \\displaystyle\\sum_{i=1}^{|rt.involvedLinks|}  replicatedDAs(rt.involvedLinks_i) \\bigg)","replicatedDAs: link \\to \\bigg( \\displaystyle\\sum_{j=1}^{|link.targetEndpoint.RDA_E|} \\begin{cases} 1 &\\text{if } replicated(link.targetEndpoint.rda_j) \\\\ 0 &\\text{else } \\end{cases} \\bigg)","replicationInE: rt \\to \\bigg( \\displaystyle\\sum_{i=1}^{|rt.referencedEndpoint.RDA_E|} \\begin{cases} 1 &\\text{if } replicated(rt.referencedEndpoint.rda_i)\\\\ 0 &\\text{else } \\end{cases} \\bigg)",'replicated: rda \\to (rda.usage\\_relation = "cached\\text{-}usage" \\lor rt.involvedLinks_i.rda_j.usage\\_relation = \\text{"persistence"})'],sources:["new"],applicableEntities:[v.REQUEST_TRACE]},serviceMeshUsage:{name:"Service mesh usage",calculation:"Average(Component Communication proxied by Service Mesh)",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|C|} \\begin{cases} 0.5 &\\text{if } iProxiedByMesh(c_i) \\\\ 0 &\\text{else } \\end{cases} + \\begin{cases} 0.5 &\\text{if } eProxiedByMesh(c_i) \\\\ 0 &\\text{else } \\end{cases}}{|C|}",helperFunctions:['iProxiedByMesh: c \\to (c.ingressProxiedBy = p \\land p \\in PBS \\land p.kind = \\text{"Service Mesh"})','eProxiedByMesh: c \\to (c.egressProxiedBy = p \\land p \\in PBS \\land p.kind = \\text{"Service Mesh"})'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},secretsExternalization:{name:"Secrets externalization",calculation:"Secrets used in a component but stored in another / All secrets used in a component",calculationFormula:'\\frac{| \\Set{ bd | bd \\in BD \\land bd.kind = \\text{"secret"} \\land externalized(bd)} |}{ | \\Set{ bd | bd \\in BD \\land bd.kind = \\text{"secret"} \\land \\exists (ci,bd) \\in ci.RBD (ci \\in C \\cup I)}|}',helperFunctions:[`externalized: bd \\to  (\\exists (ci,bd) \\in ci.RBD (ci \\in C \\cup I \\land (ci,bd).usage\\_relation = \\text{"usage"}) \\land \\exists (ci',bd) \\in ci'.RBD  (ci' \\in C \\cup I \\land (ci',bd).usage\\_relation = \\text{"persistence"}))`],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE]},ratioOfSpecializedStatefulServices:{name:"Ratio of specialized stateful services",calculation:"Stateful services that are Backing Services, Storage Backing Services, or Broker Backing Services / All stateful services",calculationFormula:"\\frac{|\\Set{ bs | bs \\in BS \\cup SBS \\cup BBS \\land bs.stateless = false}|}{ |\\Set{ c | c \\in C \\land c.stateless = false}| }",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},suitablyReplicatedStatefulService:{name:"Ratio of suitably replicated stateful services",calculation:'Stateful Backing Services, Storage Backing Services, or Broker Backing Services that are replicated with a strategy other than "none" / All Stateful Backing Services, Storage Backing Services, or Broker Backing Services',calculationFormula:"\\frac{|\\Set{ bs | bs \\in BS \\cup SBS \\cup BBS \\land bs.stateless = false \\land suitablyReplicated(bs)}|}{|\\Set{ bs | bs \\in BS \\cup SBS \\cup BBS \\land bs.stateless = false \\land replicated(bs)}|}",helperFunctions:['suitablyReplicated bs \\to (\\exists dm \\in DM (dm.deployed = bs \\land dm.replicas > 1) \\land bs.replication\\_strategy \\neq \\text{"none"})',"replicated: bs \\to (\\exists dm \\in DM (dm.deployed = bs \\land dm.replicas > 1))"],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfUniqueAccountUsage:{name:"Ratio of unique account usage",calculation:"Number of unique accounts used by components and infrastructure / Number of components and infrastructure",calculationFormula:"\\frac{|\\Set{ account | \\exists ci \\in C\\cup I (account \\in ci.identities)}|}{|C| + |I|} ",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},ratioOfNonCustomBackingServices:{name:"Ratio of non-custom backing services",calculation:"Backing Services, Storage Backing Services, Proxy Backing Services, and Broker Backing Services which are not of software type custom / All Backing Services, Storage Backing Services, Proxy Backing Services, and Broker Backing Services",calculationFormula:'\\frac{|\\Set{ bs | bs \\in BS \\cup SBS \\cup PBS \\cup BBS \\land bs.software\\_type \\neq \\text{"custom"} }|}{|\\Set{ bs | bs \\in BS \\cup SBS \\cup PBS \\cup BBS}|}',helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT]},secretsStoredInVault:{name:"Secrets stored in vault",calculation:"Backing Data of type secret stored in vault / All backing data of type secret",calculationFormula:'\\frac{|\\Set{bd | bd \\in BD \\land bd.kind = \\text{"secret"} \\land storedOnlyInVault(bd) }|}{ |\\Set{bd | bd \\in BD \\land bd.kind = \\text{"secret"}}| }',helperFunctions:['storedOnlyInVault: bd \\to (\\exists vault \\in BS (vault.kind = \\text{"vault"} \\land \\exists (vault,bd) \\in vault.RBD_C ((vault,bd).usage\\_relation = \\text{"persistence"})) \\land \\nexists (c,bd) ((c,bd) \\in c.RBD_C \\land (c \\notin BS \\lor c.kind \\neq \\text{"vault"}) \\land (c,bd).usage\\_relation = \\text{"persistence"})))'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE]},accessRestrictedToCallers:{name:"Access restricted to callers",calculation:"Average-of(1 - (allowed accounts which do not call the endpoint / allowed accounts)) over all Endpoints",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|E|} 1 - \\frac{e_i.allow\\_acces\\_to \\setminus \\Set{acc | acc \\in e_i.allow\\_acces\\_to \\land noCall(acc, e_i)}}{|e_i.allow\\_acces\\_to|}  }{|E|}",helperFunctions:["noCall: acc,e \\to (\\nexists l \\in L (acc \\in l.sourceComponent.identities \\land l.targetEndpoint = e))"],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfDelegatedAuthentication:{name:"Ratio of delegated authentication",calculation:"Component delegating authentication / All components (excluding authentication backing services)",calculationFormula:"\\frac{|\\Set{c | c \\in C \\land notAuthService(c) \\land c.authenticationBy \\neq \\emptyset}|}{ |\\Set{c | c \\in C \\land notAuthService(c)}|  }",helperFunctions:['notAuthService: c \\to (c \\notin BS \\lor c.providedFunctionality \\neq "authentication/authorization")'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfStandardizedArtifacts:{name:"Ratio of standardized artifacts",calculation:"Artifacts complying to a standard / All artifacts",calculationFormula:"\\frac{|\\Set{a | a \\in A \\land a.based\\_on\\_standard = true}|}{|\\Set{a | a \\in A }|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE]},ratioOfEntitiesProvidingStandardizedArtifacts:{name:"Ratio of entities providing standardized artifacts",calculation:"Components and infrastructure entities having a standardized artifact / All components and infrastructure entities",calculationFormula:"\\frac{|\\Set{ci | ci \\in C \\cup I \\land \\exists a \\in ci.artifacts (a.based\\_on\\_standard = true)} |}{|C| + |I|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE,v.REQUEST_TRACE]},componentArtifactsSimilarity:{name:"Component artifacts similarity",calculation:"Average similarity of components based on a pairwise comparison of component artifacts.",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|C|}\\sum_{j=i+1}^{|C|} \\begin{cases} 0 &\\text{if } | artifactTypes(c_i) \\cup artifactTypes(c_j) | = 0 \\\\ \\frac{| artifactTypes(c_i) \\cap artifactTypes(c_j) |}{| artifactTypes(c_i) \\cup artifactTypes(c_j) |} &\\text{else } \\end{cases}}{\\frac{|C| * (|C| - 1)}{2}}",helperFunctions:["artifactTypes: c \\to \\Set{ t | t = a.type \\land a \\in c.artifacts }"],sources:["new"],applicableEntities:[v.SYSTEM,v.REQUEST_TRACE]},infrastructureArtifactsSimilarity:{name:"Infrastructure artifacts similarity",calculation:"Average similarity of infrastructure entities based on a pairwise comparison of infrastructure artifacts.",calculationFormula:"\\frac{\\displaystyle\\sum_{k=1}^{|I|}\\sum_{l=k+1}^{|I|} \\begin{cases} 0 &\\text{if } | artifactTypes(i_k) \\cup artifactTypes(i_l) | = 0 \\\\ \\frac{| artifactTypes(i_k) \\cap artifactTypes(i_l) |}{| artifactTypes(i_k) \\cup artifactTypes(i_l) |} &\\text{else } \\end{cases}}{\\frac{|I| * (|I| - 1)}{2}}",helperFunctions:["artifactTypes: i \\to \\Set{ t | t = a.type \\land a \\in i.artifacts }"],sources:["new"],applicableEntities:[v.SYSTEM]},ratioOfAutomaticallyProvisionedInfrastructure:{name:"Ratio of automatically provisioned infrastructure",calculation:"Infrastructure entities that are provisioned automatically / All infrastructure entities",calculationFormula:"\\frac{ |\\Set{i | i \\in I \\land isAutomated(i.provisioning) } |}{ |I| }",helperFunctions:['isAutomated: provisioning \\to (provisioning = \\text{"automated-coded"} \\lor provisioning = \\text{"automated-inferred"} \\lor provisioning = \\text{"transparent"})'],sources:["new"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},ratioOfDeploymentsOnDynamicInfrastructure:{name:"Ratio of components deployed dynamically",calculation:"DeploymentMappings of components on a software platform or cloud service / All deployment mappings of components",calculationFormula:"\\frac{|\\Set{ dm | dm \\in DM \\land dm.deployed \\in C \\land isDynamic(dm.host) }|}{ |\\Set{ dm | dm \\in DM \\land dm.deployed \\in C}|}",helperFunctions:['isDynamic i \\to (i.kind = \\text{"software-platform"} \\lor i.kind = \\text{"cloud-service"})'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfInfrastructureWithIaCArtifact:{name:"Ratio of infrastructure with IaC artifact",calculation:"Infrastructure entities with an IaC artifact / All infrastructure entities",calculationFormula:"\\frac{ |\\Set{ i | i \\in I \\land \\exists a \\in i.artifacts (isIaC(a)) }|  }{ |I| }",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},namespaceSeparation:{name:"Namespace separation",calculation:"1 - (Average sharing of namespaces)",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|C|} 1 - \\frac{\\displaystyle\\sum_{j=1}^{|C \\setminus c_i|} \\begin{cases} 1 &\\text{if } c_i.namespace = c_j.namespace \\\\ 0 &\\text{else } \\end{cases} }{|C \\setminus c_i|} }{|C|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT]},ratioOfFullyManagedInfrastructure:{name:"Ratio of fully managed infrastructure",calculation:"Infrastructure entities with no environment access and transparent maintenance / All infrastructure entities",calculationFormula:"\\frac{|\\Set{ i | i \\in I \\land fullyManaged(i) }|  }{|I|}",helperFunctions:['fullyManaged: i \\to ((i.environment\\_access = \\text{"none"} \\lor  i.environment\\_access = \\text{"limited"}) \\land i.maintenance = \\text{"transparent"})'],sources:["new"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},ratioOfManagedBackingServices:{name:"Ratio of managed backing services",calculation:"Managed Backing Services, Storage Backing Services, Proxy Backing Services and Broker Backing Services / All Backing Services, Storage Backing Services, Proxy Backing Services and Broker Backing Services",calculationFormula:"\\frac{|\\Set{bs | bs \\in BS \\cup SBS \\cup PBS \\cup BBS \\land bs.managed = true)} | }{|\\Set{bs | bs \\in BS \\cup SBS \\cup PBS \\cup BBS}|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT]},ratioOfInfrastructureEnforcingResourceBoundaries:{name:"Ratio of infrastructure entities enforcing resource boundaries",calculation:"Infrastructure entities enforcing resource boundaries / All infrastructure entities",calculationFormula:"\\frac{|\\Set{i | i \\in I \\land t.enforced\\_resource\\_bounds = true}|}{|I|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},ratioOfDeploymentMappingsWithStatedResourceRequirements:{name:"Ratio of deployment mappings with stated resource requirements",calculation:"Deployment Mappings with stated resource requirements / All Deployment Mappings",calculationFormula:'\\frac{|\\Set{dm | dm \\in DM \\land t.resource\\_requirements \\neq  \\text{"unstated"}}|}{|DM|}',helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE]},deployedEntitiesAutoscaling:{name:"Deployed entities autoscaling",calculation:"Infrastructure that hosts Components and automatically scales them via the infrastructure they are deployed on / All infrastructure",calculationFormula:"\\frac{|\\Set{i | i \\in I \\land \\exists dm \\in DM (dm.host = i \\land dm.deployed \\in C) \\land autoscale(i)}|}{|\\Set{i | i \\in I \\land \\exists dm \\in DM (dm.host = i \\land dm.deployed \\in C)}|}",helperFunctions:['autoscale i \\to (i.deployed\\_entities\\_scaling = "automated-built-in" \\lor i.deployed\\_entities\\_scaling = "automated-separate")'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE]},infrastructureAutoscaling:{name:"Infrastructure autoscaling",calculation:"Infrastructure entities that scale themselves automatically / All infrastructure entities",calculationFormula:"\\frac{|\\Set{i | i \\in I \\land selfscale(i)}|}{|I|}",helperFunctions:['selfscale i \\to (i.self\\_scaling = "automated-built-in" \\lor i.self\\_scaling = "automated-separate")'],sources:["new"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},ratioOfAbstractedHardware:{name:"Ratio of abstracted hardware",calculation:"Infrastructure entities that are software-platform or cloud-service/ All infrastructure entities",calculationFormula:'\\frac{|\\Set{i | i \\in I \\land (i.kind = "software-platform" \\lor i.kind = "cloud-service" )}|}{|I|}',helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},nonProviderSpecificInfrastructureArtifacts:{name:"Non-provider-specific infrastructure artifacts",calculation:"Infrastructure entities with all artifacts being non-provider-specific / All infrastructure entities",calculationFormula:"\\frac{|\\Set{i | i \\in I \\land \\forall a \\in i.artifacts (a.provider\\_specific = false)}|}{|I|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},nonProviderSpecificComponentArtifacts:{name:"Non-provider-specific component artifacts",calculation:"Component entities with all artifacts being non-provider-specific / All components",calculationFormula:"\\frac{|\\Set{c | c \\in C \\land \\forall a \\in c.artifacts (a.provider\\_specific = false)}|}{|C|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT]},configurationStoredInConfigService:{name:"Configuration stored in config service",calculation:"Backing Data of type config stored in config service / All backing data of type config",calculationFormula:'\\frac{ |\\Set{ bd | bd \\in BD \\land bd.kind = \\text{"config"} \\land storedInConfigService(bd) }| }{ |\\Set{ bd | bd \\in BD \\land bd.kind = \\text{"config"}}|  }',helperFunctions:['storedInConfigService: bd  \\to (\\exists bs \\in BS (bs.providedFunctionality = \\text{"configuration"}) \\land \\exists (bs,bd) \\in bs.RBD_C ((bs,bd).usage\\_relation = \\text{"persistence"}))'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE]},ratioOfEndpointsCoveredByContract:{name:"Ratio of endpoints covered by a contract",calculation:"Endpoints documented by a contract / All endpoints",calculationFormula:"\\frac{ |\\Set{ e | e \\in E \\land e.documentedBy \\neq \\emptyset \\land isContract(e.documentedBy) } | }{|E|}",helperFunctions:['isContract: a \\to (a.type = "Spring.CloudContract" \\lor a.type = "Pact.Contract")'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},standardizedDeployments:{name:"Standardized deployments",calculation:"DeploymentMappings of components with a standardized deployment unit / All deployment mappings of components",calculationFormula:"\\frac{ |\\Set{ dm | dm \\in DM \\land dm.deployed \\in C \\land dm.deployment\\_unit.based\\_on\\_standard = true} |}{|\\Set{ dm | dm \\in DM \\land dm.deployed \\in C}|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},selfContainedDeployments:{name:"Self-contained deployments",calculation:"DeploymentMappings of components with a self-contained deployment unit / All deployment mappings of components",calculationFormula:"\\frac{ |\\Set{ dm | dm \\in DM \\land dm.deployed \\in C \\land dm.deployment\\_unit.self\\_contained = true} |}{|\\Set{ dm | dm \\in DM \\land dm.deployed \\in C}|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},replacingDeployments:{name:"Replacing deployments",calculation:"DeploymentMappings that disallow in-place updates / All deployment mappings",calculationFormula:'\\frac{ |\\Set{ dm | dm \\in DM \\land dm.update\\_strategy \\neq "in-place"} |}{|DM|}',helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE]},ratioOfAutomaticallyMaintainedInfrastructure:{name:"Ratio of automatically maintained infrastructure",calculation:"Infrastructure maintained in a non-manual way / All infrastructure entities",calculationFormula:'\\frac{|\\Set{i | i \\in I \\land (i.maintenance = \\text{"automated"} \\lor i.maintenance = \\text{"transparent"})}|}{|I|}',helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.INFRASTRUCTURE]},ratioOfLinksWithTimeout:{name:"Ratio of links with timeout",calculation:"Links with a specified timeout / All links",calculationFormula:"\\frac{ |\\Set{l | l \\in L \\land l.timeout > 0}| }{|L|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},deploymentsWithRestart:{name:"Deployments with restart",calculation:"DeploymentMappings with configured restart / All deployment mappings",calculationFormula:"\\frac{ |\\Set{ dm | dm \\in DM \\land automatedRestart(dm)} |}{|DM|}",helperFunctions:['automatedRestart: dm \\to (dm.automated\\_restart\\_policy = \\text{"onProcessFailure"} \\lor dm.automated\\_restart\\_policy = \\text{"onHealthFailure"})'],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.INFRASTRUCTURE]},ratioOfDocumentedEndpoints:{name:"Ratio of documented endpoints",calculation:"Endpoints documented / All endpoints",calculationFormula:"\\frac{ |\\Set{ e | e \\in E \\land e.documentedBy \\neq \\emptyset} | }{|E|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},iendpointAccessMethodsConsistency:{name:"Consistency of supported authentication methods of endpoints",calculation:"Similarity of supported authentication methods / All endpoints",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|E \\setminus EE|}\\sum_{j=i+1}^{|E \\setminus EE|} \\begin{cases} 0 &\\text{if } none(e_i,e_j) \\\\ similarity(e_i,e_j) &\\text{else } \\end{cases}}{\\frac{|E \\setminus EE | * (|E \\setminus EE | - 1)}{2}}",helperFunctions:["none: e_a,e_b \\to (| e_a.supported\\_authentication\\_methods \\cup e_b.supported\\_authentication\\_methods | = 0)","similarity: e_a,e_b \\to (\\frac{| e_a.supported\\_authentication\\_methods \\cap e_b.supported\\_authentication\\_methods |}{| e_a.supported\\_authentication\\_methods \\cup e_b.supported\\_authentication\\_methods |})"],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},externalEndpointAccessConsistency:{name:"Consistency of supported authentication methods of external endpoints",calculation:"Similarity of supported authentication methods / All external endpoints",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|EE|}\\sum_{j=i+1}^{|EE|} \\begin{cases} 0 &\\text{if } none(ee_i,ee_j) \\\\ similarity(ee_i,ee_j) &\\text{else } \\end{cases}}{\\frac{|EE | * (|EE | - 1)}{2}}",helperFunctions:["none: ee_a,ee_b \\to (| ee_a.supported\\_authentication\\_methods \\cup ee_b.supported\\_authentication\\_methods | = 0)","similarity: ee_a,ee_b \\to (\\frac{| ee_a.supported\\_authentication\\_methods \\cap ee_b.supported\\_authentication\\_methods |}{| ee_a.supported\\_authentication\\_methods \\cup ee_b.supported\\_authentication\\_methods |})"],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT]},readWriteSeparationForDataAggregates:{name:"Read write separation for data aggregates",calculation:"Average(Separated Read and Write Access to Data Aggregate by Endpoint(s)) over all Data Aggregates",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|DA|} \\begin{cases} 1 &\\text{if } separated(da_i)  \\\\ 0 & else \\end{cases} }{|DA|}",helperFunctions:['persists: c,da \\to (\\exists (c,da) \\in c.RDA_C ((c,da).usage_relation = \\text{"persistence"}))','separatedRead: da \\to (\\exists c_1,c_2 \\in C (c_1 \\neq c_2 \\land persists(c_1,da) \\land persists(c_2,da) \\land \\exists (e_1,da) (e_1 \\in c_1.providedEndpoints  \\land \\exists(e_1, da) \\in e_1.RDA_E \\land e_1.kind = \\text{"query"} \\land \\nexists (e_2,da) (e_2 \\in c_1.providedEndpoints \\land (e_2,da) \\in e_2.RDA_E \\land e_2.kind = \\text{"command"})) \\land \\exists (e_3,da) (e_3 \\in c_2.providedEndpoints \\land \\exists (e_3,da) \\in e_3.RDA_E \\land e_3.kind = \\text{"command"})))','separatedWrite: da \\to (\\exists c_1,c_2 \\in C (c_1 \\neq c_2 \\land persists(c_1,da) \\land persists(c_2,da) \\land \\exists (e_1,da) (e_1 \\in c_1.providedEndpoints  \\land \\exists(e_1, da) \\in e_1.RDA_E \\land e_1.kind = \\text{"command"} \\land \\nexists (e_2,da) (e_2 \\in c_1.providedEndpoints \\land (e_2,da) \\in e_2.RDA_E \\land e_2.kind = \\text{"query"})) \\land \\exists (e_3,da) (e_3 \\in c_2.providedEndpoints \\land \\exists (e_3,da) \\in e_3.RDA_E \\land e_3.kind = \\text{"query"})))',"separated: da \\to (separatedRead(da) \\lor separatedWrite(da))"],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT]},degreeOfSeparationByGateways:{name:"Degree of separation by gateways",calculation:"1 / (Number of services proxied by an API gateway / Number of API gateways)",calculationFormula:'\\frac{1}{\\frac{ |\\Set{s | s \\in S \\land s.externalIngressProxiedBy = g \\land g \\in PBS \\land g.kind = \\text{"API Gateway"}}|}{|\\Set{g | g \\in PBS \\land \\land g.kind = \\text{"API Gateway"}}| }}',helperFunctions:[],sources:["new"],applicableEntities:[v.COMPONENT,v.SYSTEM,v.REQUEST_TRACE]},dataAggregateSpread:{name:"Data aggregate spread",calculation:"Average(Number of services using a data aggregate / Number of Services) for all data aggregates",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|DA|} \\frac{\\sum_{j=1}^{|S|} \\begin{cases} 1 &\\text{if } \\exists (c_j,da_i) \\in c_j.RDA_C \\\\ 0 &\\text{else } \\end{cases} }{|S|} }{|DA|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM]},requestTraceSimilarityBasedOnIncludedComponents:{name:"Request trace similarity based on included components",calculation:"Average(Request trace similarity based on included components) for all request traces",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|RT|} \\sum_{j=i+1}^{|RT|}  \\frac{|rt_i.nodes \\cap rt_j.nodes|}{|rt_i.nodes \\cup rt_j.nodes|} }{|RT| * (|RT| - 1)}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM]},ratioOfBrokerBackendSharing:{name:"Ratio of broker backend sharing",calculation:"(sum-of(Number of Services sharing the same Broker Backing Service) for all Broker Backing Services) / (Total Number of Services * Total Number of Broker Backing Service)",calculationFormula:"\\frac{\\displaystyle\\sum_{i=1}^{|BBS|} |\\Set{ s' | s' \\in S \\land share(s,s',bbs) }|  }{|S| * |BBS|}",helperFunctions:["share s_a,s_b,bbs \\to (\\exists l_1,l_2 \\subset L (l_1.sourceComponent = s_a \\land l_2.sourceComponent = s_b \\land l_1.targetEndpoint \\in bbs.providedEndpoints \\land l_2.targetEndpoint \\in bbs.providedEndpoints))"],sources:["new"],applicableEntities:[v.COMPONENT]},averageBrokerBackendSharing:{name:"Average broker backend sharing",calculation:"Average(Number of services using a broker service / Number of services) for all broker services",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|BBS|} \\frac{\\displaystyle\\sum_{j=1}^{|S|} \\begin{cases} 1 &\\text{if } \\exists l \\in L (l.sourceComponent = s_j \\land l.targetEndpoint \\in bbs_i.providedEndpoints) \\\\ 0 &\\text{else } \\end{cases}}{|S|} }{|BBS|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM]},averageWeightedBrokerBackendSharing:{name:"Average weighted broker backend sharing",calculation:"Average(Number of services (transitively) using a broker service weighted by their distance / Number of services) for all broker services",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|BBS|} \\frac{\\displaystyle\\sum_{j=1}^{|S|} \\begin{cases} 1/n &\\text{if } transitiveUse(s_j,bbs_i) \\\\ 0 &\\text{else } \\end{cases}}{|S|} }{|BBS|}",helperFunctions:["transitiveUse: s,bbs \\to (\\exists (l_1,...,l_n) \\subset L (l_1.sourceComponent = s \\land l_n.targetEndpoint \\in bbs.providedEndpoints))"],sources:["new"],applicableEntities:[v.SYSTEM]},averageStorageBackendSharing:{name:"Average storage backend sharing",calculation:"Average(Number of services using a storage service / Number of services) for all storage services",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|SBS|} \\frac{\\displaystyle\\sum_{j=1}^{|S|} \\begin{cases} 1 &\\text{if } \\exists l \\in L (l.sourceComponent = s_j \\land l.targetEndpoint \\in sbs_i.providedEndpoints) \\\\ 0 &\\text{else } \\end{cases}}{|S|} }{|SBS|}",helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM]},averageWeightedStorageBackendSharing:{name:"Average weighted storage backend sharing",calculation:"Average(Number of services (transitively) using a storage service weighted by their distance / Number of services) for all storage services",calculationFormula:"\\frac{ \\displaystyle\\sum_{i=1}^{|SBS|} \\frac{\\displaystyle\\sum_{j=1}^{|S|} \\begin{cases} 1/n &\\text{if } transitiveUse(s_j,sbs_i) \\\\ 0 &\\text{else } \\end{cases}}{|S|} }{|SBS|}",helperFunctions:["transitiveUse: s,sbs \\to (\\exists (l_1,...,l_n) \\subset L (l_1.sourceComponent = s \\land l_n.targetEndpoint \\in sbs.providedEndpoints))"],sources:["new"],applicableEntities:[v.SYSTEM]},rollingUpdates:{name:"Rolling updates",calculation:"Deployment Mappings with rolling updates / All Deployment Mappings",calculationFormula:'\\frac{ |\\Set{ dm | dm \\in DM \\land (dm.update\\_strategy = \\text{"rolling"} \\lor dm.update\\_strategy = "blue-green")} |}{|DM|}',helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]},ratioOfRateLimitingEndpoints:{name:"Ratio of rate limiting endpoints",calculation:"Endpoints with rate limiting / All Endpoints",calculationFormula:'\\frac{ |\\Set{ e | e \\in E \\land e.rate\\_limiting \\neq \\text{"none"}} |}{|E|}',helperFunctions:[],sources:["new"],applicableEntities:[v.SYSTEM,v.COMPONENT,v.REQUEST_TRACE]}};Object.freeze(BR);const lse=[{targetAspect:"timeBehaviour",evaluation:"aggregateImpacts",reasoning:"Different fators can influcence the time-behaviour of an application in various ways. Theses influences are not necessarily comparable in the sense that a positive impact could neutralize a negative impact or the other way around. The aspect therefore only provides an overview, but individual impacts need to be reviewed independently.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"availability",evaluation:"aggregateImpacts",reasoning:"The availability of an application can be influenced in different ways, considering different failure scenarios. The impacts on this aspect are therefore difficult to aggregate in a reasonable way. While this evaluation aims to provide an overview, individual impacts nevertheless need to be reviewed separately.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"analyzability",evaluation:"aggregateImpacts",reasoning:"The analyzability of an application can be influenced in different ways and depends on the specific goal for which a software is analyzed (debugging, refactoring, extension...). The impacts on this aspect are therefore difficult to aggregate. While this evaluation aims to provide an overview, individual impacts nevertheless need to be reviewed separately.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"confidentiality",evaluation:"aggregateImpacts",reasoning:"The confidentiality of an application depends on the confidentatiality of data both at rest (stored in an environemnt or a database) and it transit (when requests and responses are send via the network.) ",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"integrity",evaluation:"aggregateImpacts",reasoning:"The integrity depends on how access is restricted.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"accountability",evaluation:"aggregateImpacts",reasoning:"The accountability depends on how parts of application can be assigned to different accounts and how well actions can be traced to certain accounts.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"authenticity",evaluation:"aggregateImpacts",reasoning:"The authenticity depends on how well authentication is implemented and managed in a system",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"modularity",evaluation:"aggregateImpacts",reasoning:"The modularity mainly depends on service-orientation and how coupled components of a system are.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"reusability",evaluation:"aggregateImpacts",reasoning:"The reusability depends on whether components are standardized and similar to each other. Then there is potentialy for reusability.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"modifiability",evaluation:"aggregateImpacts",reasoning:"The modifiability depends on automation for changes and redeployments as well as independence of components.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"testability",evaluation:"aggregateImpacts",reasoning:"The testability depends on whether interfaces are well documented and can thus be tested against these specifications.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"simplicity",evaluation:"aggregateImpacts",reasoning:"The simplicity depends on how many components there are and how complex a system is.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"resourceUtilization",evaluation:"aggregateImpacts",reasoning:"Resource Utilization can be improved if resource requirements are clear and the system manages the resource consumption.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"elasticity",evaluation:"aggregateImpacts",reasoning:"Elasticity is impacted by statelessness as well as infrastructure supporting elastic scaling.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"adaptability",evaluation:"aggregateImpacts",reasoning:"The adaptability can be improved through automationa and codification of requirements.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"installability",evaluation:"aggregateImpacts",reasoning:"The installability depends on types of artifacts used and suitable automation.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"replaceability",evaluation:"aggregateImpacts",reasoning:"The replaceability depends on how state is managed and how communcation is managed.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"faultTolerance",evaluation:"aggregateImpacts",reasoning:"Fault Tolerance can be improved through managing communcation and implementing measures mitigating faults.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"recoverability",evaluation:"aggregateImpacts",reasoning:"The recoverability depends on how quickly problems can be detected and on how easy it is to set up a system again.",precondition:"at-least-one",impactsInterpretation:"median"},{targetAspect:"interoperability",evaluation:"aggregateImpacts",reasoning:"The interoperability depends on how well interfaces are described and thus useable by others.",precondition:"at-least-one",impactsInterpretation:"median"}],cse={qualityAspects:Od,factorCategories:RR,productFactors:DR,impacts:sse,measures:BR,qualityAspectEvaluations:lse},Om={Davis2019:{title:"Cloud Native Patterns",year:2019,authors:"Cornelia Davis",publisher:"Manning",url:"https://www.manning.com/books/cloud-native-patterns"},Garrison2017:{title:"Cloud Native Infrastructure",year:2017,authors:"Justin Garrison and Kris Nova",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native-infrastructure/9781491984291/"},Bastani2017:{title:"Cloud Native Java",year:2017,authors:"Kenny Bastani and Josh Long",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native-java/9781449374631/"},Scholl2019:{title:"Cloud Native",year:2019,authors:"Boris Scholl, Trent Swanson, and Peter Jausovec",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native/9781492053811/"},Richardson2019:{title:"Microservices Patterns",year:2019,authors:"Chris Richardson",publisher:"Manning",url:"https://www.manning.com/books/microservices-patterns"},Reznik2019:{title:"Cloud Native Transformation",year:2019,authors:"Pini Reznik, Jamie Dobson, and Michelle Gienow",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native-transformation/9781492048893/"},Arundel2019:{title:"Cloud Native DevOps with Kubernetes",year:2019,authors:"John Arundel and Justin Domingus",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/cloud-native-devops/9781492040750/"},Ibryam2020:{title:"Kubernetes Patterns",year:2020,authors:"Bilgin Ibryam and Roland Huß",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/kubernetes-patterns/9781492050278/"},Adkins2020:{title:"Building Secure and Reliable Systems",year:2020,authors:"Heather Adkins, Betsy Beyer, Paul Blankinship, Piotr Lewandowski, Ana Oprea, and Adam Stubblefield",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/building-secure-and/9781492083115/"},Indrasiri2021:{title:"Design Patterns for Cloud Native Applications",year:2021,authors:"Kasun Indrasiri and Sriskandarajah Suhothayan",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/design-patterns-for/9781492090700/"},Ruecker2021:{title:"Practical Process Automation",year:2021,authors:"Bernd Rücker",publisher:"O'Reilly",url:"https://www.oreilly.com/library/view/practical-process-automation/9781492061441/"},Goniwada2021:{title:"Cloud Native Architecture and Design",year:2021,authors:"Shivakumar Goniwada",publisher:"Apress",url:"https://link.springer.com/book/10.1007/978-1-4842-7226-8"},AbdelBaky2019:{title:"A general performance and QoS model for distributed software-defined environments",year:2019,authors:"Moustafa AbdelBaky and Manish Parashar",publisher:"",url:"https://doi.org/10.1109/TSC.2019.2928300"},Alam2016:{title:"A cloud platform-as-a-service for multimedia conferencing service provisioning",year:2016,authors:"Ahmad F. B. Alam and Abbas Soltanian and Sami Yangui and Mohammad A. Salahuddin and Roch Glitho and Halima Elbiaze",publisher:"IEEE",url:"https://doi.org/10.1109/iscc.2016.7543756"},Apel2019:{title:"Towards a metrics-based software quality rating for a microservice architecture",year:2019,authors:"Sebastian Apel and Florian Hertrampf and Steffen Späthe",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-030-22482-0_15"},Arumugam2017:{title:"Secure and QoS guaranteed selection resource for storing health care information of cloud users",year:2017,authors:"K. Arumugam and P. Sumathi",publisher:"IEEE",url:"https://doi.org/10.1109/iccmc.2017.8282657"},Athanasopoulos2011:{title:"Fine-grained metrics of cohesion lack for service interfaces",year:2011,authors:"Dionysis Athanasopoulos and Apostolos V. Zarras",publisher:"IEEE",url:"https://doi.org/10.1109/icws.2011.27"},Athanasopoulos2015:{title:"Cohesion-driven decomposition of service interfaces without access to source code",year:2015,authors:"Dionysis Athanasopoulos and Apostolos V. Zarras and George Miskos and Valerie Issarny and Panos Vassiliadis",publisher:"Institute of Electrical; Electronics Engineers (IEEE)",url:"https://doi.org/10.1109/tsc.2014.2310195"},BaniIsmail2018:{title:"A survey of existing evaluation frameworks for service identification methods: Towards a comprehensive evaluation framework",year:2018,authors:"Basel Bani-Ismail and Youcef Baghdadi",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-319-95204-8_17"},Baranwal2014:{title:"A framework for selection of best cloud service provider using ranked voting method",year:2014,authors:"Gaurav Baranwal and Deo Prakash Vidyarthi",publisher:"IEEE",url:"https://doi.org/10.1109/iadcc.2014.6779430"},Baranwal2016:{title:"A cloud service selection model using improved ranked voting method",year:2016,authors:"Gaurav Baranwal and Deo Prakash Vidyarthi",publisher:"Wiley",url:"https://doi.org/10.1002/cpe.3740"},BASCI2009:{title:"Data complexity metrics for XML web services",year:2009,authors:"D. BASCI and S. MISRA",publisher:"Universitatea Stefan cel Mare din Suceava",url:"https://doi.org/10.4316/aece.2009.02002"},Becker2015:{title:"Systematically deriving quality metrics for cloud computing systems",year:2015,authors:"Matthias Becker and Sebastian Lehrig and Steffen Becker",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/2668930.2688043"},Bento2021:{title:"Automated analysis of distributed tracing: Challenges and research directions",year:2021,authors:"Andre Bento and Jaime Correia and Ricardo Filipe and Filipe Araujo and Jorge Cardoso",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007/s10723-021-09551-5"},Bogner2020:{title:"Collecting service-based maintainability metrics from RESTful API descriptions: Static analysis and threshold derivation",year:2020,authors:"Justus Bogner and Stefan Wagner and Alfred Zimmermann",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-030-59155-7_16"},Bogner2017:{title:"Automatically measuring the maintainability of service- and microservice-based systems: A literature review",year:2017,authors:"Justus Bogner and Stefan Wagner and Alfred Zimmermann",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3143434.3143443"},Brito2021:{title:"Identification of microservices from monolithic applications through topic modelling",year:2021,authors:"Miguel Brito and Jácome Cunha and João Saraiva",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3412841.3442016"},Souza2016:{title:"Architectural recovering model for distributed databases: A reliability, availability and serviceability approach",year:2016,authors:"Ramon Hugo Souza and Paulo Arion Flores and Mario Antonio Ribeiro Dantas and Frank Siqueira",publisher:"IEEE",url:"https://doi.org/10.1109/iscc.2016.7543799"},Engel2018:{title:"Evaluation of microservice architectures: A metric and tool-based approach",year:2018,authors:"Thomas Engel and Melanie Langermeier and Bernhard Bauer and Alexander Hofmann",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-319-92901-9_8"},Garg2013:{title:"A framework for ranking of cloud computing services",year:2013,authors:"Saurabh Kumar Garg and Steve Versteeg and Rajkumar Buyya",publisher:"Elsevier BV",url:"https://doi.org/10.1016/j.future.2012.06.006"},Guerout2014:{title:"Quality of service modeling for green scheduling in clouds",year:2014,authors:"Tom Guérout and Samir Medjiah and Georges Da Costa and Thierry Monteil",publisher:"Elsevier BV",url:"https://doi.org/10.1016/j.suscom.2014.08.006"},Guerron2020:{title:"A taxonomy of quality metrics for cloud services",year:2020,authors:"Ximena Guerron and Silvia Abrahão and Emilio Insfran and Marta Fernández-Diego and Fernando González-Ladrón-De-Guevara",publisher:"",url:"https://doi.org/10.1109/ACCESS.2020.3009079"},Haupt2017:{title:"A framework for the structural analysis of REST APIs",year:2017,authors:"Florian Haupt and Frank Leymann and Anton Scherer and Karolina Vukojevic-Haupt",publisher:"IEEE",url:"https://doi.org/10.1109/icsa.2017.40"},Hirzalla2009:{title:"A metrics suite for evaluating flexibility and complexity in service oriented architectures",year:2009,authors:"Mamoun Hirzalla and Jane Cleland-Huang and Ali Arsanjani",publisher:"Springer Berlin Heidelberg",url:"https://doi.org/10.1007/978-3-642-01247-1_5"},Hofmeister2008:{title:"Supporting service-oriented design with metrics",year:2008,authors:"Helge Hofmeister and Guido Wirtz",publisher:"IEEE",url:"https://doi.org/10.1109/edoc.2008.13"},Hu2016:{title:"Elasticity evaluation of IaaS cloud based on mixed workloads",year:2016,authors:"Yazhou Hu and Bo Deng and Yu Yang and Dongxia Wang",publisher:"IEEE",url:"https://doi.org/10.1109/ispdc.2016.28"},Jin2021:{title:"Service candidate identification from monolithic systems based on execution traces",year:2021,authors:"Wuxia Jin and Ting Liu and Yuanfang Cai and Rick Kazman and Ran Mo and Qinghua Zheng",publisher:"Institute of Electrical; Electronics Engineers (IEEE)",url:"https://doi.org/10.1109/tse.2019.2910531"},Jin2018:{title:"Functionality-oriented microservice extraction based on execution trace clustering",year:2018,authors:"Wuxia Jin and Ting Liu and Qinghua Zheng and Di Cui and Yuanfang Cai",publisher:"IEEE",url:"https://doi.org/10.1109/icws.2018.00034"},Karhikeyan2012:{title:"A metrics suite and fuzzy model for measuring coupling in service oriented architecture",year:2012,authors:"T. Karhikeyan and J. Geetha",publisher:"IEEE",url:"https://doi.org/10.1109/racss.2012.6212677"},Kazemi2011:{title:"An information retrieval based approach for measuring service conceptual cohesion",year:2011,authors:"Ali Kazemi and Ali Rostampour and Amin Zamiri and Pooyan Jamshidi and Hassan Haghighi and Fereidoon Shams",publisher:"IEEE",url:"https://doi.org/"},KAZEMI2013:{title:"ABSIM: AN AUTOMATED BUSINESS SERVICE IDENTIFICATION METHOD",year:2013,authors:"ALI KAZEMI and HASSAN HAGHIGHI and FEREIDOON SHAMS",publisher:"World Scientific Pub Co Pte Lt",url:"https://doi.org/"},Kuhlenkamp2019:{title:"An evaluation of FaaS platforms as a foundation for serverless big data processing",year:2019,authors:"Jörn Kuhlenkamp and Sebastian Werner and Maria C. Borges and Karim El Tal and Stefan Tai",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3344341.3368796"},La2013:{title:"Framework for evaluating reusability of component-as-a-service (CaaS)",year:2013,authors:"Hyun Jung La and Jin Sun Her and Soo Dong Kim",publisher:"IEEE",url:"https://doi.org/"},Lehmann2017:{title:"A framework for evaluating continuous microservice delivery strategies",year:2017,authors:"Martin Lehmann and Frode Eika Sandnes",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3018896.3018961"},Li2020:{title:"Quantitative modeling and analytical calculation of elasticity in cloud computing",year:2020,authors:"Keqin Li",publisher:"",url:"https://doi.org/10.1109/TCC.2017.2665549"},Ma2009:{title:"Evaluating service identification with design metrics on business process decomposition",year:2009,authors:"Qian Ma and Nianjun Zhou and Yanfeng Zhu and Hao Wang",publisher:"IEEE",url:"https://doi.org/10.1109/scc.2009.44"},Manuel2013:{title:"A trust model of cloud computing based on quality of service",year:2013,authors:"Paul Manuel",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007/s10479-013-1380-x"},NikDaud2014:{title:"Static and dynamic classifications for SOA structural attributes metrics",year:2014,authors:"Nik Marsyahariani Nik Daud and Wan M. N. Wan Kadir",publisher:"",url:"https://doi.org/10.1109/MySec.2014.6986002"},Ntentos2020a:{title:"Assessing architecture conformance to coupling-related patterns and practices in microservices",year:2020,authors:"Evangelos Ntentos and Uwe Zdun and Konstantinos Plakidas and Sebastian Meixner and Sebastian Geiger",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-030-58923-3_1"},Ntentos2020:{title:"Metrics for assessing architecture conformance to microservice architecture patterns and practices",year:2020,authors:"Evangelos Ntentos and Uwe Zdun and Konstantinos Plakidas and Sebastian Meixner and Sebastian Geiger",publisher:"Springer",url:"https://doi.org/10.1007/978-3-030-65310-1_42"},Oh2011:{title:"A reusability evaluation suite for cloud services",year:2011,authors:"Sang Hun Oh and Hyun Jung La and Soo Dong Kim",publisher:"IEEE",url:"https://doi.org/10.1109/icebe.2011.27"},Oliveira2018:{title:"SOA reuse: Systematic literature review updating and research directions",year:2018,authors:"Joyce Aline Oliveira and Matheus Vargas and Roni Rodrigues",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3229345.3229419"},Perepletchikov2007:{title:"Cohesion metrics for predicting maintainability of service-oriented software",year:2007,authors:"Mikhail Perepletchikov and Caspar Ryan and Keith Frampton",publisher:"IEEE",url:"https://doi.org/10.1109/qsic.2007.4385516"},Perepletchikov2007a:{title:"Coupling metrics for predicting maintainability in service-oriented designs",year:2007,authors:"Mikhail Perepletchikov and Caspar Ryan and Keith Frampton and Zahir Tari",publisher:"IEEE",url:"https://doi.org/10.1109/aswec.2007.17"},PTQ2009:{title:"Dynamic coupling metrics for service – oriented software",year:2009,authors:"undefined undefined and Huynh Quyet Thang",publisher:"Zenodo",url:"https://doi.org/10.5281/ZENODO.1058263"},Qian2006:{title:"Decoupling metrics for services composition",year:2006,authors:"Kai Qian and Jigang Liu and F. Tsui",publisher:"IEEE",url:"https://doi.org/10.1109/icis-comsar.2006.30"},Raj2018:{title:"Microservices: A perfect SOA based solution for enterprise applications compared to web services",year:2018,authors:"Vinay Raj and S. Ravichandra",publisher:"",url:"https://doi.org/10.1109/RTEICT42901.2018.9012140"},Raj2021:{title:"Evaluation of SOA-based web services and microservices architecture using complexity metrics",year:2021,authors:"Vinay Raj and Ravichandra Sadam",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007%2Fs42979-021-00767-6"},Rizvi2017:{title:"Three-step approach to QoS maintenance in cloud computing using a third-party auditor",year:2017,authors:"Syed Rizvi and Hannah Roddy and Joseph Gualdoni and Ilva Myzyri",publisher:"Elsevier BV",url:"https://doi.org/10.1016/j.procs.2017.09.014"},Rosa2020:{title:"How “micro” are your services?",year:2020,authors:"Thatiane de Oliveira Rosa and Alfredo Goldman and Eduardo Martins Guerra",publisher:"",url:"https://doi.org/10.1109/ICSA-C50368.2020.00023"},Rud2006:{title:"Product Metrics for Service-Oriented Infrastructures",year:2006,authors:"Dmytro Rud and Andreas Schmietendorf and Reiner R. Dumke",publisher:"",url:""},Shim2008:{title:"A design quality model for service-oriented architecture",year:2008,authors:"Bingu Shim and Siho Choue and Suntae Kim and Sooyong Park",publisher:"IEEE",url:"https://doi.org/10.1109/apsec.2008.32"},Singh2015:{title:"Q-aware: Quality of service based cloud resource provisioning",year:2015,authors:"Sukhpal Singh and Inderveer Chana",publisher:"Elsevier BV",url:"https://doi.org/10.1016/j.compeleceng.2015.02.003"},Slimani2020:{title:"Service-oriented replication strategies for improving quality-of-service in cloud computing: A survey",year:2020,authors:"Sarra Slimani and Tarek Hamrouni and Faouzi Ben Charrada",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007/s10586-020-03108-z"},Taherizadeh2017:{title:"Incremental learning from multi-level monitoring data and its application to component based software engineering",year:2017,authors:"Salman Taherizadeh and Vlado Stankovski",publisher:"IEEE",url:"https://doi.org/10.1109/compsac.2017.148"},Talwar2005:{title:"Comparison of approaches to service deployment",year:2005,authors:"V. Talwar and Qinyi Wu and C. Pu and Wenchang Yan and Gueyoung Jung and D. Milojicic",publisher:"IEEE",url:"https://doi.org/10.1109/icdcs.2005.18"},Tiwari2014:{title:"In-out interaction complexity metrics for component-based software",year:2014,authors:"Umesh Tiwari and Santosh Kumar",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/2659118.2659135"},Vedam2012:{title:"Demystifying cloud benchmarking paradigm - an in depth view",year:2012,authors:"Venu Vedam and Jayanti Vemulapati",publisher:"IEEE",url:"https://doi.org/10.1109/compsac.2012.61"},Wang2009:{title:"Metrics for evaluating coupling and service granularity in service oriented architecture",year:2009,authors:"Xiao-jun Wang",publisher:"IEEE",url:"https://doi.org/10.1109/iciecs.2009.5362767"},Xiong2015:{title:"Ensuring cloud service guarantees via service level agreement (SLA)-based resource allocation",year:2015,authors:"Kaiqi Xiong and Xiao Chen",publisher:"IEEE",url:"https://doi.org/10.1109/icdcsw.2015.18"},Zdun2017:{title:"Ensuring and assessing architecture conformance to microservice decomposition patterns",year:2017,authors:"Uwe Zdun and Elena Navarro and Frank Leymann",publisher:"Springer International Publishing",url:"https://doi.org/10.1007%2F978-3-319-69035-3_29"},Zhang2009:{title:"Complexity metrics for service-oriented systems",year:2009,authors:"Qingqing Zhang and Li Xinke",publisher:"IEEE",url:"https://doi.org/10.1109/kam.2009.90"},Zimmermann2015:{title:"Metrics for architectural synthesis and evaluation: Requirements and compilation by viewpoint: An industrial experience report",year:2015,authors:"Olaf Zimmermann",publisher:"IEEE Press",url:"https://doi.org/10.1109/SAM.2015.9"},Camilli2022:{title:"Microservices integrated performance and reliability testing",year:2022,authors:"Matteo Camilli and Antonio Guerriero and Andrea Janes and Barbara Russo and Stefano Russo",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3524481.3527233"},Filippone2023:{title:"From monolithic to microservice architecture: An automated approach based on graph clustering and combinatorial optimization",year:2023,authors:"Gianluca Filippone and Nadeem Qaisar Mehmood and Marco Autili and Fabrizio Rossi and Massimo Tivoli",publisher:"IEEE",url:"https://doi.org/10.1109/icsa56044.2023.00013"},Genfer2021:{title:"Identifying domain-based cyclic dependencies in microservice APIs using source code detectors",year:2021,authors:"Patric Genfer and Uwe Zdun",publisher:"Springer International Publishing",url:"https://doi.org/10.1007/978-3-030-86044-8_15"},Henning2022:{title:"A configurable method for benchmarking scalability of cloud-native applications",year:2022,authors:"Sören Henning and Wilhelm Hasselbring",publisher:"Springer Science; Business Media LLC",url:"https://doi.org/10.1007/s10664-022-10162-1"},Moreira2022:{title:"Analysis of microservice evolution using cohesion metrics",year:2022,authors:"Mateus Gabi Moreira and Breno Bernard Nicolau De França",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3559712.3559716"},Ntentos2022:{title:"Assessing architecture conformance to security-related practices in infrastructure as code based deployments",year:2022,authors:"Evangelos Ntentos and Uwe Zdun and Ghareeb Falazi and Uwe Breitenbucher and Frank Leymann",publisher:"IEEE",url:"https://doi.org/10.1109/scc55611.2022.00029"},Peng2022:{title:"Trace analysis based microservice architecture measurement",year:2022,authors:"Xin Peng and Chenxi Zhang and Zhongyuan Zhao and Akasaka Isami and Xiaofeng Guo and Yunna Cui",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3540250.3558951"},Silva2023:{title:"Quality metrics in software architecture",year:2023,authors:"Samira Silva and Adiel Tuyishime and Tiziano Santilli and Patrizio Pelliccione and Ludovico Iovino",publisher:"IEEE",url:"https://doi.org/10.1109/icsa56044.2023.00014"},Straesser2023:{title:"A systematic approach for benchmarking of container orchestration frameworks",year:2023,authors:"Martin Straesser and Jonas Mathiasch and André Bauer and Samuel Kounev",publisher:"Association for Computing Machinery",url:"https://doi.org/10.1145/3578244.3583726"},Yussupov2022:{title:"Serverless or serverful? A pattern-based approach for exploring hosting alternatives",year:2022,authors:"Vladimir Yussupov and Uwe Breitenbücher and Antonio Brogi and Lukas Harzenetter and Frank Leymann and Jacopo Soldani",publisher:"Springer International Publishing",url:"https://doi.org/10.1007/978-3-031-18304-1_3"},Zdun2023:{title:"Microservice security metrics for secure communication, identity management, and observability",year:2023,authors:"Uwe Zdun and Pierre-Jean Queval and Georg Simhandl and Riccardo Scandariato and Somik Chakravarty and Marjan Jelic and Aleksandar Jovanovic",publisher:"Association for Computing Machinery (ACM)",url:"https://doi.org/10.1145/3532183"},Venkitachalam2017:{title:"Automated continuous evaluation of AUTOSAR software architecture for complex powertrain systems",year:2017,authors:"Hariharan Venkitachalam and Kalkin Anand Powale and Christian Granrath and Johannes Richenhagen",publisher:"Gesellschaft für Informatik, Bonn",url:""},Abgaz2023:{title:"Decomposition of Monolith Applications Into Microservices Architectures: A Systematic Review",year:2023,authors:"Abgaz, Yalemisew and McCarren, Andrew and Elger, Peter and Solan, David and Lapuz, Neil and Bivol, Marin and Jackson, Glenn and Yilmaz, Murat and Buckley, Jim and Clarke, Paul",publisher:"IEEE",url:"https://doi.org/10.1109/TSE.2023.3287297"},AlDebagy2020:{title:"A Metrics Framework for Evaluating Microservices Architecture Designs",year:2020,authors:"Al-Debagy, O. and Martinek, P.",publisher:"IEEE",url:"https://doi.org/10.13052/jwe1540-9589.19341"},Asik2017:{title:"Policy enforcement upon software based on microservice architecture",year:2017,authors:"Asik, Tugrul and Selcuk, Yunus Emre",publisher:"IEEE",url:"https://doi.org/10.1109/SERA.2017.7965739"},Assuncao2021:{title:"A Multi-Criteria Strategy for Redesigning Legacy Features as Microservices: An Industrial Case Study",year:2021,authors:"Assuncao, Wesley K. G. and Colanzi, Thelma Elita and Carvalho, Luiz and Pereira, Juliana Alves and Garcia, Alessandro and de Lima, Maria Julia and Lucena, Carlos",publisher:"IEEE",url:"https://doi.org/10.1109/saner50967.2021.00042"},Daniel2023:{title:"Towards the Detection of Microservice Patterns Based on Metrics",year:2023,authors:"Daniel, João and Guerra, Eduardo and Rosa, Thatiane and Goldman, Alfredo",publisher:"IEEE",url:"https://doi.org/10.1109/SEAA60479.2023.00029"},Desai2021:{title:"Graph Neural Network to Dilute Outliers for Refactoring Monolith Application",year:2021,authors:"Desai, Utkarsh and Bandyopadhyay, Sambaran and Tamilselvam, Srikanth",publisher:"PKP PS",url:"https://doi.org/10.1609/aaai.v35i1.16079"},Gamage2021:{title:"Using dependency graph and graph theory concepts to identify anti-patterns in a microservices system: A tool-based approach",year:2021,authors:"Gamage, Isuru Udara Piyadigama and Perera, Indika",publisher:"IEEE",url:"https://doi.org/10.1109/MERCon52712.2021.9525743"},Ntentos2021:{title:"Evaluating and Improving Microservice Architecture Conformance to Architectural Design Decisions",year:2021,authors:"Ntentos, Evangelos and Zdun, Uwe and Plakidas, Konstantinos and Geiger, Sebastian",publisher:"IEEE",url:"https://doi.org/10.1007/978-3-030-91431-8_12"},Perera2018:{title:"TheArchitect: A Serverless-Microservices Based High-level Architecture Generation Tool",year:2018,authors:"Perera, K. J. P. G. and Perera, I.",publisher:"Springer",url:"https://doi.org/10.1109/ICIS.2018.8466390"},Perera2018a:{title:"A Rule-based System for Automated Generation of Serverless-Microservices Architecture",year:2018,authors:"Perera, K. J. P. G. and Perera, I.",publisher:"IEEE",url:"https://doi.org/10.1109/SysEng.2018.8544423"},Zdun2023a:{title:"Detection Strategies for Microservice Security Tactics",year:2023,authors:"Zdun, Uwe and Queval, Pierre-Jean and Simhandl, Georg and Scandariato, Riccardo and Chakravarty, Somik and Jelić, Marjan and Jovanović, Aleksandar",publisher:"IEEE",url:"https://doi.org/10.1109/TDSC.2023.3276487"}};Object.freeze(Om);var Hv,Vv,Gv;class K6{constructor(t,n,i){Fe(this,Hv);Fe(this,Vv);Fe(this,Gv);De(this,Hv,t),De(this,Vv,n),De(this,Gv,i)}get getKey(){return k(this,Hv)}get getInfo(){return k(this,Vv)}get getUrl(){return k(this,Gv)}}Hv=new WeakMap,Vv=new WeakMap,Gv=new WeakMap;var Wv,jv,Kv,Yv,Xv,Jv;class use{constructor(t,n,i,r,a,o){Fe(this,Wv);Fe(this,jv);Fe(this,Kv);Fe(this,Yv);Fe(this,Xv);Fe(this,Jv);De(this,Wv,t),De(this,jv,n),De(this,Kv,i),De(this,Xv,r),De(this,Yv,a),De(this,Jv,o)}get getKey(){return k(this,Wv)}get getName(){return k(this,jv)}get getDescription(){return k(this,Kv)}get getSymbol(){return k(this,Xv)}get getFormalSpecification(){return k(this,Yv)}get getRelation(){return k(this,Jv)}}Wv=new WeakMap,jv=new WeakMap,Kv=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,Jv=new WeakMap;function LR(e){switch(e){case"negative":return-1;case"slightly negative":return-.5;case"neutral":return 0;case"slightly positive":return .5;case"positive":return 1;default:case"n/a":return NaN}}function gm(e){return isNaN(e)?"n/a":e<-.5?"negative":e<0?"slightly negative":e===0?"neutral":e<.5?"slightly positive":"positive"}function dse(e){return e<=0?"none":Wt(e)}const kx=1/3,Ix=2/3;function Wt(e){if(Number.isNaN(e)||e===0)return"none";if(e>0&&e<kx)return"low";if(e>=kx&&e<Ix)return"moderate";if(e>=Ix&&e<=1)return"high";throw new Error("A numeric evaluation result for a product factor should be between 0 and 1, here it is: "+e)}const Y6=Math.pow(kx,2),X6=Math.pow(Ix,2);function J6(e){if(Number.isNaN(e)||e===0)return"none";if(e>0&&e<Y6)return"low";if(e>=Y6&&e<X6)return"moderate";if(e>=X6&&e<=1)return"high";throw new Error("A numeric evaluation result for a product factor should be between 0 and 1, here it is: "+e)}const Q6=Math.sqrt(kx),Z6=Math.sqrt(Ix);function Ur(e){if(Number.isNaN(e)||e===0)return"none";if(e>0&&e<Q6)return"low";if(e>=Q6&&e<Z6)return"moderate";if(e>=Z6&&e<=1)return"high";throw new Error("A numeric evaluation result for a product factor should be between 0 and 1, here it is: "+e)}function hse(e,t){if(e==="n/a")return"n/a";let n=typeof e=="string"?e:Wt(e);if(t==="positive")switch(n){case"none":case"low":return"neutral";case"moderate":return"slightly positive";case"high":return"positive"}else if(t==="negative")switch(n){case"none":case"low":return"neutral";case"moderate":return"slightly negative";case"high":return"negative"}else throw new Error("Unknown impactType: "+t)}function fse(e,t){return hse(e,t)}const Zt=e=>e.length===0?0:e.reduce((t,n)=>t+n,0)/e.length,FR=e=>{if(!e.length)return;const t=[...e].sort((i,r)=>i-r),n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},zR=e=>Math.min(...e),$R=(e,t)=>e.reduce(function(n,i,r){return t(i,r,e)?n[0].push(i):n[1].push(i),n},[[],[]]),qR=e=>e.reduce((t,n)=>t+n,0)/e.length,UR=e=>{if(!e.length)return;const t=[...e].sort((i,r)=>i-r),n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},HR=e=>Math.min(...e),VR=e=>Math.max(...e),pse={aggregateImpacts:e=>{let t=e.incomingImpacts.map(o=>o.weight);if(t.length===0)return"n/a";let n=t.filter(o=>o!=="n/a"),i=n.length;if(i===0||e.precondition==="all"&&i<t.length||e.precondition==="majority"&&i<Math.ceil(t.length/2))return"n/a";let r=n.map(o=>LR(o)),a=(o=>{switch(o.impactsInterpretation){case"highest":return VR(r);case"lowest":return HR(r);case"mean":return qR(r);case"median":return UR(r);case"custom":return o.customImpactInterpretation(r);default:throw new Error("Unknown impacts interpretation: "+o.impactsInterpretation)}})(e);return dse(a)}},gse={serviceReplication:e=>{let t=e.calculatedMeasures.get("serviceReplicationLevel").value,n=e.calculatedMeasures.get("amountOfRedundancy").value;if(t==="n/a")return"n/a";if(typeof t=="number")return t<=1?"none":t>1&&t<1.5?"low":t>=1.5&&t<3?"moderate":n>2?"high":"moderate";throw new Error(`serviceReplicationLevel is of type ${typeof t}, but should be of type number`)},horizontalDataReplication:e=>{let t=e.calculatedMeasures.get("storageReplicationLevel").value;if(t==="n/a")return"n/a";if(typeof t=="number")return t<=1?"none":t>1&&t<1.5?"low":t>=1.5&&t<3?"moderate":"high";throw new Error(`storageReplicationLevel is of type ${typeof t}, but should be of type number`)},shardedDataStoreReplication:e=>{let t=e.calculatedMeasures.get("dataShardingLevel").value;if(t==="n/a")return"n/a";if(typeof t=="number")return t<=1?"none":t>1&&t<1.5?"low":t>=1.5&&t<3?"moderate":"high";throw new Error(`dataShardingLevel is of type ${typeof t}, but should be of type number`)},systemVerticalDataReplication:e=>{let t=e.calculatedMeasures.get("ratioOfCachedDataAggregates").value;if(t==="n/a")return"n/a";if(typeof t=="number")return Wt(t);throw new Error(`ratioOfCachedDataAggregates is of type ${typeof t}, but should be of type number`)},requestTraceVerticalDataReplication:e=>{let t=e.calculatedMeasures.get("dataReplicationAlongRequestTrace").value;if(t==="n/a")return"n/a";if(typeof t=="number")return Wt(t);throw new Error(`dataReplicationAlongRequestTrace is of type ${typeof t}, but should be of type number`)},consistentlyMediatedCommunication:e=>{let t=e.calculatedMeasures.get("serviceMeshUsage").value;if(t==="n/a")return"n/a";if(typeof t=="number")return Wt(t);throw new Error(`dataReplicationAlongRequestTrace is of type ${typeof t}, but should be of type number`)},addressingAbstraction:e=>{let t=e.calculatedMeasures.get("serviceDiscoveryUsage").value;if(t==="n/a")return"n/a";if(typeof t=="number")return Wt(t);throw new Error(`dataReplicationAlongRequestTrace is of type ${typeof t}, but should be of type number`)},dataEncryptionInTransit:e=>{let t=e.calculatedMeasures.get("ratioOfExternalEndpointsSupportingTls").value,n=e.calculatedMeasures.get("ratioOfSecuredLinks").value;return n==="n/a"||t==="n/a"?"n/a":Wt(Zt([t,n]))},isolatedSecrets:e=>{let t=e.calculatedMeasures.get("secretsExternalization").value;return t==="n/a"?"n/a":Wt(t)},secretsStoredInSpecializedServices:e=>{let t=e.calculatedMeasures.get("secretsStoredInVault").value;return t==="n/a"?"n/a":Wt(t)},leastPrivilegedAccess:e=>{let t=e.calculatedMeasures.get("accessRestrictedToCallers").value;return t==="n/a"?"n/a":Wt(t)},accessControlManagementConsistency:e=>{let t=e.calculatedMeasures.get("iendpointAccessMethodsConsistency").value,n=e.calculatedMeasures.get("externalEndpointAccessConsistency").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:Zt([t,n]))},accountSeparation:e=>{let t=e.calculatedMeasures.get("ratioOfUniqueAccountUsage").value;return t==="n/a"?"n/a":Ur(t)},authenticationDelegation:e=>{let t=e.calculatedMeasures.get("ratioOfDelegatedAuthentication").value;return t==="n/a"?"n/a":Ur(t)},limitedDataScope:e=>{let t=e.calculatedMeasures.get("cohesionBetweenEndpointsBasedOnDataAggregateUsage").value;return t==="n/a"?"n/a":Wt(t)},limitedEndpointScope:e=>{let t=e.calculatedMeasures.get("serviceInterfaceUsageCohesion").value;return t==="n/a"?"n/a":Wt(t)},commandQueryResponsibilitySegregation:e=>{let t=e.calculatedMeasures.get("readWriteSeparationForDataAggregates").value;return t==="n/a"?"n/a":J6(t)},mostlyStatelessServices:e=>{let t=e.calculatedMeasures.get("ratioOfStatelessComponents").value,n=e.calculatedMeasures.get("degreeToWhichComponentsAreLinkedToStatefulComponents").value;return t==="n/a"||n==="n/a"?"n/a":Wt(Zt([t,1-n]))},specializedStatefulServices:e=>{let t=e.calculatedMeasures.get("ratioOfSpecializedStatefulServices").value,n=e.calculatedMeasures.get("suitablyReplicatedStatefulService").value;return t==="n/a"?"n/a":Wt(n!=="n/a"?t*n:t)},asynchronousCommunication:e=>{let t=e.calculatedMeasures.get("degreeOfAsynchronousCommunication").value,n=e.calculatedMeasures.get("asynchronousCommunicationUtilization").value;return t==="n/a"?"n/a":Wt(n!=="n/a"?Zt([t,t]):t)},healthAndReadinessChecks:e=>{let t=e.calculatedMeasures.get("ratioOfServicesThatProvideHealthEndpoints").value,n=e.calculatedMeasures.get("ratioOfServicesThatProvideHealthEndpoints").value;return t==="n/a"?n==="n/a"?"n/a":Ur(n*.5):Ur(n==="n/a"?t*.5:Zt([t,n]))},separationByGateways:e=>{let t=e.calculatedMeasures.get("degreeOfSeparationByGateways").value;return t==="n/a"?"n/a":Wt(t)},communicationPartnerAbstraction:e=>{let t=e.calculatedMeasures.get("eventSourcingUtilizationMetric").value;return t==="n/a"?"n/a":J6(t)},persistentCommunication:e=>{let t=e.calculatedMeasures.get("serviceInteractionViaBackingService").value,n=e.calculatedMeasures.get("eventSourcingUtilizationMetric").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:t*.4+n*.6)},usageOfExistingSolutionsForNonCoreCapabilities:e=>{let t=e.calculatedMeasures.get("ratioOfNonCustomBackingServices").value;return t==="n/a"?"n/a":Ur(t)},standardization:e=>{let t=e.calculatedMeasures.get("ratioOfStandardizedArtifacts").value,n=e.calculatedMeasures.get("ratioOfEntitiesProvidingStandardizedArtifacts").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:n*.7+t*.3)},componentSimilarityRequestTrace:e=>{let t=e.calculatedMeasures.get("componentArtifactsSimilarity").value;return t==="n/a"?"n/a":Wt(t)},componentSimilaritySystem:e=>{let t=e.calculatedMeasures.get("componentArtifactsSimilarity").value,n=e.calculatedMeasures.get("infrastructureArtifactsSimilarity").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:Zt([t,n]))},distributedTracingOfInvocations:e=>{let t=e.calculatedMeasures.get("distributedTracingSupport").value;return t==="n/a"?"n/a":Wt(t)},consistentCentralizedLogging:e=>{let t=e.calculatedMeasures.get("ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService").value;return t==="n/a"?"n/a":Wt(t)},consistentCentralizedMetrics:e=>{let t=e.calculatedMeasures.get("ratioOfComponentsOrInfrastructureNodesThatExportMetrics").value;return t==="n/a"?"n/a":Wt(t)},automatedInfrastructureProvisioning:e=>{let t=e.calculatedMeasures.get("ratioOfAutomaticallyProvisionedInfrastructure").value;return t==="n/a"?"n/a":Wt(t)},useInfrastructureAsCode:e=>{let t=e.calculatedMeasures.get("ratioOfInfrastructureWithIaCArtifact").value;return t==="n/a"?"n/a":Wt(t)},dynamicScheduling:e=>{let t=e.calculatedMeasures.get("ratioOfDeploymentsOnDynamicInfrastructure").value;return t==="n/a"?"n/a":Wt(t)},lowCouplingForComponent:e=>{let t=e.calculatedMeasures.get("numberOfComponentsAComponentIsLinkedToRelativeToTheTotalAmountOfComponents").value;if(t==="n/a")return"n/a";let n=1-t;return Wt(n)},lowCouplingForSystem:e=>{let t=e.calculatedMeasures.get("degreeOfCouplingInASystem").value;if(t==="n/a")return"n/a";let n=1-t;return Ur(n)},functionalDecentralization:e=>{let t=e.calculatedMeasures.get("dataAggregateSpread").value,n=e.calculatedMeasures.get("requestTraceSimilarityBasedOnIncludedComponents").value;return t==="n/a"?n==="n/a"?"n/a":Ur(1-n):Ur(n==="n/a"?1-t:Zt([1-t,1-n]))},limitedRequestTraceScopeForRequestTrace:e=>{let t=e.calculatedMeasures.get("requestTraceComplexity").value,n=e.calculatedMeasures.get("maximumNumberOfServicesWithinARequestTrace").value;if(t==="n/a"||n==="n/a")return"n/a";let i=Math.max(t,n);return i<=1?"high":i>1&&i<=3?"moderate":i>3&&i<=6?"low":"none"},limitedRequestTraceScopeForSystem:e=>{let t=e.calculatedMeasures.get("averageComplexityOfRequestTraces").value,n=e.calculatedMeasures.get("maximumNumberOfServicesWithinARequestTrace").value;if(t==="n/a"||n==="n/a")return"n/a";let i=Math.max(t,n);return i<=1?"high":i>1&&i<=3?"moderate":i>3&&i<=6?"low":"none"},logicalGrouping:e=>{let t=e.calculatedMeasures.get("namespaceSeparation").value;return t==="n/a"?"n/a":Ur(t)},backingServiceDecentralizationForComponent:e=>{let t=e.calculatedMeasures.get("ratioOfStorageBackendSharing").value,n=e.calculatedMeasures.get("ratioOfBrokerBackendSharing").value;return t==="n/a"?n==="n/a"?"n/a":Wt(1-n):Wt(n==="n/a"?1-t:Zt([1-t,1-n]))},backingServiceDecentralizationForSystem:e=>{let t=e.calculatedMeasures.get("averageWeightedStorageBackendSharing").value,n=e.calculatedMeasures.get("averageWeightedBrokerBackendSharing").value;return t==="n/a"?n==="n/a"?"n/a":Ur(1-n):Ur(n==="n/a"?1-t:Zt([1-t,1-n]))},managedInfrastructure:e=>{let t=e.calculatedMeasures.get("ratioOfFullyManagedInfrastructure").value;return t==="n/a"?"n/a":Ur(t)},managedBackingServices:e=>{let t=e.calculatedMeasures.get("ratioOfManagedBackingServices").value;return t==="n/a"?"n/a":Ur(t)},operationOutsourcing:e=>{let t=e.calculatedMeasures.get("ratioOfProviderManagedComponentsAndInfrastructure").value;return t==="n/a"?"n/a":Ur(t)},enforcementOfAppropriateResourceBoundaries:e=>{let t=e.calculatedMeasures.get("ratioOfInfrastructureEnforcingResourceBoundaries").value,n=e.calculatedMeasures.get("ratioOfDeploymentMappingsWithStatedResourceRequirements").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:Zt([t,n]))},enforcementOfAppropriateResourceBoundariesForComponents:e=>{let t=e.calculatedMeasures.get("ratioOfDeploymentMappingsWithStatedResourceRequirements").value;return t==="n/a"?"n/a":Wt(t)},automatedInfrastructureMaintenance:e=>{let t=e.calculatedMeasures.get("ratioOfAutomaticallyMaintainedInfrastructure").value;return t==="n/a"?"n/a":Wt(t)},builtInAutoscaling:e=>{let t=e.calculatedMeasures.get("infrastructureAutoscaling").value,n=e.calculatedMeasures.get("deployedEntitiesAutoscaling").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:Zt([t,n]))},builtInAutoscalingForComponent:e=>{let t=e.calculatedMeasures.get("deployedEntitiesAutoscaling").value;return t==="n/a"?"n/a":Wt(t)},infrastructureAbstraction:e=>{let t=e.calculatedMeasures.get("ratioOfAbstractedHardware").value;return t==="n/a"?"n/a":Wt(t)},cloudVendorAbstraction:e=>{let t=e.calculatedMeasures.get("nonProviderSpecificInfrastructureArtifacts").value,n=e.calculatedMeasures.get("nonProviderSpecificComponentArtifacts").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:Zt([t,n]))},cloudVendorAbstractionForInfrastructure:e=>{let t=e.calculatedMeasures.get("nonProviderSpecificInfrastructureArtifacts").value;return t==="n/a"?"n/a":Wt(t)},cloudVendorAbstractionForComponents:e=>{let t=e.calculatedMeasures.get("nonProviderSpecificComponentArtifacts").value;return t==="n/a"?"n/a":Wt(t)},isolatedConfiguration:e=>{let t=e.calculatedMeasures.get("configurationExternalization").value;return t==="n/a"?"n/a":Wt(t)},configurationStoredInSpecializedServices:e=>{let t=e.calculatedMeasures.get("configurationStoredInConfigService").value;return t==="n/a"?"n/a":Wt(t)},contractBasedLinks:e=>{let t=e.calculatedMeasures.get("ratioOfEndpointsCoveredByContract").value;return t==="n/a"?"n/a":Wt(t)},standardizedSelfContainedDeploymentUnit:e=>{let t=e.calculatedMeasures.get("standardizedDeployments").value,n=e.calculatedMeasures.get("selfContainedDeployments").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:Zt([t,n]))},immutableArtifacts:e=>{let t=e.calculatedMeasures.get("replacingDeployments").value;return t==="n/a"?"n/a":Wt(t)},guardedIngress:e=>{let t=e.calculatedMeasures.get("ratioOfComponentsWhoseExternalIngressIsProxied").value,n=e.calculatedMeasures.get("ratioOfRateLimitingEndpoints").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n*.5):Wt(n==="n/a"?t*.5:Zt([t,n]))},rollingUpgradesEnabledForInfrastructure:e=>{let t=e.calculatedMeasures.get("rollingUpdateOption").value;return t==="n/a"?"n/a":Wt(t)},rollingUpgradesEnabledForComponents:e=>{let t=e.calculatedMeasures.get("rollingUpdates").value;return t==="n/a"?"n/a":Wt(t)},rollingUpgradesEnabled:e=>{let t=e.calculatedMeasures.get("rollingUpdateOption").value,n=e.calculatedMeasures.get("rollingUpdates").value;return t==="n/a"?n==="n/a"?"n/a":Wt(n):Wt(n==="n/a"?t:Zt([t,n]))},physicalDataDistribution:e=>{let t=e.calculatedMeasures.get("numberOfAvailabilityZonesUsedByStorageServices").value;if(t==="n/a"||t===0)return"n/a";if(t===1)return"none";if(t>1&&t<3)return"low";if(t>=3&&t<4)return"moderate";if(t>=4)return"high"},physicalServiceDistribution:e=>{let t=e.calculatedMeasures.get("numberOfAvailabilityZonesUsedByServices").value;if(t==="n/a"||t===0)return"n/a";if(t===1)return"none";if(t>1&&t<3)return"low";if(t>=3&&t<4)return"moderate";if(t>=4)return"high"},distribution:e=>{let t=e.calculatedMeasures.get("numberOfAvailabilityZonesUsedByInfrastructure").value;if(t==="n/a"||t===0)return"n/a";if(t===1)return"none";if(t>1&&t<3)return"low";if(t>=3&&t<4)return"moderate";if(t>=4)return"high"},invocationTimeouts:e=>{let t=e.calculatedMeasures.get("ratioOfLinksWithTimeout").value;return t==="n/a"?"n/a":Ur(t)},retriesForSafeInvocations:e=>{let t=e.calculatedMeasures.get("ratioOfLinksWithRetryLogic").value;return t==="n/a"?"n/a":Ur(t)},circuitBreakedCommunication:e=>{let t=e.calculatedMeasures.get("ratioOfLinksWithComplexFailover").value;return t==="n/a"?"n/a":Ur(t)},automatedRestarts:e=>{let t=e.calculatedMeasures.get("deploymentsWithRestart").value;return t==="n/a"?"n/a":Ur(t)},apiBasedCommunication:e=>{let t=e.calculatedMeasures.get("ratioOfDocumentedEndpoints").value;return t==="n/a"?"n/a":Wt(t)},sparsity:e=>{let t=e.calculatedMeasures.get("numberOfComponents").value;return t==="n/a"?"n/a":t<3?"high":t>=3&&t<6?"moderate":t>=6&&t<10?"low":"none"}},mse={aggregateImpacts:e=>{let t=e.incomingImpacts.map(a=>a.weight);if(t.length===0)return"n/a";let n=t.filter(a=>a!=="n/a"),i=n.length;if(i===0||e.precondition==="all"&&i<t.length||e.precondition==="majority"&&i<Math.ceil(t.length/2))return"n/a";let r=n.map(a=>LR(a));if(r.every(a=>a>=0)||r.every(a=>a<0))switch(e.impactsInterpretation){case"highest":return gm(VR(r));case"lowest":return gm(HR(r));case"mean":return gm(qR(r));case"median":return gm(UR(r));case"custom":return gm(e.customImpactInterpretation(r));default:throw new Error("Unknown impacts interpretation: "+e.impactsInterpretation)}else return"mixed"}},yse={},b4=["HTTPS","https","SFTP","sftp"],vse="query",bse="command",GR="send event",WR="subscribe",zl=[vse,bse],R0=[GR,WR],jR=["queue","topic"],KR=["log"],Ay=["vault"],Ox=["configuration"],YR=["limited","none"],Ese=["automated-coded","automated-inferred","transparent"],XR=["transparent","automated"],xse=["transparent"],I1=["software-platform","cloud-service"],O1=["rolling","blue-green"],ao="config",g0="logs",m0="metrics",oo="secret",Rr=["usage","cached-usage"],Di=["persistence"],Px="Service Mesh",JR="custom",QR=["Terraform.Script","CloudFormation.Script","Pulumi.Script","Ansible.Script","Chef.Script","Puppet.Script","Azure.ResourceManagerTemplate"],E4=["Spring.CloudContract","Pact.Contract"],y0=["automated-built-in","automated-separate"],x4=["onProcessFailure","onHealthFailure"],Sse=e=>{switch(e){case"persistence":return .5;case"cached-usage":return .1;case"usage":default:return .25}},_se=e=>{switch(e){case"event":return .1;case"command":return .5;case"query":default:return .2}},ZR=e=>{let t=!1,n=!1;for(const i of e.getBackingDataEntities){if(i.backingData.getProperty("kind").value===m0){t=!0;continue}i.backingData.getProperty("kind").value===g0&&(n=!0)}return t&&n},S4=e=>[...e.getEndpointEntities.entries()].filter(n=>n[1].getProperty("health_check").value).length>0,_4=e=>[...e.getEndpointEntities.entries()].filter(n=>n[1].getProperty("readiness_check").value).length>0,C4=e=>{let t=e.map(n=>n.getProperties().find(i=>i.getKey==="protocol").value).filter(n=>b4.includes(n)).length;return e.length===0?"n/a":t/e.length},Cse=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);return C4(t)},w4=e=>{let t=e.map(n=>n.getProperties().find(i=>i.getKey==="protocol").value).filter(n=>b4.includes(n)).length;return e.length===0?"n/a":t/e.length},wse=e=>{let t=e.entity.getExternalEndpointEntities;return w4(t)},eD=e=>{let t=new Map;e.entity.getDataAggregateEntities.forEach(i=>{t.set(i.data.getId,[])}),e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities).forEach(i=>{for(const r of i.getDataAggregateEntities)t.has(r.data.getId)&&t.set(r.data.getId,t.get(r.data.getId).concat(i.getId))});let n=new Set;for(const[i,r]of t.entries())r.length>1&&r.forEach(n.add,n);return t.size>0?n.size/t.size:0},tD=e=>{let t=0,n=e.entity.getEndpointEntities,i=n.map(a=>a.getId),r=new Set;for(const[a,o]of e.system.getLinkEntities)i.includes(o.getTargetEndpoint.getId)&&(r.add(o.getSourceEntity.getId),t++);return n.length===0||r.size===0?"n/a":t/(n.length*r.size)},Tse=e=>{let t=eD(e),n=tD(e);return(t+n)/2},Ase=e=>{let n=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities).filter(a=>a.getDataAggregateEntities.length>0);if(n.length===0||e.entity.getDataAggregateEntities.length===0)return"n/a";let i=new Map,r=[];for(const[a,o]of n.entries()){i.has(o.getId)||i.set(o.getId,new Set([...o.getDataAggregateEntities.entries()].map(s=>s[1].data.getId)));for(const s of n.slice(a+1)){i.has(s.getId)||i.set(s.getId,new Set([...s.getDataAggregateEntities.entries()].map(c=>c[1].data.getId)));let l=i.get(o.getId).union(i.get(s.getId));l.size===0?r.push(0):r.push(i.get(o.getId).intersection(i.get(s.getId)).size/l.size)}}return Zt(r)},kse=e=>e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities).length,nD=e=>e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities).filter(t=>zl.includes(t.getProperty("kind").value)).length,Ise=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);return t.length===0?"n/a":t.filter(i=>i.getDataAggregateEntities.length>0).length/t.length},iD=e=>e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities).filter(t=>R0.includes(t.getProperty("kind").value)).length,Ose=e=>e.system.getOutgoingLinksOfComponent(e.entity.getId).filter(n=>zl.includes(n.getTargetEndpoint.getProperty("kind").value)).length,Pse=e=>e.system.getOutgoingLinksOfComponent(e.entity.getId).filter(n=>R0.includes(n.getTargetEndpoint.getProperty("kind").value)).length,Mse=e=>{let t=e.system.getOutgoingLinksOfComponent(e.entity.getId),n=t.filter(i=>R0.includes(i.getTargetEndpoint.getProperty("kind").value));return t.length===0?"n/a":n.length/t.length},Nse=e=>{let t=d_(e),n=e.system.getIncomingLinksOfComponent(e.entity.getId);return t+n.length},d_=e=>e.system.getOutgoingLinksOfComponent(e.entity.getId).length,Rse=e=>{let t=d_(e),n=e.system.getIncomingLinksOfComponent(e.entity.getId);return n.length===0?0:t/n.length},Dse=e=>{let t=d_(e),n=e.system.getIncomingLinksOfComponent(e.entity.getId);return n.length+t===0?"n/a":t/(n.length+t)*100},rD=e=>{if(e.system.getComponentEntities.size<3)return"n/a";let i=e.system.getOutgoingLinksOfComponent(e.entity.getId).map(s=>e.system.searchComponentOfEndpoint(s.getTargetEndpoint.getId)).map(s=>s.getId),r=new Map;[...e.system.getComponentEntities.entries()].map(s=>s[0]).filter(s=>s!==e.entity.getId&&!i.includes(s)).forEach(s=>{r.set(s,0)});let a=i.concat([e.entity.getId]),o=i.flatMap(s=>e.system.getOutgoingLinksOfComponent(s).map(l=>e.system.searchComponentOfEndpoint(l.getTargetEndpoint.getId).getId)).filter(s=>!a.includes(s));for(;o.length>0;){let s=o[0];r.set(s,1);let l=e.system.getOutgoingLinksOfComponent(s).map(c=>e.system.searchComponentOfEndpoint(c.getTargetEndpoint.getId).getId).filter(c=>!a.includes(c));o.push(...l),a.push(s),o.splice(0,1)}return Zt([...r.values()])},aD=e=>{let t=e.entity.getEndpointEntities.map(r=>r.getId);if(t.length===0)return"n/a";let n=new Map;t.forEach(r=>n.set(r,[]));for(const[r,a]of e.system.getLinkEntities){let o=a.getTargetEndpoint.getId;t.includes(o)&&n.get(o).push(r)}let i=0;for(const r of t){let a=Math.log10(1/(n.get(r).length+1));i-=a}return i/t.length},oD=e=>{let t=e.system.getOutgoingLinksOfComponent(e.entity.getId).map(o=>e.system.searchComponentOfEndpoint(o.getTargetEndpoint.getId)).filter(o=>o.constructor.name===Ci.name);if(t.length===0)return"n/a";let n=new Map;t.forEach(o=>{n.set(o.getId,new Set)});for(const[o,s]of e.system.getLinkEntities){if(s.getSourceEntity.getId===e.entity.getId)continue;let l=e.system.searchComponentOfEndpoint(s.getTargetEndpoint.getId).getId;n.has(l)&&s.getSourceEntity.constructor.name===qn.name&&n.get(l).add(s.getSourceEntity.getId)}let i=0;for(const[o,s]of n.entries())i+=n.get(o).size;let r=[...e.system.getComponentEntities.entries()].filter(o=>o[1].constructor.name===qn.name).length,a=[...e.system.getComponentEntities.entries()].filter(o=>o[1].constructor.name===Ci.name).length;return i/(r*a)},Bse=e=>{let t=rD({entity:e.entity,system:e.system}),n=oD({entity:e.entity,system:e.system});return(t+n)/2},P1=e=>{let t=e.system.getLinkEntities,n=new Set;for(const[i,r]of t)if(e.system.searchComponentOfEndpoint(r.getTargetEndpoint.getId).getId===e.entity.getId){let a=r.getSourceEntity.getId;n.add(a)}return n.size},Yf=e=>{let t=[...e.system.getLinkEntities.entries()].filter(i=>i[1].getSourceEntity.getId===e.entity.getId),n=new Set;return t.forEach(i=>{n.add(e.system.searchComponentOfEndpoint(i[1].getTargetEndpoint.getId).getId)}),n.size},Lse=e=>{let t=Yf(e),n=P1(e);return(t+n)/e.system.getComponentEntities.size},Fse=e=>e.system.getComponentEntities.size<=1?"n/a":Yf(e)/(e.system.getComponentEntities.size-1),zse=e=>{let t=e.system.getOutgoingLinksOfComponent(e.entity.getId),n=[],i=0;for(;t.length>0;){let r=t[0];if(n.includes(r.getId)){t.splice(0,1);continue}let a=e.system.searchComponentOfEndpoint(r.getTargetEndpoint.getId).getId;if(a===e.entity.getId){i=1;break}t.push(...e.system.getOutgoingLinksOfComponent(a)),t.splice(0,1)}return i},$se=e=>new Set(e.system.getIncomingLinksOfComponent(e.entity.getId).map(n=>n.getSourceEntity.getId)).size/e.system.getComponentEntities.size,qse=e=>P1(e)*Yf(e),Use=e=>e.entity.constructor.name===Ci.name?P1(e):"n/a",sD=e=>e.entity.getDataAggregateEntities.length,Hse=e=>sD(e)+P1(e),Vse=e=>{let t=new Map;e.entity.getEndpointEntities.forEach(n=>{t.set(n.getId,[])});for(const[n,i]of e.system.getLinkEntities.entries())t.has(i.getTargetEndpoint.getId)&&t.get(i.getTargetEndpoint.getId).push(n);return[...t.entries()].filter(([n,i])=>i.length===0).length},Gse=e=>e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities).filter(t=>t.getProperty("kind").value==="query").length,Wse=e=>e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities).filter(t=>["command","event"].includes(t.getProperty("kind").value)).length,jse=e=>{let n=e.system.getOutgoingLinksOfComponent(e.entity.getId).filter(r=>zl.includes(r.getTargetEndpoint.getProperty("kind").value));return n.length===0?"n/a":n.filter(r=>r.getProperty("retries").value>0).length/n.length},Kse=e=>{let n=e.system.getOutgoingLinksOfComponent(e.entity.getId).filter(r=>zl.includes(r.getTargetEndpoint.getProperty("kind").value));return n.length===0?"n/a":n.filter(r=>r.getProperty("circuit_breaker").value!=="none").length/n.length},lD=(e,t)=>{let n=0;for(const[i,r]of t.getDeploymentMappingEntities.entries())if(r.getDeployedEntity.getId===e.getId){let o=r.getProperties().find(s=>s.getKey==="replicas").value;n+=o}return n},Yse=e=>lD(e.entity,e.system),Xse=e=>[...e.system.getDeploymentMappingEntities.values()].filter(n=>n.getDeployedEntity.getId===e.entity.getId).length,Jse=e=>e.entity.constructor.name!==Ci.name?"n/a":lD(e.entity,e.system),T4=e=>{let t=0,n=e.entity.getEgressProxiedBy;n&&n.getProperty("kind").value===Px&&(t+=.5);let i=e.entity.getIngressProxiedBy;return i&&i.getProperty("kind").value===Px&&(t+=.5),t},Qse=e=>{let t=e.entity.getBackingDataEntities.filter(s=>s.backingData.getProperty("kind").value===oo);if(t.length===0)return"n/a";let i=t.filter(s=>Rr.includes(s.relation.getProperty("usage_relation").value)).map(s=>s.backingData.getId),r=e.system.getComponentEntities.entries(),a=[...e.system.getInfrastructureEntities.entries()],o=new Set;for(const[s,l]of r)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===oo).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&o.add(h.backingData.getId)});for(const[s,l]of a)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===oo).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&o.add(h.backingData.getId)});return o.size/t.length},Zse=e=>{let t=e.entity.getBackingDataEntities.filter(s=>s.backingData.getProperty("kind").value===ao);if(t.length===0)return"n/a";let i=t.filter(s=>Rr.includes(s.relation.getProperty("usage_relation").value)).map(s=>s.backingData.getId),r=e.system.getComponentEntities.entries(),a=[...e.system.getInfrastructureEntities.entries()],o=new Set;for(const[s,l]of r)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===ao).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&o.add(h.backingData.getId)});for(const[s,l]of a)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===ao).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&o.add(h.backingData.getId)});return o.size/t.length},ele=e=>{if(![Ci.name,Mn.name,wr.name].includes(e.entity.constructor.name)||e.entity.getProperty("stateless").value)return"n/a";let t=[...e.system.getDeploymentMappingEntities.entries()].filter(([n,i])=>i.getDeployedEntity.getId===e.entity.getId);return t.length<=0?"n/a":t.some(([n,i])=>i.getProperty("replicas").value>1)?e.entity.getProperty("replication_strategy").value!=="none"?1:0:"n/a"},tle=e=>[Ci.constructor.name,Mn.name,wr.name,Mr.name].includes(e.entity.constructor.name)?e.entity.getProperty("software_type").value===JR?0:1:"n/a",nle=e=>{let t=e.entity.getBackingDataEntities.filter(s=>s.backingData.getProperty("kind").value===oo);if(t.length===0)return"n/a";let i=t.filter(s=>Rr.includes(s.relation.getProperty("usage_relation").value)).map(s=>s.backingData.getId),r=t.filter(s=>Di.includes(s.relation.getProperty("usage_relation").value)),a=new Set,o=[...e.system.getComponentEntities.entries()].filter(([s,l])=>l.constructor.name===Mn.name&&Ay.includes(l.getProperty("providedFunctionality").value));for(const[s,l]of o)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===oo).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&a.add(h.backingData.getId)});return e.entity.constructor.name===Mn.name&&Ay.includes(e.entity.getProperty("providedFunctionality").value)&&r.map(s=>s.backingData.getId).forEach(s=>a.add(s)),a.size/t.length},ile=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);if(t.length===0)return"n/a";let n=new Map;t.forEach(r=>{n.set(r.getId,new Set),r.constructor.name===O0.name&&n.get(r.getId).add("external account")});for(const r of e.system.getIncomingLinksOfComponent(e.entity.getId)){let a=r.getSourceEntity.getProperty("identities");a&&Object.entries(a.value).filter(([s,l])=>l==="account").map(([s,l])=>s).forEach(s=>n.get(r.getTargetEndpoint.getId).add(s))}let i=[];for(const r of t){let a=r.getAllowedAccounts;if(a)if(a.length===0)i.push(0);else{let o=new Set(a),s=1-o.difference(n.get(r.getId)).size/o.size;i.push(s)}}return Zt(i)},rle=e=>e.entity.constructor.name===Mn.name&&e.entity.getProperty("providedFunctionality").value==="authentication/authorization"?"n/a":e.entity.getAuthenticationBy?1:0,ale=e=>{let t=e.entity.getArtifacts;return t.size===0?"n/a":t.entries().filter(([i,r])=>r.getProperty("based_on_standard")&&r.getProperty("based_on_standard").value!=="none").toArray().length/t.size},ole=e=>{let t=e.entity.getArtifacts;return t.size===0?"n/a":t.entries().filter(([i,r])=>r.getProperty("based_on_standard")&&r.getProperty("based_on_standard").value!=="none").toArray().length>0?1:0},sle=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getDeployedEntity.getId===e.entity.getId).map(([i,r])=>r.getUnderlyingInfrastructure).toArray();return t.length===0?"n/a":t.filter(i=>I1.includes(i.getProperty("kind").value)).length/t.length},cD=e=>{let t=e.system.getComponentEntities.entries().filter(([i,r])=>i!==e.entity.getId).toArray();if(t.length===0)return"n/a";let n=[];for(const[i,r]of t)e.entity.getProperty("namespace").value===r.getProperty("namespace").value?n.push(1):n.push(0);return 1-Zt(n)},lle=e=>[Mn.name,Ci.name,Mr.name,wr.name].includes(e.entity.constructor.name)?e.entity.getProperty("managed").value?1:0:"n/a",cle=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getDeployedEntity.getId===e.entity.getId).toArray();return t.length===0?"n/a":t.filter(([i,r])=>r.getProperty("resource_requirements").value!=="unstated").length/t.length},ule=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([r,a])=>a.getDeployedEntity.getId===e.entity.getId).toArray();if(t.length===0)return"n/a";let n=t.map(([r,a])=>a.getUnderlyingInfrastructure);return n.filter(r=>y0.includes(r.getProperty("deployed_entities_scaling").value)).length/n.length},uD=e=>{let t=e.entity.getArtifacts;return t.size===0?"n/a":t.entries().filter(([i,r])=>r.getProperty("provider_specific")&&!r.getProperty("provider_specific").value).toArray().length/t.size},dle=e=>{let t=e.entity.getBackingDataEntities.filter(s=>s.backingData.getProperty("kind").value===ao);if(t.length===0)return"n/a";let i=t.filter(s=>Rr.includes(s.relation.getProperty("usage_relation").value)).map(s=>s.backingData.getId),r=t.filter(s=>Di.includes(s.relation.getProperty("usage_relation").value)),a=new Set,o=[...e.system.getComponentEntities.entries()].filter(([s,l])=>l.constructor.name===Mn.name&&Ox.includes(l.getProperty("providedFunctionality").value));for(const[s,l]of o)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===ao).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&a.add(h.backingData.getId)});return e.entity.constructor.name===Mn.name&&Ox.includes(e.entity.getProperty("providedFunctionality").value)&&r.map(s=>s.backingData.getId).forEach(s=>a.add(s)),a.size/t.length},hle=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);if(t.length===0)return"n/a";let n=e.entity.getArtifacts,i=[];for(const r of t)r.getDocumentedBy.map(o=>n.get(o)).find(o=>E4.includes(o.getType()))&&i.push(r);return i.length/t.length},fle=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([r,a])=>a.getDeployedEntity.getId===e.entity.getId).toArray();if(t.length===0)return"n/a";let n=e.entity.getArtifacts;return n.size===0?"n/a":t.filter(([r,a])=>{let o=a.getProperty("deployment_unit").value;return o?n.entries().find(([s,l])=>l.getType()===o&&l.getProperty("based_on_standard")&&l.getProperty("based_on_standard").value!=="none"):!1}).length/t.length},ple=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([r,a])=>a.getDeployedEntity.getId===e.entity.getId).toArray();if(t.length===0)return"n/a";let n=e.entity.getArtifacts;return n.size===0?"n/a":t.filter(([r,a])=>{let o=a.getProperty("deployment_unit").value;return o?n.entries().find(([s,l])=>l.getType()===o&&l.getProperty("self_contained")&&l.getProperty("self_contained").value):!1}).length/t.length},gle=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getDeployedEntity.getId===e.entity.getId).toArray();if(t.length===0)return"n/a";let n=[];return t.forEach(([i,r])=>{r.getProperty("update_strategy").value!=="in-place"&&n.push(i)}),n.length/t.length},mle=e=>{let t=e.system.getOutgoingLinksOfComponent(e.entity.getId);return t.length===0?"n/a":t.filter(i=>i.getProperty("timeout").value>0).length/t.length},yle=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getDeployedEntity.getId===e.entity.getId).toArray();return t.length===0?"n/a":t.filter(([i,r])=>x4.includes(r.getProperty("automated_restart_policy").value)).length/t.length},vle=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);return t.length===0?"n/a":t.filter(i=>i.getDocumentedBy.length>0).length/t.length},ble=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);return t.length===0?"n/a":t.filter(i=>i.getProperty("supported_authentication_methods").value.includes("Token")).length/t.length},Ele=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);return t.length===0?"n/a":t.filter(i=>i.getProperty("supported_authentication_methods").value.includes("API-Key")).length/t.length},xle=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);return t.length===0?"n/a":t.filter(i=>i.getProperty("supported_authentication_methods").value.includes("basic_authentication")).length/t.length},Sle=e=>{let t=e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities);return t.length===0?"n/a":t.filter(i=>i.getProperty("supported_authentication_methods").value.includes("Single Sign-On")).length/t.length},_le=e=>{let n=e.entity.getEndpointEntities.filter(r=>r.getProperty("supported_authentication_methods").value.length!==0);if(n.length<=1)return"n/a";let i=[];for(const[r,a]of n.entries())for(const o of n.slice(r+1)){let s=new Set(a.getProperty("supported_authentication_methods").value),l=new Set(o.getProperty("supported_authentication_methods").value);if(s.union(l).size===0)i.push(1);else{let c=s.intersection(l).size/s.union(l).size;i.push(c)}}return Zt(i)},Cle=e=>{let n=e.entity.getExternalEndpointEntities.filter(r=>r.getProperty("supported_authentication_methods").value.length!==0);if(n.length<=1)return"n/a";let i=[];for(const[r,a]of n.entries())for(const o of n.slice(r+1)){let s=new Set(a.getProperty("supported_authentication_methods").value),l=new Set(o.getProperty("supported_authentication_methods").value);if(s.union(l).size===0)i.push(1);else{let c=s.intersection(l).size/s.union(l).size;i.push(c)}}return Zt(i)},wle=e=>{let t=new Map;e.entity.getDataAggregateEntities.forEach(a=>{Di.includes(a.relation.getProperty("usage_relation").value)&&t.set(a.data.getId,{readBy:[],writeBy:[]})});let n=t.keys().toArray(),i=e.system.getComponentEntities;for(const[a,o]of i){let s=o.getEndpointEntities.concat(o.getExternalEndpointEntities);if(!(s.length===0||o.getDataAggregateEntities.length===0))for(const l of s){let c=l.getDataAggregateEntities.filter(h=>{let d=o.getDataAggregateEntities.find(p=>p.data.getId===h.data.getId);return n.includes(h.data.getId)&&d&&Di.includes(d.relation.getProperty("usage_relation").value)});for(const h of c)l.getProperty("kind").value==="query"?t.get(h.data.getId).readBy.push(a):l.getProperty("kind").value==="command"&&t.get(h.data.getId).writeBy.push(a)}}let r=new Map;return t.entries().forEach(([a,o])=>{let s=new Set(o.readBy),l=new Set(o.writeBy);if(!(s.size===0||l.size===0)){if(s.difference(l).size===0&&l.difference(s).size===0){r.set(a,0);return}if(s.difference(l).size>0||l.difference(s).size>0){r.set(a,1);return}}}),r.size===0?"n/a":Zt(r.values().toArray())},Tle=e=>e.entity.constructor.name!==qn.name?"n/a":S4(e.entity)?1:0,Ale=e=>e.entity.constructor.name!==qn.name?"n/a":_4(e.entity)?1:0,kle=e=>{if(e.entity.constructor.name!==qn.name||!e.entity.getExternalIngressProxiedBy||e.entity.getExternalIngressProxiedBy.getProperty("kind").value!=="API Gateway")return"n/a";let t=e.entity.getExternalIngressProxiedBy;return 1/((1+e.system.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===qn.name&&a!==e.entity.getId).filter(([a,o])=>o.getExternalIngressProxiedBy&&o.getExternalIngressProxiedBy.getId===t.getId).toArray().length)/1)},Ile=e=>e.entity.constructor.name===Mn.name&&e.entity.getProperty("providedFunctionality").value==="tracing"?"n/a":e.system.getOutgoingLinksOfComponent(e.entity.getId).map(i=>e.system.searchComponentOfEndpoint(i.getTargetEndpoint.getId)).some(i=>i&&i.constructor.name===Mn.name&&i.getProperty("providedFunctionality").value==="tracing")?1:0,Ole=e=>{if(e.entity.constructor.name===Mn.name&&e.entity.getProperty("providedFunctionality").value==="logging")return"n/a";let t=[...e.system.getComponentEntities.entries()].filter(([o,s])=>s.constructor.name===Mn.name&&s.getProperty("providedFunctionality").value==="logging");if(t.length===0)return 0;let n=[],i=t.map(([o,s])=>o);for(const o of e.system.getOutgoingLinksOfComponent(e.entity.getId)){let s=e.system.searchComponentOfEndpoint(o.getTargetEndpoint.getId);i.includes(s.getId)&&n.push({loggingService:s.getId,mode:"push"})}for(const o of e.system.getIncomingLinksOfComponent(e.entity.getId))i.includes(o.getSourceEntity.getId)&&n.push({loggingService:o.getSourceEntity.getId,mode:"pull"});let r=e.entity.getBackingDataEntities.filter(o=>o.backingData.getProperty("kind").value===g0&&Rr.includes(o.relation.getProperty("usage_relation").value)).map(o=>o.backingData.getId),a=!1;e:for(const o of r)for(const s of n){let c=e.system.getComponentEntities.get(s.loggingService).getBackingDataEntities.find(h=>h.backingData.getId===o);if(c&&Di.includes(c.relation.getProperty("usage_relation").value)){a=!0;continue e}}return a?1:0},Ple=e=>{if(e.entity.constructor.name===Mn.name&&e.entity.getProperty("providedFunctionality").value==="metrics")return"n/a";let t=[...e.system.getComponentEntities.entries()].filter(([o,s])=>s.constructor.name===Mn.name&&s.getProperty("providedFunctionality").value==="metrics");if(t.length===0)return 0;let n=[],i=t.map(([o,s])=>o);for(const o of e.system.getOutgoingLinksOfComponent(e.entity.getId)){let s=e.system.searchComponentOfEndpoint(o.getTargetEndpoint.getId);i.includes(s.getId)&&n.push({metricsService:s.getId,mode:"push"})}for(const o of e.system.getIncomingLinksOfComponent(e.entity.getId))i.includes(o.getSourceEntity.getId)&&n.push({metricsService:o.getSourceEntity.getId,mode:"pull"});let r=e.entity.getBackingDataEntities.filter(o=>o.backingData.getProperty("kind").value===m0&&Rr.includes(o.relation.getProperty("usage_relation").value)).map(o=>o.backingData.getId),a=!1;e:for(const o of r)for(const s of n){let c=e.system.getComponentEntities.get(s.metricsService).getBackingDataEntities.find(h=>h.backingData.getId===o);if(c&&Di.includes(c.relation.getProperty("usage_relation").value)){a=!0;continue e}}return a?1:0},Mle=e=>{let t=e.system.getOutgoingLinksOfComponent(e.entity.getId).map(o=>e.system.searchComponentOfEndpoint(o.getTargetEndpoint.getId)).filter(o=>o.constructor.name===wr.name);if(t.length===0)return"n/a";let n=new Map;t.forEach(o=>{n.set(o.getId,new Set)});for(const[o,s]of e.system.getLinkEntities){if(s.getSourceEntity.getId===e.entity.getId)continue;let l=e.system.searchComponentOfEndpoint(s.getTargetEndpoint.getId).getId;n.has(l)&&s.getSourceEntity.constructor.name===qn.name&&n.get(l).add(s.getSourceEntity.getId)}let i=0;for(const[o,s]of n.entries())i+=n.get(o).size;let r=[...e.system.getComponentEntities.entries()].filter(o=>o[1].constructor.name===qn.name).length,a=[...e.system.getComponentEntities.entries()].filter(o=>o[1].constructor.name===wr.name).length;return i/(r*a)},Nle=e=>{let t=0,n=0;return e.entity.getDataAggregateEntities.forEach(i=>{Rr.includes(i.relation.getProperty("usage_relation").value)&&(n++,i.relation.getProperty("usage_relation").value==="cached-usage"&&t++)}),n>0?t/n:"n/a"},Rle=e=>e.entity.constructor.name!==Ci.name?"n/a":e.entity.getProperty("shards").value,Dle=e=>{let t=[...e.system.getDeploymentMappingEntities.values()].filter(i=>i.getDeployedEntity.getId===e.entity.getId);if(t.length===0)return"n/a";let n=[];return t.forEach(i=>{O1.includes(i.getProperty("update_strategy").value)&&n.push(i.getId)}),n.length/t.length},Ble=e=>e.entity.constructor.name===Mr.name||e.entity.getExternalEndpointEntities.length===0?"n/a":e.entity.getExternalIngressProxiedBy?1:0,Lle=e=>{if(e.entity.constructor.name!==qn.name)return"n/a";let t=[...e.system.getDeploymentMappingEntities.values()].filter(r=>r.getDeployedEntity.getId===e.entity.getId);if(t.length===0)return"n/a";let n=t.map(r=>r.getUnderlyingInfrastructure),i=new Set;return n.forEach(r=>{r.getProperty("availability_zone").value.split(",").forEach(o=>i.add(o))}),i.size},Fle=e=>{if(e.entity.constructor.name!==Ci.name)return"n/a";let t=[...e.system.getDeploymentMappingEntities.values()].filter(r=>r.getDeployedEntity.getId===e.entity.getId);if(t.length===0)return"n/a";let n=t.map(r=>r.getUnderlyingInfrastructure),i=new Set;return n.forEach(r=>{r.getProperty("availability_zone").value.split(",").forEach(o=>i.add(o))}),i.size},dD=e=>{let t=new Map;if(e.system.getOutgoingLinksOfComponent(e.entity.getId).forEach(i=>{let r=e.system.searchComponentOfEndpoint(i.getTargetEndpoint.getId);r&&t.set(r.getId,r)}),t.size===0)return"n/a";let n=new Set;for(const[i,r]of t.entries())r.getProperty("stateless").value||n.add(i);return n.size/t.size},zle=e=>{let t=[...e.entity.getEndpointEntities.concat(e.entity.getExternalEndpointEntities)];return t.length===0?"n/a":t.filter(n=>n.getProperty("rate_limiting").value!=="none").length/t.length},Xf={ratioOfEndpointsSupportingSsl:Cse,ratioOfExternalEndpointsSupportingTls:wse,serviceInterfaceDataCohesion:eD,serviceInterfaceUsageCohesion:tD,totalServiceInterfaceCohesion:Tse,cohesionBetweenEndpointsBasedOnDataAggregateUsage:Ase,numberOfProvidedSynchronousAndAsynchronousEndpoints:kse,numberOfSynchronousEndpointsOfferedByAService:nD,ratioOfStateDependencyOfEndpoints:Ise,numberOfAsynchronousEndpointsOfferedByAService:iD,numberOfSynchronousOutgoingLinks:Ose,numberOfAsynchronousOutgoingLinks:Pse,ratioOfAsynchronousOutgoingLinks:Mse,numberOfLinksPerComponent:Nse,numberOfConsumedEndpoints:d_,incomingOutgoingRatioOfAComponent:Rse,ratioOfOutgoingLinksOfAService:Dse,indirectInteractionDensity:rD,serviceCouplingBasedOnEndpointEntropy:aD,ratioOfStorageBackendSharing:oD,combinedMetricForIndirectDependency:Bse,numberOfComponentsThatAreLinkedToAComponent:P1,numberOfComponentsAComponentIsLinkedTo:Yf,averageNumberOfDirectlyConnectedServices:Lse,numberOfComponentsAComponentIsLinkedToRelativeToTheTotalAmountOfComponents:Fse,cyclicCommunication:zse,relativeImportanceOfTheService:$se,serviceCriticality:qse,degreeOfStorageBackendSharing:Use,resourceCount:sD,serviceSize:Hse,unusedEndpointCount:Vse,numberOfReadEndpointsProvidedByAService:Gse,numberOfWriteEndpointsProvidedByAService:Wse,ratioOfLinksWithRetryLogic:jse,ratioOfLinksWithComplexFailover:Kse,serviceReplicationLevel:Yse,amountOfRedundancy:Xse,storageReplicationLevel:Jse,serviceMeshUsage:T4,secretsExternalization:Qse,configurationExternalization:Zse,suitablyReplicatedStatefulService:ele,ratioOfNonCustomBackingServices:tle,secretsStoredInVault:nle,accessRestrictedToCallers:ile,ratioOfDelegatedAuthentication:rle,ratioOfStandardizedArtifacts:ale,ratioOfEntitiesProvidingStandardizedArtifacts:ole,ratioOfDeploymentsOnDynamicInfrastructure:sle,namespaceSeparation:cD,ratioOfManagedBackingServices:lle,ratioOfDeploymentMappingsWithStatedResourceRequirements:cle,deployedEntitiesAutoscaling:ule,nonProviderSpecificComponentArtifacts:uD,configurationStoredInConfigService:dle,ratioOfEndpointsCoveredByContract:hle,standardizedDeployments:fle,selfContainedDeployments:ple,replacingDeployments:gle,ratioOfLinksWithTimeout:mle,deploymentsWithRestart:yle,ratioOfDocumentedEndpoints:vle,ratioOfEndpointsThatSupportTokenBasedAuthentication:ble,ratioOfEndpointsThatSupportApiKeys:Ele,ratioOfEndpointsThatSupportPlaintextAuthentication:xle,ratioOfEndpointsThatAreIncludedInASingleSignOnApproach:Sle,iendpointAccessMethodsConsistency:_le,externalEndpointAccessConsistency:Cle,readWriteSeparationForDataAggregates:wle,ratioOfServicesThatProvideHealthEndpoints:Tle,ratioOfServicesThatProvideReadinessEndpoints:Ale,degreeOfSeparationByGateways:kle,distributedTracingSupport:Ile,ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService:Ole,ratioOfComponentsOrInfrastructureNodesThatExportMetrics:Ple,ratioOfBrokerBackendSharing:Mle,ratioOfCachedDataAggregates:Nle,dataShardingLevel:Rle,rollingUpdates:Dle,ratioOfComponentsWhoseExternalIngressIsProxied:Ble,numberOfAvailabilityZonesUsedByServices:Lle,numberOfAvailabilityZonesUsedByStorageServices:Fle,degreeToWhichComponentsAreLinkedToStatefulComponents:dD,ratioOfRateLimitingEndpoints:zle},hD=e=>{let t=!1,n=!1;for(const i of e.getBackingDataEntities){if(i.backingData.getProperty("kind").value===m0){t=!0;continue}i.backingData.getProperty("kind").value===g0&&(n=!0)}return t&&n},$le=e=>e.entity.getProperty("supported_update_strategies").value.some(t=>O1.includes(t))?1:0,qle=e=>{let t=0;for(const[n,i]of e.system.getDeploymentMappingEntities)i.getUnderlyingInfrastructure.getId===e.entity.getId&&i.getDeployedEntity.constructor.name!==nl.name&&t++;return t},Ule=e=>{let t=new Set;return e.entity.getProperty("availability_zone").value.split(",").forEach(i=>t.add(i)),t.size},Hle=e=>{let t=e.entity.getBackingDataEntities.filter(s=>s.backingData.getProperty("kind").value===oo);if(t.length===0)return"n/a";let i=t.filter(s=>Rr.includes(s.relation.getProperty("usage_relation").value)).map(s=>s.backingData.getId),r=e.system.getComponentEntities.entries(),a=[...e.system.getInfrastructureEntities.entries()],o=new Set;for(const[s,l]of r)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===oo).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&o.add(h.backingData.getId)});for(const[s,l]of a)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===oo).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&o.add(h.backingData.getId)});return o.size/t.length},Vle=e=>{let t=e.entity.getBackingDataEntities.filter(s=>s.backingData.getProperty("kind").value===ao);if(t.length===0)return"n/a";let i=t.filter(s=>Rr.includes(s.relation.getProperty("usage_relation").value)).map(s=>s.backingData.getId),r=e.system.getComponentEntities.entries(),a=[...e.system.getInfrastructureEntities.entries()],o=new Set;for(const[s,l]of r)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===ao).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&o.add(h.backingData.getId)});for(const[s,l]of a)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===ao).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&o.add(h.backingData.getId)});return o.size/t.length},Gle=e=>{let t=e.entity.getArtifacts;return t.size===0?"n/a":t.entries().filter(([i,r])=>r.getProperty("based_on_standard")&&r.getProperty("based_on_standard").value!=="none").toArray().length/t.size},Wle=e=>{let t=e.entity.getArtifacts;return t.size===0?"n/a":t.entries().filter(([i,r])=>r.getProperty("based_on_standard")&&r.getProperty("based_on_standard").value!=="none").toArray().length>0?1:0},fD=e=>Ese.includes(e.entity.getProperty("provisioning").value)?1:0,jle=e=>{let t=e.entity.getArtifacts;return t.size===0?"n/a":t.entries().find(([i,r])=>QR.includes(r.getType()))?1:0},pD=e=>YR.includes(e.entity.getProperty("environment_access").value)&&xse.includes(e.entity.getProperty("maintenance").value)?1:0,Kle=e=>e.entity.getProperty("enforced_resource_bounds").value?1:0,Yle=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getUnderlyingInfrastructure.getId===e.entity.getId).toArray();return t.length===0?"n/a":t.filter(([i,r])=>r.getProperty("resource_requirements").value!=="unstated").length/t.length},Xle=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getUnderlyingInfrastructure.getId===e.entity.getId).toArray();return t.length===0?"n/a":(t.map(([i,r])=>r.getUnderlyingInfrastructure).filter(i=>y0.includes(i.getProperty("deployed_entities_scaling").value)),y0.includes(e.entity.getProperty("deployed_entities_scaling").value)?1:0)},Jle=e=>y0.includes(e.entity.getProperty("self_scaling").value)?1:0,Qle=e=>I1.includes(e.entity.getProperty("kind").value)?1:0,gD=e=>{let t=e.entity.getArtifacts;return t.size===0?"n/a":t.entries().filter(([i,r])=>r.getProperty("provider_specific")&&!r.getProperty("provider_specific").value).toArray().length/t.size},Zle=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getDeployedEntity.getId===e.entity.getId).toArray();if(t.length===0)return"n/a";let n=[];return t.forEach(([i,r])=>{r.getProperty("update_strategy").value!=="in-place"&&n.push(i)}),n.length/t.length},ece=e=>XR.includes(e.entity.getProperty("maintenance").value)?1:0,tce=e=>{let t=e.system.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getDeployedEntity.getId===e.entity.getId).toArray();return t.length===0?"n/a":t.filter(([i,r])=>x4.includes(r.getProperty("automated_restart_policy").value)).length/t.length},nce=e=>{let t=e.entity.getBackingDataEntities.filter(s=>s.backingData.getProperty("kind").value===oo);if(t.length===0)return"n/a";let i=t.filter(s=>Rr.includes(s.relation.getProperty("usage_relation").value)).map(s=>s.backingData.getId),r=t.filter(s=>Di.includes(s.relation.getProperty("usage_relation").value)),a=new Set,o=[...e.system.getComponentEntities.entries()].filter(([s,l])=>l.constructor.name===Mn.name&&Ay.includes(l.getProperty("providedFunctionality").value));for(const[s,l]of o)l.getBackingDataEntities.filter(h=>h.backingData.getProperty("kind").value===oo).forEach(h=>{i.includes(h.backingData.getId)&&Di.includes(h.relation.getProperty("usage_relation").value)&&a.add(h.backingData.getId)});return e.entity.constructor.name===Mn.name&&Ay.includes(e.entity.getProperty("providedFunctionality").value)&&r.map(s=>s.backingData.getId).forEach(s=>a.add(s)),a.size/t.length},ice=e=>{let t=[...e.system.getComponentEntities.entries()].filter(([r,a])=>a.constructor.name===Mn.name&&a.getProperty("providedFunctionality").value==="logging");if(t.length===0)return 0;let n=e.entity.getBackingDataEntities.filter(r=>r.backingData.getProperty("kind").value===g0&&Rr.includes(r.relation.getProperty("usage_relation").value)).map(r=>r.backingData.getId),i=!1;for(const[r,a]of t){let o=a.getBackingDataEntities.find(s=>n.includes(s.backingData.getId));o&&Di.includes(o.relation.getProperty("usage_relation").value)&&(i=!0)}return i?1:0},rce=e=>{let t=[...e.system.getComponentEntities.entries()].filter(([r,a])=>a.constructor.name===Mn.name&&a.getProperty("providedFunctionality").value==="metrics");if(t.length===0)return 0;let n=e.entity.getBackingDataEntities.filter(r=>r.backingData.getProperty("kind").value===m0&&Rr.includes(r.relation.getProperty("usage_relation").value)).map(r=>r.backingData.getId),i=!1;for(const[r,a]of t){let o=a.getBackingDataEntities.find(s=>n.includes(s.backingData.getId));o&&Di.includes(o.relation.getProperty("usage_relation").value)&&(i=!0)}return i?1:0},ace=e=>{let t=e.entity.getBackingDataEntities.filter(o=>o.backingData.getProperty("kind").value===ao);if(t.length===0)return"n/a";let i=t.filter(o=>Rr.includes(o.relation.getProperty("usage_relation").value)).map(o=>o.backingData.getId),r=new Set,a=[...e.system.getComponentEntities.entries()].filter(([o,s])=>s.constructor.name===Mn.name&&Ox.includes(s.getProperty("providedFunctionality").value));for(const[o,s]of a)s.getBackingDataEntities.filter(c=>c.backingData.getProperty("kind").value===ao).forEach(c=>{i.includes(c.backingData.getId)&&Di.includes(c.relation.getProperty("usage_relation").value)&&r.add(c.backingData.getId)});return r.size/t.length},oce={numberOfServiceHostedOnOneInfrastructure:qle,numberOfAvailabilityZonesUsedByInfrastructure:Ule,rollingUpdateOption:$le,secretsExternalization:Hle,configurationExternalization:Vle,ratioOfStandardizedArtifacts:Gle,ratioOfEntitiesProvidingStandardizedArtifacts:Wle,ratioOfAutomaticallyProvisionedInfrastructure:fD,ratioOfInfrastructureWithIaCArtifact:jle,ratioOfFullyManagedInfrastructure:pD,ratioOfInfrastructureEnforcingResourceBoundaries:Kle,ratioOfDeploymentMappingsWithStatedResourceRequirements:Yle,deployedEntitiesAutoscaling:Xle,infrastructureAutoscaling:Jle,ratioOfAbstractedHardware:Qle,nonProviderSpecificInfrastructureArtifacts:gD,replacingDeployments:Zle,ratioOfAutomaticallyMaintainedInfrastructure:ece,deploymentsWithRestart:tce,secretsStoredInVault:nce,ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService:ice,ratioOfComponentsOrInfrastructureNodesThatExportMetrics:rce,configurationStoredInConfigService:ace},ti=(e,t)=>{let n=new Set(e.getLinks.flat().map(i=>[i.getSourceEntity,t.searchComponentOfEndpoint(i.getTargetEndpoint.getId)]).flat());return Array.from(n)},sce=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint),n=new Set(t);return C4(Array.from(n))},lce=e=>e.entity.getLinks.length,mD=e=>e.entity.getLinks.flat().length,cce=e=>{let t=e.entity.getLinks.flatMap(n=>n);return bD(t)},yD=e=>{let t=[],n=e.entity.getLinks,i=0;for(const r of n.flat()){t.push(r.getSourceEntity.getId);let a=e.system.searchComponentOfEndpoint(r.getTargetEndpoint.getId);t.includes(a.getId)&&(i+=1,t=[])}return i},uce=e=>{let t=new Map;if(e.entity.getExternalEndpoint){let n=e.entity.getExternalEndpoint,i=e.system.searchComponentOfEndpoint(n.getId);n.getDataAggregateEntities.forEach(r=>{if(t.get(r.data.getId))t.get(r.data.getId).set(i.getId,r.relation.getProperty("usage_relation").value);else{let a=new Map;a.set(i.getId,r.relation.getProperty("usage_relation").value),t.set(r.data.getId,a)}})}return e.entity.getLinks.flat().forEach(n=>{let i=n.getTargetEndpoint,r=e.system.searchComponentOfEndpoint(i.getId);i.getDataAggregateEntities.forEach(a=>{if(t.get(a.data.getId))t.get(a.data.getId).set(r.getId,a.relation.getProperty("usage_relation").value);else{let o=new Map;o.set(r.getId,a.relation.getProperty("usage_relation").value),t.set(a.data.getId,o)}})}),Zt([...t.values()].map(n=>Zt([...n.values()].map(i=>["cached-usage","persistence"].includes(i)?1:0))))},dce=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint);return e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0?"n/a":t.filter(i=>i.getDataAggregateEntities.length>0).length/t.length},hce=e=>{let t=new Set(e.entity.getLinks.flat().map(n=>[n.getSourceEntity,e.system.searchComponentOfEndpoint(n.getTargetEndpoint.getId)]).flat());return ED(Array.from(t))},fce=e=>{let t=new Set(e.entity.getLinks.flat().map(n=>[n.getSourceEntity,e.system.searchComponentOfEndpoint(n.getTargetEndpoint.getId)]).flat());return xD(Array.from(t))},pce=e=>{let t=e.entity.getLinks.flat();return SD(t)},gce=e=>{let t=h_(ti(e.entity,e.system),e.entity.getLinks.flat(),e.system),n=[...t.asynchronousConnections.entries()].filter(([i,r])=>KR.includes(r.broker.getProperty("kind").value)).map(([i,r])=>r.in.size*r.out.size).reduce((i,r)=>i+r,0);return n+t.synchronousConnections.size===0?"n/a":n/(n+t.synchronousConnections.size)},mce=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),n=new Set;for(const[r,a]of e.system.getDeploymentMappingEntities.entries())t.includes(a.getDeployedEntity.getId)&&n.add(a.getUnderlyingInfrastructure);if(n.size===0)return"n/a";let i=0;return n.forEach(r=>{hD(r)&&i++}),i/n.size},yce=e=>{let t=ti(e.entity,e.system);if(t.length===0)return"n/a";let n=0;for(const i of t)ZR(i)&&n++;return n/t.length},vce=e=>{let t=ti(e.entity,e.system).filter(i=>i.constructor.name===qn.name);if(t.length===0)return"n/a";let n=0;for(const i of t)S4(i)&&n++;return n/t.length},bce=e=>{let t=ti(e.entity,e.system).filter(i=>i.constructor.name===qn.name);if(t.length===0)return"n/a";let n=0;for(const i of t)_4(i)&&n++;return n/t.length},Ece=e=>{let t=ti(e.entity,e.system).filter(r=>r.constructor.name!==Mn.name||r.getProperty("providedFunctionality").value!=="tracing"),n=[...e.system.getComponentEntities.entries()].filter(([r,a])=>a.constructor.name===Mn.name&&a.getProperty("providedFunctionality").value==="tracing");if(t.length===0||n.length===0)return"n/a";let i=new Set(n.flatMap(([r,a])=>a.getEndpointEntities.map(o=>o.getId)));return vD(t,i,e.system)/t.length},xce=e=>ti(e.entity,e.system).length,Sce=e=>{let t=new Map;for(const n of e.entity.getLinks.flat()){let i=e.system.searchComponentOfEndpoint(n.getTargetEndpoint.getId);if(i.constructor.name===Ci.name){let r=i.getId,a=n.getSourceEntity.getId;if(t.has(r))t.get(r).add(a);else{let o=new Set;o.add(a),t.set(r,o)}}}return[...t.values()].filter(n=>n.size===1).length/t.size},_ce=e=>{let t=[...e.entity.getLinks.flat()];return t.length===0?"n/a":_D(t)/t.length},Cce=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),i=[...D0(e.system).entries()].filter(([r,a])=>t.includes(r)).map(([r,a])=>a);return i.length===0?"n/a":Zt(i)},wce=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),i=[...D0(e.system).entries()].filter(([r,a])=>t.includes(r)).map(([r,a])=>a);return i.length===0?"n/a":FR(i)},Tce=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),i=[...D0(e.system).entries()].filter(([r,a])=>t.includes(r)).map(([r,a])=>a);return i.length===0?"n/a":zR(i)},Ace=e=>{let t=ti(e.entity,e.system).map(i=>i.getId),n=new Map;for(const[i,r]of e.system.getDeploymentMappingEntities.entries()){let a=r.getDeployedEntity;if(a.constructor.name===Ci.name&&t.includes(a.getId)){let o=r.getProperties().find(s=>s.getKey==="replicas").value;n.has(a.getId)?n.set(a.getId,n.get(a.getId)+o):n.set(a.getId,o)}}return n.size===0?"n/a":Zt(Array.from(n.values()))},kce=e=>{let t=ti(e.entity,e.system).map(i=>i.getId),n=new Set;for(const[i,r]of e.system.getDeploymentMappingEntities.entries()){let a=r.getDeployedEntity;a.constructor.name===qn.name&&t.includes(a.getId)&&r.getUnderlyingInfrastructure.getProperty("availability_zone").value.split(",").forEach(s=>n.add(s))}return n.size},Ice=e=>{let n=e.entity.getLinks.flat().filter(r=>zl.includes(r.getTargetEndpoint.getProperty("kind").value));return n.length===0?"n/a":n.filter(r=>r.getProperty("retries").value>0).length/n.length},Oce=e=>{let n=e.entity.getLinks.flat().filter(r=>zl.includes(r.getTargetEndpoint.getProperty("kind").value));return n.length===0?"n/a":n.filter(r=>r.getProperty("circuit_breaker").value!=="none").length/n.length},Pce=e=>{if(e.system.getDeploymentMappingEntities.size===0)return"n/a";let t=ti(e.entity,e.system).map(r=>r.getId),n=new Set,i=new Set;for(const[r,a]of e.system.getDeploymentMappingEntities)t.includes(a.getDeployedEntity.getId)&&(n.add(r),i.add(a.getDeployedEntity.getId));return n.size/i.size},Mce=e=>{let t=ti(e.entity,e.system).filter(n=>n.constructor.name===Ci.name);return t.length===0?"n/a":Zt(t.map(n=>n.getProperties().find(i=>i.getKey==="shards").value))},Nce=e=>{const n=ti(e.entity,e.system).filter(i=>i.constructor.name!==Mr.name||i.getProperty("kind").value!==Px);return Zt(n.map(i=>T4({entity:i,system:e.system})))},Rce=e=>{let n=ti(e.entity,e.system).filter(i=>i.getBackingDataEntities.filter(r=>r.backingData.getProperty("kind").value===ao).length>0).map(i=>Xf.configurationExternalization({entity:i,system:e.system}));return Zt(n)},Dce=e=>{let n=ti(e.entity,e.system).filter(i=>i.getBackingDataEntities.filter(r=>r.backingData.getProperty("kind").value===oo).length>0).map(i=>Xf.secretsExternalization({entity:i,system:e.system}));return Zt(n)},Bce=e=>{let n=ti(e.entity,e.system).filter(o=>[Ci.name,Mn.name,wr.name].includes(o.constructor.name)&&!o.getProperty("stateless").value);if(n.length===0)return"n/a";let i=new Map;n.forEach(o=>i.set(o.getId,[])),[...e.system.getDeploymentMappingEntities.entries()].forEach(([o,s])=>{let l=i.keys().find(c=>c===s.getDeployedEntity.getId);l&&i.get(l).push(s)});let r=new Set,a=new Set;return i.entries().forEach(([o,s])=>{s.some(l=>l.getProperty("replicas").value>1)&&(r.add(o),n.find(c=>c.getId==o).getProperty("replication_strategy").value!=="none"&&a.add(o))}),r.size===0?"n/a":a.size/r.size},Lce=e=>{let t=new Set,n=ti(e.entity,e.system);for(const o of n){let s=new Set(Object.entries(o.getProperty("identities").value).filter(([l,c])=>c==="account").map(([l,c])=>l));s.size===0?t.add("default-account"):s.forEach(l=>t.add(l))}let i=n.map(o=>o.getId),r=new Set;for(const[o,s]of e.system.getDeploymentMappingEntities.entries())if(i.includes(s.getDeployedEntity.getId)){r.add(s.getUnderlyingInfrastructure);let l=new Set(Object.entries(s.getUnderlyingInfrastructure.getProperty("identities").value).filter(([c,h])=>h==="account").map(([c,h])=>c));l.size===0?t.add("default-account"):l.forEach(c=>t.add(c))}let a=n.length+r.size;return a===0?"n/a":t.size/a},Fce=e=>{let t=ti(e.entity,e.system);if(t.length==0)return"n/a";let i=t.map(r=>Xf.accessRestrictedToCallers({entity:r,system:e.system})).filter(r=>r!=="n/a");return i.length===0?"n/a":Zt(i)},zce=e=>{let t=ti(e.entity,e.system).filter(n=>n.constructor.name!==Mn.name||n.getProperty("providedFunctionality").value!=="authentication/authorization");return t.length===0?"n/a":Zt(t.map(n=>n.getAuthenticationBy?1:0))},$ce=e=>{let t=new Map,n=ti(e.entity,e.system).map(a=>a.getId),i=new Set;for(const[a,o]of e.system.getDeploymentMappingEntities.entries())n.includes(o.getDeployedEntity.getId)&&i.add(o.getUnderlyingInfrastructure);return ti(e.entity,e.system).forEach(a=>{a.getArtifacts.entries().forEach(([o,s])=>{t.set(`${a.getId}-${o}`,s)})}),i.forEach(a=>{a.getArtifacts.entries().forEach(([o,s])=>{t.set(`${a.getId}-${o}`,s)})}),t.size===0?"n/a":t.entries().filter(([a,o])=>o.getProperty("based_on_standard")&&o.getProperty("based_on_standard").value!=="none").toArray().length/t.size},qce=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),n=new Set;for(const[r,a]of e.system.getDeploymentMappingEntities.entries())t.includes(a.getDeployedEntity.getId)&&n.add(a.getUnderlyingInfrastructure);let i=new Set;return ti(e.entity,e.system).length+n.size===0?"n/a":(ti(e.entity,e.system).forEach(r=>{r.getArtifacts.entries().filter(([o,s])=>s.getProperty("based_on_standard")&&s.getProperty("based_on_standard").value!=="none").toArray().length>0&&i.add(r.getId)}),n.forEach(r=>{r.getArtifacts.entries().filter(([o,s])=>s.getProperty("based_on_standard")&&s.getProperty("based_on_standard").value!=="none").toArray().length>0&&i.add(r.getId)}),i.size/(t.length+n.size))},Uce=e=>{let t=ti(e.entity,e.system);if(t.length<=1)return"n/a";let n=[];for(const[i,r]of t.entries())if(i<t.length-1)for(const a of t.slice(i+1)){let o=new Set(r.getArtifacts.entries().map(([l,c])=>c.getType())),s=new Set(a.getArtifacts.entries().map(([l,c])=>c.getType()));o.union(s).size===0?n.push(0):n.push(o.intersection(s).size/o.union(s).size)}return Zt(n)},Hce=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),n=e.system.getDeploymentMappingEntities.entries().filter(([r,a])=>t.includes(a.getDeployedEntity.getId)).map(([r,a])=>a.getUnderlyingInfrastructure).toArray();return n.length===0?"n/a":n.filter(r=>I1.includes(r.getProperty("kind").value)).length/n.length},Vce=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint);if(e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0)return"n/a";let n=[];for(const i of t){let r=e.system.searchComponentOfEndpoint(i.getId);if(r){let a=r.getArtifacts;i.getDocumentedBy.map(s=>a.get(s)).find(s=>E4.includes(s.getType()))&&n.push(i.getId)}}return n.length/t.length},Gce=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),n=e.system.getDeploymentMappingEntities.entries().filter(([r,a])=>t.includes(a.getDeployedEntity.getId)).toArray();return n.length===0?"n/a":n.filter(([r,a])=>{let o=a.getDeployedEntity.getArtifacts,s=a.getProperty("deployment_unit").value;return s?o.entries().find(([l,c])=>c.getType()===s&&c.getProperty("based_on_standard")&&c.getProperty("based_on_standard").value!=="none"):!1}).length/n.length},Wce=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),n=e.system.getDeploymentMappingEntities.entries().filter(([r,a])=>t.includes(a.getDeployedEntity.getId)).toArray();return n.length===0?"n/a":n.filter(([r,a])=>{let o=a.getDeployedEntity.getArtifacts,s=a.getProperty("deployment_unit").value;return s?o.entries().find(([l,c])=>c.getType()===s&&c.getProperty("self_contained")&&c.getProperty("self_contained").value):!1}).length/n.length},jce=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint);if(e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0)return"n/a";let n=[];for(const i of t)i.getDocumentedBy.length>0&&n.push(i.getId);return n.length/t.length},Kce=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint);if(e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0)return"n/a";let n=[];for(const i of t)i.getProperty("supported_authentication_methods").value.includes("Token")&&n.push(i.getId);return n.length/t.length},Yce=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint);if(e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0)return"n/a";let n=[];for(const i of t)i.getProperty("supported_authentication_methods").value.includes("API-Key")&&n.push(i.getId);return n.length/t.length},Xce=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint);if(e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0)return"n/a";let n=[];for(const i of t)i.getProperty("supported_authentication_methods").value.includes("basic_authentication")&&n.push(i.getId);return n.length/t.length},Jce=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint);if(e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0)return"n/a";let n=[];for(const i of t)i.getProperty("supported_authentication_methods").value.includes("Single Sign-On")&&n.push(i.getId);return n.length/t.length},Qce=e=>{let n=e.entity.getLinks.flatMap(r=>r).map(r=>r.getTargetEndpoint).filter(r=>r.getProperty("supported_authentication_methods").value.length!==0);if(n.length<=1)return"n/a";let i=[];for(const[r,a]of n.entries())for(const o of n.slice(r+1)){let s=new Set(a.getProperty("supported_authentication_methods").value),l=new Set(o.getProperty("supported_authentication_methods").value);if(s.union(l).size===0)i.push(1);else{let c=s.intersection(l).size/s.union(l).size;i.push(c)}}return Zt(i)},Zce=e=>{let t=ti(e.entity,e.system);if(t.length===0)return"n/a";let n=[];for(const i of t){let r=new Set,a=new Set;for(const o of e.system.getOutgoingLinksOfComponent(i.getId).filter(s=>e.entity.getLinks.flatMap(l=>l).map(l=>l.getId).includes(s.getId))){let s=e.system.searchComponentOfEndpoint(o.getTargetEndpoint.getId);r.add(s.getId),s.getProperty("stateless").value||a.add(s.getId)}r.size>0&&n.push(a.size/r.size)}return n.length===0?"n/a":Zt(n)},eue=e=>{let t=ti(e.entity,e.system);if(t.length===0)return"n/a";let n=t.filter(r=>!r.getProperty("stateless").value);if(n.length===0)return"n/a";let i=[];for(const r of n)[Ci.name,Mn.name,wr.name].includes(r.constructor.name)&&i.push(r.getId);return i.length/n.length},tue=e=>{let t=ti(e.entity,e.system).filter(r=>r.constructor.name===qn.name).filter(r=>r.getExternalIngressProxiedBy&&r.getExternalIngressProxiedBy.getProperty("kind").value==="API Gateway");if(t.length===0)return"n/a";let n=new Set;return t.forEach(r=>{n.add(r.getExternalIngressProxiedBy.getId)}),n.size===0?"n/a":1/(t.length/n.size)},nue=e=>{let t=ti(e.entity,e.system),n=e.entity.getLinks.flatMap(a=>a),i=h_(t,n,e.system),r=[...i.asynchronousConnections.entries()].filter(([a,o])=>jR.includes(o.broker.getProperty("kind").value)).map(([a,o])=>o.in.size*o.out.size).reduce((a,o)=>a+o,0);return r+i.synchronousConnections.size===0?"n/a":r/(r+i.synchronousConnections.size)},iue=e=>{let t=ti(e.entity,e.system).map(r=>r.getId),n=[...e.system.getDeploymentMappingEntities.values()].filter(r=>t.includes(r.getDeployedEntity.getId));if(n.length===0)return"n/a";let i=[];return n.forEach(r=>{O1.includes(r.getProperty("update_strategy").value)&&i.push(r.getId)}),i.length/n.length},rue=e=>{let t=ti(e.entity,e.system);const n=e.system.getComponentEntities.entries().filter(([a,o])=>o.constructor.name!==Mr.name).toArray();if(t.length===0||n.length===0)return"n/a";let i=0,r=0;for(const a of t)a.getExternalEndpointEntities.length>0&&(i++,a.getExternalIngressProxiedBy&&r++);return i===0?"n/a":r/i},aue=e=>{let n=ti(e.entity,e.system).filter(o=>o.constructor.name===qn.name).map(o=>o.getId);if(n.length===0)return"n/a";let i=[...e.system.getDeploymentMappingEntities.values()].filter(o=>n.includes(o.getDeployedEntity.getId));if(i.length===0)return"n/a";let r=i.map(o=>o.getUnderlyingInfrastructure),a=new Set;return r.forEach(o=>{o.getProperty("availability_zone").value.split(",").forEach(l=>a.add(l))}),a.size},oue=e=>{let n=ti(e.entity,e.system).filter(o=>o.constructor.name===Ci.name).map(o=>o.getId);if(n.length===0)return"n/a";let i=[...e.system.getDeploymentMappingEntities.values()].filter(o=>n.includes(o.getDeployedEntity.getId));if(i.length===0)return"n/a";let r=i.map(o=>o.getUnderlyingInfrastructure),a=new Set;return r.forEach(o=>{o.getProperty("availability_zone").value.split(",").forEach(l=>a.add(l))}),a.size},sue=e=>{let t=e.entity.getLinks.flatMap(i=>i);return t.length===0?"n/a":t.filter(i=>i.getProperty("timeout").value>0).length/t.length},lue=e=>{let t=[];return e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint).forEach(i=>{i.constructor.name===O0.name&&t.push(i)}),e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),w4(t)},cue=e=>{let t=e.entity.getLinks.flatMap(i=>i).map(i=>i.getTargetEndpoint);if(e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0)return"n/a";let n=[];for(const i of t)R0.includes(i.getProperty("kind").value)&&n.push(i.getId);return n.length/t.length},uue=e=>{let t=e.entity.getLinks.flatMap(n=>n).map(n=>n.getTargetEndpoint);return e.entity.getExternalEndpoint&&t.push(e.entity.getExternalEndpoint),t.length===0?"n/a":t.filter(n=>n.getProperty("rate_limiting").value!=="none").length/t.length},due={ratioOfEndpointsSupportingSsl:sce,ratioOfSecuredLinks:cce,requestTraceLength:lce,requestTraceComplexity:mD,numberOfCyclesInRequestTraces:yD,dataReplicationAlongRequestTrace:uce,ratioOfStateDependencyOfEndpoints:dce,ratioOfStatefulComponents:hce,ratioOfStatelessComponents:fce,asynchronousCommunicationUtilization:pce,eventSourcingUtilizationMetric:gce,ratioOfInfrastructureNodesThatSupportMonitoring:mce,ratioOfComponentsThatSupportMonitoring:yce,distributedTracingSupport:Ece,ratioOfServicesThatProvideHealthEndpoints:vce,ratioOfServicesThatProvideReadinessEndpoints:bce,maximumNumberOfServicesWithinARequestTrace:xce,databaseTypeUtilization:Sce,serviceDiscoveryUsage:_ce,serviceReplicationLevel:Cce,medianServiceReplication:wce,smallestReplicationValue:Tce,storageReplicationLevel:Ace,numberOfAvailabilityZonesUsedByInfrastructure:kce,ratioOfLinksWithRetryLogic:Ice,ratioOfLinksWithComplexFailover:Oce,amountOfRedundancy:Pce,dataShardingLevel:Mce,serviceMeshUsage:Nce,configurationExternalization:Rce,secretsExternalization:Dce,suitablyReplicatedStatefulService:Bce,ratioOfUniqueAccountUsage:Lce,accessRestrictedToCallers:Fce,ratioOfDelegatedAuthentication:zce,ratioOfStandardizedArtifacts:$ce,ratioOfEntitiesProvidingStandardizedArtifacts:qce,componentArtifactsSimilarity:Uce,ratioOfDeploymentsOnDynamicInfrastructure:Hce,ratioOfEndpointsCoveredByContract:Vce,standardizedDeployments:Gce,selfContainedDeployments:Wce,ratioOfDocumentedEndpoints:jce,ratioOfEndpointsThatSupportTokenBasedAuthentication:Kce,ratioOfEndpointsThatSupportApiKeys:Yce,ratioOfEndpointsThatSupportPlaintextAuthentication:Xce,ratioOfEndpointsThatAreIncludedInASingleSignOnApproach:Jce,iendpointAccessMethodsConsistency:Qce,degreeToWhichComponentsAreLinkedToStatefulComponents:Zce,ratioOfSpecializedStatefulServices:eue,degreeOfSeparationByGateways:tue,serviceInteractionViaBackingService:nue,rollingUpdates:iue,ratioOfComponentsWhoseExternalIngressIsProxied:rue,numberOfAvailabilityZonesUsedByServices:aue,numberOfAvailabilityZonesUsedByStorageServices:oue,ratioOfLinksWithTimeout:sue,ratioOfExternalEndpointsSupportingTls:lue,degreeOfAsynchronousCommunication:cue,ratioOfRateLimitingEndpoints:uue},vD=(e,t,n)=>{let i=0;for(const r of e)new Set(n.getOutgoingLinksOfComponent(r.getId).map(o=>o.getTargetEndpoint.getId)).intersection(t).size>0&&i++;return i},D0=e=>{let t=new Map;for(const[n,i]of e.getDeploymentMappingEntities.entries()){let r=i.getDeployedEntity;if(r.constructor.name===qn.name){let a=i.getProperties().find(o=>o.getKey==="replicas").value;t.has(r.getId)?t.set(r.getId,t.get(r.getId)+a):t.set(r.getId,a)}}return t},hue=e=>{let t=D0(e.system);return t.size===0?"n/a":Zt(Array.from(t.values()))},fue=e=>{let t=D0(e.system);return t.size===0?"n/a":FR(Array.from(t.values()))},pue=e=>{let t=D0(e.system);return t.size===0?"n/a":zR(Array.from(t.values()))},gue=e=>{let t=new Map;for(const[n,i]of e.entity.getDeploymentMappingEntities.entries()){let r=i.getDeployedEntity;if(r.constructor.name===Ci.name){let a=i.getProperties().find(o=>o.getKey==="replicas").value;t.has(r.getId)?t.set(r.getId,t.get(r.getId)+a):t.set(r.getId,a)}}return t.size===0?"n/a":Zt(Array.from(t.values()))},mue=e=>[...e.entity.getComponentEntities.entries()].map(t=>t[1].getExternalEndpointEntities.length).reduce((t,n)=>t+n,0),yue=e=>{let t=[...e.entity.getComponentEntities.entries()].map(n=>n[1]).filter(n=>n.constructor.name===Ci.name);return t.length===0?"n/a":Zt(t.map(n=>n.getProperties().find(i=>i.getKey==="shards").value))},vue=e=>{let t=[...e.entity.getComponentEntities.entries()].flatMap(n=>n[1].getEndpointEntities.concat(n[1].getExternalEndpointEntities));return C4(t)},bue=e=>{let t=[...e.entity.getComponentEntities.entries()].flatMap(n=>n[1].getExternalEndpointEntities);return w4(t)},bD=e=>{let t=e.filter(n=>{let i=n.getTargetEndpoint.getProperties().find(r=>r.getKey==="protocol").value;return b4.includes(i)}).length;return e.length===0?"n/a":t/e.length},Eue=e=>{let t=[...e.entity.getLinkEntities.entries()].map(n=>n[1]);return bD(t)},xue=e=>[...e.entity.getDataAggregateEntities.keys()].length,ED=e=>{let t=e.filter(n=>!n.getProperties().find(i=>i.getKey==="stateless").value).length;return e.length===0?"n/a":t/e.length},Sue=e=>{let t=[...e.entity.getComponentEntities.values()];return ED(t)},xD=e=>{let t=e.filter(n=>n.getProperties().find(i=>i.getKey==="stateless").value).length;return e.length===0?"n/a":t/e.length},_ue=e=>{let t=[...e.entity.getComponentEntities.values()];return xD(t)},Cue=e=>{let t=[...e.entity.getComponentEntities.entries()];if(t.length===0)return"n/a";let n=[];for(const[i,r]of t){let a=dD({entity:r,system:e.system});a!=="n/a"&&n.push(a)}return n.length===0?"n/a":Zt(n)},wue=e=>{let t=[...e.entity.getComponentEntities.entries()];if(t.length===0)return"n/a";let n=[];for(const[i,r]of t){let a=r.getEndpointEntities.concat(r.getExternalEndpointEntities);if(a.length===0)continue;let o=a.filter(s=>R0.includes(s.getProperty("kind").value)).length;n.push(o/a.length)}return Zt(n)},SD=e=>{if(e.length===0)return"n/a";let t=0;for(const n of e)R0.includes(n.getTargetEndpoint.getProperty("kind").value)&&t++;return t/e.length},Tue=e=>{let t=[...e.entity.getLinkEntities.values()];return SD(t)},Aue=e=>{let t=[...e.entity.getComponentEntities.entries()].map(i=>i[1]).filter(i=>i.constructor.name===qn.name);if(t.length===0)return"n/a";let n=0;for(const i of t)S4(i)&&n++;return n/t.length},kue=e=>{let t=[...e.entity.getComponentEntities.entries()].map(i=>i[1]).filter(i=>i.constructor.name===qn.name);if(t.length===0)return"n/a";let n=0;for(const i of t)_4(i)&&n++;return n/t.length},Iue=e=>{let t=[...e.entity.getComponentEntities.entries()].map(o=>o[0]);if(t.length<3)return"n/a";let n=new Map,i=0;for(const o of t)for(const s of t.filter(l=>l!==o)){let l=e.entity.getShortestPathLength(o,s);if(n.has(o))n.get(o).set(s,l);else{let c=new Map;c.set(s,l),n.set(o,c)}i+=l}let r=t.length*(t.length-1)*(t.length-1),a=t.length*(t.length-1);return(r-i)/(r-a)},Oue=e=>{let t=e.entity.getComponentEntities.size;return t===0?"n/a":e.entity.getLinkEntities.size/t},Pue=e=>{let t=e.entity.getComponentEntities.size*(e.entity.getComponentEntities.size-1);return t===0?0:e.entity.getLinkEntities.size/t},Mue=e=>{let t=[...e.entity.getComponentEntities.entries()],n=0;for(const[i,r]of t){let a=aD({entity:r,system:e.system});n+=a==="n/a"?0:a}return n},Nue=e=>{let t=[...e.entity.getLinkEntities.entries()],n=new Map;for(const[i,r]of t){let a=r.getSourceEntity,o=e.entity.searchComponentOfEndpoint(r.getTargetEndpoint.getId);if(a.constructor.name===qn.name&&o.constructor.name===qn.name){let s=[a.getId,o.getId].sort().join("");if(n.has(s))n.get(s).add(a.getId);else{let l=new Set;l.add(a.getId),n.set(s,l)}}}return[...n.entries()].map(i=>i[1].size).filter(i=>i===2).length},Rue=e=>{let t=[...e.entity.getComponentEntities.entries()],n=0;for(const[i,r]of t){let a=Yf({entity:r,system:e.system});n+=a}return n/(t.length*(t.length-1))},Due=e=>{let t=[...e.entity.getComponentEntities.entries()],n=0;for(const[i,r]of t){let a=Yf({entity:r,system:e.system});n+=a}return n/(Math.pow(t.length,2)-t.length)},Bue=e=>{let t=[...e.entity.getComponentEntities.entries()],n=0;for(const[i,r]of t){let a=Yf({entity:r,system:e.system});n+=a}return n/t.length},Lue=e=>{let t=[...e.entity.getComponentEntities.entries()],n=new Map,i=new Map;for(const[o,s]of e.entity.getLinkEntities.entries()){let l=e.entity.searchComponentOfEndpoint(s.getTargetEndpoint.getId).getId;if(n.has(l))n.get(l).add(s.getSourceEntity.getId);else{let c=new Set;c.add(s.getSourceEntity.getId),n.set(l,c)}if(i.has(s.getTargetEndpoint.getId))i.get(s.getTargetEndpoint.getId).add(s.getSourceEntity.getId);else{let c=new Set;c.add(s.getSourceEntity.getId),i.set(s.getTargetEndpoint.getId,c)}}let r=[...n.entries()].filter(o=>o[1].size>=2).length,a=[...i.entries()].filter(o=>o[1].size>=2).length;return(r/t.length+a/e.entity.getLinkEntities.size)/2},Fue=e=>{let t=[...e.entity.getComponentEntities.entries()],n=[];for(const[a,o]of t)e.entity.getIncomingLinksOfComponent(a).length>0&&n.push(a);let i=new Set,r=new Set;for(const[a,o]of t){let s=e.entity.getIncomingLinksOfComponent(a);for(const l of s){let c=l.getSourceEntity.getId;n.includes(c)&&c!==a&&(r.add(l.getTargetEndpoint.getId),i.add(a))}}return(i.size/t.length+r.size/e.entity.getLinkEntities.size)/2},zue=e=>{let t=[...e.entity.getComponentEntities.entries()];if(t.length===0)return"n/a";let n=new Map,i=new Map;for(const[a,o]of e.entity.getLinkEntities.entries()){let s=e.entity.searchComponentOfEndpoint(o.getTargetEndpoint.getId).getId;if(n.has(s))n.get(s).add(o.getSourceEntity.getId);else{let l=new Set;l.add(o.getSourceEntity.getId),n.set(s,l)}if(i.has(o.getTargetEndpoint.getId))i.get(o.getTargetEndpoint.getId).add(o.getSourceEntity.getId);else{let l=new Set;l.add(o.getSourceEntity.getId),i.set(o.getTargetEndpoint.getId,l)}}return[...n.entries()].filter(a=>a[1].size>=2).length/t.length},$ue=e=>{let t=[...e.entity.getComponentEntities.entries()];if(t.length===0)return"n/a";let n=new Map,i=new Map;for(const[a,o]of e.entity.getLinkEntities.entries()){let s=e.entity.searchComponentOfEndpoint(o.getTargetEndpoint.getId).getId;if(n.has(s))n.get(s).add(o.getSourceEntity.getId);else{let l=new Set;l.add(o.getSourceEntity.getId),n.set(s,l)}if(i.has(o.getTargetEndpoint.getId))i.get(o.getTargetEndpoint.getId).add(o.getSourceEntity.getId);else{let l=new Set;l.add(o.getSourceEntity.getId),i.set(o.getTargetEndpoint.getId,l)}}return[...n.entries()].map(a=>{let o=a[1];return o.size>=2?o.size*(o.size-1):0}).reduce((a,o)=>a+o,0)/Math.pow(t.length,2)},que=e=>{if(e.entity.getComponentEntities.size===0)return"n/a";let t=[...e.entity.getLinkEntities.entries()],n=0;for(const[i,r]of t){let a=_se(r.getTargetEndpoint.getProperty("kind").value),o=Zt(r.getTargetEndpoint.getDataAggregateEntities.map(s=>Sse(s.relation.getProperty("usage_relation").value)));n+=a+o}return n/e.entity.getComponentEntities.size},Uue=e=>{let t=[],n=[...e.entity.getComponentEntities.entries()];for(let[i,r]of n){let a=e.entity.getOutgoingLinksOfComponent(i).filter(s=>zl.includes(s.getTargetEndpoint.getProperty("kind").value)).map(s=>[s]),o=[];for(;a.length>0;){let s=a[0],l=s[s.length-1];if(o.includes(l.getId)){a.splice(0,1);continue}let c=e.entity.searchComponentOfEndpoint(l.getTargetEndpoint.getId).getId;if(c===i){let h=new Set(s.map(d=>d.getId));t.find(d=>d.symmetricDifference(h).size===0)||t.push(h)}e.entity.getOutgoingLinksOfComponent(c).filter(h=>zl.includes(h.getTargetEndpoint.getProperty("kind").value)).forEach(h=>{a.push(s.concat(h))}),o.push(l.getId),a.splice(0,1)}}return t.length},Hue=e=>{let t=[...e.entity.getComponentEntities.entries()].filter(i=>e.entity.getOutgoingLinksOfComponent(i[1].getId).length>0&&e.entity.getIncomingLinksOfComponent(i[1].getId).length>0),n=0;for(const[i,r]of t)n+=Math.log(e.entity.getOutgoingLinksOfComponent(i).length/(e.entity.getOutgoingLinksOfComponent(i).length+e.entity.getIncomingLinksOfComponent(i).length)*2);return n},Vue=e=>{let t=e.entity.getDataAggregateEntities,n=new Map;t.forEach(o=>{n.set(o.getId,new Set)});let i=e.entity.getComponentEntities;if(t.size===0||i.size===0)return"n/a";let r=0;for(const[o,s]of i.entries()){let l=s.getDataAggregateEntities;l.forEach(c=>{n.get(c.data.getId).add(o)}),r+=l.length}let a=0;for(const[o,s]of n.entries())a+=s.size;return r/i.size+a/t.size},Gue=e=>{let t=e.entity.getRequestTraceEntities,n=0;for(const[i,r]of t)yD({entity:r,system:e.system})>0&&(n+=1);return n/t.size},Wue=e=>{let t=[],n=[...e.entity.getComponentEntities.entries()];if(n.length===0)return"n/a";for(let[i,r]of n){let a=e.entity.getOutgoingLinksOfComponent(i).map(s=>[s]),o=[];for(;a.length>0;){let s=a[0],l=s[s.length-1];if(o.includes(l.getId)){a.splice(0,1);continue}let c=e.entity.searchComponentOfEndpoint(l.getTargetEndpoint.getId).getId;if(c===i){let h=new Set(s.map(d=>d.getId));t.find(d=>d.symmetricDifference(h).size===0)||t.push(h)}e.entity.getOutgoingLinksOfComponent(c).forEach(h=>{a.push(s.concat(h))}),o.push(l.getId),a.splice(0,1)}}return t.length},jue=e=>{let t=[...e.entity.getRequestTraceEntities.entries()].map(n=>n[1]);return t.length===0?"n/a":Math.max(...t.map(n=>n.getLinks.length))},Kue=e=>{let t=[...e.entity.getRequestTraceEntities.entries()].map(n=>n[1]);return t.length===0?"n/a":Math.max(...t.map(n=>{let i=[...n.getLinks].flatMap(r=>r.map(a=>[a.getSourceEntity,e.entity.searchComponentOfEndpoint(a.getTargetEndpoint.getId)]).flatMap(a=>a.map(o=>o.getId)));return new Set(i).size}))},Yue=e=>{let t=new Map;if(e.entity.getLinkEntities.size===0)return"n/a";for(const[n,i]of e.entity.getLinkEntities){let r=e.entity.searchComponentOfEndpoint(i.getTargetEndpoint.getId);if(r.constructor.name===Ci.name){let a=r.getId,o=i.getSourceEntity.getId;if(t.has(a))t.get(a).add(o);else{let s=new Set;s.add(o),t.set(a,s)}}}return[...t.values()].filter(n=>n.size===1).length/t.size},Xue=e=>{let t=e.entity.getComponentEntities;if(t.size===0)return"n/a";let n=[];for(const[i,r]of t)n.push(...r.getEndpointEntities.concat(r.getExternalEndpointEntities).map(a=>a.getId));return n.length/t.size},Jue=e=>e.entity.getComponentEntities.size,Que=e=>{let t=e.entity.getComponentEntities,n=e.entity.getInfrastructureEntities;if(t.size===0&&n.size===0)return"n/a";let i=[...t.entries()].filter(a=>a[1].getProperty("managed").value).reduce((a,o)=>a+1,0),r=[...n.entries()].filter(a=>YR.includes(a[1].getProperty("environment_access").value)).reduce((a,o)=>a+1,0);return(i+r)/(t.size+n.size)},Zue=e=>{if(e.entity.getDeploymentMappingEntities.size===0)return"n/a";let n=e.entity.getComponentEntities,i=e.entity.getInfrastructureEntities,r=[],a=[];return e.entity.getDeploymentMappingEntities.forEach((o,s)=>{o.getDeployedEntity.constructor.name===nl.name||(r.push(o.getDeployedEntity.getId),a.push(o.getUnderlyingInfrastructure.getId))}),[...n.entries()].filter(o=>r.includes(o[0])).reduce((o,s)=>o+1,0)/[...i.entries()].filter(o=>a.includes(o[0])).reduce((o,s)=>o+1,0)},ede=e=>{let t=new Set;return e.entity.getInfrastructureEntities.size===0?"n/a":([...e.entity.getInfrastructureEntities.entries()].forEach(([n,i])=>{i.getProperty("availability_zone").value.split(",").forEach(a=>t.add(a))}),t.size)},tde=e=>{let t=new Map;for(const[i,r]of e.entity.getDeploymentMappingEntities)r.getDeployedEntity.constructor.name!==nl.name&&t.set(r.getUnderlyingInfrastructure.getId,r.getUnderlyingInfrastructure);return t.size===0?"n/a":[...t.entries()].filter(i=>i[1].getProperty("supported_update_strategies").value.some(r=>O1.includes(r))).map(i=>i[1]).length/t.size},nde=e=>{let t=[...e.entity.getLinkEntities.entries()].filter(([i,r])=>zl.includes(r.getTargetEndpoint.getProperty("kind").value)).map(([i,r])=>r);return t.length===0?"n/a":t.filter(i=>i.getProperty("retries").value>0).length/t.length},ide=e=>{let t=[...e.entity.getLinkEntities.entries()].filter(([i,r])=>zl.includes(r.getTargetEndpoint.getProperty("kind").value)).map(([i,r])=>r);return t.length===0?"n/a":t.filter(i=>i.getProperty("circuit_breaker").value!=="none").length/t.length},rde=e=>[...e.entity.getComponentEntities.entries()].filter(([t,n])=>n.constructor.name===qn.name).length,ade=e=>[...e.entity.getComponentEntities.entries()].filter(([t,n])=>n.constructor.name===Mn.name).length,ode=e=>e.entity.getLinkEntities.size,sde=e=>{let t=0;return[...e.entity.getComponentEntities.entries()].forEach(([n,i])=>{t+=nD({entity:i,system:e.system})}),t},lde=e=>{let t=0;return[...e.entity.getComponentEntities.entries()].forEach(([i,r])=>{t+=iD({entity:r,system:e.system})}),t},cde=e=>e.entity.getComponentEntities.entries().filter(([n,i])=>i.constructor.name===qn.name&&e.entity.getIncomingLinksOfComponent(n).length>0).map(([n,i])=>n).toArray().length,ude=e=>e.entity.getComponentEntities.entries().filter(([n,i])=>i.constructor.name===qn.name&&e.entity.getOutgoingLinksOfComponent(n).length>0).map(([n,i])=>n).toArray().length,dde=e=>e.entity.getComponentEntities.entries().filter(([n,i])=>i.constructor.name===qn.name&&e.entity.getOutgoingLinksOfComponent(n).length>0&&e.entity.getIncomingLinksOfComponent(n).length>0).map(([n,i])=>n).toArray().length,hde=e=>{let t=new Set;for(const[n,i]of e.entity.getLinkEntities.entries())i.getSourceEntity.constructor.name===qn.name&&e.entity.searchComponentOfEndpoint(i.getTargetEndpoint.getId).constructor.name===Ci.name&&t.add(i.getSourceEntity.getId);return t.size},fde=e=>e.entity.getRequestTraceEntities.size,pde=e=>e.entity.getRequestTraceEntities.size===0?"n/a":Zt([...e.entity.getRequestTraceEntities.entries()].map(([t,n])=>mD({entity:n,system:e.system}))),gde=e=>{if(e.entity.getDeploymentMappingEntities.size===0)return"n/a";let t=new Set,n=new Set;for(const[i,r]of e.entity.getDeploymentMappingEntities)r.getDeployedEntity.constructor.name!==nl.name&&(t.add(i),n.add(r.getDeployedEntity.getId));return t.size/n.size},h_=(e,t,n)=>{let i=new Map,r=e.filter(o=>o.constructor.name===wr.name);for(const o of r)for(const s of o.getEndpointEntities){let l=s.getProperty("url_path").value,c=s.getProperty("kind").value,h=o.getId.concat(l);switch(i.has(h)||i.set(h,{"in-endpoint-ids":new Set,in:new Set,broker:o,"out-endpoint-ids":new Set,out:new Set}),c){case GR:i.get(h)["in-endpoint-ids"].add(s.getId);break;case WR:i.get(h)["out-endpoint-ids"].add(s.getId);break}}let a=new Map;for(const o of t)if(o.getSourceEntity.constructor.name===qn.name){let s=n.searchComponentOfEndpoint(o.getTargetEndpoint.getId);if(s&&s.constructor.name===qn.name&&zl.includes(o.getTargetEndpoint.getProperty("kind").value)&&a.set(o.getId,o),s&&s.constructor.name===wr.name){let l=s.getId.concat(o.getTargetEndpoint.getProperty("url_path").value);i.get(l)["in-endpoint-ids"].has(o.getTargetEndpoint.getId)?i.get(l).in.add(o.getSourceEntity.getId):i.get(l)["out-endpoint-ids"].has(o.getTargetEndpoint.getId)&&i.get(l).out.add(o.getSourceEntity.getId)}}return{asynchronousConnections:i,synchronousConnections:a}},mde=e=>{let t=h_([...e.entity.getComponentEntities.values()],[...e.entity.getLinkEntities.values()],e.entity),n=[...t.asynchronousConnections.entries()].filter(([i,r])=>jR.includes(r.broker.getProperty("kind").value)).map(([i,r])=>r.in.size*r.out.size).reduce((i,r)=>i+r,0);return n+t.synchronousConnections.size===0?"n/a":n/(n+t.synchronousConnections.size)},yde=e=>{let t=h_([...e.entity.getComponentEntities.values()],[...e.entity.getLinkEntities.values()],e.entity),n=[...t.asynchronousConnections.entries()].filter(([i,r])=>KR.includes(r.broker.getProperty("kind").value)).map(([i,r])=>r.in.size*r.out.size).reduce((i,r)=>i+r,0);return n+t.synchronousConnections.size===0?"n/a":n/(n+t.synchronousConnections.size)},vde=e=>{let t=[...e.entity.getComponentEntities.entries()],n=[...e.entity.getInfrastructureEntities.entries()],i=new Map;[...e.entity.getBackingDataEntities.entries()].filter(([o,s])=>s.getProperty("kind").value===ao).forEach(([o,s])=>{i.set(o,{usedBy:[],persistedBy:[]})});for(const[o,s]of t)s.getBackingDataEntities.filter(c=>c.backingData.getProperty("kind").value===ao).forEach(c=>{Rr.includes(c.relation.getProperty("usage_relation").value)&&i.get(c.backingData.getId).usedBy.push(o),Di.includes(c.relation.getProperty("usage_relation").value)&&i.get(c.backingData.getId).persistedBy.push(o)});for(const[o,s]of n)s.getBackingDataEntities.filter(c=>c.backingData.getProperty("kind").value===ao).forEach(c=>{Rr.includes(c.relation.getProperty("usage_relation").value)&&i.get(c.backingData.getId).usedBy.push(o),Di.includes(c.relation.getProperty("usage_relation").value)&&i.get(c.backingData.getId).persistedBy.push(o)});let r=0,a=0;return[...i.entries()].forEach(([o,s])=>{s.persistedBy.length>0&&(s.usedBy.length===0?r++:a+=s.usedBy.length,r+=s.persistedBy.length-1)}),r+a===0?0:a/(r+a)},bde=e=>{let t=e.entity.getRequestTraceEntities;if(t.size===0)return"n/a";let n=0;e:for(const[i,r]of t){if(r.getExternalEndpoint){let o=e.entity.searchComponentOfEndpoint(r.getExternalEndpoint.getId).getExternalIngressProxiedBy;if(o&&o.constructor.name===Mr.name&&o.getProperty("kind").value==="API Gateway"){n++;continue e}}for(const a of r.getLinks.flat(1)){let o=a.getSourceEntity;if(o.constructor.name===Mr.name&&o.getProperty("kind").value==="API Gateway"){n++;continue e}}}return n/t.size},Ede=e=>{let t=e.entity.getInfrastructureEntities;if(t.size===0)return"n/a";let n=0;for(const[i,r]of t)hD(r)&&n++;return n/t.size},xde=e=>{let t=e.entity.getComponentEntities;if(t.size===0)return"n/a";let n=0;for(const[i,r]of t)ZR(r)&&n++;return n/t.size},Sde=e=>{let t=[...e.entity.getComponentEntities.entries()].filter(([s,l])=>l.constructor.name!==Mn.name||l.getProperty("providedFunctionality").value!=="logging"),n=e.entity.getInfrastructureEntities,i=[...e.entity.getComponentEntities.entries()].filter(([s,l])=>l.constructor.name===Mn.name&&l.getProperty("providedFunctionality").value==="logging");if(t.length+n.size===0||i.length===0)return 0;let r=new Map;t.forEach(([s,l])=>r.set(s,[]));let a=i.map(([s,l])=>s);for(const[s,l]of e.entity.getLinkEntities){let c=e.entity.searchComponentOfEndpoint(l.getTargetEndpoint.getId);a.includes(c.getId)&&r.get(l.getSourceEntity.getId).push({loggingService:c.getId,mode:"push"}),a.includes(l.getSourceEntity.getId)&&r.get(c.getId).push({loggingService:l.getSourceEntity.getId,mode:"pull"})}let o=0;for(const[s,l]of t){let c=l.getBackingDataEntities.filter(d=>d.backingData.getProperty("kind").value===g0&&Rr.includes(d.relation.getProperty("usage_relation").value)).map(d=>d.backingData.getId),h=!1;e:for(const d of c)for(const p of r.get(s)){let S=e.entity.getComponentEntities.get(p.loggingService).getBackingDataEntities.find(_=>_.backingData.getId===d);if(S&&Di.includes(S.relation.getProperty("usage_relation").value)){h=!0;continue e}}h&&o++}for(const[s,l]of n){let c=l.getBackingDataEntities.filter(d=>d.backingData.getProperty("kind").value===g0&&Rr.includes(d.relation.getProperty("usage_relation").value)).map(d=>d.backingData.getId),h=!1;for(const[d,p]of i){let y=p.getBackingDataEntities.find(S=>c.includes(S.backingData.getId));y&&Di.includes(y.relation.getProperty("usage_relation").value)&&(h=!0)}h&&o++}return o/(t.length+n.size)},_de=e=>{let t=[...e.entity.getComponentEntities.entries()].filter(([s,l])=>l.constructor.name!==Mn.name||l.getProperty("providedFunctionality").value!=="metrics"),n=e.entity.getInfrastructureEntities,i=[...e.entity.getComponentEntities.entries()].filter(([s,l])=>l.constructor.name===Mn.name&&l.getProperty("providedFunctionality").value==="metrics");if(t.length+n.size===0||i.length===0)return 0;let r=new Map;t.forEach(([s,l])=>r.set(s,[]));let a=i.map(([s,l])=>s);for(const[s,l]of e.entity.getLinkEntities){let c=e.entity.searchComponentOfEndpoint(l.getTargetEndpoint.getId);a.includes(c.getId)&&r.get(l.getSourceEntity.getId).push({metricsService:c.getId,mode:"push"}),a.includes(l.getSourceEntity.getId)&&r.get(c.getId).push({metricsService:l.getSourceEntity.getId,mode:"pull"})}let o=0;for(const[s,l]of t){let c=l.getBackingDataEntities.filter(d=>d.backingData.getProperty("kind").value===m0&&Rr.includes(d.relation.getProperty("usage_relation").value)).map(d=>d.backingData.getId),h=!1;e:for(const d of c)for(const p of r.get(s)){let S=e.entity.getComponentEntities.get(p.metricsService).getBackingDataEntities.find(_=>_.backingData.getId===d);if(S&&Di.includes(S.relation.getProperty("usage_relation").value)){h=!0;continue e}}h&&o++}for(const[s,l]of n){let c=l.getBackingDataEntities.filter(d=>d.backingData.getProperty("kind").value===m0&&Rr.includes(d.relation.getProperty("usage_relation").value)).map(d=>d.backingData.getId),h=!1;for(const[d,p]of i){let y=p.getBackingDataEntities.find(S=>c.includes(S.backingData.getId));y&&Di.includes(y.relation.getProperty("usage_relation").value)&&(h=!0)}h&&o++}return o/(t.length+n.size)},Cde=e=>{let t=[...e.entity.getComponentEntities.values()].filter(r=>r.constructor.name!==Mn.name||r.getProperty("providedFunctionality").value!=="tracing"),n=[...e.entity.getComponentEntities.entries()].filter(([r,a])=>a.constructor.name===Mn.name&&a.getProperty("providedFunctionality").value==="tracing");if(t.length===0||n.length===0)return"n/a";let i=new Set(n.flatMap(([r,a])=>a.getEndpointEntities.map(o=>o.getId)));return vD(t,i,e.system)/t.length},_D=e=>{let t=0;for(const n of e){let r=n.getSourceEntity.getAddressResolutionBy;r&&(r.constructor.name===Mn.name&&r.getProperty("address_resolution_kind").value!=="none"||r.constructor.name===Mr.name||r.constructor.name===QS.name||r.constructor.name===nl.name&&r.getProperty("address_resolution_kind").value!=="none")&&t++}return t},wde=e=>{let t=[...e.entity.getLinkEntities.values()];return t.length===0?"n/a":_D(t)/t.length},Tde=e=>{const[t,n]=$R([...e.entity.getComponentEntities.entries()],([a,o])=>o.constructor.name!==Mr.name);if(n.length===0||t.length===0)return"n/a";let i=0,r=0;for(const[a,o]of t)o.getExternalEndpointEntities.length>0&&(i++,o.getExternalIngressProxiedBy&&r++);return i===0?"n/a":r/i},Ade=e=>{const[t,n]=$R([...e.entity.getComponentEntities.entries()],([r,a])=>a.constructor.name!==Mr.name);if(n.length===0||t.length===0)return"n/a";let i=0;for(const[r,a]of t)a.getEgressProxiedBy&&i++;return i/t.length},kde=e=>{const t=[...e.entity.getComponentEntities.entries()];let n=0,i=0;return t.forEach(([r,a])=>{a.getDataAggregateEntities.forEach(o=>{Rr.includes(o.relation.getProperty("usage_relation").value)&&(i++,o.relation.getProperty("usage_relation").value==="cached-usage"&&n++)})}),i>0?n/i:"n/a"},Ide=e=>{const t=[...e.entity.getComponentEntities.entries()].flatMap(([i,r])=>r.getEndpointEntities.concat(r.getExternalEndpointEntities));return t.length===0?"n/a":t.filter(i=>i.getDataAggregateEntities.length>0).length/t.length},Ode=e=>{const t=[...e.entity.getComponentEntities.values()].filter(n=>n.constructor.name!==Mr.name||n.getProperty("kind").value!==Px);return Zt(t.map(n=>T4({entity:n,system:e.system})))},Pde=e=>{let t=[...e.entity.getComponentEntities.entries()],n=[...e.entity.getInfrastructureEntities.entries()],i=new Map;[...e.entity.getBackingDataEntities.entries()].filter(([o,s])=>s.getProperty("kind").value===oo).forEach(([o,s])=>{i.set(o,{usedBy:[],persistedBy:[]})});for(const[o,s]of t)s.getBackingDataEntities.filter(c=>c.backingData.getProperty("kind").value===oo).forEach(c=>{Rr.includes(c.relation.getProperty("usage_relation").value)&&i.get(c.backingData.getId).usedBy.push(o),Di.includes(c.relation.getProperty("usage_relation").value)&&i.get(c.backingData.getId).persistedBy.push(o)});for(const[o,s]of n)s.getBackingDataEntities.filter(c=>c.backingData.getProperty("kind").value===oo).forEach(c=>{Rr.includes(c.relation.getProperty("usage_relation").value)&&i.get(c.backingData.getId).usedBy.push(o),Di.includes(c.relation.getProperty("usage_relation").value)&&i.get(c.backingData.getId).persistedBy.push(o)});let r=0,a=0;return[...i.entries()].forEach(([o,s])=>{s.persistedBy.length>0&&(s.usedBy.length===0?r++:a+=s.usedBy.length,r+=s.persistedBy.length-1)}),r+a===0?"n/a":a/(r+a)},Mde=e=>{let t=[...e.entity.getComponentEntities.entries()].filter(([i,r])=>!r.getProperty("stateless").value);if(t.length===0)return"n/a";let n=[];for(const[i,r]of t)[Ci.name,Mn.name,wr.name].includes(r.constructor.name)&&n.push(i);return n.length/t.length},Nde=e=>{let t=[...e.system.getComponentEntities.entries()].filter(([a,o])=>[Ci.name,Mn.name,wr.name].includes(o.constructor.name)&&!o.getProperty("stateless").value);if(t.length===0)return"n/a";let n=new Map;t.forEach(([a,o])=>n.set(a,[])),[...e.system.getDeploymentMappingEntities.entries()].forEach(([a,o])=>{let s=n.keys().find(l=>l===o.getDeployedEntity.getId);s&&n.get(s).push(o)});let i=new Set,r=new Set;return n.entries().forEach(([a,o])=>{o.some(s=>s.getProperty("replicas").value>1)&&(i.add(a),t.find(([l,c])=>l==a)[1].getProperty("replication_strategy").value!=="none"&&r.add(a))}),i.size===0?"n/a":r.size/i.size},Rde=e=>{let t=new Set,n=e.entity.getComponentEntities;for(const[a,o]of n){let s=new Set(Object.entries(o.getProperty("identities").value).filter(([l,c])=>c==="account").map(([l,c])=>l));s.size===0?t.add("default-account"):s.forEach(l=>t.add(l))}let i=e.entity.getInfrastructureEntities;for(const[a,o]of i){let s=new Set(Object.entries(o.getProperty("identities").value).filter(([l,c])=>c==="account").map(([l,c])=>l));s.size===0?t.add("default-account"):s.forEach(l=>t.add(l))}let r=n.size+i.size;return r<=1?"n/a":t.size/r},Dde=e=>{let t=[...e.entity.getComponentEntities].filter(([i,r])=>[Ci.name,Mn.name,wr.name,Mr.name].includes(r.constructor.name));return t.length===0?"n/a":t.filter(([i,r])=>r.getProperty("software_type").value!==JR).length/t.length},Bde=e=>{let t=[...e.entity.getBackingDataEntities.entries()].filter(([o,s])=>s.getProperty("kind").value===oo);if(t.length===0)return"n/a";let n=[...e.entity.getComponentEntities.entries()],i=new Set,r=new Set;for(const[o,s]of n){let l=s.getBackingDataEntities.filter(c=>c.backingData.getProperty("kind").value===oo&&Di.includes(c.relation.getProperty("usage_relation").value)).map(c=>c.backingData.getId);s.constructor.name===Mn.name&&Ay.includes(s.getProperty("providedFunctionality").value)?l.forEach(c=>i.add(c)):l.forEach(c=>r.add(c))}return i.difference(r).size/t.length},Lde=e=>{let t=[...e.entity.getComponentEntities.entries()];if(t.length==0)return"n/a";let i=t.map(([r,a])=>Xf.accessRestrictedToCallers({entity:a,system:e.system})).filter(r=>r!=="n/a");return i.length===0?"n/a":Zt(i)},Fde=e=>{let t=[...e.entity.getComponentEntities.entries()].filter(([n,i])=>i.constructor.name!==Mn.name||i.getProperty("providedFunctionality").value!=="authentication/authorization");return t.length===0?"n/a":Zt(t.map(([n,i])=>i.getAuthenticationBy?1:0))},zde=e=>{let t=new Map;return e.entity.getComponentEntities.entries().forEach(([i,r])=>{r.getArtifacts.entries().forEach(([a,o])=>{t.set(`${i}-${a}`,o)})}),e.entity.getInfrastructureEntities.entries().forEach(([i,r])=>{r.getArtifacts.entries().forEach(([a,o])=>{t.set(`${i}-${a}`,o)})}),t.size===0?"n/a":t.entries().filter(([i,r])=>r.getProperty("based_on_standard")&&r.getProperty("based_on_standard").value!=="none").toArray().length/t.size},$de=e=>{let t=new Set;return e.entity.getComponentEntities.size+e.entity.getInfrastructureEntities.size===0?"n/a":(e.entity.getComponentEntities.entries().forEach(([n,i])=>{i.getArtifacts.entries().filter(([a,o])=>o.getProperty("based_on_standard")&&o.getProperty("based_on_standard").value!=="none").toArray().length>0&&t.add(n)}),e.entity.getInfrastructureEntities.entries().forEach(([n,i])=>{i.getArtifacts.entries().filter(([a,o])=>o.getProperty("based_on_standard")&&o.getProperty("based_on_standard").value!=="none").toArray().length>0&&t.add(n)}),t.size/(e.entity.getComponentEntities.size+e.entity.getInfrastructureEntities.size))},qde=e=>{let t=[...e.entity.getComponentEntities.values()];if(t.length<=1)return"n/a";let n=[];for(const[i,r]of t.entries())if(i<t.length-1)for(const a of t.slice(i+1)){let o=new Set(r.getArtifacts.entries().map(([l,c])=>c.getType())),s=new Set(a.getArtifacts.entries().map(([l,c])=>c.getType()));o.union(s).size===0?n.push(0):n.push(o.intersection(s).size/o.union(s).size)}return Zt(n)},Ude=e=>{let t=[...e.entity.getInfrastructureEntities.values().filter(i=>i.getArtifacts.size>0)];if(t.length<=1)return"n/a";let n=[];for(const[i,r]of t.entries())if(i<t.length-1)for(const a of t.slice(i+1)){let o=new Set(r.getArtifacts.entries().map(([l,c])=>c.getType())),s=new Set(a.getArtifacts.entries().map(([l,c])=>c.getType()));o.union(s).size===0?n.push(0):n.push(o.intersection(s).size/o.union(s).size)}return Zt(n)},Hde=e=>{let t=e.entity.getInfrastructureEntities.values().map(n=>fD({entity:n,system:e.system})).toArray();return Zt(t)},Vde=e=>{let t=e.entity.getDeploymentMappingEntities.entries().filter(([i,r])=>r.getDeployedEntity.constructor.name!==nl.name).map(([i,r])=>r.getUnderlyingInfrastructure).toArray();return t.length===0?"n/a":t.filter(i=>I1.includes(i.getProperty("kind").value)).length/t.length},Gde=e=>{let t=e.entity.getInfrastructureEntities.entries().toArray();if(t.length===0)return"n/a";let n=[];return t.forEach(([i,r])=>{r.getArtifacts,r.getArtifacts.entries().find(([o,s])=>QR.includes(s.getType()))&&n.push(i)}),n.length/t.length},Wde=e=>{if(e.entity.getComponentEntities.entries().toArray().length===0)return"n/a";let t=e.entity.getComponentEntities.entries().map(([n,i])=>cD({entity:i,system:e.system})).toArray();return Zt(t)},jde=e=>{let t=e.entity.getInfrastructureEntities.entries().toArray();if(t.length===0)return"n/a";let n=t.map(([i,r])=>pD({entity:r,system:e.system}));return Zt(n)},Kde=e=>{let t=e.entity.getComponentEntities.entries().filter(([i,r])=>[Mn.name,Ci.name,Mr.name,wr.name].includes(r.constructor.name)).toArray();return t.length===0?"n/a":t.filter(([i,r])=>r.getProperty("managed").value).length/t.length},Yde=e=>{let t=e.system.getInfrastructureEntities.entries().toArray();return t.length===0?"n/a":t.filter(([i,r])=>r.getProperty("enforced_resource_bounds").value).length/t.length},Xde=e=>{let t=e.system.getDeploymentMappingEntities.entries().toArray();return t.length===0?"n/a":t.filter(([i,r])=>r.getProperty("resource_requirements").value!=="unstated").length/t.length},Jde=e=>{let t=e.entity.getComponentEntities.entries().map(([a,o])=>a).toArray(),n=e.system.getDeploymentMappingEntities.entries().filter(([a,o])=>t.includes(o.getDeployedEntity.getId)).toArray();if(n.length===0)return"n/a";let i=n.map(([a,o])=>o.getUnderlyingInfrastructure);return i.filter(a=>y0.includes(a.getProperty("deployed_entities_scaling").value)).length/i.length},Qde=e=>{let t=e.entity.getInfrastructureEntities.entries().toArray();return t.length===0?"n/a":t.filter(([i,r])=>y0.includes(r.getProperty("self_scaling").value)).length/t.length},Zde=e=>{let t=e.entity.getInfrastructureEntities.entries().toArray();return t.length===0?"n/a":t.filter(([i,r])=>I1.includes(r.getProperty("kind").value)).length/t.length},ehe=e=>{let t=e.entity.getInfrastructureEntities.entries().filter(([i,r])=>r.getArtifacts.size!==0).toArray();return t.length===0?"n/a":t.filter(([i,r])=>gD({entity:r,system:e.system})===1).length/t.length},the=e=>{let t=e.entity.getComponentEntities;return t.size===0?"n/a":t.entries().filter(([i,r])=>uD({entity:r,system:e.system})===1).toArray().length/t.size},nhe=e=>{let t=[...e.entity.getBackingDataEntities.entries()].filter(([o,s])=>s.getProperty("kind").value===ao);if(t.length===0)return"n/a";let n=[...e.entity.getComponentEntities.entries()],i=new Set,r=new Set;for(const[o,s]of n){let l=s.getBackingDataEntities.filter(c=>c.backingData.getProperty("kind").value===ao&&Di.includes(c.relation.getProperty("usage_relation").value)).map(c=>c.backingData.getId);s.constructor.name===Mn.name&&Ox.includes(s.getProperty("providedFunctionality").value)?l.forEach(c=>i.add(c)):l.forEach(c=>r.add(c))}return i.difference(r).size/t.length},ihe=e=>{let t=e.entity.getComponentEntities.entries(),n=[],i=[];for(const[r,a]of t){let o=a.getEndpointEntities.concat(a.getExternalEndpointEntities),s=a.getArtifacts;for(const l of o)n.push(l.getId),l.getDocumentedBy.map(h=>s.get(h)).find(h=>E4.includes(h.getType()))&&i.push(l.getId)}return n.length===0?"n/a":i.length/n.length},rhe=e=>{let t=e.entity.getComponentEntities.entries().map(([r,a])=>r).toArray(),n=e.system.getDeploymentMappingEntities.entries().filter(([r,a])=>t.includes(a.getDeployedEntity.getId)).toArray();return n.length===0?"n/a":n.filter(([r,a])=>{let o=a.getDeployedEntity.getArtifacts,s=a.getProperty("deployment_unit").value;return s?o.entries().find(([l,c])=>c.getType()===s&&c.getProperty("based_on_standard")&&c.getProperty("based_on_standard").value!=="none"):!1}).length/n.length},ahe=e=>{let t=e.entity.getComponentEntities.entries().map(([r,a])=>r).toArray(),n=e.system.getDeploymentMappingEntities.entries().filter(([r,a])=>t.includes(a.getDeployedEntity.getId)).toArray();return n.length===0?"n/a":n.filter(([r,a])=>{let o=a.getDeployedEntity.getArtifacts,s=a.getProperty("deployment_unit").value;return s?o.entries().find(([l,c])=>c.getType()===s&&c.getProperty("self_contained")&&c.getProperty("self_contained").value):!1}).length/n.length},ohe=e=>{let t=e.entity.getDeploymentMappingEntities;if(t.size===0)return"n/a";let n=[];return t.entries().forEach(([i,r])=>{r.getProperty("update_strategy").value!=="in-place"&&n.push(i)}),n.length/t.size},she=e=>{let t=e.entity.getInfrastructureEntities;if(t.size===0)return"n/a";let n=[];return t.entries().forEach(([i,r])=>{XR.includes(r.getProperty("maintenance").value)&&n.push(i)}),n.length/t.size},lhe=e=>{let t=e.entity.getLinkEntities;return t.size===0?"n/a":t.entries().filter(([i,r])=>r.getProperty("timeout").value>0).toArray().length/t.size},che=e=>{let t=e.entity.getDeploymentMappingEntities;return t.size===0?0:t.entries().filter(([i,r])=>x4.includes(r.getProperty("automated_restart_policy").value)).toArray().length/t.size},uhe=e=>{let t=e.entity.getComponentEntities.entries(),n=[],i=[];for(const[r,a]of t){let o=a.getEndpointEntities.concat(a.getExternalEndpointEntities);for(const s of o)n.push(s.getId),s.getDocumentedBy.length>0&&i.push(s.getId)}return n.length===0?"n/a":i.length/n.length},dhe=e=>{let t=e.entity.getComponentEntities.entries(),n=[],i=[];for(const[r,a]of t){let o=a.getEndpointEntities.concat(a.getExternalEndpointEntities);for(const s of o)n.push(s.getId),s.getProperty("supported_authentication_methods").value.includes("Token")&&i.push(s.getId)}return n.length===0?"n/a":i.length/n.length},hhe=e=>{let t=e.entity.getComponentEntities.entries(),n=[],i=[];for(const[r,a]of t){let o=a.getEndpointEntities.concat(a.getExternalEndpointEntities);for(const s of o)n.push(s.getId),s.getProperty("supported_authentication_methods").value.includes("API-Key")&&i.push(s.getId)}return n.length===0?"n/a":i.length/n.length},fhe=e=>{let t=e.entity.getComponentEntities.entries(),n=[],i=[];for(const[r,a]of t){let o=a.getEndpointEntities.concat(a.getExternalEndpointEntities);for(const s of o)n.push(s.getId),s.getProperty("supported_authentication_methods").value.includes("basic_authentication")&&i.push(s.getId)}return n.length===0?"n/a":i.length/n.length},phe=e=>{let t=e.entity.getComponentEntities.entries(),n=[],i=[];for(const[r,a]of t){let o=a.getEndpointEntities.concat(a.getExternalEndpointEntities);for(const s of o)n.push(s.getId),s.getProperty("supported_authentication_methods").value.includes("Single Sign-On")&&i.push(s.getId)}return n.length===0?"n/a":i.length/n.length},ghe=e=>{let i=e.entity.getComponentEntities.entries().flatMap(([a,o])=>o.getEndpointEntities).toArray().filter(a=>a.getProperty("supported_authentication_methods").value.length!==0);if(i.length<=1)return"n/a";let r=[];for(const[a,o]of i.entries())for(const s of i.slice(a+1)){let l=new Set(o.getProperty("supported_authentication_methods").value),c=new Set(s.getProperty("supported_authentication_methods").value);if(l.union(c).size===0)r.push(1);else{let h=l.intersection(c).size/l.union(c).size;r.push(h)}}return Zt(r)},mhe=e=>{let i=e.entity.getComponentEntities.entries().flatMap(([a,o])=>o.getExternalEndpointEntities).toArray().filter(a=>a.getProperty("supported_authentication_methods").value.length!==0);if(i.length<=1)return"n/a";let r=[];for(const[a,o]of i.entries())for(const s of i.slice(a+1)){let l=new Set(o.getProperty("supported_authentication_methods").value),c=new Set(s.getProperty("supported_authentication_methods").value);if(l.union(c).size===0)r.push(1);else{let h=l.intersection(c).size/l.union(c).size;r.push(h)}}return Zt(r)},yhe=e=>{let n=e.entity.getComponentEntities.entries().filter(([i,r])=>r.constructor.name===qn.name).toArray().map(([i,r])=>Xf.cohesionBetweenEndpointsBasedOnDataAggregateUsage({entity:r,system:e.system})).filter(i=>i!=="n/a");return n.length===0?"n/a":Zt(n)},vhe=e=>{let n=e.entity.getComponentEntities.entries().filter(([i,r])=>r.constructor.name===qn.name).toArray().map(([i,r])=>Xf.serviceInterfaceUsageCohesion({entity:r,system:e.system})).filter(i=>i!=="n/a");return n.length===0?"n/a":Zt(n)},bhe=e=>{let t=new Map;e.entity.getDataAggregateEntities.entries().forEach(([r,a])=>{t.set(r,{readBy:[],writeBy:[]})});let n=e.entity.getComponentEntities;for(const[r,a]of n){let o=a.getEndpointEntities.concat(a.getExternalEndpointEntities);if(!(o.length===0||a.getDataAggregateEntities.length===0))for(const s of o){let l=s.getDataAggregateEntities.filter(c=>{let h=a.getDataAggregateEntities.find(d=>d.data.getId===c.data.getId);return h&&Di.includes(h.relation.getProperty("usage_relation").value)});for(const c of l)s.getProperty("kind").value==="query"?t.get(c.data.getId).readBy.push(r):s.getProperty("kind").value==="command"&&t.get(c.data.getId).writeBy.push(r)}}let i=new Map;return t.entries().forEach(([r,a])=>{let o=new Set(a.readBy),s=new Set(a.writeBy);if(!(o.size===0||s.size===0)){if(o.difference(s).size===0&&s.difference(o).size===0){i.set(r,0);return}if(o.difference(s).size>0||s.difference(o).size>0){i.set(r,1);return}}}),i.size===0?"n/a":Zt(i.values().toArray())},Ehe=e=>{let t=e.entity.getComponentEntities.entries().filter(([r,a])=>a.constructor.name===qn.name).filter(([r,a])=>a.getExternalIngressProxiedBy&&a.getExternalIngressProxiedBy.getProperty("kind").value==="API Gateway").toArray();if(t.length===0)return"n/a";let n=e.entity.getComponentEntities.entries().filter(([r,a])=>a.constructor.name===Mr.name&&a.getProperty("kind").value==="API Gateway").toArray();return n.length===0?"n/a":1/(t.length/n.length)},xhe=e=>{let t=e.entity.getDataAggregateEntities;if(t.size===0)return"n/a";let n=e.system.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===qn.name).toArray();if(n.length===0)return"n/a";let i=new Map;t.entries().forEach(([a,o])=>i.set(a,[])),n.forEach(([a,o])=>{o.getDataAggregateEntities.forEach(s=>{i.get(s.data.getId).push(a)})});let r=i.entries().map(([a,o])=>o.length===0?0:o.length/n.length).toArray();return Zt(r)},She=e=>{let t=e.entity.getRequestTraceEntities;if(t.size<=1)return"n/a";let n=new Map;t.entries().forEach(([a,o])=>{let s=ti(o,e.system).map(l=>l.getId);s.length>0&&n.set(a,s)});let i=[],r=n.values().toArray();for(const[a,o]of r.entries())for(const s of r.slice(a+1)){let l=new Set(o),c=new Set(s);i.push(l.intersection(c).size/l.union(c).size)}return Zt(i)},_he=e=>{let t=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===wr.name).map(([a,o])=>a).toArray(),n=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===qn.name).map(([a,o])=>a).toArray();if(t.length===0||n.length===0)return"n/a";let i=new Map;t.forEach(a=>i.set(a,new Set));for(const[a,o]of e.system.getLinkEntities){let s=e.system.searchComponentOfEndpoint(o.getTargetEndpoint.getId);s&&t.includes(s.getId)&&n.includes(o.getSourceEntity.getId)&&i.get(s.getId).add(o.getSourceEntity.getId)}let r=i.entries().map(([a,o])=>o.size/n.length).toArray();return Zt(r)},Che=e=>{let t=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===wr.name).map(([a,o])=>a).toArray(),n=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===qn.name).map(([a,o])=>a).toArray();if(t.length===0||n.length===0)return"n/a";let i=new Map;t.forEach(a=>i.set(a,new Map)),t.forEach(a=>{let o=1,s=[];for(s.push(...e.system.getIncomingLinksOfComponent(a).map(l=>l.getSourceEntity.getId).filter(l=>n.includes(l)&&!i.get(a).has(l)));s.length>0;){let l=[];for(;s.length>0;){let c=s.pop();l.push(...e.system.getIncomingLinksOfComponent(c).map(h=>h.getSourceEntity.getId).filter(h=>n.includes(h)&&!i.get(a).has(h))),i.get(a).set(c,o)}s.push(...l),o=o+1}});let r=i.entries().filter(([a,o])=>o.size>0).map(([a,o])=>o.values().reduce((l,c)=>l+1/c,0)/n.length).toArray();return Zt(r)},whe=e=>{let t=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===Ci.name).map(([a,o])=>a).toArray(),n=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===qn.name).map(([a,o])=>a).toArray();if(t.length===0||n.length===0)return"n/a";let i=new Map;t.forEach(a=>i.set(a,new Set));for(const[a,o]of e.system.getLinkEntities){let s=e.system.searchComponentOfEndpoint(o.getTargetEndpoint.getId);s&&t.includes(s.getId)&&n.includes(o.getSourceEntity.getId)&&i.get(s.getId).add(o.getSourceEntity.getId)}let r=i.entries().map(([a,o])=>o.size/n.length).toArray();return Zt(r)},The=e=>{let t=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===Ci.name).map(([a,o])=>a).toArray(),n=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===qn.name).map(([a,o])=>a).toArray();if(t.length===0||n.length===0)return"n/a";let i=new Map;t.forEach(a=>i.set(a,new Map)),t.forEach(a=>{let o=1,s=[];for(s.push(...e.system.getIncomingLinksOfComponent(a).map(l=>l.getSourceEntity.getId).filter(l=>n.includes(l)&&!i.get(a).has(l)));s.length>0;){let l=[];for(;s.length>0;){let c=s.pop();l.push(...e.system.getIncomingLinksOfComponent(c).map(h=>h.getSourceEntity.getId).filter(h=>n.includes(h)&&!i.get(a).has(h))),i.get(a).set(c,o)}s.push(...l),o=o+1}});let r=i.entries().filter(([a,o])=>o.size>0).map(([a,o])=>o.values().reduce((l,c)=>l+1/c,0)/n.length).toArray();return Zt(r)},Ahe=e=>{let t=e.entity.getDeploymentMappingEntities;if(t.size===0)return"n/a";let n=[];return t.entries().forEach(([i,r])=>{O1.includes(r.getProperty("update_strategy").value)&&n.push(i)}),n.length/t.size},khe=e=>{let t=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===qn.name).map(([a,o])=>a).toArray();if(t.length===0)return"n/a";let n=[...e.system.getDeploymentMappingEntities.values()].filter(a=>t.includes(a.getDeployedEntity.getId));if(n.length===0)return"n/a";let i=n.map(a=>a.getUnderlyingInfrastructure),r=new Set;return i.forEach(a=>{a.getProperty("availability_zone").value.split(",").forEach(s=>r.add(s))}),r.size},Ihe=e=>{let t=e.entity.getComponentEntities.entries().filter(([a,o])=>o.constructor.name===Ci.name).map(([a,o])=>a).toArray();if(t.length===0)return"n/a";let n=[...e.system.getDeploymentMappingEntities.values()].filter(a=>t.includes(a.getDeployedEntity.getId));if(n.length===0)return"n/a";let i=n.map(a=>a.getUnderlyingInfrastructure),r=new Set;return i.forEach(a=>{a.getProperty("availability_zone").value.split(",").forEach(s=>r.add(s))}),r.size},Ohe=e=>{let t=[...e.entity.getComponentEntities.entries().flatMap(([n,i])=>i.getEndpointEntities.concat(i.getExternalEndpointEntities))];return t.length===0?"n/a":t.filter(n=>n.getProperty("rate_limiting").value!=="none").length/t.length},Phe={serviceReplicationLevel:hue,medianServiceReplication:fue,smallestReplicationValue:pue,storageReplicationLevel:gue,externallyAvailableEndpoints:mue,dataShardingLevel:yue,ratioOfEndpointsSupportingSsl:vue,ratioOfExternalEndpointsSupportingTls:bue,ratioOfSecuredLinks:Eue,dataAggregateScope:xue,ratioOfStatefulComponents:Sue,ratioOfStatelessComponents:_ue,degreeToWhichComponentsAreLinkedToStatefulComponents:Cue,degreeOfAsynchronousCommunication:wue,asynchronousCommunicationUtilization:Tue,ratioOfServicesThatProvideHealthEndpoints:Aue,ratioOfServicesThatProvideReadinessEndpoints:kue,couplingDegreeBasedOnPotentialCoupling:Iue,interactionDensityBasedOnComponents:Oue,interactionDensityBasedOnLinks:Pue,systemCouplingBasedOnEndpointEntropy:Mue,servicesInterdependenceInTheSystem:Nue,aggregateSystemMetricToMeasureServiceCoupling:Rue,degreeOfCouplingInASystem:Due,simpleDegreeOfCouplingInASystem:Bue,directServiceSharing:Lue,transitivelySharedServices:Fue,ratioOfSharedNonExternalComponentsToNonExternalComponents:zue,ratioOfSharedDependenciesOfNonExternalComponentsToPossibleDependencies:$ue,averageSystemCoupling:que,numberOfSynchronousCycles:Uue,densityOfAggregation:Hue,dataAggregateConvergenceAcrossComponents:Vue,ratioOfCyclicRequestTraces:Gue,numberOfPotentialCyclesInASystem:Wue,maximumLengthOfServiceLinkChainPerRequestTrace:jue,maximumNumberOfServicesWithinARequestTrace:Kue,databaseTypeUtilization:Yue,averageNumberOfEndpointsPerService:Xue,numberOfComponents:Jue,ratioOfProviderManagedComponentsAndInfrastructure:Que,componentDensity:Zue,numberOfAvailabilityZonesUsedByInfrastructure:ede,rollingUpdateOption:tde,ratioOfLinksWithRetryLogic:nde,ratioOfLinksWithComplexFailover:ide,numberOfServices:rde,numberOfBackingServices:ade,totalNumberOfLinksInASystem:ode,numberOfSynchronousEndpoints:sde,numberOfAsynchronousEndpoints:lde,numberOfServicesWhichHaveIncomingLinks:cde,numberOfServicesWhichHaveOutgoingLinks:ude,numberOfServicesWhichHaveBothIncomingAndOutgoingLinks:dde,numberOfServiceConnectedToStorageBackingService:hde,numberOfRequestTraces:fde,averageComplexityOfRequestTraces:pde,amountOfRedundancy:gde,serviceInteractionViaBackingService:mde,eventSourcingUtilizationMetric:yde,configurationExternalization:vde,ratioOfRequestTracesThroughGateway:bde,ratioOfInfrastructureNodesThatSupportMonitoring:Ede,ratioOfComponentsThatSupportMonitoring:xde,ratioOfComponentsOrInfrastructureNodesThatExportLogsToACentralService:Sde,ratioOfComponentsOrInfrastructureNodesThatExportMetrics:_de,distributedTracingSupport:Cde,serviceDiscoveryUsage:wde,ratioOfComponentsWhoseExternalIngressIsProxied:Tde,ratioOfComponentsWhoseEgressIsProxied:Ade,ratioOfCachedDataAggregates:kde,ratioOfStateDependencyOfEndpoints:Ide,serviceMeshUsage:Ode,secretsExternalization:Pde,ratioOfSpecializedStatefulServices:Mde,suitablyReplicatedStatefulService:Nde,ratioOfUniqueAccountUsage:Rde,ratioOfNonCustomBackingServices:Dde,secretsStoredInVault:Bde,accessRestrictedToCallers:Lde,ratioOfDelegatedAuthentication:Fde,ratioOfStandardizedArtifacts:zde,ratioOfEntitiesProvidingStandardizedArtifacts:$de,componentArtifactsSimilarity:qde,infrastructureArtifactsSimilarity:Ude,ratioOfAutomaticallyProvisionedInfrastructure:Hde,ratioOfDeploymentsOnDynamicInfrastructure:Vde,ratioOfInfrastructureWithIaCArtifact:Gde,namespaceSeparation:Wde,ratioOfFullyManagedInfrastructure:jde,ratioOfManagedBackingServices:Kde,ratioOfInfrastructureEnforcingResourceBoundaries:Yde,ratioOfDeploymentMappingsWithStatedResourceRequirements:Xde,deployedEntitiesAutoscaling:Jde,infrastructureAutoscaling:Qde,ratioOfAbstractedHardware:Zde,nonProviderSpecificInfrastructureArtifacts:ehe,nonProviderSpecificComponentArtifacts:the,configurationStoredInConfigService:nhe,ratioOfEndpointsCoveredByContract:ihe,standardizedDeployments:rhe,selfContainedDeployments:ahe,replacingDeployments:ohe,ratioOfAutomaticallyMaintainedInfrastructure:she,ratioOfLinksWithTimeout:lhe,deploymentsWithRestart:che,ratioOfDocumentedEndpoints:uhe,ratioOfEndpointsThatSupportTokenBasedAuthentication:dhe,ratioOfEndpointsThatSupportApiKeys:hhe,ratioOfEndpointsThatSupportPlaintextAuthentication:fhe,ratioOfEndpointsThatAreIncludedInASingleSignOnApproach:phe,iendpointAccessMethodsConsistency:ghe,externalEndpointAccessConsistency:mhe,cohesionBetweenEndpointsBasedOnDataAggregateUsage:yhe,serviceInterfaceUsageCohesion:vhe,readWriteSeparationForDataAggregates:bhe,degreeOfSeparationByGateways:Ehe,dataAggregateSpread:xhe,requestTraceSimilarityBasedOnIncludedComponents:She,averageBrokerBackendSharing:_he,averageStorageBackendSharing:whe,rollingUpdates:Ahe,numberOfAvailabilityZonesUsedByServices:khe,numberOfAvailabilityZonesUsedByStorageServices:Ihe,averageWeightedStorageBackendSharing:The,averageWeightedBrokerBackendSharing:Che,ratioOfRateLimitingEndpoints:Ohe};var Fd,zd,Qv;class Mhe{constructor(t,n){Fe(this,Fd);Fe(this,zd);Fe(this,Qv);De(this,Fd,t),De(this,zd,n)}get getEvaluatedFactor(){return k(this,Fd)}get getEvaluationDetails(){return k(this,zd)}addEvaluation(t){De(this,Qv,t)}evaluate(t,n){let i=[];for(const r of k(this,Fd).getImpactingFactors()){let a=n.get(r.getId);if(a){let o=a.forwardImpacts.find(s=>s.impactedFactorKey===k(this,Fd).getId);o&&i.push(o)}}return k(this,Qv).call(this,{factor:k(this,Fd),incomingImpacts:i,precondition:k(this,zd).getPrecondition,impactsInterpretation:k(this,zd).getImpactsInterpretation,calculatedMeasures:t,evaluatedProductFactors:n,customImpactInterpretation:k(this,zd).getCustomImpactInterpretation})}}Fd=new WeakMap,zd=new WeakMap,Qv=new WeakMap;var $d,qd,Zv;class Nhe{constructor(t,n){Fe(this,$d);Fe(this,qd);Fe(this,Zv);De(this,$d,t),De(this,qd,n)}get getEvaluatedAspect(){return k(this,$d)}get getEvaluationDetails(){return k(this,qd)}addEvaluation(t){De(this,Zv,t)}evaluate(t,n){let i=[];for(const r of k(this,$d).getImpactingFactors()){let a=n.get(r.getId);if(a){let o=a.forwardImpacts.find(s=>s.impactedFactorKey===k(this,$d).getId);o&&i.push(o)}}return k(this,Zv).call(this,{factor:k(this,$d),incomingImpacts:i,precondition:k(this,qd).getPrecondition,impactsInterpretation:k(this,qd).getImpactsInterpretation,calculatedMeasures:t,evaluatedProductFactors:n,customImpactInterpretation:k(this,qd).getCustomImpactInterpretation})}}$d=new WeakMap,qd=new WeakMap,Zv=new WeakMap;var e1,t1,n1,i1,r1,a1;class e7{constructor(t,n,i,r,a,o){Fe(this,e1);Fe(this,t1);Fe(this,n1);Fe(this,i1);Fe(this,r1);Fe(this,a1);De(this,e1,t),De(this,t1,n),De(this,n1,i),De(this,i1,r),De(this,r1,a),De(this,a1,o)}get getEvaluationId(){return k(this,e1)}get getReasoning(){return k(this,t1)}get getUsedMeasures(){return k(this,n1)}get getPrecondition(){return k(this,i1)}get getImpactsInterpretation(){return k(this,r1)}get getCustomImpactInterpretation(){return k(this,a1)}}e1=new WeakMap,t1=new WeakMap,n1=new WeakMap,i1=new WeakMap,r1=new WeakMap,a1=new WeakMap;function CD(){const e=new Rhe,t=cse;for(const[n,i]of Object.entries(t2)){let r=new use(n,i.name,i.description,i.symbol,i.formal,i.relation);e.entities.push(r)}for(const[n,i]of Object.entries(t.qualityAspects)){let r=new ise(n,i.name);e.highLevelAspects.push(r);for(const[a,o]of Object.entries(i.aspects)){let s=new v4(a,o.name,n,o.description);e.qualityAspects.push(s)}}for(const[n,i]of Object.entries(t.factorCategories))e.factorCategories.push({categoryKey:n,categoryName:i.name});Object.values(v).forEach(n=>{e.measures.set(n,[])});for(const[n,i]of Object.entries(t.measures))for(const r of i.applicableEntities){let a=new ase(n,i.name,i.calculation,i.calculationFormula,i.helperFunctions);switch(i.sources.forEach(o=>{let s=Om[o]?Om[o].url:"";a.addSource(new K6(o,"",s))}),r){case v.SYSTEM:a.addCalculation(Phe[n]);break;case v.COMPONENT:a.addCalculation(Xf[n]);break;case v.INFRASTRUCTURE:a.addCalculation(oce[n]);break;case v.REQUEST_TRACE:a.addCalculation(due[n]);break}e.measures.get(r).push(a)}for(const[n,i]of Object.entries(t.productFactors)){i.categories.map(a=>{if(e.findFactorCategory(a))return a;throw new Error(`Category with key ${a} in product factor ${n} does not exist!`)});let r=new ose(n,i.name,i.description,i.categories);i.relevantEntities.forEach(a=>r.addRelevantEntity(a)),i.applicableEntities.forEach(a=>r.addApplicableEntity(a)),i.sources.forEach(a=>{let o=Om[a.key]?Om[a.key].url:"";r.addSource(new K6(a.key,a.section,o))});for(const a of i.measures){let o=t.measures[a];if(!o)throw Error(`No measure with key ${a} as specified in product factor ${n} could be found, please check the quality model definition.`);for(const s of o.applicableEntities){let l=e.findMeasure(s,a);if(l){r.addMeasure(s,l);continue}throw Error("No measure with key "+a+" could be found, please check the quality model definition.")}}for(const a of i.evaluations){let o=a.measures.map(h=>{let d=e.measures.get(a.targetEntities[0]).find(p=>p.getId===h);if(d)return d;throw new Error("Measure "+h+" defined for evaluation "+a.evaluation+" but not found for entity "+a.targetEntities[0])}),s=new e7(a.evaluation,a.reasoning,o,a.precondition?a.precondition:W6,a.impactsInterpretation?a.impactsInterpretation:j6,a.customImpactInterpretation?a.customImpactInterpretation:h=>0),l=new Mhe(r,s),c=gse[l.getEvaluationDetails.getEvaluationId];if(c)l.addEvaluation(c),a.targetEntities.forEach(h=>{r.addEvaluation(h,l)});else if(c=pse[l.getEvaluationDetails.getEvaluationId],c)l.addEvaluation(c),a.targetEntities.forEach(h=>{r.addEvaluation(h,l)});else throw new Error(`No evaluation implementation found with id ${l.getEvaluationDetails.getEvaluationId}`)}e.productFactors.push(r)}for(const n of t.impacts){let i=(()=>{let o=e.findQualityAspect(n.impactedFactor);if(o)return o;{let s=e.findProductFactor(n.impactedFactor);if(s)return s;throw Error("No quality aspect or product factor with key: "+n.impactedFactor+" could be found, please check the quality model definition.")}})(),r=(()=>{let o=e.findProductFactor(n.sourceFactor);if(o)return o;throw Error("No product factor with key: "+n.sourceFactor+" could be found, please check the quality model definition.")})(),a=new rse(i,r,n.impactType);i.addIncomingImpact(a),r.addOutgoingImpact(a),e.impacts.push(a)}for(const n of t.qualityAspectEvaluations){let i=e.findQualityAspect(n.targetAspect);if(i){let r=new e7(n.evaluation,n.reasoning,[],n.precondition?n.precondition:W6,n.impactsInterpretation?n.impactsInterpretation:j6,n.customImpactInterpretation?n.customImpactInterpretation:s=>0),a=new Nhe(i,r),o=yse[a.getEvaluationDetails.getEvaluationId];if(o)a.addEvaluation(o),i.addEvaluation(a);else if(o=mse[a.getEvaluationDetails.getEvaluationId],o)a.addEvaluation(o),i.addEvaluation(a);else throw new Error(`No evaluation implementation found with id ${a.getEvaluationDetails.getEvaluationId}`)}else throw new Error(`There is no quality aspect with key ${n.targetAspect}`)}return e}class Rhe{constructor(){pr(this,"highLevelAspects");pr(this,"qualityAspects");pr(this,"productFactors");pr(this,"factorCategories");pr(this,"impacts");pr(this,"measures");pr(this,"unusedMeasures");pr(this,"entities");this.highLevelAspects=[],this.qualityAspects=[],this.productFactors=[],this.factorCategories=[],this.impacts=[],this.measures=new Map,this.unusedMeasures=[],this.entities=[]}findQualityAspect(t){return this.qualityAspects.find(n=>n.getId===t)}findFactorCategory(t){return this.factorCategories.find(n=>n.categoryKey===t)}findProductFactor(t){return this.productFactors.find(n=>n.getId===t)}findMeasure(t,n){return this.measures.get(t).find(i=>i.getId===n)}findEntity(t){return this.entities.find(n=>n.getKey===t)}}function Dhe(e,t){let n=e.map(c=>c.id);const i=t.qualityAspects.filter(c=>n.includes(c.getId)),r=i.length;let a=Array.from({length:r},c=>Array(r).fill(0)),o=0;for(const c of i){let h=0;for(const d of i){if(h<o){h=h+1;continue}if(o===h){a[o][h]=1,h=h+1;continue}let y=c.getHighLevelAspectKey===d.getHighLevelAspectKey?.5:0,S=c.getImpactingFactors().map(K=>K.getId),_=d.getImpactingFactors().map(K=>K.getId),I=[...new Set([...S,..._])],M=S.filter(K=>_.includes(K)),B=I.length===0?0:M.length/I.length,U=y*.3+B*.7;a[o][h]=U,a[h][o]=U,h=h+1}o=o+1}let s=[],l=Array.from(Array(r).keys());for(;l.length>0;)if(s.length===0)s.push(l[0]),l.splice(0,1);else{let c=s[s.length-1],h=Math.max(...a[c].filter((p,y)=>y!==c&&!s.includes(y))),d=a[c].findIndex((p,y)=>p===h&&y!==c&&!s.includes(y));s.push(d),l.splice(l.findIndex(p=>p===d),1)}for(let c=0;c<r;c=c+1){let h=i[s[c]].getId,d=e.findIndex(p=>p.id===h);d!==c&&(e[c]=e.splice(d,1,e[c])[0])}}function Bhe(e,t){let n=e.clientWidth-20,i=e.clientHeight-20,r=new y4,a=r.prop("defaults/size/width"),o=r.prop("defaults/size/height"),s=Math.floor(n/(a+10)),l=Math.floor(i/(o+10)),c=[{side:"top",sideX:10,sideY:10,sideLength:n,elementLength:a,elements:0,maximum:s,maximumReached:!1,spaceBetween:0},{side:"right",sideX:10+n-a,sideY:10+o,sideLength:i,elementLength:o,elements:0,maximum:l-2,maximumReached:!1,spaceBetween:0},{side:"bottom",sideX:10+n-a,sideY:10+i-o,sideLength:n,elementLength:a,elements:0,maximum:s,maximumReached:!1,spaceBetween:0},{side:"left",sideX:10,sideY:10+i-o,sideLength:i,elementLength:o,elements:0,maximum:l-2,maximumReached:!1,spaceBetween:0}],h=t.length,d=0;for(;h>0&&c.some(S=>!S.maximumReached);){let S=c[d];S.elements<S.maximum?(S.elements=S.elements+1,h=h-1):S.maximumReached=!0,d=d===3?0:d+1}if(h>0)throw Error("Not enough space for all quality aspects");for(const S of c)switch(S.side){case"top":case"bottom":let _=S.elements*S.elementLength,I=S.sideLength-_,M=S.elements+1;S.spaceBetween=Math.floor(I/M);break;case"right":case"left":let B=(S.elements+2)*S.elementLength,U=S.sideLength-B,K=S.elements+1;S.spaceBetween=Math.floor(U/K);break}let p=0,y=[0,0,0,0];for(let S=0;S<4;S++){let _=c[S],I=_.sideX,M=_.sideY,B=(U,K)=>({x:U,y:K});switch(_.side){case"top":I=_.sideX+_.spaceBetween,B=(U,K)=>({x:U+_.spaceBetween+_.elementLength,y:K});break;case"right":M=_.sideY+_.spaceBetween,B=(U,K)=>({x:U,y:K+_.spaceBetween+_.elementLength});break;case"bottom":I=I-_.spaceBetween,B=(U,K)=>({x:U-_.spaceBetween-_.elementLength,y:K});break;case"left":M=_.sideY-_.spaceBetween,B=(U,K)=>({x:U,y:K-_.spaceBetween-_.elementLength});break}for(;y[S]<_.elements;){let U=t[p];U.translate(I-U.position().x,M-U.position().y),y[S]=y[S]+1,p=p+1;let K=B(I,M);I=K.x,M=K.y}}}function Lhe(e,t,n,i,r){let a=e.clientWidth/2,o=e.clientHeight/2,s=n.map(p=>p.id.toString()),l=i.map(p=>p.id.toString()),c=i.map(p=>p.id.toString()),h=n.map(p=>p.id.toString());const d=1e3;e:for(;c.length>0;){let p=c[0],y=i.find(ue=>ue.id===p),S=y.size().width/2,_=y.size().height/2,I=r.findProductFactor(y.id.toString()).getImpactedFactors().filter(ue=>{for(const de of l)if(ue.getId===de)return!0;for(const de of s)if(ue.getId===de)return!0;return!1});if(I.length===0)throw new Error(`No impacted factors found for: ${p}`);t:for(const ue of I){if(!s.includes(ue.getId)&&!l.includes(ue.getId))continue t;if(!h.includes(ue.getId)){c.push(c.splice(0,1)[0]);continue e}}let M=I.map(ue=>ue.constructor.name===v4.name?n.find(de=>de.id===ue.getId):i.find(de=>de.id===ue.getId)).filter(ue=>ue!==void 0),B=M.map(ue=>ue.position().x+S).reduce(function(ue,de){return ue+de})/M.length,U=M.map(ue=>ue.position().y+_).reduce(function(ue,de){return ue+de})/M.length;const K=Math.sqrt(Math.pow(a-B,2)+Math.pow(o-U,2)),Q=120,H=Q/K,g=15,T=Math.ceil(360/g);let A=(1-H)*B+H*a-S,D=(1-H)*U+H*o-_;y.translate(A-y.position().x,D-y.position().y);let Z=t.findModelsInArea(y.getBBox().moveAndExpand({x:-10,y:-10,width:20,height:20})).filter(ue=>ue!==y).length>0,ie=y.position().x<0||y.position().x+y.size().width>e.clientWidth||y.position().y<0||y.position().y+y.size().height>e.clientHeight,se=1;for(;(Z||ie)&&se<d;){let ue=se*H;if(M.length>1&&ue<0)A=(1-ue)*B+ue*a-S,D=(1-ue)*U+ue*o-_,y.translate(A-y.position().x,D-y.position().y),se=se+1;else{let de=A-B,F=D-U,$=Q*(Math.floor(se/T)+1),W=Fhe(de,F);W<0&&(W=W+360);let J=se%2===0?W-se/2*g:W+(se-(se-1)/2)*g,G=$*Math.cos(J*(Math.PI/180))+B-S,le=$*Math.sin(J*(Math.PI/180))+U-_;y.translate(G-y.position().x,le-y.position().y),se=se+1}Z=t.findModelsInArea(y.getBBox().moveAndExpand({x:-10,y:-10,width:20,height:20})).filter(de=>de!==y).length>0,ie=y.position().x<0||y.position().x+y.size().width>e.clientWidth||y.position().y<0||y.position().y+y.size().height>e.clientHeight}h.push(c.splice(0,1)[0])}}function Fhe(e,t){return Math.atan2(t,e)*180/Math.PI}const zhe={class:"filterToolbar p-1"},$he={class:"filterTool"},qhe=["id","onUpdate:modelValue","value"],Uhe=["for"],Hhe={class:"filterTool"},Vhe=["id","onUpdate:modelValue","value"],Ghe=["for"];function Xa(e){return Object.entries(e).filter(t=>t[1].checked).map(t=>t[1].key)}function wD(e){let t={};for(const n of[...new Set(e.qualityAspects.map(i=>i.getHighLevelAspectKey))])t[n]={key:n,name:e.highLevelAspects.find(i=>i.getId===n).getName,checked:!0};return t}function TD(e){let t={};for(const n of e.factorCategories)t[n.categoryKey]={key:n.categoryKey,name:n.categoryName,checked:!0};return t}function Yh(e,t,n){let i=n.qualityAspects.filter(o=>e.includes(o.getHighLevelAspectKey)).map(o=>o.getId),r=new Set,a=[];for(const o of n.productFactors){if(!Whe(o.getCategories,t))continue;let s=!1,l=[];l.push(...o.getImpactedFactors());let c=0;for(;c<l.length;){let h=l[c];h.constructor.name===v4.name?i.includes(h.getId)&&(s=!0,r.add(h.getId)):l.push(...h.getImpactedFactors()),c=c+1}s&&a.push(o.getId)}return i=i.filter(o=>r.has(o)),{activeQualityAspects:i,activeProductFactors:a}}function Whe(e,t){return e.some(n=>t.includes(n))}const AD=wa({__name:"FilterToolbar",props:{highLevelAspectFilter:{},factorCategoryFilter:{}},emits:["update:filters"],setup(e,{emit:t}){const n=e,i=t;function r(){i("update:filters",n.highLevelAspectFilter,n.factorCategoryFilter)}return(a,o)=>(ze(),He("div",zhe,[X("div",$he,[o[2]||(o[2]=X("span",null,"Quality aspect filter:",-1)),(ze(!0),He(Jt,null,An(Object.entries(a.highLevelAspectFilter),([s,l])=>(ze(),He("div",null,[Rn(X("input",{id:`${s}-filter`,onChange:o[0]||(o[0]=c=>r()),"onUpdate:modelValue":c=>l.checked=c,class:"filterCheckbox",type:"checkbox",value:s},null,40,qhe),[[Gd,l.checked]]),X("span",{class:"",for:`${s}-filter`},kt(l.name),9,Uhe)]))),256))]),X("div",Hhe,[o[3]||(o[3]=X("span",null,"Product factor filter:",-1)),(ze(!0),He(Jt,null,An(Object.entries(a.factorCategoryFilter),([s,l])=>(ze(),He("div",null,[Rn(X("input",{id:`${s}-filter`,onChange:o[1]||(o[1]=c=>r()),"onUpdate:modelValue":c=>l.checked=c,class:"filterCheckbox",type:"checkbox",value:s},null,40,Vhe),[[Gd,l.checked]]),X("span",{class:"",for:`${s}-filter`},kt(l.name),9,Ghe)]))),256))])]))}}),jhe={class:"qualityModelView"},Khe={class:"paperContainer"},Yhe={class:"qualityModelDetails"},Xhe={class:"detailsBody p-2"},Jhe={key:0,class:"factorDetails"},Qhe={key:0},Zhe={class:"font-italic"},efe={key:1},tfe={key:2},nfe={key:3},ife={key:4},rfe=["href"],afe={key:5},ofe={key:0},sfe={class:"listWithoutBullets"},lfe={class:"font-italics"},cfe=["href"],ufe={key:1},dfe={key:0,class:"indented equationWrapper"},hfe=["innerHTML"],ffe={key:0},pfe=["innerHTML"],gfe={key:1,class:"indented"},mfe={key:1},yfe={class:"listWithoutBullets"},vfe={class:"font-italics"},bfe=["href"],Efe={key:1},xfe={key:0,class:"indented equationWrapper"},Sfe=["innerHTML"],_fe={key:0},Cfe=["innerHTML"],wfe={key:1,class:"indented"},Tfe={key:2},Afe={class:"font-italics"},kfe=["href"],Ife={key:1},Ofe={class:"entitiesDescription"},Pfe={class:"entityDescription"},Mfe={class:"font-weight-bold"},Nfe={class:"font-italic"},Rfe=["innerHTML"],t7=wa({__name:"QualityModelApp",props:{active:{type:Boolean},path:{},filterConfig:{}},emits:["update:filterConfig"],setup(e,{emit:t}){let n=!0,i=!1;const r=e,a=t,o=Li(()=>r.active),s=QP(),l=ln(null),c=ln(null),h=nse,d=new Gf({},{cellNamespace:h}),p=ln(null),y=CD(),S=ln(wD(y)),_=ln(TD(y));function I(){a("update:filterConfig",{highLevelAspectFilter:S.value,factorCategoryFilter:_.value})}const M=[],B=[],U=[],K=ln(null),Q=Li(()=>{if(!K.value)return null;let F=y.findQualityAspect(K.value.model.id.toString());return F||y.findProductFactor(K.value.model.id.toString())});zc(()=>{if(p.value=new JE({el:Ml("#qmPaper"),model:d,width:1600,height:1400,gridSize:10,drawGrid:!0,async:!0,background:{color:"rgba(230, 230, 230, 0.3)"},cellViewNamespace:h}),p.value.render(),r.filterConfig&&(r.filterConfig.highLevelAspectFilter&&(S.value=r.filterConfig.highLevelAspectFilter),r.filterConfig.factorCategoryFilter&&(_.value=r.filterConfig.factorCategoryFilter)),g(Xa(S.value),Xa(_.value)),p.value.on({"element:pointerdown":function(F,$,W,J){Z(F)},"blank:pointerdown":function(F,$,W){ie()}}),H(),s.currentRoute.value.params.factorKey){let F=s.currentRoute.value.params.factorKey,$=M.find(W=>W.id===F);$||($=B.find(W=>W.id===F)),$?Z($.findView(p.value)):s.replace({path:r.path})}}),$m(o,(F,$)=>{n&&$===!1&&F===!0&&(i=!0,n=!1)}),gS(()=>{i&&H()});function H(){Ml("#qmPaper").is(":visible")?(T(),i=!1):setTimeout(H,50)}function g(F,$){d.clear(),M.length=0,B.length=0,U.length=0;let W=Yh(F,$,y),J=-50,G=-50;for(const Ze of y.qualityAspects)if(W.activeQualityAspects.includes(Ze.getId)){var le=new y4({id:Ze.getId,position:{x:J,y:G},attrs:{body:{class:"entityHighlighting"},label:{textWrap:{text:WE(Ze.getName,{width:150})}}}});le.addTo(d,{async:!1}),M.push(le)}let Ie=M.map(Ze=>Ze.id);for(const Ze of y.productFactors)if(W.activeProductFactors.includes(Ze.getId)){var it=new MR({id:Ze.getId,position:{x:J,y:G},attrs:{body:{class:"entityHighlighting"},label:{text:WE(Ze.getName,{width:110,height:50},{"font-size":12},{ellipsis:"..."})}}});it.addTo(d,{async:!1}),B.push(it)}let Je=B.map(Ze=>Ze.id);for(const Ze of y.impacts)if(!(!Ie.includes(Ze.getImpactedFactor.getId)&&!Je.includes(Ze.getImpactedFactor.getId)||!Je.includes(Ze.getSourceFactor.getId))){var Ge=new NR;Ge.source(d.getCell(Ze.getSourceFactor.getId),{anchor:{name:"modelCenter"},connectionPoint:{name:"boundary",args:{sticky:!1}}}),Ge.target(d.getCell(Ze.getImpactedFactor.getId),{anchor:{name:"modelCenter"},connectionPoint:{name:"boundary",args:{sticky:!1}}}),Ge.appendLabel({attrs:{text:{text:Ze.getImpactType}}}),Ge.connector({name:"rounded"}),Ge.router({name:"normal"}),Ge.addTo(d),Ge.toBack(),U.push(Ge)}}function T(){Dhe(M,y),Bhe(c.value,M),Lhe(c.value,d,M,B,y),setTimeout(A,50)}function A(){for(const F of U)F.toBack()}function D(){g(Xa(S.value),Xa(_.value)),T()}function Z(F){K.value=F,history.pushState({},null,`${r.path}/${F.model.id}`),d.getLinks().forEach(function($){Iu.remove($.findView(p.value)),$.toBack()}),d.getConnectedLinks(F.model).forEach($=>{Iu.add($.findView(p.value),{selector:"line"},"my-element-highlight",{layer:"back",attrs:{stroke:"#feb663","stroke-width":5}})})}function ie(){K.value=null,s.replace({path:r.path}),d.getLinks().forEach(function(F){Iu.remove(F.findView(p.value))})}function se(F){let $=new Map;return F.getAllEvaluations().flatMap(W=>W.getEvaluationDetails.getUsedMeasures).forEach(W=>$.set(W.getId,W)),[...$.values()]}function ue(F){let $=se(F).map(J=>J.getId);return F.getAllMeasures().filter(J=>J.isCalculationAvailable()).filter(J=>!$.includes(J.getId))}function de(F){return F.getAllMeasures().filter($=>!$.isCalculationAvailable())}return(F,$)=>(ze(),He(Jt,null,[X("div",{class:"qualitymodel-container",ref_key:"qmContainer",ref:l},[_i(AD,{highLevelAspectFilter:S.value,factorCategoryFilter:_.value,"onUpdate:filters":$[0]||($[0]=W=>{I(),D()})},null,8,["highLevelAspectFilter","factorCategoryFilter"]),X("div",jhe,[X("div",Khe,[X("div",{id:"qmPaper",ref_key:"qmPaper",ref:c},null,512)]),X("div",Yhe,[$[21]||($[21]=X("div",{class:"detailsHeading"},"Factor Details",-1)),X("div",Xhe,[Q.value?(ze(),He("div",Jhe,[Q.value.getFactorType==="qualityAspect"?(ze(),He("div",Qhe,[X("h5",null,kt(ci(y).highLevelAspects.find(W=>W.getId===Q.value.getHighLevelAspectKey).getName),1)])):vn("",!0),X("h3",null,kt(Q.value.getName),1),X("p",Zhe,kt(Q.value.getDescription),1),Q.value.getFactorType==="productFactor"?(ze(),He("div",efe,[$[1]||($[1]=X("span",null,"Entities which are needed to evaluate this factor: ",-1)),$[2]||($[2]=X("br",null,null,-1)),X("span",null,kt(Q.value.getRelevantEntities.map(W=>ci(t2)[W].name).join(", ")),1)])):vn("",!0),Q.value.getFactorType==="productFactor"?(ze(),He("div",tfe,[$[3]||($[3]=X("span",null,"Entities based on which this factor can be evaluated: ",-1)),$[4]||($[4]=X("br",null,null,-1)),X("span",null,kt(Q.value.getApplicableEntities.map(W=>ci(t2)[W].name).join(", ")),1)])):vn("",!0),Q.value.getFactorType==="productFactor"?(ze(),He("div",nfe,[$[5]||($[5]=X("span",null,"Categories that this factor is assigned to: ",-1)),$[6]||($[6]=X("br",null,null,-1)),X("span",null,kt(Q.value.getCategories.map(W=>ci(y).findFactorCategory(W).categoryName).join(", ")),1)])):vn("",!0),Q.value.getFactorType==="productFactor"&&Q.value.getSources.length>0?(ze(),He("div",ife,[$[7]||($[7]=X("span",null,"Read more:",-1)),X("ul",null,[(ze(!0),He(Jt,null,An(Q.value.getSources,W=>(ze(),He("li",null,[X("span",null,[X("a",{href:W.getUrl},[X("span",null,kt(W.getKey),1)],8,rfe),yi(": "+kt(W.getInfo),1)])]))),256))])])):vn("",!0),Q.value.getFactorType==="productFactor"&&Q.value.getAllMeasures().length>0?(ze(),He("div",afe,[se(Q.value).length>0?(ze(),He("div",ofe,[$[12]||($[12]=X("span",null,"Measures used in evaluations:",-1)),X("ul",sfe,[(ze(!0),He(Jt,null,An(se(Q.value),W=>(ze(),He("li",null,[X("details",null,[X("summary",null,[X("span",lfe,kt(W.getName),1),$[8]||($[8]=X("span",null," (",-1)),(ze(!0),He(Jt,null,An(W.getSources,J=>(ze(),He("span",null,[J.getUrl?(ze(),He("a",{key:0,href:J.getUrl},[X("span",null,kt(J.getKey)+", ",1)],8,cfe)):(ze(),He("span",ufe,kt(J.getKey),1))]))),256)),$[9]||($[9]=X("span",null," )",-1))]),W.getCalculationFormula.length>0?(ze(),He("span",dfe,[$[10]||($[10]=yi("Calculation: ")),X("span",{class:"equation",innerHTML:ci(Im).renderToString(W.getCalculationFormula)},null,8,hfe),W.getHelperFunctions.length>0?(ze(),He("span",ffe,[(ze(!0),He(Jt,null,An(W.getHelperFunctions,J=>(ze(),He("span",null,[X("span",{class:"equation",innerHTML:ci(Im).renderToString(J)},null,8,pfe)]))),256))])):vn("",!0)])):(ze(),He("span",gfe,[$[11]||($[11]=yi("Calculation: ")),X("span",null,kt(W.getCalculationDescription),1)]))])]))),256))])])):vn("",!0),ue(Q.value).length>0?(ze(),He("div",mfe,[$[17]||($[17]=X("span",null,"Further implemented measures:",-1)),X("ul",yfe,[(ze(!0),He(Jt,null,An(ue(Q.value),W=>(ze(),He("li",null,[X("details",null,[X("summary",null,[X("span",vfe,kt(W.getName),1),$[13]||($[13]=X("span",null," (",-1)),(ze(!0),He(Jt,null,An(W.getSources,J=>(ze(),He("span",null,[J.getUrl?(ze(),He("a",{key:0,href:J.getUrl},[X("span",null,kt(J.getKey)+", ",1)],8,bfe)):(ze(),He("span",Efe,kt(J.getKey),1))]))),256)),$[14]||($[14]=X("span",null," )",-1))]),W.getCalculationFormula.length>0?(ze(),He("span",xfe,[$[15]||($[15]=yi("Calculation: ")),X("span",{class:"equation",innerHTML:ci(Im).renderToString(W.getCalculationFormula)},null,8,Sfe),W.getHelperFunctions.length>0?(ze(),He("span",_fe,[(ze(!0),He(Jt,null,An(W.getHelperFunctions,J=>(ze(),He("span",null,[X("span",{class:"equation",innerHTML:ci(Im).renderToString(J)},null,8,Cfe)]))),256))])):vn("",!0)])):(ze(),He("span",wfe,[$[16]||($[16]=yi("Calculation: ")),X("span",null,kt(W.getCalculationDescription),1)]))])]))),256))])])):vn("",!0),de(Q.value).length>0?(ze(),He("div",Tfe,[$[20]||($[20]=X("span",null,"Potential measures:",-1)),X("ul",null,[(ze(!0),He(Jt,null,An(de(Q.value),W=>(ze(),He("li",null,[X("span",Afe,kt(W.getName),1),$[18]||($[18]=X("span",null," (",-1)),(ze(!0),He(Jt,null,An(W.getSources,J=>(ze(),He("span",null,[J.getUrl?(ze(),He("a",{key:0,href:J.getUrl},[X("span",null,kt(J.getKey)+", ",1)],8,kfe)):(ze(),He("span",Ife,kt(J.getKey),1))]))),256)),$[19]||($[19]=X("span",null," )",-1))]))),256))])])):vn("",!0)])):vn("",!0)])):vn("",!0)])])])],512),X("div",Ofe,[$[24]||($[24]=X("h2",null,"Entities of the quality model (Elements of the modeled software architecture)",-1)),(ze(!0),He(Jt,null,An(ci(y).entities,W=>(ze(),He("div",Pfe,[X("div",Mfe,kt(W.getName)+" ("+kt(W.getSymbol)+")",1),X("span",null,[$[22]||($[22]=yi("Prose description: ")),X("span",Nfe,kt(W.getDescription),1)]),X("div",null,[$[23]||($[23]=yi("Formal description: ")),X("div",{class:"text-monospace",innerHTML:W.getFormalSpecification},null,8,Rfe)])]))),256))])],64))}});function Dfe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var r=i.reduce(function(s,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?s.concat(c.map(function(h){var d,p;return(p=(d=h.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&p!==void 0?p:0})):s},[]);if(r.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,r)+"}","g");i=i.map(function(s){return s.replace(a,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var o=i[0];return t.forEach(function(s,l){var c=o.match(/(?:^|\n)( *)$/),h=c?c[1]:"",d=s;typeof s=="string"&&s.includes(`
`)&&(d=String(s).split(`
`).map(function(p,y){return y===0?p:""+h+p}).join(`
`)),o+=d+i[l+1]}),o}const Bfe="modulepreload",Lfe=function(e){return"/"+e},n7={},Tr=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=Lfe(l),l in n7)return;n7[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Bfe,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((p,y)=>{d.addEventListener("load",p),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return r.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};var _E={exports:{}},Ffe=_E.exports,i7;function zfe(){return i7||(i7=1,function(e,t){(function(n,i){e.exports=i()})(Ffe,function(){var n=1e3,i=6e4,r=36e5,a="millisecond",o="second",s="minute",l="hour",c="day",h="week",d="month",p="quarter",y="year",S="date",_="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ue){var de=["th","st","nd","rd"],F=ue%100;return"["+ue+(de[(F-20)%10]||de[F]||de[0])+"]"}},U=function(ue,de,F){var $=String(ue);return!$||$.length>=de?ue:""+Array(de+1-$.length).join(F)+ue},K={s:U,z:function(ue){var de=-ue.utcOffset(),F=Math.abs(de),$=Math.floor(F/60),W=F%60;return(de<=0?"+":"-")+U($,2,"0")+":"+U(W,2,"0")},m:function ue(de,F){if(de.date()<F.date())return-ue(F,de);var $=12*(F.year()-de.year())+(F.month()-de.month()),W=de.clone().add($,d),J=F-W<0,G=de.clone().add($+(J?-1:1),d);return+(-($+(F-W)/(J?W-G:G-W))||0)},a:function(ue){return ue<0?Math.ceil(ue)||0:Math.floor(ue)},p:function(ue){return{M:d,y,w:h,d:c,D:S,h:l,m:s,s:o,ms:a,Q:p}[ue]||String(ue||"").toLowerCase().replace(/s$/,"")},u:function(ue){return ue===void 0}},Q="en",H={};H[Q]=B;var g="$isDayjsObject",T=function(ue){return ue instanceof ie||!(!ue||!ue[g])},A=function ue(de,F,$){var W;if(!de)return Q;if(typeof de=="string"){var J=de.toLowerCase();H[J]&&(W=J),F&&(H[J]=F,W=J);var G=de.split("-");if(!W&&G.length>1)return ue(G[0])}else{var le=de.name;H[le]=de,W=le}return!$&&W&&(Q=W),W||!$&&Q},D=function(ue,de){if(T(ue))return ue.clone();var F=typeof de=="object"?de:{};return F.date=ue,F.args=arguments,new ie(F)},Z=K;Z.l=A,Z.i=T,Z.w=function(ue,de){return D(ue,{locale:de.$L,utc:de.$u,x:de.$x,$offset:de.$offset})};var ie=function(){function ue(F){this.$L=A(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[g]=!0}var de=ue.prototype;return de.parse=function(F){this.$d=function($){var W=$.date,J=$.utc;if(W===null)return new Date(NaN);if(Z.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var G=W.match(I);if(G){var le=G[2]-1||0,Ie=(G[7]||"0").substring(0,3);return J?new Date(Date.UTC(G[1],le,G[3]||1,G[4]||0,G[5]||0,G[6]||0,Ie)):new Date(G[1],le,G[3]||1,G[4]||0,G[5]||0,G[6]||0,Ie)}}return new Date(W)}(F),this.init()},de.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},de.$utils=function(){return Z},de.isValid=function(){return this.$d.toString()!==_},de.isSame=function(F,$){var W=D(F);return this.startOf($)<=W&&W<=this.endOf($)},de.isAfter=function(F,$){return D(F)<this.startOf($)},de.isBefore=function(F,$){return this.endOf($)<D(F)},de.$g=function(F,$,W){return Z.u(F)?this[$]:this.set(W,F)},de.unix=function(){return Math.floor(this.valueOf()/1e3)},de.valueOf=function(){return this.$d.getTime()},de.startOf=function(F,$){var W=this,J=!!Z.u($)||$,G=Z.p(F),le=function(Ue,Xe){var dt=Z.w(W.$u?Date.UTC(W.$y,Xe,Ue):new Date(W.$y,Xe,Ue),W);return J?dt:dt.endOf(c)},Ie=function(Ue,Xe){return Z.w(W.toDate()[Ue].apply(W.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(Xe)),W)},it=this.$W,Je=this.$M,Ge=this.$D,Ze="set"+(this.$u?"UTC":"");switch(G){case y:return J?le(1,0):le(31,11);case d:return J?le(1,Je):le(0,Je+1);case h:var Te=this.$locale().weekStart||0,Ae=(it<Te?it+7:it)-Te;return le(J?Ge-Ae:Ge+(6-Ae),Je);case c:case S:return Ie(Ze+"Hours",0);case l:return Ie(Ze+"Minutes",1);case s:return Ie(Ze+"Seconds",2);case o:return Ie(Ze+"Milliseconds",3);default:return this.clone()}},de.endOf=function(F){return this.startOf(F,!1)},de.$set=function(F,$){var W,J=Z.p(F),G="set"+(this.$u?"UTC":""),le=(W={},W[c]=G+"Date",W[S]=G+"Date",W[d]=G+"Month",W[y]=G+"FullYear",W[l]=G+"Hours",W[s]=G+"Minutes",W[o]=G+"Seconds",W[a]=G+"Milliseconds",W)[J],Ie=J===c?this.$D+($-this.$W):$;if(J===d||J===y){var it=this.clone().set(S,1);it.$d[le](Ie),it.init(),this.$d=it.set(S,Math.min(this.$D,it.daysInMonth())).$d}else le&&this.$d[le](Ie);return this.init(),this},de.set=function(F,$){return this.clone().$set(F,$)},de.get=function(F){return this[Z.p(F)]()},de.add=function(F,$){var W,J=this;F=Number(F);var G=Z.p($),le=function(Je){var Ge=D(J);return Z.w(Ge.date(Ge.date()+Math.round(Je*F)),J)};if(G===d)return this.set(d,this.$M+F);if(G===y)return this.set(y,this.$y+F);if(G===c)return le(1);if(G===h)return le(7);var Ie=(W={},W[s]=i,W[l]=r,W[o]=n,W)[G]||1,it=this.$d.getTime()+F*Ie;return Z.w(it,this)},de.subtract=function(F,$){return this.add(-1*F,$)},de.format=function(F){var $=this,W=this.$locale();if(!this.isValid())return W.invalidDate||_;var J=F||"YYYY-MM-DDTHH:mm:ssZ",G=Z.z(this),le=this.$H,Ie=this.$m,it=this.$M,Je=W.weekdays,Ge=W.months,Ze=W.meridiem,Te=function(Xe,dt,te,ce){return Xe&&(Xe[dt]||Xe($,J))||te[dt].slice(0,ce)},Ae=function(Xe){return Z.s(le%12||12,Xe,"0")},Ue=Ze||function(Xe,dt,te){var ce=Xe<12?"AM":"PM";return te?ce.toLowerCase():ce};return J.replace(M,function(Xe,dt){return dt||function(te){switch(te){case"YY":return String($.$y).slice(-2);case"YYYY":return Z.s($.$y,4,"0");case"M":return it+1;case"MM":return Z.s(it+1,2,"0");case"MMM":return Te(W.monthsShort,it,Ge,3);case"MMMM":return Te(Ge,it);case"D":return $.$D;case"DD":return Z.s($.$D,2,"0");case"d":return String($.$W);case"dd":return Te(W.weekdaysMin,$.$W,Je,2);case"ddd":return Te(W.weekdaysShort,$.$W,Je,3);case"dddd":return Je[$.$W];case"H":return String(le);case"HH":return Z.s(le,2,"0");case"h":return Ae(1);case"hh":return Ae(2);case"a":return Ue(le,Ie,!0);case"A":return Ue(le,Ie,!1);case"m":return String(Ie);case"mm":return Z.s(Ie,2,"0");case"s":return String($.$s);case"ss":return Z.s($.$s,2,"0");case"SSS":return Z.s($.$ms,3,"0");case"Z":return G}return null}(Xe)||G.replace(":","")})},de.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},de.diff=function(F,$,W){var J,G=this,le=Z.p($),Ie=D(F),it=(Ie.utcOffset()-this.utcOffset())*i,Je=this-Ie,Ge=function(){return Z.m(G,Ie)};switch(le){case y:J=Ge()/12;break;case d:J=Ge();break;case p:J=Ge()/3;break;case h:J=(Je-it)/6048e5;break;case c:J=(Je-it)/864e5;break;case l:J=Je/r;break;case s:J=Je/i;break;case o:J=Je/n;break;default:J=Je}return W?J:Z.a(J)},de.daysInMonth=function(){return this.endOf(d).$D},de.$locale=function(){return H[this.$L]},de.locale=function(F,$){if(!F)return this.$L;var W=this.clone(),J=A(F,$,!0);return J&&(W.$L=J),W},de.clone=function(){return Z.w(this.$d,this)},de.toDate=function(){return new Date(this.valueOf())},de.toJSON=function(){return this.isValid()?this.toISOString():null},de.toISOString=function(){return this.$d.toISOString()},de.toString=function(){return this.$d.toUTCString()},ue}(),se=ie.prototype;return D.prototype=se,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",c],["$M",d],["$y",y],["$D",S]].forEach(function(ue){se[ue[1]]=function(de){return this.$g(de,ue[0],ue[1])}}),D.extend=function(ue,de){return ue.$i||(ue(de,ie,D),ue.$i=!0),D},D.locale=A,D.isDayjs=T,D.unix=function(ue){return D(1e3*ue)},D.en=H[Q],D.Ls=H,D.p={},D})}(_E)),_E.exports}var $fe=zfe();const qfe=ZP($fe);var Dw={},r7;function Ufe(){return r7||(r7=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var t=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,i=/&(newline|tab);/gi,r=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a=/^.+(:|&colon;)/gim,o=[".","/"];e.BLANK_URL="about:blank";function s(h){return o.indexOf(h[0])>-1}function l(h){var d=h.replace(r,"");return d.replace(n,function(p,y){return String.fromCharCode(y)})}function c(h){if(!h)return e.BLANK_URL;var d=l(h).replace(i,"").replace(r,"").trim();if(!d)return e.BLANK_URL;if(s(d))return d;var p=d.match(a);if(!p)return d;var y=p[0];return t.test(y)?e.BLANK_URL:d}e.sanitizeUrl=c}(Dw)),Dw}var Hfe=Ufe(),Vfe={value:()=>{}};function kD(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new CE(n)}function CE(e){this._=e}function Gfe(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}CE.prototype=kD.prototype={constructor:CE,on:function(e,t){var n=this._,i=Gfe(e+"",n),r,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((r=(e=i[a]).type)&&(r=Wfe(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(r=(e=i[a]).type)n[r]=a7(n[r],e.name,t);else if(t==null)for(r in n)n[r]=a7(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new CE(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,a;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,r=a.length;i<r;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};function Wfe(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function a7(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Vfe,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var n2="http://www.w3.org/1999/xhtml";const o7={svg:"http://www.w3.org/2000/svg",xhtml:n2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function f_(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),o7.hasOwnProperty(t)?{space:o7[t],local:e}:e}function jfe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===n2&&t.documentElement.namespaceURI===n2?t.createElement(e):t.createElementNS(n,e)}}function Kfe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ID(e){var t=f_(e);return(t.local?Kfe:jfe)(t)}function Yfe(){}function A4(e){return e==null?Yfe:function(){return this.querySelector(e)}}function Xfe(e){typeof e!="function"&&(e=A4(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=new Array(o),l,c,h=0;h<o;++h)(l=a[h])&&(c=e.call(l,l.__data__,h,a))&&("__data__"in l&&(c.__data__=l.__data__),s[h]=c);return new Ms(i,this._parents)}function Jfe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Qfe(){return[]}function OD(e){return e==null?Qfe:function(){return this.querySelectorAll(e)}}function Zfe(e){return function(){return Jfe(e.apply(this,arguments))}}function epe(e){typeof e=="function"?e=Zfe(e):e=OD(e);for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var o=t[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(i.push(e.call(l,l.__data__,c,o)),r.push(l));return new Ms(i,r)}function PD(e){return function(){return this.matches(e)}}function MD(e){return function(t){return t.matches(e)}}var tpe=Array.prototype.find;function npe(e){return function(){return tpe.call(this.children,e)}}function ipe(){return this.firstElementChild}function rpe(e){return this.select(e==null?ipe:npe(typeof e=="function"?e:MD(e)))}var ape=Array.prototype.filter;function ope(){return Array.from(this.children)}function spe(e){return function(){return ape.call(this.children,e)}}function lpe(e){return this.selectAll(e==null?ope:spe(typeof e=="function"?e:MD(e)))}function cpe(e){typeof e!="function"&&(e=PD(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Ms(i,this._parents)}function ND(e){return new Array(e.length)}function upe(){return new Ms(this._enter||this._groups.map(ND),this._parents)}function Mx(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Mx.prototype={constructor:Mx,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function dpe(e){return function(){return e}}function hpe(e,t,n,i,r,a){for(var o=0,s,l=t.length,c=a.length;o<c;++o)(s=t[o])?(s.__data__=a[o],i[o]=s):n[o]=new Mx(e,a[o]);for(;o<l;++o)(s=t[o])&&(r[o]=s)}function fpe(e,t,n,i,r,a,o){var s,l,c=new Map,h=t.length,d=a.length,p=new Array(h),y;for(s=0;s<h;++s)(l=t[s])&&(p[s]=y=o.call(l,l.__data__,s,t)+"",c.has(y)?r[s]=l:c.set(y,l));for(s=0;s<d;++s)y=o.call(e,a[s],s,a)+"",(l=c.get(y))?(i[s]=l,l.__data__=a[s],c.delete(y)):n[s]=new Mx(e,a[s]);for(s=0;s<h;++s)(l=t[s])&&c.get(p[s])===l&&(r[s]=l)}function ppe(e){return e.__data__}function gpe(e,t){if(!arguments.length)return Array.from(this,ppe);var n=t?fpe:hpe,i=this._parents,r=this._groups;typeof e!="function"&&(e=dpe(e));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],d=r[c],p=d.length,y=mpe(e.call(h,h&&h.__data__,c,i)),S=y.length,_=s[c]=new Array(S),I=o[c]=new Array(S),M=l[c]=new Array(p);n(h,d,_,I,M,y,t);for(var B=0,U=0,K,Q;B<S;++B)if(K=_[B]){for(B>=U&&(U=B+1);!(Q=I[U])&&++U<S;);K._next=Q||null}}return o=new Ms(o,i),o._enter=s,o._exit=l,o}function mpe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ype(){return new Ms(this._exit||this._groups.map(ND),this._parents)}function vpe(e,t,n){var i=this.enter(),r=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?a.remove():n(a),i&&r?i.merge(r).order():r}function bpe(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,a=i.length,o=Math.min(r,a),s=new Array(r),l=0;l<o;++l)for(var c=n[l],h=i[l],d=c.length,p=s[l]=new Array(d),y,S=0;S<d;++S)(y=c[S]||h[S])&&(p[S]=y);for(;l<r;++l)s[l]=n[l];return new Ms(s,this._parents)}function Epe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,a=i[r],o;--r>=0;)(o=i[r])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function xpe(e){e||(e=Spe);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o=n[a],s=o.length,l=r[a]=new Array(s),c,h=0;h<s;++h)(c=o[h])&&(l[h]=c);l.sort(t)}return new Ms(r,this._parents).order()}function Spe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _pe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Cpe(){return Array.from(this)}function wpe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null}function Tpe(){let e=0;for(const t of this)++e;return e}function Ape(){return!this.node()}function kpe(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],a=0,o=r.length,s;a<o;++a)(s=r[a])&&e.call(s,s.__data__,a,r);return this}function Ipe(e){return function(){this.removeAttribute(e)}}function Ope(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ppe(e,t){return function(){this.setAttribute(e,t)}}function Mpe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Npe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Rpe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dpe(e,t){var n=f_(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Ope:Ipe:typeof t=="function"?n.local?Rpe:Npe:n.local?Mpe:Ppe)(n,t))}function RD(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bpe(e){return function(){this.style.removeProperty(e)}}function Lpe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Fpe(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function zpe(e,t,n){return arguments.length>1?this.each((t==null?Bpe:typeof t=="function"?Fpe:Lpe)(e,t,n??"")):v0(this.node(),e)}function v0(e,t){return e.style.getPropertyValue(t)||RD(e).getComputedStyle(e,null).getPropertyValue(t)}function $pe(e){return function(){delete this[e]}}function qpe(e,t){return function(){this[e]=t}}function Upe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Hpe(e,t){return arguments.length>1?this.each((t==null?$pe:typeof t=="function"?Upe:qpe)(e,t)):this.node()[e]}function DD(e){return e.trim().split(/^|\s+/)}function k4(e){return e.classList||new BD(e)}function BD(e){this._node=e,this._names=DD(e.getAttribute("class")||"")}BD.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function LD(e,t){for(var n=k4(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function FD(e,t){for(var n=k4(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Vpe(e){return function(){LD(this,e)}}function Gpe(e){return function(){FD(this,e)}}function Wpe(e,t){return function(){(t.apply(this,arguments)?LD:FD)(this,e)}}function jpe(e,t){var n=DD(e+"");if(arguments.length<2){for(var i=k4(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Wpe:t?Vpe:Gpe)(n,t))}function Kpe(){this.textContent=""}function Ype(e){return function(){this.textContent=e}}function Xpe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Jpe(e){return arguments.length?this.each(e==null?Kpe:(typeof e=="function"?Xpe:Ype)(e)):this.node().textContent}function Qpe(){this.innerHTML=""}function Zpe(e){return function(){this.innerHTML=e}}function ege(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function tge(e){return arguments.length?this.each(e==null?Qpe:(typeof e=="function"?ege:Zpe)(e)):this.node().innerHTML}function nge(){this.nextSibling&&this.parentNode.appendChild(this)}function ige(){return this.each(nge)}function rge(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function age(){return this.each(rge)}function oge(e){var t=typeof e=="function"?e:ID(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sge(){return null}function lge(e,t){var n=typeof e=="function"?e:ID(e),i=t==null?sge:typeof t=="function"?t:A4(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function cge(){var e=this.parentNode;e&&e.removeChild(this)}function uge(){return this.each(cge)}function dge(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hge(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fge(e){return this.select(e?hge:dge)}function pge(e){return arguments.length?this.property("__data__",e):this.node().__data__}function gge(e){return function(t){e.call(this,t,this.__data__)}}function mge(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function yge(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,a;n<r;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function vge(e,t,n){return function(){var i=this.__on,r,a=gge(t);if(i){for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=t;return}}this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function bge(e,t,n){var i=mge(e+""),r,a=i.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,h;l<c;++l)for(r=0,h=s[l];r<a;++r)if((o=i[r]).type===h.type&&o.name===h.name)return h.value}return}for(s=t?vge:yge,r=0;r<a;++r)this.each(s(i[r],t,n));return this}function zD(e,t,n){var i=RD(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Ege(e,t){return function(){return zD(this,e,t)}}function xge(e,t){return function(){return zD(this,e,t.apply(this,arguments))}}function Sge(e,t){return this.each((typeof t=="function"?xge:Ege)(e,t))}function*_ge(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length,o;r<a;++r)(o=i[r])&&(yield o)}var $D=[null];function Ms(e,t){this._groups=e,this._parents=t}function M1(){return new Ms([[document.documentElement]],$D)}function Cge(){return this}Ms.prototype=M1.prototype={constructor:Ms,select:Xfe,selectAll:epe,selectChild:rpe,selectChildren:lpe,filter:cpe,data:gpe,enter:upe,exit:ype,join:vpe,merge:bpe,selection:Cge,order:Epe,sort:xpe,call:_pe,nodes:Cpe,node:wpe,size:Tpe,empty:Ape,each:kpe,attr:Dpe,style:zpe,property:Hpe,classed:jpe,text:Jpe,html:tge,raise:ige,lower:age,append:oge,insert:lge,remove:uge,clone:fge,datum:pge,on:bge,dispatch:Sge,[Symbol.iterator]:_ge};function Xs(e){return typeof e=="string"?new Ms([[document.querySelector(e)]],[document.documentElement]):new Ms([[e]],$D)}function I4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qD(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function N1(){}var ky=.7,Nx=1/ky,mg="\\s*([+-]?\\d+)\\s*",Iy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wge=/^#([0-9a-f]{3,8})$/,Tge=new RegExp(`^rgb\\(${mg},${mg},${mg}\\)$`),Age=new RegExp(`^rgb\\(${Nc},${Nc},${Nc}\\)$`),kge=new RegExp(`^rgba\\(${mg},${mg},${mg},${Iy}\\)$`),Ige=new RegExp(`^rgba\\(${Nc},${Nc},${Nc},${Iy}\\)$`),Oge=new RegExp(`^hsl\\(${Iy},${Nc},${Nc}\\)$`),Pge=new RegExp(`^hsla\\(${Iy},${Nc},${Nc},${Iy}\\)$`),s7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};I4(N1,Oy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l7,formatHex:l7,formatHex8:Mge,formatHsl:Nge,formatRgb:c7,toString:c7});function l7(){return this.rgb().formatHex()}function Mge(){return this.rgb().formatHex8()}function Nge(){return UD(this).formatHsl()}function c7(){return this.rgb().formatRgb()}function Oy(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?u7(t):n===3?new os(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tge.exec(e))?new os(t[1],t[2],t[3],1):(t=Age.exec(e))?new os(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kge.exec(e))?Xb(t[1],t[2],t[3],t[4]):(t=Ige.exec(e))?Xb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Oge.exec(e))?f7(t[1],t[2]/100,t[3]/100,1):(t=Pge.exec(e))?f7(t[1],t[2]/100,t[3]/100,t[4]):s7.hasOwnProperty(e)?u7(s7[e]):e==="transparent"?new os(NaN,NaN,NaN,0):null}function u7(e){return new os(e>>16&255,e>>8&255,e&255,1)}function Xb(e,t,n,i){return i<=0&&(e=t=n=NaN),new os(e,t,n,i)}function Rge(e){return e instanceof N1||(e=Oy(e)),e?(e=e.rgb(),new os(e.r,e.g,e.b,e.opacity)):new os}function i2(e,t,n,i){return arguments.length===1?Rge(e):new os(e,t,n,i??1)}function os(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}I4(os,i2,qD(N1,{brighter(e){return e=e==null?Nx:Math.pow(Nx,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ky:Math.pow(ky,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new os(If(this.r),If(this.g),If(this.b),Rx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d7,formatHex:d7,formatHex8:Dge,formatRgb:h7,toString:h7}));function d7(){return`#${af(this.r)}${af(this.g)}${af(this.b)}`}function Dge(){return`#${af(this.r)}${af(this.g)}${af(this.b)}${af((isNaN(this.opacity)?1:this.opacity)*255)}`}function h7(){const e=Rx(this.opacity);return`${e===1?"rgb(":"rgba("}${If(this.r)}, ${If(this.g)}, ${If(this.b)}${e===1?")":`, ${e})`}`}function Rx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function If(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function af(e){return e=If(e),(e<16?"0":"")+e.toString(16)}function f7(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pl(e,t,n,i)}function UD(e){if(e instanceof Pl)return new Pl(e.h,e.s,e.l,e.opacity);if(e instanceof N1||(e=Oy(e)),!e)return new Pl;if(e instanceof Pl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(t===a?o=(n-i)/s+(n<i)*6:n===a?o=(i-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new Pl(o,s,l,e.opacity)}function Bge(e,t,n,i){return arguments.length===1?UD(e):new Pl(e,t,n,i??1)}function Pl(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}I4(Pl,Bge,qD(N1,{brighter(e){return e=e==null?Nx:Math.pow(Nx,e),new Pl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ky:Math.pow(ky,e),new Pl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new os(Bw(e>=240?e-240:e+120,r,i),Bw(e,r,i),Bw(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Pl(p7(this.h),Jb(this.s),Jb(this.l),Rx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rx(this.opacity);return`${e===1?"hsl(":"hsla("}${p7(this.h)}, ${Jb(this.s)*100}%, ${Jb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p7(e){return e=(e||0)%360,e<0?e+360:e}function Jb(e){return Math.max(0,Math.min(1,e||0))}function Bw(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const O4=e=>()=>e;function HD(e,t){return function(n){return e+n*t}}function Lge(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function RTe(e,t){var n=t-e;return n?HD(e,n>180||n<-180?n-360*Math.round(n/360):n):O4(isNaN(e)?t:e)}function Fge(e){return(e=+e)==1?VD:function(t,n){return n-t?Lge(t,n,e):O4(isNaN(t)?n:t)}}function VD(e,t){var n=t-e;return n?HD(e,n):O4(isNaN(e)?t:e)}const g7=function e(t){var n=Fge(t);function i(r,a){var o=n((r=i2(r)).r,(a=i2(a)).r),s=n(r.g,a.g),l=n(r.b,a.b),c=VD(r.opacity,a.opacity);return function(h){return r.r=o(h),r.g=s(h),r.b=l(h),r.opacity=c(h),r+""}}return i.gamma=e,i}(1);function Pd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var r2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lw=new RegExp(r2.source,"g");function zge(e){return function(){return e}}function $ge(e){return function(t){return e(t)+""}}function qge(e,t){var n=r2.lastIndex=Lw.lastIndex=0,i,r,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(i=r2.exec(e))&&(r=Lw.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(i=i[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Pd(i,r)})),n=Lw.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?$ge(l[0].x):zge(t):(t=l.length,function(c){for(var h=0,d;h<t;++h)s[(d=l[h]).i]=d.x(c);return s.join("")})}var m7=180/Math.PI,a2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function GD(e,t,n,i,r,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*m7,skewX:Math.atan(l)*m7,scaleX:o,scaleY:s}}var Qb;function Uge(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?a2:GD(t.a,t.b,t.c,t.d,t.e,t.f)}function Hge(e){return e==null||(Qb||(Qb=document.createElementNS("http://www.w3.org/2000/svg","g")),Qb.setAttribute("transform",e),!(e=Qb.transform.baseVal.consolidate()))?a2:(e=e.matrix,GD(e.a,e.b,e.c,e.d,e.e,e.f))}function WD(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function a(c,h,d,p,y,S){if(c!==d||h!==p){var _=y.push("translate(",null,t,null,n);S.push({i:_-4,x:Pd(c,d)},{i:_-2,x:Pd(h,p)})}else(d||p)&&y.push("translate("+d+t+p+n)}function o(c,h,d,p){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),p.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Pd(c,h)})):h&&d.push(r(d)+"rotate("+h+i)}function s(c,h,d,p){c!==h?p.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Pd(c,h)}):h&&d.push(r(d)+"skewX("+h+i)}function l(c,h,d,p,y,S){if(c!==d||h!==p){var _=y.push(r(y)+"scale(",null,",",null,")");S.push({i:_-4,x:Pd(c,d)},{i:_-2,x:Pd(h,p)})}else(d!==1||p!==1)&&y.push(r(y)+"scale("+d+","+p+")")}return function(c,h){var d=[],p=[];return c=e(c),h=e(h),a(c.translateX,c.translateY,h.translateX,h.translateY,d,p),o(c.rotate,h.rotate,d,p),s(c.skewX,h.skewX,d,p),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,d,p),c=h=null,function(y){for(var S=-1,_=p.length,I;++S<_;)d[(I=p[S]).i]=I.x(y);return d.join("")}}}var Vge=WD(Uge,"px, ","px)","deg)"),Gge=WD(Hge,", ",")",")"),b0=0,Pm=0,mm=0,jD=1e3,Dx,Mm,Bx=0,Lf=0,p_=0,Py=typeof performance=="object"&&performance.now?performance:Date,KD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function P4(){return Lf||(KD(Wge),Lf=Py.now()+p_)}function Wge(){Lf=0}function Lx(){this._call=this._time=this._next=null}Lx.prototype=YD.prototype={constructor:Lx,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?P4():+n)+(t==null?0:+t),!this._next&&Mm!==this&&(Mm?Mm._next=this:Dx=this,Mm=this),this._call=e,this._time=n,o2()},stop:function(){this._call&&(this._call=null,this._time=1/0,o2())}};function YD(e,t,n){var i=new Lx;return i.restart(e,t,n),i}function jge(){P4(),++b0;for(var e=Dx,t;e;)(t=Lf-e._time)>=0&&e._call.call(void 0,t),e=e._next;--b0}function y7(){Lf=(Bx=Py.now())+p_,b0=Pm=0;try{jge()}finally{b0=0,Yge(),Lf=0}}function Kge(){var e=Py.now(),t=e-Bx;t>jD&&(p_-=t,Bx=e)}function Yge(){for(var e,t=Dx,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Dx=n);Mm=e,o2(i)}function o2(e){if(!b0){Pm&&(Pm=clearTimeout(Pm));var t=e-Lf;t>24?(e<1/0&&(Pm=setTimeout(y7,e-Py.now()-p_)),mm&&(mm=clearInterval(mm))):(mm||(Bx=Py.now(),mm=setInterval(Kge,jD)),b0=1,KD(y7))}}function v7(e,t,n){var i=new Lx;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var Xge=kD("start","end","cancel","interrupt"),Jge=[],XD=0,b7=1,s2=2,wE=3,E7=4,l2=5,TE=6;function g_(e,t,n,i,r,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Qge(e,n,{name:t,index:i,group:r,on:Xge,tween:Jge,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:XD})}function M4(e,t){var n=$l(e,t);if(n.state>XD)throw new Error("too late; already scheduled");return n}function Hc(e,t){var n=$l(e,t);if(n.state>wE)throw new Error("too late; already running");return n}function $l(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Qge(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=YD(a,0,n.time);function a(c){n.state=b7,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,d,p,y;if(n.state!==b7)return l();for(h in i)if(y=i[h],y.name===n.name){if(y.state===wE)return v7(o);y.state===E7?(y.state=TE,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete i[h]):+h<t&&(y.state=TE,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete i[h])}if(v7(function(){n.state===wE&&(n.state=E7,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=s2,n.on.call("start",e,e.__data__,n.index,n.group),n.state===s2){for(n.state=wE,r=new Array(p=n.tween.length),h=0,d=-1;h<p;++h)(y=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=y);r.length=d+1}}function s(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=l2,1),d=-1,p=r.length;++d<p;)r[d].call(e,h);n.state===l2&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=TE,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function Zge(e,t){var n=e.__transition,i,r,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){a=!1;continue}r=i.state>s2&&i.state<l2,i.state=TE,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function e0e(e){return this.each(function(){Zge(this,e)})}function t0e(e,t){var n,i;return function(){var r=Hc(this,e),a=r.tween;if(a!==n){i=n=a;for(var o=0,s=i.length;o<s;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function n0e(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var a=Hc(this,e),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}a.tween=r}}function i0e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=$l(this.node(),n).tween,r=0,a=i.length,o;r<a;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?t0e:n0e)(n,e,t))}function N4(e,t,n){var i=e._id;return e.each(function(){var r=Hc(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return $l(r,i).value[t]}}function JD(e,t){var n;return(typeof t=="number"?Pd:t instanceof Oy?g7:(n=Oy(t))?(t=n,g7):qge)(e,t)}function r0e(e){return function(){this.removeAttribute(e)}}function a0e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o0e(e,t,n){var i,r=n+"",a;return function(){var o=this.getAttribute(e);return o===r?null:o===i?a:a=t(i=o,n)}}function s0e(e,t,n){var i,r=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?a:a=t(i=o,n)}}function l0e(e,t,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s)))}}function c0e(e,t,n){var i,r,a;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s)))}}function u0e(e,t){var n=f_(e),i=n==="transform"?Gge:JD;return this.attrTween(e,typeof t=="function"?(n.local?c0e:l0e)(n,i,N4(this,"attr."+e,t)):t==null?(n.local?a0e:r0e)(n):(n.local?s0e:o0e)(n,i,t))}function d0e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function h0e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function f0e(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&h0e(e,a)),n}return r._value=t,r}function p0e(e,t){var n,i;function r(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&d0e(e,a)),n}return r._value=t,r}function g0e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=f_(e);return this.tween(n,(i.local?f0e:p0e)(i,t))}function m0e(e,t){return function(){M4(this,e).delay=+t.apply(this,arguments)}}function y0e(e,t){return t=+t,function(){M4(this,e).delay=t}}function v0e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m0e:y0e)(t,e)):$l(this.node(),t).delay}function b0e(e,t){return function(){Hc(this,e).duration=+t.apply(this,arguments)}}function E0e(e,t){return t=+t,function(){Hc(this,e).duration=t}}function x0e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?b0e:E0e)(t,e)):$l(this.node(),t).duration}function S0e(e,t){if(typeof t!="function")throw new Error;return function(){Hc(this,e).ease=t}}function _0e(e){var t=this._id;return arguments.length?this.each(S0e(t,e)):$l(this.node(),t).ease}function C0e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Hc(this,e).ease=n}}function w0e(e){if(typeof e!="function")throw new Error;return this.each(C0e(this._id,e))}function T0e(e){typeof e!="function"&&(e=PD(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a=t[r],o=a.length,s=i[r]=[],l,c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new zu(i,this._parents,this._name,this._id)}function A0e(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var l=t[s],c=n[s],h=l.length,d=o[s]=new Array(h),p,y=0;y<h;++y)(p=l[y]||c[y])&&(d[y]=p);for(;s<i;++s)o[s]=t[s];return new zu(o,this._parents,this._name,this._id)}function k0e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function I0e(e,t,n){var i,r,a=k0e(t)?M4:Hc;return function(){var o=a(this,e),s=o.on;s!==i&&(r=(i=s).copy()).on(t,n),o.on=r}}function O0e(e,t){var n=this._id;return arguments.length<2?$l(this.node(),n).on.on(e):this.each(I0e(n,e,t))}function P0e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function M0e(){return this.on("end.remove",P0e(this._id))}function N0e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=A4(e));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s=i[o],l=s.length,c=a[o]=new Array(l),h,d,p=0;p<l;++p)(h=s[p])&&(d=e.call(h,h.__data__,p,s))&&("__data__"in h&&(d.__data__=h.__data__),c[p]=d,g_(c[p],t,n,p,c,$l(h,n)));return new zu(a,this._parents,t,n)}function R0e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=OD(e));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var l=i[s],c=l.length,h,d=0;d<c;++d)if(h=l[d]){for(var p=e.call(h,h.__data__,d,l),y,S=$l(h,n),_=0,I=p.length;_<I;++_)(y=p[_])&&g_(y,t,n,_,p,S);a.push(p),o.push(h)}return new zu(a,o,t,n)}var D0e=M1.prototype.constructor;function B0e(){return new D0e(this._groups,this._parents)}function L0e(e,t){var n,i,r;return function(){var a=v0(this,e),o=(this.style.removeProperty(e),v0(this,e));return a===o?null:a===n&&o===i?r:r=t(n=a,i=o)}}function QD(e){return function(){this.style.removeProperty(e)}}function F0e(e,t,n){var i,r=n+"",a;return function(){var o=v0(this,e);return o===r?null:o===i?a:a=t(i=o,n)}}function z0e(e,t,n){var i,r,a;return function(){var o=v0(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),v0(this,e))),o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s))}}function $0e(e,t){var n,i,r,a="style."+t,o="end."+a,s;return function(){var l=Hc(this,e),c=l.on,h=l.value[a]==null?s||(s=QD(t)):void 0;(c!==n||r!==h)&&(i=(n=c).copy()).on(o,r=h),l.on=i}}function q0e(e,t,n){var i=(e+="")=="transform"?Vge:JD;return t==null?this.styleTween(e,L0e(e,i)).on("end.style."+e,QD(e)):typeof t=="function"?this.styleTween(e,z0e(e,i,N4(this,"style."+e,t))).each($0e(this._id,e)):this.styleTween(e,F0e(e,i,t),n).on("end.style."+e,null)}function U0e(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function H0e(e,t,n){var i,r;function a(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&U0e(e,o,n)),i}return a._value=t,a}function V0e(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,H0e(e,t,n??""))}function G0e(e){return function(){this.textContent=e}}function W0e(e){return function(){var t=e(this);this.textContent=t??""}}function j0e(e){return this.tween("text",typeof e=="function"?W0e(N4(this,"text",e)):G0e(e==null?"":e+""))}function K0e(e){return function(t){this.textContent=e.call(this,t)}}function Y0e(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&K0e(r)),t}return i._value=e,i}function X0e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Y0e(e))}function J0e(){for(var e=this._name,t=this._id,n=ZD(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var h=$l(l,t);g_(l,e,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new zu(i,this._parents,e,n)}function Q0e(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){--r===0&&a()}};n.each(function(){var c=Hc(this,i),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),r===0&&a()})}var Z0e=0;function zu(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function ZD(){return++Z0e}var pu=M1.prototype;zu.prototype={constructor:zu,select:N0e,selectAll:R0e,selectChild:pu.selectChild,selectChildren:pu.selectChildren,filter:T0e,merge:A0e,selection:B0e,transition:J0e,call:pu.call,nodes:pu.nodes,node:pu.node,size:pu.size,empty:pu.empty,each:pu.each,on:O0e,attr:u0e,attrTween:g0e,style:q0e,styleTween:V0e,text:j0e,textTween:X0e,remove:M0e,tween:i0e,delay:v0e,duration:x0e,ease:_0e,easeVarying:w0e,end:Q0e,[Symbol.iterator]:pu[Symbol.iterator]};function eme(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var tme={time:null,delay:0,duration:250,ease:eme};function nme(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ime(e){var t,n;e instanceof zu?(t=e._id,e=e._name):(t=ZD(),(n=tme).time=P4(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o=i[a],s=o.length,l,c=0;c<s;++c)(l=o[c])&&g_(l,e,t,c,o,n||nme(l,t));return new zu(i,this._parents,e,t)}M1.prototype.interrupt=e0e;M1.prototype.transition=ime;const DTe=Math.abs,BTe=Math.atan2,LTe=Math.cos,FTe=Math.max,zTe=Math.min,$Te=Math.sin,qTe=Math.sqrt,x7=1e-12,R4=Math.PI,S7=R4/2,UTe=2*R4;function HTe(e){return e>1?0:e<-1?R4:Math.acos(e)}function VTe(e){return e>=1?S7:e<=-1?-S7:Math.asin(e)}function eB(e){this._context=e}eB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rme(e){return new eB(e)}class tB{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ame(e){return new tB(e,!0)}function ome(e){return new tB(e,!1)}function oh(){}function Fx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function m_(e){this._context=e}m_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sme(e){return new m_(e)}function nB(e){this._context=e}nB.prototype={areaStart:oh,areaEnd:oh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lme(e){return new nB(e)}function iB(e){this._context=e}iB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Fx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cme(e){return new iB(e)}function rB(e,t){this._basis=new m_(e),this._beta=t}rB.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i=e[0],r=t[0],a=e[n]-i,o=t[n]-r,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+l*a),this._beta*t[s]+(1-this._beta)*(r+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const ume=function e(t){function n(i){return t===1?new m_(i):new rB(i,t)}return n.beta=function(i){return e(+i)},n}(.85);function zx(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function D4(e,t){this._context=e,this._k=(1-t)/6}D4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zx(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:zx(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dme=function e(t){function n(i){return new D4(i,t)}return n.tension=function(i){return e(+i)},n}(0);function B4(e,t){this._context=e,this._k=(1-t)/6}B4.prototype={areaStart:oh,areaEnd:oh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zx(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hme=function e(t){function n(i){return new B4(i,t)}return n.tension=function(i){return e(+i)},n}(0);function L4(e,t){this._context=e,this._k=(1-t)/6}L4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zx(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const fme=function e(t){function n(i){return new L4(i,t)}return n.tension=function(i){return e(+i)},n}(0);function F4(e,t,n){var i=e._x1,r=e._y1,a=e._x2,o=e._y2;if(e._l01_a>x7){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>x7){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/h,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/h}e._context.bezierCurveTo(i,r,a,o,e._x2,e._y2)}function aB(e,t){this._context=e,this._alpha=t}aB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:F4(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pme=function e(t){function n(i){return t?new aB(i,t):new D4(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function oB(e,t){this._context=e,this._alpha=t}oB.prototype={areaStart:oh,areaEnd:oh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:F4(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gme=function e(t){function n(i){return t?new oB(i,t):new B4(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function sB(e,t){this._context=e,this._alpha=t}sB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:F4(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mme=function e(t){function n(i){return t?new sB(i,t):new L4(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function lB(e){this._context=e}lB.prototype={areaStart:oh,areaEnd:oh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yme(e){return new lB(e)}function _7(e){return e<0?-1:1}function C7(e,t,n){var i=e._x1-e._x0,r=t-e._x1,a=(e._y1-e._y0)/(i||r<0&&-0),o=(n-e._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(_7(a)+_7(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function w7(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Fw(e,t,n){var i=e._x0,r=e._y0,a=e._x1,o=e._y1,s=(a-i)/3;e._context.bezierCurveTo(i+s,r+s*t,a-s,o-s*n,a,o)}function $x(e){this._context=e}$x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fw(this,this._t0,w7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fw(this,w7(this,n=C7(this,e,t)),n);break;default:Fw(this,this._t0,n=C7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function cB(e){this._context=new uB(e)}(cB.prototype=Object.create($x.prototype)).point=function(e,t){$x.prototype.point.call(this,t,e)};function uB(e){this._context=e}uB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,a){this._context.bezierCurveTo(t,e,i,n,a,r)}};function vme(e){return new $x(e)}function bme(e){return new cB(e)}function dB(e){this._context=e}dB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=T7(e),r=T7(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function T7(e){var t,n=e.length-1,i,r=new Array(n),a=new Array(n),o=new Array(n);for(r[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)r[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(r[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=r[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(r[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)r[t]=(o[t]-r[t+1])/a[t];for(a[n-1]=(e[n]+r[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-r[t+1];return[r,a]}function Eme(e){return new dB(e)}function y_(e,t){this._context=e,this._t=t}y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function xme(e){return new y_(e,.5)}function Sme(e){return new y_(e,0)}function _me(e){return new y_(e,1)}function Nm(e,t,n){this.k=e,this.x=t,this.y=n}Nm.prototype={constructor:Nm,scale:function(e){return e===1?this:new Nm(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Nm(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Nm.prototype;/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:hB,setPrototypeOf:A7,isFrozen:Cme,getPrototypeOf:wme,getOwnPropertyDescriptor:Tme}=Object;let{freeze:Bo,seal:cl,create:fB}=Object,{apply:c2,construct:u2}=typeof Reflect<"u"&&Reflect;Bo||(Bo=function(t){return t});cl||(cl=function(t){return t});c2||(c2=function(t,n,i){return t.apply(n,i)});u2||(u2=function(t,n){return new t(...n)});const Zb=Ns(Array.prototype.forEach),k7=Ns(Array.prototype.pop),ym=Ns(Array.prototype.push),AE=Ns(String.prototype.toLowerCase),zw=Ns(String.prototype.toString),I7=Ns(String.prototype.match),vm=Ns(String.prototype.replace),Ame=Ns(String.prototype.indexOf),kme=Ns(String.prototype.trim),Al=Ns(Object.prototype.hasOwnProperty),xo=Ns(RegExp.prototype.test),bm=Ime(TypeError);function Ns(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return c2(e,t,i)}}function Ime(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return u2(e,n)}}function li(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AE;A7&&A7(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const a=n(r);a!==r&&(Cme(t)||(t[i]=a),r=a)}e[r]=!0}return e}function Ome(e){for(let t=0;t<e.length;t++)Al(e,t)||(e[t]=null);return e}function Xh(e){const t=fB(null);for(const[n,i]of hB(e))Al(e,n)&&(Array.isArray(i)?t[n]=Ome(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=Xh(i):t[n]=i);return t}function Em(e,t){for(;e!==null;){const i=Tme(e,t);if(i){if(i.get)return Ns(i.get);if(typeof i.value=="function")return Ns(i.value)}e=wme(e)}function n(){return null}return n}const O7=Bo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$w=Bo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qw=Bo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pme=Bo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Uw=Bo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Mme=Bo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P7=Bo(["#text"]),M7=Bo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Hw=Bo(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N7=Bo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),eE=Bo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Nme=cl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Rme=cl(/<%[\w\W]*|[\w\W]*%>/gm),Dme=cl(/\${[\w\W]*}/gm),Bme=cl(/^data-[\-\w.\u00B7-\uFFFF]/),Lme=cl(/^aria-[\-\w]+$/),pB=cl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Fme=cl(/^(?:\w+script|data):/i),zme=cl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gB=cl(/^html$/i),$me=cl(/^[a-z][.\w]*(-[.\w]+)+$/i);var R7=Object.freeze({__proto__:null,MUSTACHE_EXPR:Nme,ERB_EXPR:Rme,TMPLIT_EXPR:Dme,DATA_ATTR:Bme,ARIA_ATTR:Lme,IS_ALLOWED_URI:pB,IS_SCRIPT_OR_DATA:Fme,ATTR_WHITESPACE:zme,DOCTYPE_NAME:gB,CUSTOM_ELEMENT:$me});const xm={element:1,text:3,progressingInstruction:7,comment:8,document:9},qme=function(){return typeof window>"u"?null:window},Ume=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const a="dompurify"+(i?"#"+i:"");try{return t.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function mB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qme();const t=Dt=>mB(Dt);if(t.version="3.1.6",t.removed=[],!e||!e.document||e.document.nodeType!==xm.document)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:c,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:p,trustedTypes:y}=e,S=l.prototype,_=Em(S,"cloneNode"),I=Em(S,"remove"),M=Em(S,"nextSibling"),B=Em(S,"childNodes"),U=Em(S,"parentNode");if(typeof o=="function"){const Dt=n.createElement("template");Dt.content&&Dt.content.ownerDocument&&(n=Dt.content.ownerDocument)}let K,Q="";const{implementation:H,createNodeIterator:g,createDocumentFragment:T,getElementsByTagName:A}=n,{importNode:D}=i;let Z={};t.isSupported=typeof hB=="function"&&typeof U=="function"&&H&&H.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ie,ERB_EXPR:se,TMPLIT_EXPR:ue,DATA_ATTR:de,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:W,CUSTOM_ELEMENT:J}=R7;let{IS_ALLOWED_URI:G}=R7,le=null;const Ie=li({},[...O7,...$w,...qw,...Uw,...P7]);let it=null;const Je=li({},[...M7,...Hw,...N7,...eE]);let Ge=Object.seal(fB(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ze=null,Te=null,Ae=!0,Ue=!0,Xe=!1,dt=!0,te=!1,ce=!0,fe=!1,Be=!1,we=!1,re=!1,Ee=!1,ve=!1,We=!0,tt=!1;const yt="user-content-";let xt=!0,Nt=!1,at={},At=null;const Gt=li({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let tn=null;const wi=li({},["audio","video","img","source","image","track"]);let ii=null;const ir=li({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ti="http://www.w3.org/1998/Math/MathML",bi="http://www.w3.org/2000/svg",Fi="http://www.w3.org/1999/xhtml";let ri=Fi,zi=!1,mr=null;const Fa=li({},[Ti,bi,Fi],zw);let la=null;const yr=["application/xhtml+xml","text/html"],ta="text/html";let Qn=null,ca=null;const et=n.createElement("form"),_n=function(Me){return Me instanceof RegExp||Me instanceof Function},Ln=function(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ca&&ca===Me)){if((!Me||typeof Me!="object")&&(Me={}),Me=Xh(Me),la=yr.indexOf(Me.PARSER_MEDIA_TYPE)===-1?ta:Me.PARSER_MEDIA_TYPE,Qn=la==="application/xhtml+xml"?zw:AE,le=Al(Me,"ALLOWED_TAGS")?li({},Me.ALLOWED_TAGS,Qn):Ie,it=Al(Me,"ALLOWED_ATTR")?li({},Me.ALLOWED_ATTR,Qn):Je,mr=Al(Me,"ALLOWED_NAMESPACES")?li({},Me.ALLOWED_NAMESPACES,zw):Fa,ii=Al(Me,"ADD_URI_SAFE_ATTR")?li(Xh(ir),Me.ADD_URI_SAFE_ATTR,Qn):ir,tn=Al(Me,"ADD_DATA_URI_TAGS")?li(Xh(wi),Me.ADD_DATA_URI_TAGS,Qn):wi,At=Al(Me,"FORBID_CONTENTS")?li({},Me.FORBID_CONTENTS,Qn):Gt,Ze=Al(Me,"FORBID_TAGS")?li({},Me.FORBID_TAGS,Qn):{},Te=Al(Me,"FORBID_ATTR")?li({},Me.FORBID_ATTR,Qn):{},at=Al(Me,"USE_PROFILES")?Me.USE_PROFILES:!1,Ae=Me.ALLOW_ARIA_ATTR!==!1,Ue=Me.ALLOW_DATA_ATTR!==!1,Xe=Me.ALLOW_UNKNOWN_PROTOCOLS||!1,dt=Me.ALLOW_SELF_CLOSE_IN_ATTR!==!1,te=Me.SAFE_FOR_TEMPLATES||!1,ce=Me.SAFE_FOR_XML!==!1,fe=Me.WHOLE_DOCUMENT||!1,re=Me.RETURN_DOM||!1,Ee=Me.RETURN_DOM_FRAGMENT||!1,ve=Me.RETURN_TRUSTED_TYPE||!1,we=Me.FORCE_BODY||!1,We=Me.SANITIZE_DOM!==!1,tt=Me.SANITIZE_NAMED_PROPS||!1,xt=Me.KEEP_CONTENT!==!1,Nt=Me.IN_PLACE||!1,G=Me.ALLOWED_URI_REGEXP||pB,ri=Me.NAMESPACE||Fi,Ge=Me.CUSTOM_ELEMENT_HANDLING||{},Me.CUSTOM_ELEMENT_HANDLING&&_n(Me.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ge.tagNameCheck=Me.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Me.CUSTOM_ELEMENT_HANDLING&&_n(Me.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ge.attributeNameCheck=Me.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Me.CUSTOM_ELEMENT_HANDLING&&typeof Me.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ge.allowCustomizedBuiltInElements=Me.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),te&&(Ue=!1),Ee&&(re=!0),at&&(le=li({},P7),it=[],at.html===!0&&(li(le,O7),li(it,M7)),at.svg===!0&&(li(le,$w),li(it,Hw),li(it,eE)),at.svgFilters===!0&&(li(le,qw),li(it,Hw),li(it,eE)),at.mathMl===!0&&(li(le,Uw),li(it,N7),li(it,eE))),Me.ADD_TAGS&&(le===Ie&&(le=Xh(le)),li(le,Me.ADD_TAGS,Qn)),Me.ADD_ATTR&&(it===Je&&(it=Xh(it)),li(it,Me.ADD_ATTR,Qn)),Me.ADD_URI_SAFE_ATTR&&li(ii,Me.ADD_URI_SAFE_ATTR,Qn),Me.FORBID_CONTENTS&&(At===Gt&&(At=Xh(At)),li(At,Me.FORBID_CONTENTS,Qn)),xt&&(le["#text"]=!0),fe&&li(le,["html","head","body"]),le.table&&(li(le,["tbody"]),delete Ze.tbody),Me.TRUSTED_TYPES_POLICY){if(typeof Me.TRUSTED_TYPES_POLICY.createHTML!="function")throw bm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Me.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw bm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');K=Me.TRUSTED_TYPES_POLICY,Q=K.createHTML("")}else K===void 0&&(K=Ume(y,r)),K!==null&&typeof Q=="string"&&(Q=K.createHTML(""));Bo&&Bo(Me),ca=Me}},Oi=li({},["mi","mo","mn","ms","mtext"]),na=li({},["foreignobject","annotation-xml"]),ql=li({},["title","style","font","a","script"]),hl=li({},[...$w,...qw,...Pme]),Wr=li({},[...Uw,...Mme]),Ls=function(Me){let Et=U(Me);(!Et||!Et.tagName)&&(Et={namespaceURI:ri,tagName:"template"});const Vt=AE(Me.tagName),jn=AE(Et.tagName);return mr[Me.namespaceURI]?Me.namespaceURI===bi?Et.namespaceURI===Fi?Vt==="svg":Et.namespaceURI===Ti?Vt==="svg"&&(jn==="annotation-xml"||Oi[jn]):!!hl[Vt]:Me.namespaceURI===Ti?Et.namespaceURI===Fi?Vt==="math":Et.namespaceURI===bi?Vt==="math"&&na[jn]:!!Wr[Vt]:Me.namespaceURI===Fi?Et.namespaceURI===bi&&!na[jn]||Et.namespaceURI===Ti&&!Oi[jn]?!1:!Wr[Vt]&&(ql[Vt]||!hl[Vt]):!!(la==="application/xhtml+xml"&&mr[Me.namespaceURI]):!1},jr=function(Me){ym(t.removed,{element:Me});try{U(Me).removeChild(Me)}catch{I(Me)}},uo=function(Me,Et){try{ym(t.removed,{attribute:Et.getAttributeNode(Me),from:Et})}catch{ym(t.removed,{attribute:null,from:Et})}if(Et.removeAttribute(Me),Me==="is"&&!it[Me])if(re||Ee)try{jr(Et)}catch{}else try{Et.setAttribute(Me,"")}catch{}},ds=function(Me){let Et=null,Vt=null;if(we)Me="<remove></remove>"+Me;else{const ji=I7(Me,/^[\r\n\t ]+/);Vt=ji&&ji[0]}la==="application/xhtml+xml"&&ri===Fi&&(Me='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Me+"</body></html>");const jn=K?K.createHTML(Me):Me;if(ri===Fi)try{Et=new p().parseFromString(jn,la)}catch{}if(!Et||!Et.documentElement){Et=H.createDocument(ri,"template",null);try{Et.documentElement.innerHTML=zi?Q:jn}catch{}}const Xi=Et.body||Et.documentElement;return Me&&Vt&&Xi.insertBefore(n.createTextNode(Vt),Xi.childNodes[0]||null),ri===Fi?A.call(Et,fe?"html":"body")[0]:fe?Et.documentElement:Xi},fl=function(Me){return g.call(Me.ownerDocument||Me,Me,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Vu=function(Me){return Me instanceof d&&(typeof Me.nodeName!="string"||typeof Me.textContent!="string"||typeof Me.removeChild!="function"||!(Me.attributes instanceof h)||typeof Me.removeAttribute!="function"||typeof Me.setAttribute!="function"||typeof Me.namespaceURI!="string"||typeof Me.insertBefore!="function"||typeof Me.hasChildNodes!="function")},pl=function(Me){return typeof s=="function"&&Me instanceof s},ho=function(Me,Et,Vt){Z[Me]&&Zb(Z[Me],jn=>{jn.call(t,Et,Vt,ca)})},Gu=function(Me){let Et=null;if(ho("beforeSanitizeElements",Me,null),Vu(Me))return jr(Me),!0;const Vt=Qn(Me.nodeName);if(ho("uponSanitizeElement",Me,{tagName:Vt,allowedTags:le}),Me.hasChildNodes()&&!pl(Me.firstElementChild)&&xo(/<[/\w]/g,Me.innerHTML)&&xo(/<[/\w]/g,Me.textContent)||Me.nodeType===xm.progressingInstruction||ce&&Me.nodeType===xm.comment&&xo(/<[/\w]/g,Me.data))return jr(Me),!0;if(!le[Vt]||Ze[Vt]){if(!Ze[Vt]&&vr(Vt)&&(Ge.tagNameCheck instanceof RegExp&&xo(Ge.tagNameCheck,Vt)||Ge.tagNameCheck instanceof Function&&Ge.tagNameCheck(Vt)))return!1;if(xt&&!At[Vt]){const jn=U(Me)||Me.parentNode,Xi=B(Me)||Me.childNodes;if(Xi&&jn){const ji=Xi.length;for(let rr=ji-1;rr>=0;--rr){const ua=_(Xi[rr],!0);ua.__removalCount=(Me.__removalCount||0)+1,jn.insertBefore(ua,M(Me))}}}return jr(Me),!0}return Me instanceof l&&!Ls(Me)||(Vt==="noscript"||Vt==="noembed"||Vt==="noframes")&&xo(/<\/no(script|embed|frames)/i,Me.innerHTML)?(jr(Me),!0):(te&&Me.nodeType===xm.text&&(Et=Me.textContent,Zb([ie,se,ue],jn=>{Et=vm(Et,jn," ")}),Me.textContent!==Et&&(ym(t.removed,{element:Me.cloneNode()}),Me.textContent=Et)),ho("afterSanitizeElements",Me,null),!1)},zo=function(Me,Et,Vt){if(We&&(Et==="id"||Et==="name")&&(Vt in n||Vt in et))return!1;if(!(Ue&&!Te[Et]&&xo(de,Et))){if(!(Ae&&xo(F,Et))){if(!it[Et]||Te[Et]){if(!(vr(Me)&&(Ge.tagNameCheck instanceof RegExp&&xo(Ge.tagNameCheck,Me)||Ge.tagNameCheck instanceof Function&&Ge.tagNameCheck(Me))&&(Ge.attributeNameCheck instanceof RegExp&&xo(Ge.attributeNameCheck,Et)||Ge.attributeNameCheck instanceof Function&&Ge.attributeNameCheck(Et))||Et==="is"&&Ge.allowCustomizedBuiltInElements&&(Ge.tagNameCheck instanceof RegExp&&xo(Ge.tagNameCheck,Vt)||Ge.tagNameCheck instanceof Function&&Ge.tagNameCheck(Vt))))return!1}else if(!ii[Et]){if(!xo(G,vm(Vt,W,""))){if(!((Et==="src"||Et==="xlink:href"||Et==="href")&&Me!=="script"&&Ame(Vt,"data:")===0&&tn[Me])){if(!(Xe&&!xo($,vm(Vt,W,"")))){if(Vt)return!1}}}}}}return!0},vr=function(Me){return Me!=="annotation-xml"&&I7(Me,J)},cr=function(Me){ho("beforeSanitizeAttributes",Me,null);const{attributes:Et}=Me;if(!Et)return;const Vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:it};let jn=Et.length;for(;jn--;){const Xi=Et[jn],{name:ji,namespaceURI:rr,value:ua}=Xi,$o=Qn(ji);let fr=ji==="value"?ua:kme(ua);if(Vt.attrName=$o,Vt.attrValue=fr,Vt.keepAttr=!0,Vt.forceKeepAttr=void 0,ho("uponSanitizeAttribute",Me,Vt),fr=Vt.attrValue,ce&&xo(/((--!?|])>)|<\/(style|title)/i,fr)){uo(ji,Me);continue}if(Vt.forceKeepAttr||(uo(ji,Me),!Vt.keepAttr))continue;if(!dt&&xo(/\/>/i,fr)){uo(ji,Me);continue}te&&Zb([ie,se,ue],Ul=>{fr=vm(fr,Ul," ")});const Fs=Qn(Me.nodeName);if(zo(Fs,$o,fr)){if(tt&&($o==="id"||$o==="name")&&(uo(ji,Me),fr=yt+fr),K&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!rr)switch(y.getAttributeType(Fs,$o)){case"TrustedHTML":{fr=K.createHTML(fr);break}case"TrustedScriptURL":{fr=K.createScriptURL(fr);break}}try{rr?Me.setAttributeNS(rr,ji,fr):Me.setAttribute(ji,fr),Vu(Me)?jr(Me):k7(t.removed)}catch{}}}ho("afterSanitizeAttributes",Me,null)},Kr=function Dt(Me){let Et=null;const Vt=fl(Me);for(ho("beforeSanitizeShadowDOM",Me,null);Et=Vt.nextNode();)ho("uponSanitizeShadowNode",Et,null),!Gu(Et)&&(Et.content instanceof a&&Dt(Et.content),cr(Et));ho("afterSanitizeShadowDOM",Me,null)};return t.sanitize=function(Dt){let Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Et=null,Vt=null,jn=null,Xi=null;if(zi=!Dt,zi&&(Dt="<!-->"),typeof Dt!="string"&&!pl(Dt))if(typeof Dt.toString=="function"){if(Dt=Dt.toString(),typeof Dt!="string")throw bm("dirty is not a string, aborting")}else throw bm("toString is not a function");if(!t.isSupported)return Dt;if(Be||Ln(Me),t.removed=[],typeof Dt=="string"&&(Nt=!1),Nt){if(Dt.nodeName){const ua=Qn(Dt.nodeName);if(!le[ua]||Ze[ua])throw bm("root node is forbidden and cannot be sanitized in-place")}}else if(Dt instanceof s)Et=ds("<!---->"),Vt=Et.ownerDocument.importNode(Dt,!0),Vt.nodeType===xm.element&&Vt.nodeName==="BODY"||Vt.nodeName==="HTML"?Et=Vt:Et.appendChild(Vt);else{if(!re&&!te&&!fe&&Dt.indexOf("<")===-1)return K&&ve?K.createHTML(Dt):Dt;if(Et=ds(Dt),!Et)return re?null:ve?Q:""}Et&&we&&jr(Et.firstChild);const ji=fl(Nt?Dt:Et);for(;jn=ji.nextNode();)Gu(jn)||(jn.content instanceof a&&Kr(jn.content),cr(jn));if(Nt)return Dt;if(re){if(Ee)for(Xi=T.call(Et.ownerDocument);Et.firstChild;)Xi.appendChild(Et.firstChild);else Xi=Et;return(it.shadowroot||it.shadowrootmode)&&(Xi=D.call(i,Xi,!0)),Xi}let rr=fe?Et.outerHTML:Et.innerHTML;return fe&&le["!doctype"]&&Et.ownerDocument&&Et.ownerDocument.doctype&&Et.ownerDocument.doctype.name&&xo(gB,Et.ownerDocument.doctype.name)&&(rr="<!DOCTYPE "+Et.ownerDocument.doctype.name+`>
`+rr),te&&Zb([ie,se,ue],ua=>{rr=vm(rr,ua," ")}),K&&ve?K.createHTML(rr):rr},t.setConfig=function(){let Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ln(Dt),Be=!0},t.clearConfig=function(){ca=null,Be=!1},t.isValidAttribute=function(Dt,Me,Et){ca||Ln({});const Vt=Qn(Dt),jn=Qn(Me);return zo(Vt,jn,Et)},t.addHook=function(Dt,Me){typeof Me=="function"&&(Z[Dt]=Z[Dt]||[],ym(Z[Dt],Me))},t.removeHook=function(Dt){if(Z[Dt])return k7(Z[Dt])},t.removeHooks=function(Dt){Z[Dt]&&(Z[Dt]=[])},t.removeAllHooks=function(){Z={}},t}var E0=mB();const kE={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},i)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;switch(i){case"r":return kE.hue2rgb(a,r,e+1/3)*255;case"g":return kE.hue2rgb(a,r,e)*255;case"b":return kE.hue2rgb(a,r,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},i)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),a=Math.min(e,t,n),o=(r+a)/2;if(i==="l")return o*100;if(r===a)return 0;const s=r-a,l=o>.5?s/(2-r-a):s/(r+a);if(i==="s")return l*100;switch(r){case e:return((t-n)/s+(t<n?6:0))*60;case t:return((n-e)/s+2)*60;case n:return((e-t)/s+4)*60;default:return-1}}},Hme={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},Vme={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Pn={channel:kE,lang:Hme,unit:Vme},Td={};for(let e=0;e<=255;e++)Td[e]=Pn.unit.dec2hex(e);const Ka={ALL:0,RGB:1,HSL:2};class Gme{constructor(){this.type=Ka.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Ka.ALL}is(t){return this.type===t}}class Wme{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new Gme}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=Ka.ALL,this}_ensureHSL(){const t=this.data,{h:n,s:i,l:r}=t;n===void 0&&(t.h=Pn.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=Pn.channel.rgb2hsl(t,"s")),r===void 0&&(t.l=Pn.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:i,b:r}=t;n===void 0&&(t.r=Pn.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=Pn.channel.hsl2rgb(t,"g")),r===void 0&&(t.b=Pn.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is(Ka.HSL)&&n!==void 0?n:(this._ensureHSL(),Pn.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is(Ka.HSL)&&n!==void 0?n:(this._ensureHSL(),Pn.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is(Ka.HSL)&&n!==void 0?n:(this._ensureHSL(),Pn.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is(Ka.RGB)&&n!==void 0?n:(this._ensureRGB(),Pn.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is(Ka.RGB)&&n!==void 0?n:(this._ensureRGB(),Pn.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is(Ka.RGB)&&n!==void 0?n:(this._ensureRGB(),Pn.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Ka.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Ka.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Ka.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Ka.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Ka.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Ka.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const v_=new Wme({r:0,g:0,b:0,a:0},"transparent"),yg={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(yg.re);if(!t)return;const n=t[1],i=parseInt(n,16),r=n.length,a=r%4===0,o=r>4,s=o?1:17,l=o?8:4,c=a?0:-1,h=o?255:15;return v_.set({r:(i>>l*(c+3)&h)*s,g:(i>>l*(c+2)&h)*s,b:(i>>l*(c+1)&h)*s,a:a?(i&h)*s/255:1},e)},stringify:e=>{const{r:t,g:n,b:i,a:r}=e;return r<1?`#${Td[Math.round(t)]}${Td[Math.round(n)]}${Td[Math.round(i)]}${Td[Math.round(r*255)]}`:`#${Td[Math.round(t)]}${Td[Math.round(n)]}${Td[Math.round(i)]}`}},of={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(of.hueRe);if(t){const[,n,i]=t;switch(i){case"grad":return Pn.channel.clamp.h(parseFloat(n)*.9);case"rad":return Pn.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Pn.channel.clamp.h(parseFloat(n)*360)}}return Pn.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(of.re);if(!n)return;const[,i,r,a,o,s]=n;return v_.set({h:of._hue2deg(i),s:Pn.channel.clamp.s(parseFloat(r)),l:Pn.channel.clamp.l(parseFloat(a)),a:o?Pn.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)},stringify:e=>{const{h:t,s:n,l:i,a:r}=e;return r<1?`hsla(${Pn.lang.round(t)}, ${Pn.lang.round(n)}%, ${Pn.lang.round(i)}%, ${r})`:`hsl(${Pn.lang.round(t)}, ${Pn.lang.round(n)}%, ${Pn.lang.round(i)}%)`}},Qm={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Qm.colors[e];if(t)return yg.parse(t)},stringify:e=>{const t=yg.stringify(e);for(const n in Qm.colors)if(Qm.colors[n]===t)return n}},Rm={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(Rm.re);if(!n)return;const[,i,r,a,o,s,l,c,h]=n;return v_.set({r:Pn.channel.clamp.r(r?parseFloat(i)*2.55:parseFloat(i)),g:Pn.channel.clamp.g(o?parseFloat(a)*2.55:parseFloat(a)),b:Pn.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:c?Pn.channel.clamp.a(h?parseFloat(c)/100:parseFloat(c)):1},e)},stringify:e=>{const{r:t,g:n,b:i,a:r}=e;return r<1?`rgba(${Pn.lang.round(t)}, ${Pn.lang.round(n)}, ${Pn.lang.round(i)}, ${Pn.lang.round(r)})`:`rgb(${Pn.lang.round(t)}, ${Pn.lang.round(n)}, ${Pn.lang.round(i)})`}},Lc={format:{keyword:Qm,hex:yg,rgb:Rm,rgba:Rm,hsl:of,hsla:of},parse:e=>{if(typeof e!="string")return e;const t=yg.parse(e)||Rm.parse(e)||of.parse(e)||Qm.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Ka.HSL)||e.data.r===void 0?of.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Rm.stringify(e):yg.stringify(e)},yB=(e,t)=>{const n=Lc.parse(e);for(const i in t)n[i]=Pn.channel.clamp[i](t[i]);return Lc.stringify(n)},Zm=(e,t,n=0,i=1)=>{if(typeof e!="number")return yB(e,{a:t});const r=v_.set({r:Pn.channel.clamp.r(e),g:Pn.channel.clamp.g(t),b:Pn.channel.clamp.b(n),a:Pn.channel.clamp.a(i)});return Lc.stringify(r)},jme=e=>{const{r:t,g:n,b:i}=Lc.parse(e),r=.2126*Pn.channel.toLinear(t)+.7152*Pn.channel.toLinear(n)+.0722*Pn.channel.toLinear(i);return Pn.lang.round(r)},Kme=e=>jme(e)>=.5,R1=e=>!Kme(e),vB=(e,t,n)=>{const i=Lc.parse(e),r=i[t],a=Pn.channel.clamp[t](r+n);return r!==a&&(i[t]=a),Lc.stringify(i)},an=(e,t)=>vB(e,"l",t),hn=(e,t)=>vB(e,"l",-t),Ve=(e,t)=>{const n=Lc.parse(e),i={};for(const r in t)t[r]&&(i[r]=n[r]+t[r]);return yB(e,i)},Yme=(e,t,n=50)=>{const{r:i,g:r,b:a,a:o}=Lc.parse(e),{r:s,g:l,b:c,a:h}=Lc.parse(t),d=n/100,p=d*2-1,y=o-h,_=((p*y===-1?p:(p+y)/(1+p*y))+1)/2,I=1-_,M=i*_+s*I,B=r*_+l*I,U=a*_+c*I,K=o*d+h*(1-d);return Zm(M,B,U,K)},Lt=(e,t=100)=>{const n=Lc.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,Yme(n,e,t)};var bB=typeof global=="object"&&global&&global.Object===Object&&global,Xme=typeof self=="object"&&self&&self.Object===Object&&self,Vc=bB||Xme||Function("return this")(),qx=Vc.Symbol,EB=Object.prototype,Jme=EB.hasOwnProperty,Qme=EB.toString,Sm=qx?qx.toStringTag:void 0;function Zme(e){var t=Jme.call(e,Sm),n=e[Sm];try{e[Sm]=void 0;var i=!0}catch{}var r=Qme.call(e);return i&&(t?e[Sm]=n:delete e[Sm]),r}var eye=Object.prototype,tye=eye.toString;function nye(e){return tye.call(e)}var iye="[object Null]",rye="[object Undefined]",D7=qx?qx.toStringTag:void 0;function B0(e){return e==null?e===void 0?rye:iye:D7&&D7 in Object(e)?Zme(e):nye(e)}function Jf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var aye="[object AsyncFunction]",oye="[object Function]",sye="[object GeneratorFunction]",lye="[object Proxy]";function z4(e){if(!Jf(e))return!1;var t=B0(e);return t==oye||t==sye||t==aye||t==lye}var Vw=Vc["__core-js_shared__"],B7=function(){var e=/[^.]+$/.exec(Vw&&Vw.keys&&Vw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cye(e){return!!B7&&B7 in e}var uye=Function.prototype,dye=uye.toString;function Qf(e){if(e!=null){try{return dye.call(e)}catch{}try{return e+""}catch{}}return""}var hye=/[\\^$.*+?()[\]{}|]/g,fye=/^\[object .+?Constructor\]$/,pye=Function.prototype,gye=Object.prototype,mye=pye.toString,yye=gye.hasOwnProperty,vye=RegExp("^"+mye.call(yye).replace(hye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bye(e){if(!Jf(e)||cye(e))return!1;var t=z4(e)?vye:fye;return t.test(Qf(e))}function Eye(e,t){return e==null?void 0:e[t]}function Zf(e,t){var n=Eye(e,t);return bye(n)?n:void 0}var My=Zf(Object,"create");function xye(){this.__data__=My?My(null):{},this.size=0}function Sye(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _ye="__lodash_hash_undefined__",Cye=Object.prototype,wye=Cye.hasOwnProperty;function Tye(e){var t=this.__data__;if(My){var n=t[e];return n===_ye?void 0:n}return wye.call(t,e)?t[e]:void 0}var Aye=Object.prototype,kye=Aye.hasOwnProperty;function Iye(e){var t=this.__data__;return My?t[e]!==void 0:kye.call(t,e)}var Oye="__lodash_hash_undefined__";function Pye(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=My&&t===void 0?Oye:t,this}function Ff(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ff.prototype.clear=xye;Ff.prototype.delete=Sye;Ff.prototype.get=Tye;Ff.prototype.has=Iye;Ff.prototype.set=Pye;function Mye(){this.__data__=[],this.size=0}function b_(e,t){return e===t||e!==e&&t!==t}function E_(e,t){for(var n=e.length;n--;)if(b_(e[n][0],t))return n;return-1}var Nye=Array.prototype,Rye=Nye.splice;function Dye(e){var t=this.__data__,n=E_(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Rye.call(t,n,1),--this.size,!0}function Bye(e){var t=this.__data__,n=E_(t,e);return n<0?void 0:t[n][1]}function Lye(e){return E_(this.__data__,e)>-1}function Fye(e,t){var n=this.__data__,i=E_(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Hu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Hu.prototype.clear=Mye;Hu.prototype.delete=Dye;Hu.prototype.get=Bye;Hu.prototype.has=Lye;Hu.prototype.set=Fye;var Ny=Zf(Vc,"Map");function zye(){this.size=0,this.__data__={hash:new Ff,map:new(Ny||Hu),string:new Ff}}function $ye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function x_(e,t){var n=e.__data__;return $ye(t)?n[typeof t=="string"?"string":"hash"]:n.map}function qye(e){var t=x_(this,e).delete(e);return this.size-=t?1:0,t}function Uye(e){return x_(this,e).get(e)}function Hye(e){return x_(this,e).has(e)}function Vye(e,t){var n=x_(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function mh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}mh.prototype.clear=zye;mh.prototype.delete=qye;mh.prototype.get=Uye;mh.prototype.has=Hye;mh.prototype.set=Vye;var Gye="Expected a function";function D1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Gye);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(D1.Cache||mh),n}D1.Cache=mh;function Wye(){this.__data__=new Hu,this.size=0}function jye(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Kye(e){return this.__data__.get(e)}function Yye(e){return this.__data__.has(e)}var Xye=200;function Jye(e,t){var n=this.__data__;if(n instanceof Hu){var i=n.__data__;if(!Ny||i.length<Xye-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new mh(i)}return n.set(e,t),this.size=n.size,this}function L0(e){var t=this.__data__=new Hu(e);this.size=t.size}L0.prototype.clear=Wye;L0.prototype.delete=jye;L0.prototype.get=Kye;L0.prototype.has=Yye;L0.prototype.set=Jye;var Ux=function(){try{var e=Zf(Object,"defineProperty");return e({},"",{}),e}catch{}}();function $4(e,t,n){t=="__proto__"&&Ux?Ux(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function d2(e,t,n){(n!==void 0&&!b_(e[t],n)||n===void 0&&!(t in e))&&$4(e,t,n)}function Qye(e){return function(t,n,i){for(var r=-1,a=Object(t),o=i(t),s=o.length;s--;){var l=o[++r];if(n(a[l],l,a)===!1)break}return t}}var Zye=Qye(),xB=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L7=xB&&typeof module=="object"&&module&&!module.nodeType&&module,eve=L7&&L7.exports===xB,F7=eve?Vc.Buffer:void 0,z7=F7?F7.allocUnsafe:void 0;function tve(e,t){if(t)return e.slice();var n=e.length,i=z7?z7(n):new e.constructor(n);return e.copy(i),i}var $7=Vc.Uint8Array;function nve(e){var t=new e.constructor(e.byteLength);return new $7(t).set(new $7(e)),t}function ive(e,t){var n=t?nve(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function rve(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var q7=Object.create,ave=function(){function e(){}return function(t){if(!Jf(t))return{};if(q7)return q7(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function SB(e,t){return function(n){return e(t(n))}}var _B=SB(Object.getPrototypeOf,Object),ove=Object.prototype;function S_(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ove;return e===n}function sve(e){return typeof e.constructor=="function"&&!S_(e)?ave(_B(e)):{}}function B1(e){return e!=null&&typeof e=="object"}var lve="[object Arguments]";function U7(e){return B1(e)&&B0(e)==lve}var CB=Object.prototype,cve=CB.hasOwnProperty,uve=CB.propertyIsEnumerable,Hx=U7(function(){return arguments}())?U7:function(e){return B1(e)&&cve.call(e,"callee")&&!uve.call(e,"callee")},Vx=Array.isArray,dve=9007199254740991;function wB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dve}function __(e){return e!=null&&wB(e.length)&&!z4(e)}function hve(e){return B1(e)&&__(e)}function fve(){return!1}var TB=typeof exports=="object"&&exports&&!exports.nodeType&&exports,H7=TB&&typeof module=="object"&&module&&!module.nodeType&&module,pve=H7&&H7.exports===TB,V7=pve?Vc.Buffer:void 0,gve=V7?V7.isBuffer:void 0,q4=gve||fve,mve="[object Object]",yve=Function.prototype,vve=Object.prototype,AB=yve.toString,bve=vve.hasOwnProperty,Eve=AB.call(Object);function xve(e){if(!B1(e)||B0(e)!=mve)return!1;var t=_B(e);if(t===null)return!0;var n=bve.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&AB.call(n)==Eve}var Sve="[object Arguments]",_ve="[object Array]",Cve="[object Boolean]",wve="[object Date]",Tve="[object Error]",Ave="[object Function]",kve="[object Map]",Ive="[object Number]",Ove="[object Object]",Pve="[object RegExp]",Mve="[object Set]",Nve="[object String]",Rve="[object WeakMap]",Dve="[object ArrayBuffer]",Bve="[object DataView]",Lve="[object Float32Array]",Fve="[object Float64Array]",zve="[object Int8Array]",$ve="[object Int16Array]",qve="[object Int32Array]",Uve="[object Uint8Array]",Hve="[object Uint8ClampedArray]",Vve="[object Uint16Array]",Gve="[object Uint32Array]",hr={};hr[Lve]=hr[Fve]=hr[zve]=hr[$ve]=hr[qve]=hr[Uve]=hr[Hve]=hr[Vve]=hr[Gve]=!0;hr[Sve]=hr[_ve]=hr[Dve]=hr[Cve]=hr[Bve]=hr[wve]=hr[Tve]=hr[Ave]=hr[kve]=hr[Ive]=hr[Ove]=hr[Pve]=hr[Mve]=hr[Nve]=hr[Rve]=!1;function Wve(e){return B1(e)&&wB(e.length)&&!!hr[B0(e)]}function jve(e){return function(t){return e(t)}}var kB=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ey=kB&&typeof module=="object"&&module&&!module.nodeType&&module,Kve=ey&&ey.exports===kB,Gw=Kve&&bB.process,G7=function(){try{var e=ey&&ey.require&&ey.require("util").types;return e||Gw&&Gw.binding&&Gw.binding("util")}catch{}}(),W7=G7&&G7.isTypedArray,U4=W7?jve(W7):Wve;function h2(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Yve=Object.prototype,Xve=Yve.hasOwnProperty;function Jve(e,t,n){var i=e[t];(!(Xve.call(e,t)&&b_(i,n))||n===void 0&&!(t in e))&&$4(e,t,n)}function Qve(e,t,n,i){var r=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=void 0;l===void 0&&(l=e[s]),r?$4(n,s,l):Jve(n,s,l)}return n}function Zve(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var e1e=9007199254740991,t1e=/^(?:0|[1-9]\d*)$/;function IB(e,t){var n=typeof e;return t=t??e1e,!!t&&(n=="number"||n!="symbol"&&t1e.test(e))&&e>-1&&e%1==0&&e<t}var n1e=Object.prototype,i1e=n1e.hasOwnProperty;function r1e(e,t){var n=Vx(e),i=!n&&Hx(e),r=!n&&!i&&q4(e),a=!n&&!i&&!r&&U4(e),o=n||i||r||a,s=o?Zve(e.length,String):[],l=s.length;for(var c in e)(t||i1e.call(e,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||IB(c,l)))&&s.push(c);return s}function a1e(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var o1e=Object.prototype,s1e=o1e.hasOwnProperty;function l1e(e){if(!Jf(e))return a1e(e);var t=S_(e),n=[];for(var i in e)i=="constructor"&&(t||!s1e.call(e,i))||n.push(i);return n}function OB(e){return __(e)?r1e(e,!0):l1e(e)}function c1e(e){return Qve(e,OB(e))}function u1e(e,t,n,i,r,a,o){var s=h2(e,n),l=h2(t,n),c=o.get(l);if(c){d2(e,n,c);return}var h=a?a(s,l,n+"",e,t,o):void 0,d=h===void 0;if(d){var p=Vx(l),y=!p&&q4(l),S=!p&&!y&&U4(l);h=l,p||y||S?Vx(s)?h=s:hve(s)?h=rve(s):y?(d=!1,h=tve(l,!0)):S?(d=!1,h=ive(l,!0)):h=[]:xve(l)||Hx(l)?(h=s,Hx(s)?h=c1e(s):(!Jf(s)||z4(s))&&(h=sve(l))):d=!1}d&&(o.set(l,h),r(h,l,i,a,o),o.delete(l)),d2(e,n,h)}function PB(e,t,n,i,r){e!==t&&Zye(t,function(a,o){if(r||(r=new L0),Jf(a))u1e(e,t,o,n,PB,i,r);else{var s=i?i(h2(e,o),a,o+"",e,t,r):void 0;s===void 0&&(s=a),d2(e,o,s)}},OB)}function MB(e){return e}function d1e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var j7=Math.max;function h1e(e,t,n){return t=j7(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,a=j7(i.length-t,0),o=Array(a);++r<a;)o[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(o),d1e(e,this,s)}}function f1e(e){return function(){return e}}var p1e=Ux?function(e,t){return Ux(e,"toString",{configurable:!0,enumerable:!1,value:f1e(t),writable:!0})}:MB,g1e=800,m1e=16,y1e=Date.now;function v1e(e){var t=0,n=0;return function(){var i=y1e(),r=m1e-(i-n);if(n=i,r>0){if(++t>=g1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var b1e=v1e(p1e);function E1e(e,t){return b1e(h1e(e,t,MB),e+"")}function x1e(e,t,n){if(!Jf(n))return!1;var i=typeof t;return(i=="number"?__(n)&&IB(t,n.length):i=="string"&&t in n)?b_(n[t],e):!1}function S1e(e){return E1e(function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(r--,a):void 0,o&&x1e(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,a)}return t})}var _1e=S1e(function(e,t,n){PB(e,t,n)}),NB="comm",RB="rule",DB="decl",C1e="@import",w1e="@namespace",T1e="@keyframes",A1e="@layer",BB=Math.abs,H4=String.fromCharCode;function LB(e){return e.trim()}function IE(e,t,n){return e.replace(t,n)}function k1e(e,t,n){return e.indexOf(t,n)}function vg(e,t){return e.charCodeAt(t)|0}function x0(e,t,n){return e.slice(t,n)}function oc(e){return e.length}function I1e(e){return e.length}function tE(e,t){return t.push(e),e}var C_=1,S0=1,FB=0,ul=0,Xr=0,F0="";function V4(e,t,n,i,r,a,o,s){return{value:e,root:t,parent:n,type:i,props:r,children:a,line:C_,column:S0,length:o,return:"",siblings:s}}function O1e(){return Xr}function P1e(){return Xr=ul>0?vg(F0,--ul):0,S0--,Xr===10&&(S0=1,C_--),Xr}function Dl(){return Xr=ul<FB?vg(F0,ul++):0,S0++,Xr===10&&(S0=1,C_++),Xr}function jd(){return vg(F0,ul)}function OE(){return ul}function w_(e,t){return x0(F0,e,t)}function Ry(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M1e(e){return C_=S0=1,FB=oc(F0=e),ul=0,[]}function N1e(e){return F0="",e}function Ww(e){return LB(w_(ul-1,f2(e===91?e+2:e===40?e+1:e)))}function R1e(e){for(;(Xr=jd())&&Xr<33;)Dl();return Ry(e)>2||Ry(Xr)>3?"":" "}function D1e(e,t){for(;--t&&Dl()&&!(Xr<48||Xr>102||Xr>57&&Xr<65||Xr>70&&Xr<97););return w_(e,OE()+(t<6&&jd()==32&&Dl()==32))}function f2(e){for(;Dl();)switch(Xr){case e:return ul;case 34:case 39:e!==34&&e!==39&&f2(Xr);break;case 40:e===41&&f2(e);break;case 92:Dl();break}return ul}function B1e(e,t){for(;Dl()&&e+Xr!==57;)if(e+Xr===84&&jd()===47)break;return"/*"+w_(t,ul-1)+"*"+H4(e===47?e:Dl())}function L1e(e){for(;!Ry(jd());)Dl();return w_(e,ul)}function F1e(e){return N1e(PE("",null,null,null,[""],e=M1e(e),0,[0],e))}function PE(e,t,n,i,r,a,o,s,l){for(var c=0,h=0,d=o,p=0,y=0,S=0,_=1,I=1,M=1,B=0,U="",K=r,Q=a,H=i,g=U;I;)switch(S=B,B=Dl()){case 40:if(S!=108&&vg(g,d-1)==58){k1e(g+=IE(Ww(B),"&","&\f"),"&\f",BB(c?s[c-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:g+=Ww(B);break;case 9:case 10:case 13:case 32:g+=R1e(S);break;case 92:g+=D1e(OE()-1,7);continue;case 47:switch(jd()){case 42:case 47:tE(z1e(B1e(Dl(),OE()),t,n,l),l),(Ry(S||1)==5||Ry(jd()||1)==5)&&oc(g)&&x0(g,-1,void 0)!==" "&&(g+=" ");break;default:g+="/"}break;case 123*_:s[c++]=oc(g)*M;case 125*_:case 59:case 0:switch(B){case 0:case 125:I=0;case 59+h:M==-1&&(g=IE(g,/\f/g,"")),y>0&&(oc(g)-d||_===0&&S===47)&&tE(y>32?Y7(g+";",i,n,d-1,l):Y7(IE(g," ","")+";",i,n,d-2,l),l);break;case 59:g+=";";default:if(tE(H=K7(g,t,n,c,h,r,s,U,K=[],Q=[],d,a),a),B===123)if(h===0)PE(g,t,H,H,K,a,d,s,Q);else{switch(p){case 99:if(vg(g,3)===110)break;case 108:if(vg(g,2)===97)break;default:h=0;case 100:case 109:case 115:}h?PE(e,H,H,i&&tE(K7(e,H,H,0,0,r,s,U,r,K=[],d,Q),Q),r,Q,d,s,i?K:Q):PE(g,H,H,H,[""],Q,0,s,Q)}}c=h=y=0,_=M=1,U=g="",d=o;break;case 58:d=1+oc(g),y=S;default:if(_<1){if(B==123)--_;else if(B==125&&_++==0&&P1e()==125)continue}switch(g+=H4(B),B*_){case 38:M=h>0?1:(g+="\f",-1);break;case 44:s[c++]=(oc(g)-1)*M,M=1;break;case 64:jd()===45&&(g+=Ww(Dl())),p=jd(),h=d=oc(U=g+=L1e(OE())),B++;break;case 45:S===45&&oc(g)==2&&(_=0)}}return a}function K7(e,t,n,i,r,a,o,s,l,c,h,d){for(var p=r-1,y=r===0?a:[""],S=I1e(y),_=0,I=0,M=0;_<i;++_)for(var B=0,U=x0(e,p+1,p=BB(I=o[_])),K=e;B<S;++B)(K=LB(I>0?y[B]+" "+U:IE(U,/&\f/g,y[B])))&&(l[M++]=K);return V4(e,t,n,r===0?RB:s,l,c,h,d)}function z1e(e,t,n,i){return V4(e,t,n,NB,H4(O1e()),x0(e,2,-2),0,i)}function Y7(e,t,n,i,r){return V4(e,t,n,DB,x0(e,0,i),x0(e,i+1,-1),i,r)}function p2(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function $1e(e,t,n,i){switch(e.type){case A1e:if(e.children.length)break;case C1e:case w1e:case DB:return e.return=e.return||e.value;case NB:return"";case T1e:return e.return=e.value+"{"+p2(e.children,i)+"}";case RB:if(!oc(e.value=e.props.join(",")))return""}return oc(n=p2(e.children,i))?e.return=e.value+"{"+n+"}":""}var q1e=SB(Object.keys,Object),U1e=Object.prototype,H1e=U1e.hasOwnProperty;function V1e(e){if(!S_(e))return q1e(e);var t=[];for(var n in Object(e))H1e.call(e,n)&&n!="constructor"&&t.push(n);return t}var g2=Zf(Vc,"DataView"),m2=Zf(Vc,"Promise"),y2=Zf(Vc,"Set"),v2=Zf(Vc,"WeakMap"),X7="[object Map]",G1e="[object Object]",J7="[object Promise]",Q7="[object Set]",Z7="[object WeakMap]",eO="[object DataView]",W1e=Qf(g2),j1e=Qf(Ny),K1e=Qf(m2),Y1e=Qf(y2),X1e=Qf(v2),Jh=B0;(g2&&Jh(new g2(new ArrayBuffer(1)))!=eO||Ny&&Jh(new Ny)!=X7||m2&&Jh(m2.resolve())!=J7||y2&&Jh(new y2)!=Q7||v2&&Jh(new v2)!=Z7)&&(Jh=function(e){var t=B0(e),n=t==G1e?e.constructor:void 0,i=n?Qf(n):"";if(i)switch(i){case W1e:return eO;case j1e:return X7;case K1e:return J7;case Y1e:return Q7;case X1e:return Z7}return t});var J1e="[object Map]",Q1e="[object Set]",Z1e=Object.prototype,ebe=Z1e.hasOwnProperty;function jw(e){if(e==null)return!0;if(__(e)&&(Vx(e)||typeof e=="string"||typeof e.splice=="function"||q4(e)||U4(e)||Hx(e)))return!e.length;var t=Jh(e);if(t==J1e||t==Q1e)return!e.size;if(S_(e))return!V1e(e).length;for(var n in e)if(ebe.call(e,n))return!1;return!0}const gu={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},dn={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},G4=function(e="fatal"){let t=gu.fatal;typeof e=="string"?(e=e.toLowerCase(),e in gu&&(t=gu[e])):typeof e=="number"&&(t=e),dn.trace=()=>{},dn.debug=()=>{},dn.info=()=>{},dn.warn=()=>{},dn.error=()=>{},dn.fatal=()=>{},t<=gu.fatal&&(dn.fatal=console.error?console.error.bind(console,Ks("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ks("FATAL"))),t<=gu.error&&(dn.error=console.error?console.error.bind(console,Ks("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ks("ERROR"))),t<=gu.warn&&(dn.warn=console.warn?console.warn.bind(console,Ks("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ks("WARN"))),t<=gu.info&&(dn.info=console.info?console.info.bind(console,Ks("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ks("INFO"))),t<=gu.debug&&(dn.debug=console.debug?console.debug.bind(console,Ks("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ks("DEBUG"))),t<=gu.trace&&(dn.trace=console.debug?console.debug.bind(console,Ks("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ks("TRACE")))},Ks=e=>`%c${qfe().format("ss.SSS")} : ${e} : `,L1=/<br\s*\/?>/gi,tbe=e=>e?$B(e).replace(/\\n/g,"#br#").split("#br#"):[""],nbe=(()=>{let e=!1;return()=>{e||(ibe(),e=!0)}})();function ibe(){const e="data-temp-href-target";E0.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")||"")}),E0.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)||""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}const zB=e=>(nbe(),E0.sanitize(e)),tO=(e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=t.securityLevel;i==="antiscript"||i==="strict"?e=zB(e):i!=="loose"&&(e=$B(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=sbe(e))}return e},Dy=(e,t)=>e&&(t.dompurifyConfig?e=E0.sanitize(tO(e,t),t.dompurifyConfig).toString():e=E0.sanitize(tO(e,t),{FORBID_TAGS:["style"]}).toString(),e),rbe=(e,t)=>typeof e=="string"?Dy(e,t):e.flat().map(n=>Dy(n,t)),abe=e=>L1.test(e),obe=e=>e.split(L1),sbe=e=>e.replace(/#br#/g,"<br/>"),$B=e=>e.replace(L1,"#br#"),lbe=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},qB=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),cbe=function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},ube=function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},GTe=function(e){const t=e.split(/(,)/),n=[];for(let i=0;i<t.length;i++){let r=t[i];if(r===","&&i>0&&i+1<t.length){const a=t[i-1],o=t[i+1];dbe(a,o)&&(r=a+","+o,i++,n.pop())}n.push(hbe(r))}return n.join("")},b2=(e,t)=>Math.max(0,e.split(t).length-1),dbe=(e,t)=>{const n=b2(e,"~"),i=b2(t,"~");return n===1&&i===1},hbe=e=>{const t=b2(e,"~");let n=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const i=[...e];let r=i.indexOf("~"),a=i.lastIndexOf("~");for(;r!==-1&&a!==-1&&r!==a;)i[r]="<",i[a]=">",r=i.indexOf("~"),a=i.lastIndexOf("~");return n&&i.unshift("~"),i.join("")},nO=()=>window.MathMLElement!==void 0,E2=/\$\$(.*)\$\$/g,iO=e=>{var t;return(((t=e.match(E2))==null?void 0:t.length)??0)>0},WTe=async(e,t)=>{e=await fbe(e,t);const n=document.createElement("div");n.innerHTML=e,n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const i=document.querySelector("body");i==null||i.insertAdjacentElement("beforeend",n);const r={width:n.clientWidth,height:n.clientHeight};return n.remove(),r},fbe=async(e,t)=>{if(!iO(e))return e;if(!nO()&&!t.legacyMathML)return e.replace(E2,"MathML is unsupported in this environment.");const{default:n}=await Tr(async()=>{const{default:i}=await Promise.resolve().then(()=>tse);return{default:i}},void 0);return e.split(L1).map(i=>iO(i)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${i}
            </div>
          `:`<div>${i}</div>`).join("").replace(E2,(i,r)=>n.renderToString(r,{throwOnError:!0,displayMode:!0,output:nO()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},W4={getRows:tbe,sanitizeText:Dy,sanitizeTextOrArray:rbe,hasBreaks:abe,splitBreaks:obe,lineBreakRegex:L1,removeScript:zB,getUrl:lbe,evaluate:qB,getMax:cbe,getMin:ube},No=(e,t)=>t?Ve(e,{s:-40,l:10}):Ve(e,{s:-40,l:-10}),T_="#ffffff",A_="#f2f2f2";let pbe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var t,n,i,r,a,o,s,l,c,h,d;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ve(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ve(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||No(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||No(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||No(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||No(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Lt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Lt(this.tertiaryColor),this.lineColor=this.lineColor||Lt(this.background),this.arrowheadColor=this.arrowheadColor||Lt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?hn(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||hn(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Lt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||an(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ve(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ve(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ve(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ve(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ve(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ve(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ve(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ve(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ve(this.primaryColor,{h:330}),this.darkMode)for(let y=0;y<this.THEME_COLOR_LIMIT;y++)this["cScale"+y]=hn(this["cScale"+y],75);else for(let y=0;y<this.THEME_COLOR_LIMIT;y++)this["cScale"+y]=hn(this["cScale"+y],25);for(let y=0;y<this.THEME_COLOR_LIMIT;y++)this["cScaleInv"+y]=this["cScaleInv"+y]||Lt(this["cScale"+y]);for(let y=0;y<this.THEME_COLOR_LIMIT;y++)this.darkMode?this["cScalePeer"+y]=this["cScalePeer"+y]||an(this["cScale"+y],10):this["cScalePeer"+y]=this["cScalePeer"+y]||hn(this["cScale"+y],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let y=0;y<this.THEME_COLOR_LIMIT;y++)this["cScaleLabel"+y]=this["cScaleLabel"+y]||this.scaleLabelColor;const p=this.darkMode?-4:-1;for(let y=0;y<5;y++)this["surface"+y]=this["surface"+y]||Ve(this.mainBkg,{h:180,s:-15,l:p*(5+y*3)}),this["surfacePeer"+y]=this["surfacePeer"+y]||Ve(this.mainBkg,{h:180,s:-15,l:p*(8+y*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ve(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ve(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ve(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ve(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ve(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ve(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ve(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ve(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ve(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ve(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ve(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ve(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ve(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ve(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ve(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ve(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ve(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ve(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ve(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ve(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ve(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||R1(this.quadrant1Fill)?an(this.quadrant1Fill):hn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?hn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ve(this.primaryColor,{h:-30}),this.git4=this.git4||Ve(this.primaryColor,{h:-60}),this.git5=this.git5||Ve(this.primaryColor,{h:-90}),this.git6=this.git6||Ve(this.primaryColor,{h:60}),this.git7=this.git7||Ve(this.primaryColor,{h:120}),this.darkMode?(this.git0=an(this.git0,25),this.git1=an(this.git1,25),this.git2=an(this.git2,25),this.git3=an(this.git3,25),this.git4=an(this.git4,25),this.git5=an(this.git5,25),this.git6=an(this.git6,25),this.git7=an(this.git7,25)):(this.git0=hn(this.git0,25),this.git1=hn(this.git1,25),this.git2=hn(this.git2,25),this.git3=hn(this.git3,25),this.git4=hn(this.git4,25),this.git5=hn(this.git5,25),this.git6=hn(this.git6,25),this.git7=hn(this.git7,25)),this.gitInv0=this.gitInv0||Lt(this.git0),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||T_,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||A_}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const gbe=e=>{const t=new pbe;return t.calculate(e),t};let mbe=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=an(this.primaryColor,16),this.tertiaryColor=Ve(this.primaryColor,{h:-160}),this.primaryBorderColor=Lt(this.background),this.secondaryBorderColor=No(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=No(this.tertiaryColor,this.darkMode),this.primaryTextColor=Lt(this.primaryColor),this.secondaryTextColor=Lt(this.secondaryColor),this.tertiaryTextColor=Lt(this.tertiaryColor),this.lineColor=Lt(this.background),this.textColor=Lt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=an(Lt("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=Zm(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=hn("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=hn(this.sectionBkgColor,10),this.taskBorderColor=Zm(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Zm(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,n,i,r,a,o,s,l,c,h,d;this.secondBkg=an(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=an(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=an(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ve(this.primaryColor,{h:64}),this.fillType3=Ve(this.secondaryColor,{h:64}),this.fillType4=Ve(this.primaryColor,{h:-64}),this.fillType5=Ve(this.secondaryColor,{h:-64}),this.fillType6=Ve(this.primaryColor,{h:128}),this.fillType7=Ve(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ve(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ve(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ve(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ve(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ve(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ve(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ve(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ve(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ve(this.primaryColor,{h:330});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Lt(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScalePeer"+p]=this["cScalePeer"+p]||an(this["cScale"+p],10);for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ve(this.mainBkg,{h:30,s:-30,l:-(-10+p*4)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ve(this.mainBkg,{h:30,s:-30,l:-(-7+p*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ve(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ve(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ve(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ve(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ve(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ve(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||R1(this.quadrant1Fill)?an(this.quadrant1Fill):hn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?hn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=an(this.secondaryColor,20),this.git1=an(this.pie2||this.secondaryColor,20),this.git2=an(this.pie3||this.tertiaryColor,20),this.git3=an(this.pie4||Ve(this.primaryColor,{h:-30}),20),this.git4=an(this.pie5||Ve(this.primaryColor,{h:-60}),20),this.git5=an(this.pie6||Ve(this.primaryColor,{h:-90}),10),this.git6=an(this.pie7||Ve(this.primaryColor,{h:60}),10),this.git7=an(this.pie8||Ve(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Lt(this.git0),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Lt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Lt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||an(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||an(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const ybe=e=>{const t=new mbe;return t.calculate(e),t};let vbe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ve(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ve(this.primaryColor,{h:-160}),this.primaryBorderColor=No(this.primaryColor,this.darkMode),this.secondaryBorderColor=No(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=No(this.tertiaryColor,this.darkMode),this.primaryTextColor=Lt(this.primaryColor),this.secondaryTextColor=Lt(this.secondaryColor),this.tertiaryTextColor=Lt(this.tertiaryColor),this.lineColor=Lt(this.background),this.textColor=Lt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Zm(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,n,i,r,a,o,s,l,c,h,d;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ve(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ve(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ve(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ve(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ve(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ve(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ve(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ve(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ve(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||hn(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||hn(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=hn(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||hn(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Ve(this["cScale"+p],{h:180});for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ve(this.mainBkg,{h:30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ve(this.mainBkg,{h:30,l:-(7+p*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Lt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Lt(this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=an(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ve(this.primaryColor,{h:64}),this.fillType3=Ve(this.secondaryColor,{h:64}),this.fillType4=Ve(this.primaryColor,{h:-64}),this.fillType5=Ve(this.secondaryColor,{h:-64}),this.fillType6=Ve(this.primaryColor,{h:128}),this.fillType7=Ve(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ve(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ve(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ve(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ve(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ve(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ve(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ve(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ve(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ve(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ve(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ve(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ve(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ve(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ve(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ve(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ve(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||R1(this.quadrant1Fill)?an(this.quadrant1Fill):hn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ve(this.primaryColor,{h:-30}),this.git4=this.git4||Ve(this.primaryColor,{h:-60}),this.git5=this.git5||Ve(this.primaryColor,{h:-90}),this.git6=this.git6||Ve(this.primaryColor,{h:60}),this.git7=this.git7||Ve(this.primaryColor,{h:120}),this.darkMode?(this.git0=an(this.git0,25),this.git1=an(this.git1,25),this.git2=an(this.git2,25),this.git3=an(this.git3,25),this.git4=an(this.git4,25),this.git5=an(this.git5,25),this.git6=an(this.git6,25),this.git7=an(this.git7,25)):(this.git0=hn(this.git0,25),this.git1=hn(this.git1,25),this.git2=hn(this.git2,25),this.git3=hn(this.git3,25),this.git4=hn(this.git4,25),this.git5=hn(this.git5,25),this.git6=hn(this.git6,25),this.git7=hn(this.git7,25)),this.gitInv0=this.gitInv0||hn(Lt(this.git0),25),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Lt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Lt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||T_,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||A_}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const bbe=e=>{const t=new vbe;return t.calculate(e),t};let Ebe=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=an("#cde498",10),this.primaryBorderColor=No(this.primaryColor,this.darkMode),this.secondaryBorderColor=No(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=No(this.tertiaryColor,this.darkMode),this.primaryTextColor=Lt(this.primaryColor),this.secondaryTextColor=Lt(this.secondaryColor),this.tertiaryTextColor=Lt(this.primaryColor),this.lineColor=Lt(this.background),this.textColor=Lt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,r,a,o,s,l,c,h,d;this.actorBorder=hn(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ve(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ve(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ve(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ve(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ve(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ve(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ve(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ve(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ve(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||hn(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||hn(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=hn(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||hn(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Ve(this["cScale"+p],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ve(this.mainBkg,{h:30,s:-30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ve(this.mainBkg,{h:30,s:-30,l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ve(this.primaryColor,{h:64}),this.fillType3=Ve(this.secondaryColor,{h:64}),this.fillType4=Ve(this.primaryColor,{h:-64}),this.fillType5=Ve(this.secondaryColor,{h:-64}),this.fillType6=Ve(this.primaryColor,{h:128}),this.fillType7=Ve(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ve(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ve(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ve(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ve(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ve(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ve(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ve(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ve(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ve(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ve(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ve(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ve(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ve(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ve(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ve(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||R1(this.quadrant1Fill)?an(this.quadrant1Fill):hn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ve(this.primaryColor,{h:-30}),this.git4=this.git4||Ve(this.primaryColor,{h:-60}),this.git5=this.git5||Ve(this.primaryColor,{h:-90}),this.git6=this.git6||Ve(this.primaryColor,{h:60}),this.git7=this.git7||Ve(this.primaryColor,{h:120}),this.darkMode?(this.git0=an(this.git0,25),this.git1=an(this.git1,25),this.git2=an(this.git2,25),this.git3=an(this.git3,25),this.git4=an(this.git4,25),this.git5=an(this.git5,25),this.git6=an(this.git6,25),this.git7=an(this.git7,25)):(this.git0=hn(this.git0,25),this.git1=hn(this.git1,25),this.git2=hn(this.git2,25),this.git3=hn(this.git3,25),this.git4=hn(this.git4,25),this.git5=hn(this.git5,25),this.git6=hn(this.git6,25),this.git7=hn(this.git7,25)),this.gitInv0=this.gitInv0||Lt(this.git0),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Lt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Lt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||T_,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||A_}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}};const xbe=e=>{const t=new Ebe;return t.calculate(e),t};class Sbe{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=an(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ve(this.primaryColor,{h:-160}),this.primaryBorderColor=No(this.primaryColor,this.darkMode),this.secondaryBorderColor=No(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=No(this.tertiaryColor,this.darkMode),this.primaryTextColor=Lt(this.primaryColor),this.secondaryTextColor=Lt(this.secondaryColor),this.tertiaryTextColor=Lt(this.tertiaryColor),this.lineColor=Lt(this.background),this.textColor=Lt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,r,a,o,s,l,c,h,d;this.secondBkg=an(this.contrast,55),this.border2=this.contrast,this.actorBorder=an(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Lt(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||an(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||hn(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ve(this.mainBkg,{l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ve(this.mainBkg,{l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=an(this.contrast,30),this.sectionBkgColor2=an(this.contrast,30),this.taskBorderColor=hn(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=an(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=hn(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ve(this.primaryColor,{h:64}),this.fillType3=Ve(this.secondaryColor,{h:64}),this.fillType4=Ve(this.primaryColor,{h:-64}),this.fillType5=Ve(this.secondaryColor,{h:-64}),this.fillType6=Ve(this.primaryColor,{h:128}),this.fillType7=Ve(this.secondaryColor,{h:128});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ve(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ve(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ve(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ve(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ve(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ve(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||R1(this.quadrant1Fill)?an(this.quadrant1Fill):hn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((s=this.xyChart)==null?void 0:s.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=hn(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ve(this.primaryColor,{h:-30}),this.git4=this.pie5||Ve(this.primaryColor,{h:-60}),this.git5=this.pie6||Ve(this.primaryColor,{h:-90}),this.git6=this.pie7||Ve(this.primaryColor,{h:60}),this.git7=this.pie8||Ve(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Lt(this.git0),this.gitInv1=this.gitInv1||Lt(this.git1),this.gitInv2=this.gitInv2||Lt(this.git2),this.gitInv3=this.gitInv3||Lt(this.git3),this.gitInv4=this.gitInv4||Lt(this.git4),this.gitInv5=this.gitInv5||Lt(this.git5),this.gitInv6=this.gitInv6||Lt(this.git6),this.gitInv7=this.gitInv7||Lt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||T_,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||A_}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}}const _be=e=>{const t=new Sbe;return t.calculate(e),t},Nu={base:{getThemeVariables:gbe},dark:{getThemeVariables:ybe},default:{getThemeVariables:bbe},forest:{getThemeVariables:xbe},neutral:{getThemeVariables:_be}},mu={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},UB={...mu,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:Nu.default.getThemeVariables(),sequence:{...mu.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...mu.gantt,tickInterval:void 0,useWidth:void 0},c4:{...mu.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...mu.pie,useWidth:984},xyChart:{...mu.xyChart,useWidth:void 0},requirement:{...mu.requirement,useWidth:void 0},gitGraph:{...mu.gitGraph,useMaxWidth:!1},sankey:{...mu.sankey,useMaxWidth:!1}},HB=(e,t="")=>Object.keys(e).reduce((n,i)=>Array.isArray(e[i])?n:typeof e[i]=="object"&&e[i]!==null?[...n,t+i,...HB(e[i],"")]:[...n,t+i],[]),Cbe=new Set(HB(UB,"")),wbe=UB,Gx=e=>{if(dn.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Gx(t));return}for(const t of Object.keys(e)){if(dn.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!Cbe.has(t)||e[t]==null){dn.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){dn.debug("sanitizing object",t),Gx(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const i of n)t.includes(i)&&(dn.debug("sanitizing css option",t),e[t]=Tbe(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}dn.debug("After sanitization",e)}},Tbe=e=>{let t=0,n=0;for(const i of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},VB=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,ty=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Abe=/\s*%%.*\n/gm;class GB extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}}const _0={},k_=function(e,t){e=e.replace(VB,"").replace(ty,"").replace(Abe,`
`);for(const[n,{detector:i}]of Object.entries(_0))if(i(e,t))return n;throw new GB(`No diagram type detected matching given configuration for text: ${e}`)},WB=(...e)=>{for(const{id:t,detector:n,loader:i}of e)jB(t,n,i)},jB=(e,t,n)=>{_0[e]?dn.error(`Detector with key ${e} already exists`):_0[e]={detector:t,loader:n},dn.debug(`Detector with key ${e} added${n?" with loader":""}`)},kbe=e=>_0[e].loader,x2=(e,t,{depth:n=2,clobber:i=!1}={})=>{const r={depth:n,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>x2(e,a,r)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=x2(e[a],t[a],{depth:n-1,clobber:i})):(i||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},no=x2,Ibe="​",Obe={curveBasis:sme,curveBasisClosed:lme,curveBasisOpen:cme,curveBumpX:ame,curveBumpY:ome,curveBundle:ume,curveCardinalClosed:hme,curveCardinalOpen:fme,curveCardinal:dme,curveCatmullRomClosed:gme,curveCatmullRomOpen:mme,curveCatmullRom:pme,curveLinear:rme,curveLinearClosed:yme,curveMonotoneX:vme,curveMonotoneY:bme,curveNatural:Eme,curveStep:xme,curveStepAfter:_me,curveStepBefore:Sme},Pbe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Mbe=function(e,t){const n=KB(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const o=n.map(s=>s.args);Gx(o),i=no(i,[...o])}else i=n.args;if(!i)return;let r=k_(e,t);const a="config";return i[a]!==void 0&&(r==="flowchart-v2"&&(r="flowchart"),i[r]=i[a],delete i[a]),i},KB=function(e,t=null){try{const n=new RegExp(`[%]{2}(?![{]${Pbe.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(n,"").replace(/'/gm,'"'),dn.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let i;const r=[];for(;(i=ty.exec(e))!==null;)if(i.index===ty.lastIndex&&ty.lastIndex++,i&&!t||t&&i[1]&&i[1].match(t)||t&&i[2]&&i[2].match(t)){const a=i[1]?i[1]:i[2],o=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;r.push({type:a,args:o})}return r.length===0?{type:e,args:null}:r.length===1?r[0]:r}catch(n){return dn.error(`ERROR: ${n.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},Nbe=function(e){return e.replace(ty,"")},Rbe=function(e,t){for(const[n,i]of t.entries())if(i.match(e))return n;return-1};function Dbe(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return Obe[n]??t}function Bbe(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?Hfe.sanitizeUrl(n):n}const Lbe=(e,...t)=>{const n=e.split("."),i=n.length-1,r=n[i];let a=window;for(let o=0;o<i;o++)if(a=a[n[o]],!a){dn.error(`Function name: ${e} not found in window`);return}a[r](...t)};function YB(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Fbe(e){let t,n=0;e.forEach(r=>{n+=YB(r,t),t=r});const i=n/2;return j4(e,i)}function zbe(e){return e.length===1?e[0]:Fbe(e)}const rO=(e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},j4=(e,t)=>{let n,i=t;for(const r of e){if(n){const a=YB(r,n);if(a<i)i-=a;else{const o=i/a;if(o<=0)return n;if(o>=1)return{x:r.x,y:r.y};if(o>0&&o<1)return{x:rO((1-o)*n.x+o*r.x,5),y:rO((1-o)*n.y+o*r.y,5)}}}n=r}throw new Error("Could not find a suitable point for the given distance")},$be=(e,t,n)=>{dn.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const r=j4(t,25),a=e?10:5,o=Math.atan2(t[0].y-r.y,t[0].x-r.x),s={x:0,y:0};return s.x=Math.sin(o)*a+(t[0].x+r.x)/2,s.y=-Math.cos(o)*a+(t[0].y+r.y)/2,s};function qbe(e,t,n){const i=structuredClone(n);dn.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const r=25+e,a=j4(i,r),o=10+e*.5,s=Math.atan2(i[0].y-a.y,i[0].x-a.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(s+Math.PI)*o+(i[0].x+a.x)/2,l.y=-Math.cos(s+Math.PI)*o+(i[0].y+a.y)/2):t==="end_right"?(l.x=Math.sin(s-Math.PI)*o+(i[0].x+a.x)/2-5,l.y=-Math.cos(s-Math.PI)*o+(i[0].y+a.y)/2-5):t==="end_left"?(l.x=Math.sin(s)*o+(i[0].x+a.x)/2-5,l.y=-Math.cos(s)*o+(i[0].y+a.y)/2-5):(l.x=Math.sin(s)*o+(i[0].x+a.x)/2,l.y=-Math.cos(s)*o+(i[0].y+a.y)/2),l}function Ube(e){let t="",n="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":t=t+i+";");return{style:t,labelStyle:n}}let aO=0;const Hbe=()=>(aO++,"id-"+Math.random().toString(36).substr(2,12)+"-"+aO);function Vbe(e){let t="";const n="0123456789abcdef",i=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}const Gbe=e=>Vbe(e.length),Wbe=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},jbe=function(e,t){const n=t.text.replace(W4.lineBreakRegex," "),[,i]=Y4(t.fontSize),r=e.append("text");r.attr("x",t.x),r.attr("y",t.y),r.style("text-anchor",t.anchor),r.style("font-family",t.fontFamily),r.style("font-size",i),r.style("font-weight",t.fontWeight),r.attr("fill",t.fill),t.class!==void 0&&r.attr("class",t.class);const a=r.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(n),r},Kbe=D1((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),W4.lineBreakRegex.test(e)))return e;const i=e.split(" "),r=[];let a="";return i.forEach((o,s)=>{const l=Wx(`${o} `,n),c=Wx(a,n);if(l>t){const{hyphenatedStrings:p,remainingWord:y}=Ybe(o,t,"-",n);r.push(a,...p),a=y}else c+l>=t?(r.push(a),a=o):a=[a,o].filter(Boolean).join(" ");s+1===i.length&&r.push(a)}),r.filter(o=>o!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Ybe=D1((e,t,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const r=[...e],a=[];let o="";return r.forEach((s,l)=>{const c=`${o}${s}`;if(Wx(c,i)>=t){const d=l+1,p=r.length===d,y=`${c}${n}`;a.push(p?c:y),o=""}else o=c}),{hyphenatedStrings:a,remainingWord:o}},(e,t,n="-",i)=>`${e}${t}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function Xbe(e,t){return K4(e,t).height}function Wx(e,t){return K4(e,t).width}const K4=D1((e,t)=>{const{fontSize:n=12,fontFamily:i="Arial",fontWeight:r=400}=t;if(!e)return{width:0,height:0};const[,a]=Y4(n),o=["sans-serif",i],s=e.split(W4.lineBreakRegex),l=[],c=Xs("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const h=c.append("svg");for(const p of o){let y=0;const S={width:0,height:0,lineHeight:0};for(const _ of s){const I=Wbe();I.text=_||Ibe;const M=jbe(h,I).style("font-size",a).style("font-weight",r).style("font-family",p),B=(M._groups||M)[0][0].getBBox();if(B.width===0&&B.height===0)throw new Error("svg element not in render tree");S.width=Math.round(Math.max(S.width,B.width)),y=Math.round(B.height),S.height+=y,S.lineHeight=Math.round(Math.max(S.lineHeight,y))}l.push(S)}h.remove();const d=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[d]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`);class Jbe{constructor(t=!1,n){this.count=0,this.count=n?n.length:0,this.next=t?()=>this.count++:()=>Date.now()}}let nE;const Qbe=function(e){return nE=nE||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),nE.innerHTML=e,unescape(nE.textContent)};function XB(e){return"str"in e}const Zbe=(e,t,n,i)=>{var r;if(!i)return;const a=(r=e.node())==null?void 0:r.getBBox();a&&e.append("text").text(i).attr("x",a.x+a.width/2).attr("y",-n).attr("class",t)},Y4=e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]};function JB(e,t){return _1e({},e,t)}const ny={assignWithDepth:no,wrapLabel:Kbe,calculateTextHeight:Xbe,calculateTextWidth:Wx,calculateTextDimensions:K4,cleanAndMerge:JB,detectInit:Mbe,detectDirective:KB,isSubstringInArray:Rbe,interpolateToCurve:Dbe,calcLabelPosition:zbe,calcCardinalityPosition:$be,calcTerminalLabelPosition:qbe,formatUrl:Bbe,getStylesFromArray:Ube,generateId:Hbe,random:Gbe,runFunc:Lbe,entityDecode:Qbe,insertTitle:Zbe,parseFontSize:Y4,InitIDGenerator:Jbe},eEe=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?"ﬂ°°"+i+"¶ß":"ﬂ°"+i+"¶ß"}),t},tEe=function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},oO="10.9.3",C0=Object.freeze(wbe);let is=no({},C0),QB,w0=[],iy=no({},C0);const I_=(e,t)=>{let n=no({},e),i={};for(const r of t)tL(r),i=no(i,r);if(n=no(n,i),i.theme&&i.theme in Nu){const r=no({},QB),a=no(r.themeVariables||{},i.themeVariables);n.theme&&n.theme in Nu&&(n.themeVariables=Nu[n.theme].getThemeVariables(a))}return iy=n,nL(iy),iy},nEe=e=>(is=no({},C0),is=no(is,e),e.theme&&Nu[e.theme]&&(is.themeVariables=Nu[e.theme].getThemeVariables(e.themeVariables)),I_(is,w0),is),iEe=e=>{QB=no({},e)},rEe=e=>(is=no(is,e),I_(is,w0),is),ZB=()=>no({},is),eL=e=>(nL(e),no(iy,e),Fc()),Fc=()=>no({},iy),tL=e=>{e&&(["secure",...is.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(dn.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&tL(e[t])}))},aEe=e=>{Gx(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),w0.push(e),I_(is,w0)},jx=(e=is)=>{w0=[],I_(e,w0)},oEe={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},sO={},sEe=e=>{sO[e]||(dn.warn(oEe[e]),sO[e]=!0)},nL=e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&sEe("LAZY_LOAD_DEPRECATED")},iL="c4",lEe=e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),cEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./c4Diagram-3d4e48cf-DSiu0N1x.js");return{diagram:t}},__vite__mapDeps([0,1]));return{id:iL,diagram:e}},uEe={id:iL,detector:lEe,loader:cEe},dEe=uEe,rL="flowchart",hEe=(e,t)=>{var n,i;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},fEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./flowDiagram-66a62f08-C_LpKD19.js");return{diagram:t}},__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:rL,diagram:e}},pEe={id:rL,detector:hEe,loader:fEe},gEe=pEe,aL="flowchart-v2",mEe=(e,t)=>{var n,i,r;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)},yEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./flowDiagram-v2-96b9c2cf-BoODHkJW.js");return{diagram:t}},__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:aL,diagram:e}},vEe={id:aL,detector:mEe,loader:yEe},bEe=vEe,oL="er",EEe=e=>/^\s*erDiagram/.test(e),xEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./erDiagram-9861fffd-CrrUfnz5.js");return{diagram:t}},__vite__mapDeps([16,4,5,11,12,13]));return{id:oL,diagram:e}},SEe={id:oL,detector:EEe,loader:xEe},_Ee=SEe,sL="gitGraph",CEe=e=>/^\s*gitGraph/.test(e),wEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./gitGraphDiagram-72cf32ee-W-q-dox-.js");return{diagram:t}},[]);return{id:sL,diagram:e}},TEe={id:sL,detector:CEe,loader:wEe},AEe=TEe,lL="gantt",kEe=e=>/^\s*gantt/.test(e),IEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./ganttDiagram-c361ad54-piVs6Ffq.js");return{diagram:t}},__vite__mapDeps([17,18,19]));return{id:lL,diagram:e}},OEe={id:lL,detector:kEe,loader:IEe},PEe=OEe,cL="info",MEe=e=>/^\s*info/.test(e),NEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./infoDiagram-f8f76790-DPst6HSG.js");return{diagram:t}},[]);return{id:cL,diagram:e}},REe={id:cL,detector:MEe,loader:NEe},uL="pie",DEe=e=>/^\s*pie/.test(e),BEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./pieDiagram-8a3498a8-BYRjIZET.js");return{diagram:t}},__vite__mapDeps([20,21,13,22,19,12]));return{id:uL,diagram:e}},LEe={id:uL,detector:DEe,loader:BEe},dL="quadrantChart",FEe=e=>/^\s*quadrantChart/.test(e),zEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./quadrantDiagram-120e2f19-Dyc14iia.js");return{diagram:t}},__vite__mapDeps([23,18,19]));return{id:dL,diagram:e}},$Ee={id:dL,detector:FEe,loader:zEe},qEe=$Ee,hL="xychart",UEe=e=>/^\s*xychart-beta/.test(e),HEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./xychartDiagram-e933f94c-COBCE17e.js");return{diagram:t}},__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:hL,diagram:e}},VEe={id:hL,detector:UEe,loader:HEe},GEe=VEe,fL="requirement",WEe=e=>/^\s*requirement(Diagram)?/.test(e),jEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./requirementDiagram-deff3bca-CTZbO2EN.js");return{diagram:t}},__vite__mapDeps([25,4,5,11,12,13]));return{id:fL,diagram:e}},KEe={id:fL,detector:WEe,loader:jEe},YEe=KEe,pL="sequence",XEe=e=>/^\s*sequenceDiagram/.test(e),JEe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./sequenceDiagram-704730f1-Zrjf_a3Z.js");return{diagram:t}},__vite__mapDeps([26,1]));return{id:pL,diagram:e}},QEe={id:pL,detector:XEe,loader:JEe},ZEe=QEe,gL="class",exe=(e,t)=>{var n;return((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},txe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./classDiagram-70f12bd4-4uVjaKa5.js");return{diagram:t}},__vite__mapDeps([27,28,4,5,11,12,13]));return{id:gL,diagram:e}},nxe={id:gL,detector:exe,loader:txe},ixe=nxe,mL="classDiagram",rxe=(e,t)=>{var n;return/^\s*classDiagram/.test(e)&&((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},axe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./classDiagram-v2-f2320105-GcnYvCWt.js");return{diagram:t}},__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:mL,diagram:e}},oxe={id:mL,detector:rxe,loader:axe},sxe=oxe,yL="state",lxe=(e,t)=>{var n;return((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},cxe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./stateDiagram-587899a1-BY1nzXna.js");return{diagram:t}},__vite__mapDeps([30,31,4,5,11,12,13]));return{id:yL,diagram:e}},uxe={id:yL,detector:lxe,loader:cxe},dxe=uxe,vL="stateDiagram",hxe=(e,t)=>{var n;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},fxe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./stateDiagram-v2-d93cdb3a-Dv1LLYwZ.js");return{diagram:t}},__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:vL,diagram:e}},pxe={id:vL,detector:hxe,loader:fxe},gxe=pxe,bL="journey",mxe=e=>/^\s*journey/.test(e),yxe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./journeyDiagram-49397b02-uUegzh5G.js");return{diagram:t}},__vite__mapDeps([33,1,21,13]));return{id:bL,diagram:e}},vxe={id:bL,detector:mxe,loader:yxe},bxe=vxe,Exe=function(e,t){for(let n of t)e.attr(n[0],n[1])},xxe=function(e,t,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},EL=function(e,t,n,i){const r=xxe(t,n,i);Exe(e,r)},Sxe=function(e,t,n,i){const r=t.node().getBBox(),a=r.width,o=r.height;dn.info(`SVG bounds: ${a}x${o}`,r);let s=0,l=0;dn.info(`Graph bounds: ${s}x${l}`,e),s=a+n*2,l=o+n*2,dn.info(`Calculated bounds: ${s}x${l}`),EL(t,l,s,i);const c=`${r.x-n} ${r.y-n} ${r.width+2*n} ${r.height+2*n}`;t.attr("viewBox",c)},ME={},_xe=(e,t,n)=>{let i="";return e in ME&&ME[e]?i=ME[e](n):dn.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${i}

  ${t}
`},Cxe=(e,t)=>{t!==void 0&&(ME[e]=t)},wxe=_xe;let X4="",J4="",Q4="";const Z4=e=>Dy(e,Fc()),Txe=()=>{X4="",Q4="",J4=""},Axe=e=>{X4=Z4(e).replace(/^\s+/g,"")},kxe=()=>X4,Ixe=e=>{Q4=Z4(e).replace(/\n\s+/g,`
`)},Oxe=()=>Q4,Pxe=e=>{J4=Z4(e)},Mxe=()=>J4,Nxe=Object.freeze(Object.defineProperty({__proto__:null,clear:Txe,getAccDescription:Oxe,getAccTitle:kxe,getDiagramTitle:Mxe,setAccDescription:Ixe,setAccTitle:Axe,setDiagramTitle:Pxe},Symbol.toStringTag,{value:"Module"})),Rxe=dn,Dxe=G4,ek=Fc,JTe=eL,QTe=C0,Bxe=e=>Dy(e,ek()),Lxe=Sxe,Fxe=()=>Nxe,Kx={},Yx=(e,t,n)=>{var i;if(Kx[e])throw new Error(`Diagram ${e} already registered.`);Kx[e]=t,n&&jB(e,n),Cxe(e,t.styles),(i=t.injectUtils)==null||i.call(t,Rxe,Dxe,ek,Bxe,Lxe,Fxe(),()=>{})},tk=e=>{if(e in Kx)return Kx[e];throw new zxe(e)};class zxe extends Error{constructor(t){super(`Diagram ${t} not found.`)}}const $xe=e=>{var t;const{securityLevel:n}=ek();let i=Xs("body");if(n==="sandbox"){const o=((t=Xs(`#i${e}`).node())==null?void 0:t.contentDocument)??document;i=Xs(o.body)}return i.select(`#${e}`)},qxe=(e,t,n)=>{dn.debug(`rendering svg for syntax error
`);const i=$xe(t),r=i.append("g");i.attr("viewBox","0 0 2412 512"),EL(i,100,512,!0),r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},xL={draw:qxe},Uxe=xL,Hxe={db:{},renderer:xL,parser:{parser:{yy:{}},parse:()=>{}}},Vxe=Hxe,SL="flowchart-elk",Gxe=(e,t)=>{var n;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk")},Wxe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./flowchart-elk-definition-4a651766-D963swHv.js");return{diagram:t}},__vite__mapDeps([34,3,9,10,11,12,13]));return{id:SL,diagram:e}},jxe={id:SL,detector:Gxe,loader:Wxe},Kxe=jxe,_L="timeline",Yxe=e=>/^\s*timeline/.test(e),Xxe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./timeline-definition-85554ec2-CpBTSwpg.js");return{diagram:t}},__vite__mapDeps([35,21,13]));return{id:_L,diagram:e}},Jxe={id:_L,detector:Yxe,loader:Xxe},Qxe=Jxe,CL="mindmap",Zxe=e=>/^\s*mindmap/.test(e),eSe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./mindmap-definition-fc14e90a-BWwS_qlZ.js");return{diagram:t}},__vite__mapDeps([36,10]));return{id:CL,diagram:e}},tSe={id:CL,detector:Zxe,loader:eSe},nSe=tSe,wL="sankey",iSe=e=>/^\s*sankey-beta/.test(e),rSe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./sankeyDiagram-04a897e0-jO18-gIN.js");return{diagram:t}},__vite__mapDeps([37,22,19,38]));return{id:wL,diagram:e}},aSe={id:wL,detector:iSe,loader:rSe},oSe=aSe,TL="block",sSe=e=>/^\s*block-beta/.test(e),lSe=async()=>{const{diagram:e}=await Tr(async()=>{const{diagram:t}=await import("./blockDiagram-38ab4fdb-CG8V4hUB.js");return{diagram:t}},__vite__mapDeps([39,8,4,9,10,11,12,13,14,22,19,38]));return{id:TL,diagram:e}},cSe={id:TL,detector:sSe,loader:lSe},uSe=cSe;let lO=!1;const nk=()=>{lO||(lO=!0,Yx("error",Vxe,e=>e.toLowerCase().trim()==="error"),Yx("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),WB(dEe,sxe,ixe,_Ee,PEe,REe,LEe,YEe,ZEe,Kxe,bEe,gEe,nSe,Qxe,AEe,gxe,dxe,bxe,qEe,oSe,GEe,uSe))};class AL{constructor(t,n={}){this.text=t,this.metadata=n,this.type="graph",this.text=eEe(t),this.text+=`
`;const i=Fc();try{this.type=k_(t,i)}catch(a){this.type="error",this.detectError=a}const r=tk(this.type);dn.debug("Type "+this.type),this.db=r.db,this.renderer=r.renderer,this.parser=r.parser,this.parser.parser.yy=this.db,this.init=r.init,this.parse()}parse(){var t,n,i,r,a;if(this.detectError)throw this.detectError;(n=(t=this.db).clear)==null||n.call(t);const o=Fc();(i=this.init)==null||i.call(this,o),this.metadata.title&&((a=(r=this.db).setDiagramTitle)==null||a.call(r,this.metadata.title)),this.parser.parse(this.text)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}}const dSe=async(e,t={})=>{const n=k_(e,Fc());try{tk(n)}catch{const r=kbe(n);if(!r)throw new GB(`Diagram ${n} not found.`);const{id:a,diagram:o}=await r();Yx(a,o)}return new AL(e,t)};let cO=[];const hSe=()=>{cO.forEach(e=>{e()}),cO=[]},fSe="graphics-document document";function pSe(e,t){e.attr("role",fSe),t!==""&&e.attr("aria-roledescription",t)}function gSe(e,t,n,i){if(e.insert!==void 0){if(n){const r=`chart-desc-${i}`;e.attr("aria-describedby",r),e.insert("desc",":first-child").attr("id",r).text(n)}if(t){const r=`chart-title-${i}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}const mSe=e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function kL(e){return typeof e>"u"||e===null}function ySe(e){return typeof e=="object"&&e!==null}function vSe(e){return Array.isArray(e)?e:kL(e)?[]:[e]}function bSe(e,t){var n,i,r,a;if(t)for(a=Object.keys(t),n=0,i=a.length;n<i;n+=1)r=a[n],e[r]=t[r];return e}function ESe(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function xSe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var SSe=kL,_Se=ySe,CSe=vSe,wSe=ESe,TSe=xSe,ASe=bSe,ko={isNothing:SSe,isObject:_Se,toArray:CSe,repeat:wSe,isNegativeZero:TSe,extend:ASe};function IL(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function By(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=IL(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}By.prototype=Object.create(Error.prototype);By.prototype.constructor=By;By.prototype.toString=function(t){return this.name+": "+IL(this,t)};var Au=By;function Kw(e,t,n,i,r){var a="",o="",s=Math.floor(r/2)-1;return i-t>s&&(a=" ... ",t=i-s+a.length),n-i>s&&(o=" ...",n=i+s-o.length),{str:a+e.slice(t,n).replace(/\t/g,"→")+o,pos:i-t+a.length}}function Yw(e,t){return ko.repeat(" ",t-e.length)+e}function kSe(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],a,o=-1;a=n.exec(e.buffer);)r.push(a.index),i.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var s="",l,c,h=Math.min(e.line+t.linesAfter,r.length).toString().length,d=t.maxLength-(t.indent+h+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=Kw(e.buffer,i[o-l],r[o-l],e.position-(i[o]-i[o-l]),d),s=ko.repeat(" ",t.indent)+Yw((e.line-l+1).toString(),h)+" | "+c.str+`
`+s;for(c=Kw(e.buffer,i[o],r[o],e.position,d),s+=ko.repeat(" ",t.indent)+Yw((e.line+1).toString(),h)+" | "+c.str+`
`,s+=ko.repeat("-",t.indent+h+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=r.length);l++)c=Kw(e.buffer,i[o+l],r[o+l],e.position-(i[o]-i[o+l]),d),s+=ko.repeat(" ",t.indent)+Yw((e.line+l+1).toString(),h)+" | "+c.str+`
`;return s.replace(/\n$/,"")}var ISe=kSe,OSe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],PSe=["scalar","sequence","mapping"];function MSe(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function NSe(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(OSe.indexOf(n)===-1)throw new Au('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=MSe(t.styleAliases||null),PSe.indexOf(this.kind)===-1)throw new Au('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var so=NSe;function uO(e,t){var n=[];return e[t].forEach(function(i){var r=n.length;n.forEach(function(a,o){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(r=o)}),n[r]=i}),n}function RSe(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function S2(e){return this.extend(e)}S2.prototype.extend=function(t){var n=[],i=[];if(t instanceof so)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Au("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof so))throw new Au("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Au("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Au("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(a){if(!(a instanceof so))throw new Au("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(S2.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=uO(r,"implicit"),r.compiledExplicit=uO(r,"explicit"),r.compiledTypeMap=RSe(r.compiledImplicit,r.compiledExplicit),r};var DSe=S2,BSe=new so("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),LSe=new so("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),FSe=new so("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),zSe=new DSe({explicit:[BSe,LSe,FSe]});function $Se(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function qSe(){return null}function USe(e){return e===null}var HSe=new so("tag:yaml.org,2002:null",{kind:"scalar",resolve:$Se,construct:qSe,predicate:USe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function VSe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function GSe(e){return e==="true"||e==="True"||e==="TRUE"}function WSe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var jSe=new so("tag:yaml.org,2002:bool",{kind:"scalar",resolve:VSe,construct:GSe,predicate:WSe,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function KSe(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function YSe(e){return 48<=e&&e<=55}function XSe(e){return 48<=e&&e<=57}function JSe(e){if(e===null)return!1;var t=e.length,n=0,i=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!KSe(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!YSe(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!XSe(e.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function QSe(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function ZSe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ko.isNegativeZero(e)}var e_e=new so("tag:yaml.org,2002:int",{kind:"scalar",resolve:JSe,construct:QSe,predicate:ZSe,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),t_e=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function n_e(e){return!(e===null||!t_e.test(e)||e[e.length-1]==="_")}function i_e(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var r_e=/^[-+]?[0-9]+e/;function a_e(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ko.isNegativeZero(e))return"-0.0";return n=e.toString(10),r_e.test(n)?n.replace("e",".e"):n}function o_e(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ko.isNegativeZero(e))}var s_e=new so("tag:yaml.org,2002:float",{kind:"scalar",resolve:n_e,construct:i_e,predicate:o_e,represent:a_e,defaultStyle:"lowercase"}),OL=zSe.extend({implicit:[HSe,jSe,e_e,s_e]}),l_e=OL,PL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ML=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function c_e(e){return e===null?!1:PL.exec(e)!==null||ML.exec(e)!==null}function u_e(e){var t,n,i,r,a,o,s,l=0,c=null,h,d,p;if(t=PL.exec(e),t===null&&(t=ML.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(h=+t[10],d=+(t[11]||0),c=(h*60+d)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(n,i,r,a,o,s,l)),c&&p.setTime(p.getTime()-c),p}function d_e(e){return e.toISOString()}var h_e=new so("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:c_e,construct:u_e,instanceOf:Date,represent:d_e});function f_e(e){return e==="<<"||e===null}var p_e=new so("tag:yaml.org,2002:merge",{kind:"scalar",resolve:f_e}),ik=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function g_e(e){if(e===null)return!1;var t,n,i=0,r=e.length,a=ik;for(n=0;n<r;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function m_e(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,a=ik,o=0,s=[];for(t=0;t<r;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(i.charAt(t));return n=r%4*6,n===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):n===18?(s.push(o>>10&255),s.push(o>>2&255)):n===12&&s.push(o>>4&255),new Uint8Array(s)}function y_e(e){var t="",n=0,i,r,a=e.length,o=ik;for(i=0;i<a;i++)i%3===0&&i&&(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]),n=(n<<8)+e[i];return r=a%3,r===0?(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]):r===2?(t+=o[n>>10&63],t+=o[n>>4&63],t+=o[n<<2&63],t+=o[64]):r===1&&(t+=o[n>>2&63],t+=o[n<<4&63],t+=o[64],t+=o[64]),t}function v_e(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var b_e=new so("tag:yaml.org,2002:binary",{kind:"scalar",resolve:g_e,construct:m_e,predicate:v_e,represent:y_e}),E_e=Object.prototype.hasOwnProperty,x_e=Object.prototype.toString;function S_e(e){if(e===null)return!0;var t=[],n,i,r,a,o,s=e;for(n=0,i=s.length;n<i;n+=1){if(r=s[n],o=!1,x_e.call(r)!=="[object Object]")return!1;for(a in r)if(E_e.call(r,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function __e(e){return e!==null?e:[]}var C_e=new so("tag:yaml.org,2002:omap",{kind:"sequence",resolve:S_e,construct:__e}),w_e=Object.prototype.toString;function T_e(e){if(e===null)return!0;var t,n,i,r,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(i=o[t],w_e.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;a[t]=[r[0],i[r[0]]]}return!0}function A_e(e){if(e===null)return[];var t,n,i,r,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1)i=o[t],r=Object.keys(i),a[t]=[r[0],i[r[0]]];return a}var k_e=new so("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:T_e,construct:A_e}),I_e=Object.prototype.hasOwnProperty;function O_e(e){if(e===null)return!0;var t,n=e;for(t in n)if(I_e.call(n,t)&&n[t]!==null)return!1;return!0}function P_e(e){return e!==null?e:{}}var M_e=new so("tag:yaml.org,2002:set",{kind:"mapping",resolve:O_e,construct:P_e}),N_e=l_e.extend({implicit:[h_e,p_e],explicit:[b_e,C_e,k_e,M_e]}),sh=Object.prototype.hasOwnProperty,Xx=1,NL=2,RL=3,Jx=4,Xw=1,R_e=2,dO=3,D_e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,B_e=/[\x85\u2028\u2029]/,L_e=/[,\[\]\{\}]/,DL=/^(?:!|!!|![a-z\-]+!)$/i,BL=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function hO(e){return Object.prototype.toString.call(e)}function Rc(e){return e===10||e===13}function Of(e){return e===9||e===32}function ss(e){return e===9||e===32||e===10||e===13}function rg(e){return e===44||e===91||e===93||e===123||e===125}function F_e(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function z_e(e){return e===120?2:e===117?4:e===85?8:0}function $_e(e){return 48<=e&&e<=57?e-48:-1}function fO(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function q_e(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var LL=new Array(256),FL=new Array(256);for(var Gp=0;Gp<256;Gp++)LL[Gp]=fO(Gp)?1:0,FL[Gp]=fO(Gp);function U_e(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||N_e,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function zL(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=ISe(n),new Au(t,n)}function sn(e,t){throw zL(e,t)}function Qx(e,t){e.onWarning&&e.onWarning.call(null,zL(e,t))}var pO={YAML:function(t,n,i){var r,a,o;t.version!==null&&sn(t,"duplication of %YAML directive"),i.length!==1&&sn(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&sn(t,"ill-formed argument of the YAML directive"),a=parseInt(r[1],10),o=parseInt(r[2],10),a!==1&&sn(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Qx(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var r,a;i.length!==2&&sn(t,"TAG directive accepts exactly two arguments"),r=i[0],a=i[1],DL.test(r)||sn(t,"ill-formed tag handle (first argument) of the TAG directive"),sh.call(t.tagMap,r)&&sn(t,'there is a previously declared suffix for "'+r+'" tag handle'),BL.test(a)||sn(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{sn(t,"tag prefix is malformed: "+a)}t.tagMap[r]=a}};function Qd(e,t,n,i){var r,a,o,s;if(t<n){if(s=e.input.slice(t,n),i)for(r=0,a=s.length;r<a;r+=1)o=s.charCodeAt(r),o===9||32<=o&&o<=1114111||sn(e,"expected valid JSON character");else D_e.test(s)&&sn(e,"the stream contains non-printable characters");e.result+=s}}function gO(e,t,n,i){var r,a,o,s;for(ko.isObject(n)||sn(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),o=0,s=r.length;o<s;o+=1)a=r[o],sh.call(t,a)||(t[a]=n[a],i[a]=!0)}function ag(e,t,n,i,r,a,o,s,l){var c,h;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,h=r.length;c<h;c+=1)Array.isArray(r[c])&&sn(e,"nested arrays are not supported inside keys"),typeof r=="object"&&hO(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&hO(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(c=0,h=a.length;c<h;c+=1)gO(e,t,a[c],n);else gO(e,t,a,n);else!e.json&&!sh.call(n,r)&&sh.call(t,r)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,sn(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[r]=a,delete n[r];return t}function rk(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):sn(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Qr(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;Of(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(Rc(r))for(rk(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&Qx(e,"deficient indentation"),i}function O_(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||ss(n)))}function ak(e,t){t===1?e.result+=" ":t>1&&(e.result+=ko.repeat(`
`,t-1))}function H_e(e,t,n){var i,r,a,o,s,l,c,h,d=e.kind,p=e.result,y;if(y=e.input.charCodeAt(e.position),ss(y)||rg(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(r=e.input.charCodeAt(e.position+1),ss(r)||n&&rg(r)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,s=!1;y!==0;){if(y===58){if(r=e.input.charCodeAt(e.position+1),ss(r)||n&&rg(r))break}else if(y===35){if(i=e.input.charCodeAt(e.position-1),ss(i))break}else{if(e.position===e.lineStart&&O_(e)||n&&rg(y))break;if(Rc(y))if(l=e.line,c=e.lineStart,h=e.lineIndent,Qr(e,!1,-1),e.lineIndent>=t){s=!0,y=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=h;break}}s&&(Qd(e,a,o,!1),ak(e,e.line-l),a=o=e.position,s=!1),Of(y)||(o=e.position+1),y=e.input.charCodeAt(++e.position)}return Qd(e,a,o,!1),e.result?!0:(e.kind=d,e.result=p,!1)}function V_e(e,t){var n,i,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Qd(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,r=e.position;else return!0;else Rc(n)?(Qd(e,i,r,!0),ak(e,Qr(e,!1,t)),i=r=e.position):e.position===e.lineStart&&O_(e)?sn(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);sn(e,"unexpected end of the stream within a single quoted scalar")}function G_e(e,t){var n,i,r,a,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Qd(e,n,e.position,!0),e.position++,!0;if(s===92){if(Qd(e,n,e.position,!0),s=e.input.charCodeAt(++e.position),Rc(s))Qr(e,!1,t);else if(s<256&&LL[s])e.result+=FL[s],e.position++;else if((o=z_e(s))>0){for(r=o,a=0;r>0;r--)s=e.input.charCodeAt(++e.position),(o=F_e(s))>=0?a=(a<<4)+o:sn(e,"expected hexadecimal character");e.result+=q_e(a),e.position++}else sn(e,"unknown escape sequence");n=i=e.position}else Rc(s)?(Qd(e,n,i,!0),ak(e,Qr(e,!1,t)),n=i=e.position):e.position===e.lineStart&&O_(e)?sn(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}sn(e,"unexpected end of the stream within a double quoted scalar")}function W_e(e,t){var n=!0,i,r,a,o=e.tag,s,l=e.anchor,c,h,d,p,y,S=Object.create(null),_,I,M,B;if(B=e.input.charCodeAt(e.position),B===91)h=93,y=!1,s=[];else if(B===123)h=125,y=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),B=e.input.charCodeAt(++e.position);B!==0;){if(Qr(e,!0,t),B=e.input.charCodeAt(e.position),B===h)return e.position++,e.tag=o,e.anchor=l,e.kind=y?"mapping":"sequence",e.result=s,!0;n?B===44&&sn(e,"expected the node content, but found ','"):sn(e,"missed comma between flow collection entries"),I=_=M=null,d=p=!1,B===63&&(c=e.input.charCodeAt(e.position+1),ss(c)&&(d=p=!0,e.position++,Qr(e,!0,t))),i=e.line,r=e.lineStart,a=e.position,T0(e,t,Xx,!1,!0),I=e.tag,_=e.result,Qr(e,!0,t),B=e.input.charCodeAt(e.position),(p||e.line===i)&&B===58&&(d=!0,B=e.input.charCodeAt(++e.position),Qr(e,!0,t),T0(e,t,Xx,!1,!0),M=e.result),y?ag(e,s,S,I,_,M,i,r,a):d?s.push(ag(e,null,S,I,_,M,i,r,a)):s.push(_),Qr(e,!0,t),B=e.input.charCodeAt(e.position),B===44?(n=!0,B=e.input.charCodeAt(++e.position)):n=!1}sn(e,"unexpected end of the stream within a flow collection")}function j_e(e,t){var n,i,r=Xw,a=!1,o=!1,s=t,l=0,c=!1,h,d;if(d=e.input.charCodeAt(e.position),d===124)i=!1;else if(d===62)i=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Xw===r?r=d===43?dO:R_e:sn(e,"repeat of a chomping mode identifier");else if((h=$_e(d))>=0)h===0?sn(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?sn(e,"repeat of an indentation width identifier"):(s=t+h-1,o=!0);else break;if(Of(d)){do d=e.input.charCodeAt(++e.position);while(Of(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!Rc(d)&&d!==0)}for(;d!==0;){for(rk(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),Rc(d)){l++;continue}if(e.lineIndent<s){r===dO?e.result+=ko.repeat(`
`,a?1+l:l):r===Xw&&a&&(e.result+=`
`);break}for(i?Of(d)?(c=!0,e.result+=ko.repeat(`
`,a?1+l:l)):c?(c=!1,e.result+=ko.repeat(`
`,l+1)):l===0?a&&(e.result+=" "):e.result+=ko.repeat(`
`,l):e.result+=ko.repeat(`
`,a?1+l:l),a=!0,o=!0,l=0,n=e.position;!Rc(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Qd(e,n,e.position,!1)}return!0}function mO(e,t){var n,i=e.tag,r=e.anchor,a=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,sn(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!ss(o))));){if(s=!0,e.position++,Qr(e,!0,-1)&&e.lineIndent<=t){a.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,T0(e,t,RL,!1,!0),a.push(e.result),Qr(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)sn(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=a,!0):!1}function K_e(e,t,n){var i,r,a,o,s,l,c=e.tag,h=e.anchor,d={},p=Object.create(null),y=null,S=null,_=null,I=!1,M=!1,B;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),B=e.input.charCodeAt(e.position);B!==0;){if(!I&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,sn(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),a=e.line,(B===63||B===58)&&ss(i))B===63?(I&&(ag(e,d,p,y,S,null,o,s,l),y=S=_=null),M=!0,I=!0,r=!0):I?(I=!1,r=!0):sn(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,B=i;else{if(o=e.line,s=e.lineStart,l=e.position,!T0(e,n,NL,!1,!0))break;if(e.line===a){for(B=e.input.charCodeAt(e.position);Of(B);)B=e.input.charCodeAt(++e.position);if(B===58)B=e.input.charCodeAt(++e.position),ss(B)||sn(e,"a whitespace character is expected after the key-value separator within a block mapping"),I&&(ag(e,d,p,y,S,null,o,s,l),y=S=_=null),M=!0,I=!1,r=!1,y=e.tag,S=e.result;else if(M)sn(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=h,!0}else if(M)sn(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=h,!0}if((e.line===a||e.lineIndent>t)&&(I&&(o=e.line,s=e.lineStart,l=e.position),T0(e,t,Jx,!0,r)&&(I?S=e.result:_=e.result),I||(ag(e,d,p,y,S,_,o,s,l),y=S=_=null),Qr(e,!0,-1),B=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&B!==0)sn(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return I&&ag(e,d,p,y,S,null,o,s,l),M&&(e.tag=c,e.anchor=h,e.kind="mapping",e.result=d),M}function Y_e(e){var t,n=!1,i=!1,r,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&sn(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,r="!!",o=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):sn(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ss(o);)o===33&&(i?sn(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),DL.test(r)||sn(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),L_e.test(a)&&sn(e,"tag suffix cannot contain flow indicator characters")}a&&!BL.test(a)&&sn(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{sn(e,"tag name is malformed: "+a)}return n?e.tag=a:sh.call(e.tagMap,r)?e.tag=e.tagMap[r]+a:r==="!"?e.tag="!"+a:r==="!!"?e.tag="tag:yaml.org,2002:"+a:sn(e,'undeclared tag handle "'+r+'"'),!0}function X_e(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&sn(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ss(n)&&!rg(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&sn(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function J_e(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!ss(i)&&!rg(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&sn(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),sh.call(e.anchorMap,n)||sn(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Qr(e,!0,-1),!0}function T0(e,t,n,i,r){var a,o,s,l=1,c=!1,h=!1,d,p,y,S,_,I;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=Jx===n||RL===n,i&&Qr(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Y_e(e)||X_e(e);)Qr(e,!0,-1)?(c=!0,s=a,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=c||r),(l===1||Jx===n)&&(Xx===n||NL===n?_=t:_=t+1,I=e.position-e.lineStart,l===1?s&&(mO(e,I)||K_e(e,I,_))||W_e(e,_)?h=!0:(o&&j_e(e,_)||V_e(e,_)||G_e(e,_)?h=!0:J_e(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&sn(e,"alias node should not have any properties")):H_e(e,_,Xx===n)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(h=s&&mO(e,I))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&sn(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,p=e.implicitTypes.length;d<p;d+=1)if(S=e.implicitTypes[d],S.resolve(e.result)){e.result=S.construct(e.result),e.tag=S.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(sh.call(e.typeMap[e.kind||"fallback"],e.tag))S=e.typeMap[e.kind||"fallback"][e.tag];else for(S=null,y=e.typeMap.multi[e.kind||"fallback"],d=0,p=y.length;d<p;d+=1)if(e.tag.slice(0,y[d].tag.length)===y[d].tag){S=y[d];break}S||sn(e,"unknown tag !<"+e.tag+">"),e.result!==null&&S.kind!==e.kind&&sn(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+S.kind+'", not "'+e.kind+'"'),S.resolve(e.result,e.tag)?(e.result=S.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):sn(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}function Q_e(e){var t=e.position,n,i,r,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(Qr(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!ss(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),r=[],i.length<1&&sn(e,"directive name must not be less than one character in length");o!==0;){for(;Of(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Rc(o));break}if(Rc(o))break;for(n=e.position;o!==0&&!ss(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}o!==0&&rk(e),sh.call(pO,i)?pO[i](e,i,r):Qx(e,'unknown document directive "'+i+'"')}if(Qr(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Qr(e,!0,-1)):a&&sn(e,"directives end mark is expected"),T0(e,e.lineIndent-1,Jx,!1,!0),Qr(e,!0,-1),e.checkLineBreaks&&B_e.test(e.input.slice(t,e.position))&&Qx(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&O_(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Qr(e,!0,-1));return}if(e.position<e.length-1)sn(e,"end of the stream or a document separator is expected");else return}function Z_e(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new U_e(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,sn(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Q_e(n);return n.documents}function eCe(e,t){var n=Z_e(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Au("expected a single document in the stream, but found more")}}var tCe=eCe,nCe={load:tCe},iCe=OL,rCe=nCe.load;function aCe(e){const t=e.match(VB);if(!t)return{text:e,metadata:{}};let n=rCe(t[1],{schema:iCe})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const i={};return n.displayMode&&(i.displayMode=n.displayMode.toString()),n.title&&(i.title=n.title.toString()),n.config&&(i.config=n.config),{text:e.slice(t[0].length),metadata:i}}const oCe=e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,n,i)=>"<"+n+i.replace(/="([^"]*)"/g,"='$1'")+">"),sCe=e=>{const{text:t,metadata:n}=aCe(e),{displayMode:i,title:r,config:a={}}=n;return i&&(a.gantt||(a.gantt={}),a.gantt.displayMode=i),{title:r,config:a,text:t}},lCe=e=>{const t=ny.detectInit(e)??{},n=ny.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:i})=>{}):(n==null?void 0:n.type)==="wrap"&&(t.wrap=!0),{text:Nbe(e),directive:t}};function $L(e){const t=oCe(e),n=sCe(t),i=lCe(n.text),r=JB(n.config,i.directive);return e=mSe(i.text),{code:e,title:n.title,config:r}}const cCe=5e4,uCe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",dCe="sandbox",hCe="loose",fCe="http://www.w3.org/2000/svg",pCe="http://www.w3.org/1999/xlink",gCe="http://www.w3.org/1999/xhtml",mCe="100%",yCe="100%",vCe="border:0;margin:0;",bCe="margin:0",ECe="allow-top-navigation-by-user-activation allow-popups",xCe='The "iframe" tag is not supported by your browser.',SCe=["foreignobject"],_Ce=["dominant-baseline"];function qL(e){const t=$L(e);return jx(),aEe(t.config??{}),t}async function CCe(e,t){nk(),e=qL(e).code;try{await ok(e)}catch(n){if(t!=null&&t.suppressErrors)return!1;throw n}return!0}const yO=(e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,wCe=(e,t={})=>{var n;let i="";if(e.themeCSS!==void 0&&(i+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!jw(t)){const s=e.htmlLabels||((n=e.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const l in t){const c=t[l];jw(c.styles)||s.forEach(h=>{i+=yO(c.id,h,c.styles)}),jw(c.textStyles)||(i+=yO(c.id,"tspan",c.textStyles))}}return i},TCe=(e,t,n,i)=>{const r=wCe(e,n),a=wxe(t,r,e.themeVariables);return p2(F1e(`${i}{${a}}`),$1e)},ACe=(e="",t,n)=>{let i=e;return!n&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=tEe(i),i=i.replace(/<br>/g,"<br/>"),i},kCe=(e="",t)=>{var n,i;const r=(i=(n=t==null?void 0:t.viewBox)==null?void 0:n.baseVal)!=null&&i.height?t.viewBox.baseVal.height+"px":yCe,a=btoa('<body style="'+bCe+'">'+e+"</body>");return`<iframe style="width:${mCe};height:${r};${vCe}" src="data:text/html;base64,${a}" sandbox="${ECe}">
  ${xCe}
</iframe>`},vO=(e,t,n,i,r)=>{const a=e.append("div");a.attr("id",n),i&&a.attr("style",i);const o=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",fCe);return r&&o.attr("xmlns:xlink",r),o.append("g"),e};function bO(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const ICe=(e,t,n,i)=>{var r,a,o;(r=e.getElementById(t))==null||r.remove(),(a=e.getElementById(n))==null||a.remove(),(o=e.getElementById(i))==null||o.remove()},OCe=async function(e,t,n){var i,r,a,o,s,l;nk();const c=qL(t);t=c.code;const h=Fc();dn.debug(h),t.length>((h==null?void 0:h.maxTextSize)??cCe)&&(t=uCe);const d="#"+e,p="i"+e,y="#"+p,S="d"+e,_="#"+S;let I=Xs("body");const M=h.securityLevel===dCe,B=h.securityLevel===hCe,U=h.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),M){const J=bO(Xs(n),p);I=Xs(J.nodes()[0].contentDocument.body),I.node().style.margin=0}else I=Xs(n);vO(I,e,S,`font-family: ${U}`,pCe)}else{if(ICe(document,e,S,p),M){const J=bO(Xs("body"),p);I=Xs(J.nodes()[0].contentDocument.body),I.node().style.margin=0}else I=Xs("body");vO(I,e,S)}let K,Q;try{K=await ok(t,{title:c.title})}catch(J){K=new AL("error"),Q=J}const H=I.select(_).node(),g=K.type,T=H.firstChild,A=T.firstChild,D=(r=(i=K.renderer).getClasses)==null?void 0:r.call(i,t,K),Z=TCe(h,g,D,d),ie=document.createElement("style");ie.innerHTML=Z,T.insertBefore(ie,A);try{await K.renderer.draw(t,e,oO,K)}catch(J){throw Uxe.draw(t,e,oO),J}const se=I.select(`${_} svg`),ue=(o=(a=K.db).getAccTitle)==null?void 0:o.call(a),de=(l=(s=K.db).getAccDescription)==null?void 0:l.call(s);MCe(g,se,ue,de),I.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",gCe);let F=I.select(_).node().innerHTML;if(dn.debug("config.arrowMarkerAbsolute",h.arrowMarkerAbsolute),F=ACe(F,M,qB(h.arrowMarkerAbsolute)),M){const J=I.select(_+" svg").node();F=kCe(F,J)}else B||(F=E0.sanitize(F,{ADD_TAGS:SCe,ADD_ATTR:_Ce}));if(hSe(),Q)throw Q;const W=Xs(M?y:_).node();return W&&"remove"in W&&W.remove(),{svg:F,bindFunctions:K.db.bindFunctions}};function PCe(e={}){var t;e!=null&&e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),iEe(e),e!=null&&e.theme&&e.theme in Nu?e.themeVariables=Nu[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Nu.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?nEe(e):ZB();G4(n.logLevel),nk()}const ok=(e,t={})=>{const{code:n}=$L(e);return dSe(n,t)};function MCe(e,t,n,i){pSe(t,e),gSe(t,n,i,t.attr("id"))}const zf=Object.freeze({render:OCe,parse:CCe,getDiagramFromText:ok,initialize:PCe,getConfig:Fc,setConfig:eL,getSiteConfig:ZB,updateSiteConfig:rEe,reset:()=>{jx()},globalReset:()=>{jx(C0)},defaultConfig:C0});G4(Fc().logLevel);jx(Fc());const NCe=async()=>{dn.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(_0).map(async([n,{detector:i,loader:r}])=>{if(r)try{tk(n)}catch{try{const{diagram:o,id:s}=await r();Yx(s,o,i)}catch(o){throw dn.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete _0[n],o}}}))).filter(n=>n.status==="rejected");if(t.length>0){dn.error(`Failed to load ${t.length} external diagrams`);for(const n of t)dn.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},RCe=(e,t,n)=>{dn.warn(e),XB(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},UL=async function(e={querySelector:".mermaid"}){try{await DCe(e)}catch(t){if(XB(t)&&dn.error(t.str),Rs.parseError&&Rs.parseError(t),!e.suppressErrors)throw dn.error("Use the suppressErrors option to suppress these errors"),t}},DCe=async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const i=zf.getConfig();dn.debug(`${e?"":"No "}Callback function found`);let r;if(n)r=n;else if(t)r=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");dn.debug(`Found ${r.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(dn.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),zf.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const a=new ny.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let o;const s=[];for(const l of Array.from(r)){dn.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${a.next()}`;o=l.innerHTML,o=Dfe(ny.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=ny.detectInit(o);h&&dn.debug("Detected early reinit: ",h);try{const{svg:d,bindFunctions:p}=await WL(c,o,l);l.innerHTML=d,e&&await e(c),p&&p(l)}catch(d){RCe(d,s,Rs.parseError)}}if(s.length>0)throw s[0]},HL=function(e){zf.initialize(e)},BCe=async function(e,t,n){dn.warn("mermaid.init is deprecated. Please use run instead."),e&&HL(e);const i={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await UL(i)},LCe=async(e,{lazyLoad:t=!0}={})=>{WB(...e),t===!1&&await NCe()},VL=function(){if(Rs.startOnLoad){const{startOnLoad:e}=zf.getConfig();e&&Rs.run().catch(t=>dn.error("Mermaid failed to initialize",t))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",VL,!1)}const FCe=function(e){Rs.parseError=e},Zx=[];let Jw=!1;const GL=async()=>{if(!Jw){for(Jw=!0;Zx.length>0;){const e=Zx.shift();if(e)try{await e()}catch(t){dn.error("Error executing queue",t)}}Jw=!1}},zCe=async(e,t)=>new Promise((n,i)=>{const r=()=>new Promise((a,o)=>{zf.parse(e,t).then(s=>{a(s),n(s)},s=>{var l;dn.error("Error parsing",s),(l=Rs.parseError)==null||l.call(Rs,s),o(s),i(s)})});Zx.push(r),GL().catch(i)}),WL=(e,t,n)=>new Promise((i,r)=>{const a=()=>new Promise((o,s)=>{zf.render(e,t,n).then(l=>{o(l),i(l)},l=>{var c;dn.error("Error parsing",l),(c=Rs.parseError)==null||c.call(Rs,l),s(l),r(l)})});Zx.push(a),GL().catch(r)}),Rs={startOnLoad:!0,mermaidAPI:zf,parse:zCe,render:WL,init:BCe,run:UL,registerExternalDiagrams:LCe,initialize:HL,parseError:void 0,contentLoaded:VL,setParseErrorHandler:FCe,detectType:k_};var e0,t0,_f,Cf;class jL{constructor(){Fe(this,e0);Fe(this,t0);Fe(this,_f);Fe(this,Cf);De(this,e0,0),De(this,t0,[]),De(this,_f,""),De(this,Cf,"")}incrementLinkCounter(){T3(this,e0)._++}get getLinkCounter(){return k(this,e0)}isNotYetAdded(t){return!k(this,t0).includes(t)}addElement(t,n){De(this,_f,k(this,_f).concat(n)),k(this,t0).push(t)}get getElementSection(){return k(this,_f)}addStyling(t){De(this,Cf,k(this,Cf).concat(t))}get getStylingSection(){return k(this,Cf)}}e0=new WeakMap,t0=new WeakMap,_f=new WeakMap,Cf=new WeakMap;function KL(){return`     classDef factor-not-applicable fill:#f2f2f2,stroke:#d9d9d9,stroke-width:2px;
    classDef factor-applicable fill:#d9d9d9,stroke:#000,stroke-width:2px;
    classDef factor-low fill:#e6f2ff,stroke:#000,stroke-width:2px;
    classDef factor-moderate fill:#b3d9ff,stroke:#000,stroke-width:2px;
    classDef factor-high fill:#80bfff,stroke:#000,stroke-width:2px;
    classDef aspect-spositive fill:#e5ffe5,stroke:#000,stroke-width:2px;
    classDef aspect-positive fill:#b3ffb3,stroke:#000,stroke-width:2px;
    classDef aspect-snegative fill:#ffe5e5,stroke:#000,stroke-width:2px;
    classDef aspect-negative fill:#ffb3b3,stroke:#000,stroke-width:2px;
    `}function eS(e,t){let n="";typeof e.result=="string"?n=e.result:typeof e.result=="number"&&(n=e.result.toString());let i=e.backwardImpacts.filter(r=>t.keys().toArray().includes(r.impactingFactorKey)).map(r=>r.weight);return i.length>0&&i.every(r=>r==="n/a")?n="n/a":i.length>0&&i.every(r=>r==="n/a"||r==="neutral")&&(n="neutral"),`
	${e.id}[${e.name}
	<span class="evaluation-result">${n}</span>]`}function _2(e,t){let n="";if(typeof e.result=="string")switch(e.result){case"none":n="factor-applicable";break;case"low":n="factor-low";break;case"moderate":n="factor-moderate";break;case"high":n="factor-high";break;case"n/a":default:n="factor-not-applicable";break}else typeof e.result=="number"&&(n="factor-applicable");let i=e.backwardImpacts.filter(r=>t.keys().toArray().includes(r.impactingFactorKey)).map(r=>r.weight);return i.length>0&&i.every(r=>r==="n/a")?n="factor-not-applicable":i.length>0&&i.every(r=>r==="n/a"||r==="neutral")&&(n="factor-applicable"),`
	class ${e.id} ${n}`}function YL(e,t){let n="";if(typeof e.result=="string")switch(e.result){case"neutral":case"mixed":n="factor-applicable";break;case"slightly negative":n="aspect-snegative";break;case"negative":n="aspect-negative";break;case"slightly positive":n="aspect-spositive";break;case"positive":n="aspect-positive";break;case"n/a":default:n="factor-not-applicable";break}else typeof e.result=="number"&&(n="factor-applicable");let i=e.backwardImpacts.filter(r=>t.keys().toArray().includes(r.impactingFactorKey)).map(r=>r.weight);return i.length>0&&i.every(r=>r==="n/a")?n="factor-not-applicable":i.length>0&&i.every(r=>r==="n/a"||r==="neutral")&&(n="factor-applicable"),`
	class ${e.id} ${n}`}function XL(e,t,n,i){let r="";switch(t){case"neutral":r="o";break;case"positive":r="++";break;case"slightly positive":r="+";break;case"negative":r="--";break;case"slightly negative":r="-";break;case"n/a":default:n==="positive"?r="+":n==="negative"?r="-":r=n;break}return`
	${e}-->|${r}|${i}`}function JL(e,t){let n="#000",i="2px";switch(t){case"neutral":n="#000";break;case"positive":n="#33cc33",i="3px";break;case"slightly positive":n="#33cc33";break;case"negative":n="#ff5050",i="3px";break;case"slightly negative":n="#ff5050";break;case"n/a":default:n="#d9d9d9";break}return`
	linkStyle ${e} stroke-width:${i},fill:none,stroke:${n},color:#000`}function tS(e){return typeof e=="number"?e.toFixed(3):e}const $Ce=["innerHTML"],qCe=wa({__name:"ForwardImpactVisualization",props:{rootFactors:{}},setup(e){zc(()=>{Rs.initialize({startOnLoad:!0})});const t=e,n=`${t.rootFactors.map(o=>o.id).join("-")}-impact-graph`,i=new Map;function r(){let o="graph LR",s=new jL;s.addStyling(KL());let l=t.rootFactors;for(const c of l)i.set(c.id,c),s.addElement(c.id,eS(c,i)),c.factorType==="productFactor"&&s.addStyling(_2(c,i));for(const c of l)a(c,s);o=o.concat(s.getElementSection,`
`,s.getStylingSection),Rs.render(`${n}-svg`,o).then(c=>{let h=Ml(`#${n}`)[0];h.innerHTML=c.svg})}function a(o,s){for(const l of o.forwardImpacts){s.isNotYetAdded(l.impactedFactorKey)&&(i.set(l.impactedFactorKey,l.impactedFactor),s.addElement(l.impactedFactorKey,eS(l.impactedFactor,i)),l.impactedFactor.factorType==="productFactor"?s.addStyling(_2(l.impactedFactor,i)):l.impactedFactor.factorType==="qualityAspect"&&s.addStyling(YL(l.impactedFactor,i)));let c=`${o.id}-impacts-${l.impactedFactorKey}`;s.isNotYetAdded(c)&&(s.addElement(c,XL(o.id,l.weight,l.impactType,l.impactedFactorKey)),s.addStyling(JL(s.getLinkCounter,l.weight)),s.incrementLinkCounter()),l.impactedFactor&&l.impactedFactor.factorType==="productFactor"&&a(l.impactedFactor,s)}}return(o,s)=>(ze(),He("div",{id:n,innerHTML:r()},null,8,$Ce))}}),UCe={class:"factorGroup d-flex flex-column"},HCe={class:"accordion"},VCe={class:"card"},GCe={class:"card-header"},WCe=["data-bs-target","aria-controls"],jCe=["id"],KCe={class:"card-body d-flex flex-column factorDetails"},YCe={class:"font-weight-bold"},XCe={class:"font-italic"},JCe={key:0},QCe={class:"font-weight-bold"},ZCe={key:1},ewe={class:"font-weight-bold"},twe=wa({__name:"ProductFactorViewpoint",props:{evaluatedProductFactors:{},showInconclusiveEvaluations:{type:Boolean}},setup(e){const t=e,n=Li(()=>i());function i(){let a=[];e:for(const[o,s]of t.evaluatedProductFactors.entries()){let l=r(s);for(const c of a)if(Array.from(c.impactedFactorKeys).some(h=>l.includes(h))){c.rootFactorKeys.add(o),c.factors.push(s),l.forEach(h=>c.impactedFactorKeys.add(h));continue e}a.push({rootFactorKeys:new Set([o]),impactedFactorKeys:new Set(l),factors:[s]})}return a.filter(o=>!(!t.showInconclusiveEvaluations&&o.factors.every(s=>s.result==="n/a"))).map(o=>o.factors)}function r(a,o){let s=[];for(const l of a.forwardImpacts)s.push(l.impactedFactorKey);return s}return(a,o)=>(ze(!0),He(Jt,null,An(n.value,s=>(ze(),He("div",UCe,[_i(qCe,{rootFactors:s},null,8,["rootFactors"]),X("div",HCe,[(ze(!0),He(Jt,null,An(s,l=>(ze(),He("div",VCe,[X("h3",GCe,[X("button",{class:"btn btn-link btn-block text-left",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${l.id}-details`,"aria-expanded":"true","aria-controls":`${l.id}-details`}," Details for "+kt(l.name),9,WCe)]),X("div",{id:`${l.id}-details`,class:"collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},[X("div",KCe,[X("div",null,[X("span",YCe,kt(l.name),1),o[0]||(o[0]=yi()),o[1]||(o[1]=X("span",null,"evaluation result",-1)),o[2]||(o[2]=yi(": ")),X("span",null,kt(l.result),1)]),X("div",null,[X("span",XCe,kt(l.evaluationReasoning),1)]),X("div",null,[l.measuresForEvaluation.size>0?(ze(),He("span",JCe,"Measures used for evaluation:")):vn("",!0),X("ul",null,[(ze(!0),He(Jt,null,An(l.measuresForEvaluation,([c,h])=>(ze(),He("li",null,[X("span",null,kt(h.name),1),o[3]||(o[3]=yi(": ")),X("span",QCe,kt(ci(tS)(h.value)),1),X("span",null," ("+kt(h.description)+")",1)]))),256))]),l.otherMeasures.size>0?(ze(),He("span",ZCe,"Other relevant measures:")):vn("",!0),X("ul",null,[(ze(!0),He(Jt,null,An(l.otherMeasures,([c,h])=>(ze(),He("li",null,[X("span",null,kt(h.name),1),o[4]||(o[4]=yi(": ")),X("span",ewe,kt(ci(tS)(h.value)),1),X("span",null," ("+kt(h.description)+")",1)]))),256))])])])],8,jCe)]))),256))])]))),256))}}),nwe={class:"aspectGroup"},iwe=["id","innerHTML"],rwe={class:"accordion"},awe={class:"card"},owe={class:"card-header"},swe=["data-bs-target","aria-controls"],lwe=["id"],cwe={class:"card-body d-flex flex-column factorDetails"},uwe={class:"font-weight-bold"},dwe={class:"font-italic"},hwe={key:0},fwe={class:"font-weight-bold"},pwe={key:1},gwe={class:"font-weight-bold"},mwe=wa({__name:"QualityAspectViewpoint",props:{evaluatedQualityAspects:{},showInconclusiveEvaluations:{type:Boolean}},setup(e){const t=e,n=Li(()=>new Map([...t.evaluatedQualityAspects.entries()].filter(([s,l])=>!(!t.showInconclusiveEvaluations&&a(l).every(c=>c.result==="n/a")))));function i(s,l){let c="graph BT",h=new jL;h.addStyling(KL());let d=new Map;a(l).forEach(p=>d.set(p.id,p)),h.addElement(l.id,eS(l,d)),l.factorType==="qualityAspect"&&h.addStyling(YL(l,d)),r(l,h),c=c.concat(h.getElementSection,`
`,h.getStylingSection),Rs.render(`${s}-svg`,c).then(p=>{let y=Ml(`#${s}`)[0];y.innerHTML=p.svg})}function r(s,l){for(const c of s.backwardImpacts){let h=new Map;a(c.impactingFactor).forEach(p=>h.set(p.id,p)),l.isNotYetAdded(c.impactingFactorKey)&&(l.addElement(c.impactingFactorKey,eS(c.impactingFactor,h)),c.impactingFactor.factorType==="productFactor"&&l.addStyling(_2(c.impactingFactor,h)));let d=`${c.impactingFactor.id}-impacts-${s.id}`;l.isNotYetAdded(d)&&(l.addElement(d,XL(c.impactingFactorKey,c.weight,c.impactType,s.id)),l.addStyling(JL(l.getLinkCounter,c.weight)),l.incrementLinkCounter()),r(c.impactingFactor,l)}}function a(s){let l=[];return o(s,l),l}function o(s,l){for(const c of s.backwardImpacts)l.push(c.impactingFactor),o(c.impactingFactor,l)}return(s,l)=>(ze(!0),He(Jt,null,An(n.value,([c,h])=>(ze(),He("div",nwe,[X("div",{id:`${c}-impacts`,innerHTML:i(`${c}-impacts`,h)},null,8,iwe),X("div",rwe,[(ze(!0),He(Jt,null,An(a(h),d=>(ze(),He("div",awe,[X("h3",owe,[X("button",{class:"btn btn-link btn-block text-left",type:"button","data-bs-toggle":"collapse","data-bs-target":`#${d.id}-details`,"aria-expanded":"true","aria-controls":`${d.id}-details`}," Details for "+kt(d.name),9,swe)]),X("div",{id:`${d.id}-details`,class:"collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},[X("div",cwe,[X("div",null,[X("span",uwe,kt(d.name),1),l[0]||(l[0]=yi()),l[1]||(l[1]=X("span",null,"evaluation result",-1)),l[2]||(l[2]=yi(": ")),X("span",null,kt(d.result),1)]),X("div",null,[X("span",dwe,kt(d.evaluationReasoning),1)]),X("div",null,[d.measuresForEvaluation.size>0?(ze(),He("span",hwe,"Measures used for evaluation:")):vn("",!0),X("ul",null,[(ze(!0),He(Jt,null,An(d.measuresForEvaluation,([p,y])=>(ze(),He("li",null,[X("span",null,kt(y.name),1),l[3]||(l[3]=yi(": ")),X("span",fwe,kt(ci(tS)(y.value)),1),X("span",null," ("+kt(y.description)+")",1)]))),256))]),d.otherMeasures.size>0?(ze(),He("span",pwe,"Other relevant measures:")):vn("",!0),X("ul",null,[(ze(!0),He(Jt,null,An(d.otherMeasures,([p,y])=>(ze(),He("li",null,[X("span",null,kt(y.name),1),l[4]||(l[4]=yi(": ")),X("span",gwe,kt(ci(tS)(y.value)),1),X("span",null," ("+kt(y.description)+")",1)]))),256))])])])],8,lwe)]))),256))])]))),256))}});class ywe{constructor(){pr(this,"calculatedMeasures");pr(this,"evaluatedProductFactors");pr(this,"evaluatedQualityAspects");this.calculatedMeasures=new Map,this.evaluatedProductFactors=new Map,this.evaluatedQualityAspects=new Map}}var n0,Ra,Ys,o1,s1;class iE{constructor(t,n,i,r){Fe(this,n0);Fe(this,Ra);Fe(this,Ys);Fe(this,o1);Fe(this,s1);De(this,n0,r),De(this,Ra,new ywe),De(this,Ys,t),De(this,o1,n),De(this,s1,i)}getCalculatedMeasures(){return k(this,Ra).calculatedMeasures}getEvaluatedProductFactors(){return k(this,Ra).evaluatedProductFactors}getEvaluatedQualityAspects(){return k(this,Ra).evaluatedQualityAspects}evaluate(t,n){let i=k(this,n0).productFactors.slice(0).filter(s=>n.includes(s.getId)),r=k(this,n0).qualityAspects.slice(0).filter(s=>t.includes(s.getId)),a=i.map(s=>s.getId),o=r.map(s=>s.getId);e:for(;i.length>0;){let s=i[0];for(const d of s.getImpactingFactors())if(!k(this,Ra).evaluatedProductFactors.has(d.getId)&&a.includes(d.getId)){i.push(i.splice(0,1)[0]);continue e}let l=new Map,c=new Map;s.getMeasuresFor(k(this,Ys)).forEach(d=>{if(k(this,Ra).calculatedMeasures.has(d.getId)){let p=s.getEvaluation(k(this,Ys));p&&p.getEvaluationDetails.getUsedMeasures.map(y=>y.getId).includes(d.getId)?l.set(d.getId,k(this,Ra).calculatedMeasures.get(d.getId)):c.set(d.getId,k(this,Ra).calculatedMeasures.get(d.getId));return}if(d.isCalculationAvailable()){let p={name:d.getName,entity:k(this,Ys),value:d.calculate({entity:k(this,o1),system:k(this,s1)}),description:d.getCalculationDescription},y=s.getEvaluation(k(this,Ys));y&&y.getEvaluationDetails.getUsedMeasures.map(S=>S.getId).includes(d.getId)?l.set(d.getId,p):c.set(d.getId,p),k(this,Ra).calculatedMeasures.set(d.getId,p)}});let h={id:s.getId,name:s.getName,factorType:"productFactor",productFactor:s,result:s.isEvaluationAvailable(k(this,Ys))?s.evaluate(k(this,Ys),this):"n/a",evaluationReasoning:s.isEvaluationAvailable(k(this,Ys))?s.getEvaluation(k(this,Ys)).getEvaluationDetails.getReasoning:"",measuresForEvaluation:l,otherMeasures:c,forwardImpacts:[],backwardImpacts:[]};for(const d of s.getOutgoingImpacts)(a.includes(d.getImpactedFactor.getId)||o.includes(d.getImpactedFactor.getId))&&h.forwardImpacts.push({impactedFactorKey:d.getImpactedFactor.getId,impactedFactorName:d.getImpactedFactor.getName,impactType:d.getImpactType,weight:fse(h.result,d.getImpactType)});for(const d of s.getIncomingImpacts)if(a.includes(d.getSourceFactor.getId)){let p=k(this,Ra).evaluatedProductFactors.get(d.getSourceFactor.getId),y=p.forwardImpacts.find(S=>S.impactedFactorKey===s.getId);y.impactedFactor=h,h.backwardImpacts.push({impactingFactorKey:p.id,impactingFactorName:p.name,impactType:d.getImpactType,weight:y.weight,impactingFactor:p})}k(this,Ra).evaluatedProductFactors.set(s.getId,h),i.splice(0,1)}for(const s of r){let l={id:s.getId,name:s.getName,factorType:"qualityAspect",qualityAspect:s,result:s.isEvaluationAvailable()?s.evaluate(this):"n/a",backwardImpacts:[]};for(const c of s.getIncomingImpacts)if(a.includes(c.getSourceFactor.getId)){let h=k(this,Ra).evaluatedProductFactors.get(c.getSourceFactor.getId);l.backwardImpacts.push({impactingFactorKey:h.id,impactingFactorName:h.name,impactType:c.getImpactType,weight:h.forwardImpacts.find(d=>d.impactedFactorKey===l.id).weight,impactingFactor:h}),k(this,Ra).evaluatedProductFactors.get(c.getSourceFactor.getId).forwardImpacts.find(d=>d.impactedFactorKey===l.id).impactedFactor=l}k(this,Ra).evaluatedQualityAspects.set(l.id,l)}}}n0=new WeakMap,Ra=new WeakMap,Ys=new WeakMap,o1=new WeakMap,s1=new WeakMap;var iS,rS,i0,Ud,Hd,Vd;class vwe{constructor(t,n){Fe(this,iS);Fe(this,rS);Fe(this,i0);Fe(this,Ud);Fe(this,Hd);Fe(this,Vd);De(this,iS,n),De(this,rS,t),De(this,i0,new iE(v.SYSTEM,t,t,n)),De(this,Ud,new Map),[...t.getComponentEntities.entries()].forEach(([i,r])=>{k(this,Ud).set(i,new iE(v.COMPONENT,r,t,n))}),De(this,Hd,new Map),[...t.getInfrastructureEntities.entries()].forEach(([i,r])=>{k(this,Hd).set(i,new iE(v.INFRASTRUCTURE,r,t,n))}),De(this,Vd,new Map),[...t.getRequestTraceEntities.entries()].forEach(([i,r])=>{k(this,Vd).set(i,new iE(v.REQUEST_TRACE,r,t,n))}),this.getEvaluatedSystemModel=this.getEvaluatedSystemModel.bind(this),this.getAvailableComponents=this.getAvailableComponents.bind(this),this.getEvaluatedComponentModel=this.getEvaluatedComponentModel.bind(this),this.getAvailableInfrastructureEntities=this.getAvailableInfrastructureEntities.bind(this),this.getEvaluatedInfrastructureModel=this.getEvaluatedInfrastructureModel.bind(this),this.getAvailableRequestTraces=this.getAvailableRequestTraces.bind(this),this.getEvaluatedRequestTraceModel=this.getEvaluatedRequestTraceModel.bind(this)}getEvaluatedSystemModel(t,n){return k(this,i0).evaluate(t,n),k(this,i0)}getAvailableComponents(){return[...k(this,Ud).keys()]}getEvaluatedComponentModel(t,n,i){return k(this,Ud).get(t).evaluate(n,i),k(this,Ud).get(t)}getAvailableInfrastructureEntities(){return[...k(this,Hd).keys()]}getEvaluatedInfrastructureModel(t,n,i){return k(this,Hd).get(t).evaluate(n,i),k(this,Hd).get(t)}getAvailableRequestTraces(){return[...k(this,Vd).keys()]}getEvaluatedRequestTraceModel(t,n,i){return k(this,Vd).get(t).evaluate(n,i),k(this,Vd).get(t)}}iS=new WeakMap,rS=new WeakMap,i0=new WeakMap,Ud=new WeakMap,Hd=new WeakMap,Vd=new WeakMap;const bwe={class:"full-width"},Ewe={class:"d-flex flex-column p-1 evaluation-background"},xwe={class:"d-flex flex-row selection-bar"},Swe={class:"m-1 evaluation-tool"},_we={class:"m-1 evaluation-tool"},Cwe=["value"],wwe={class:"m-1 evaluation-tool"},Twe={class:"m-1 evaluation-tool"},Awe=["disabled"],kwe={class:"m-1 evaluation-tool"},Iwe=["disabled"],Owe={key:0,class:"d-flex flex-row selection-bar"},Pwe={class:"m-1 evaluation-tool"},Mwe=["value"],Nwe={class:"m-1 evaluation-tool"},Rwe=["value"],Dwe={class:"m-1 evaluation-tool"},Bwe=["value"],Lwe={key:1},Fwe={key:0},zwe={key:1},$we=wa({__name:"EvaluationApp",props:{systemsData:{},evaluatedSystemId:{},evaluatedEntityId:{},evaluationConfig:{}},emits:["update:evaluatedSystem","update:evaluatedEntity","update:evaluationConfig"],setup(e,{emit:t}){const n=e,i=t,r=CD(),a=ln(wD(r)),o=ln(TD(r)),s=ln(-1),l=ln("perProductFactor"),c=ln(!1);function h(){i("update:evaluationConfig",{highLevelAspectFilter:a.value,factorCategoryFilter:o.value,selectedViewpoint:l.value,showInconclusive:c.value})}const d={id:"none",name:""},p=ln({components:[d],infrastructures:[d],requestTraces:[d]}),y=ln("none"),S=ln("none"),_=ln("none"),I=ln(null),M=ln(new Map),B=ln(new Map),U=ln(new Map),K=Li(()=>{let J="";return y.value&&y.value!=="none"?J=` of component: ${p.value.components.find(G=>G.id===y.value).name} in system ${n.systemsData.find(G=>G.id===s.value).name}`:S.value&&S.value!=="none"?J=` of infrastructure: ${p.value.infrastructures.find(G=>G.id===S.value).name} in system ${n.systemsData.find(G=>G.id===s.value).name}`:_.value&&_.value!=="none"?J=` of request trace: ${p.value.requestTraces.find(G=>G.id===_.value).name} in system ${n.systemsData.find(G=>G.id===s.value).name}`:s.value&&n.systemsData.find(G=>G.id===s.value)&&(J=" of system: ".concat(n.systemsData.find(G=>G.id===s.value).name)),J});zc(()=>{n.evaluationConfig&&(n.evaluationConfig.highLevelAspectFilter&&(a.value=n.evaluationConfig.highLevelAspectFilter),n.evaluationConfig.factorCategoryFilter&&(o.value=n.evaluationConfig.factorCategoryFilter),n.evaluationConfig.selectedViewpoint&&(l.value=n.evaluationConfig.selectedViewpoint),n.evaluationConfig.showInconclusive&&(c.value=n.evaluationConfig.showInconclusive)),n.evaluatedSystemId&&n.systemsData.find(J=>J.id===n.evaluatedSystemId)&&(s.value=n.evaluatedSystemId,Q(),n.evaluatedEntityId&&(p.value.components.find(J=>J.id===n.evaluatedEntityId)&&(y.value=n.evaluatedEntityId,H("component")),p.value.infrastructures.find(J=>J.id===n.evaluatedEntityId)&&(S.value=n.evaluatedEntityId,H("infrastructure")),p.value.requestTraces.find(J=>J.id===n.evaluatedEntityId)&&(_.value=n.evaluatedEntityId,H("requestTrace"))))}),gS(()=>{n.systemsData.find(J=>J.id===s.value)||(s.value=-1,g())});function Q(){let J=n.systemsData.find(Ie=>Ie.id===s.value);if(!J){s.value=-1,g(),T();return}i("update:evaluatedSystem",s.value),T();let le=(J.entityManager?Si(J.entityManager):de(J)).getSystemEntity();le.getComponentEntities.entries().forEach(([Ie,it])=>{p.value.components.push({id:Ie,name:it.getName})}),le.getInfrastructureEntities.entries().forEach(([Ie,it])=>{p.value.infrastructures.push({id:Ie,name:it.getName})}),le.getRequestTraceEntities.entries().forEach(([Ie,it])=>{p.value.requestTraces.push({id:Ie,name:it.getName})}),A()}function H(J){switch(J){case"component":S.value="none",_.value="none",i("update:evaluatedEntity",y.value);break;case"infrastructure":y.value="none",_.value="none",i("update:evaluatedEntity",S.value);break;case"requestTrace":y.value="none",S.value="none",i("update:evaluatedEntity",_.value);break}A()}function g(){M.value.clear(),B.value.clear(),U.value.clear()}function T(){y.value="none",p.value.components=[d],S.value="none",p.value.infrastructures=[d],_.value="none",p.value.requestTraces=[d]}function A(){g();let J=n.systemsData.find(Ie=>Ie.id===s.value);if(!J){s.value=-1,i("update:evaluatedSystem",s.value),g();return}let le=(J.entityManager?Si(J.entityManager):de(J)).getSystemEntity();I.value=new vwe(le,r),y.value&&y.value!=="none"?Z(y.value):S.value&&S.value!=="none"?ie(S.value):_.value&&_.value!=="none"?se(_.value):D()}function D(){console.time("evaluation");let J=Yh(Xa(a.value),Xa(o.value),r),G=I.value.getEvaluatedSystemModel(J.activeQualityAspects,J.activeProductFactors);ue(G),console.timeEnd("evaluation")}function Z(J){console.time("evaluation");let G=Yh(Xa(a.value),Xa(o.value),r),le=I.value.getEvaluatedComponentModel(J,G.activeQualityAspects,G.activeProductFactors);ue(le),console.timeEnd("evaluation")}function ie(J){console.time("evaluation");let G=Yh(Xa(a.value),Xa(o.value),r),le=I.value.getEvaluatedInfrastructureModel(J,G.activeQualityAspects,G.activeProductFactors);ue(le),console.timeEnd("evaluation")}function se(J){console.time("evaluation");let G=Yh(Xa(a.value),Xa(o.value),r),le=I.value.getEvaluatedRequestTraceModel(J,G.activeQualityAspects,G.activeProductFactors);ue(le),console.timeEnd("evaluation")}function ue(J){J.getCalculatedMeasures().forEach((G,le,Ie)=>{M.value.set(le,G)}),J.getEvaluatedProductFactors().forEach((G,le,Ie)=>{B.value.set(le,G)}),J.getEvaluatedQualityAspects().forEach((G,le,Ie)=>{U.value.set(le,G)})}function de(J){let G=new UT(new Gf({},{cellNamespace:w1}),"0");return G.loadFromJson(J.toImport.fileContent,J.toImport.fileName,"replace"),G}function F(){let J=n.systemsData.find(Ge=>Ge.id===s.value),G=(J.entityManager?Si(J.entityManager):de(J)).getSystemEntity(),le=J.name,Ie='"measureKey";"measureName";"systemName";"entityName";"entityType";"entityId";"value"',it=[...M.value.entries()].map(([Ge,Ze])=>`"${Ge}";"${Ze.name}";"${le}";"${le}";"${Ze.entity}";"${s.value}";"${Ze.value}"`),Je=Yh(Xa(a.value),Xa(o.value),r);I.value.getAvailableComponents().forEach(Ge=>{let Ze=G.getComponentEntities.get(Ge).getName,Ae=[...I.value.getEvaluatedComponentModel(Ge,Je.activeQualityAspects,Je.activeProductFactors).getCalculatedMeasures().entries()].map(([Ue,Xe])=>`"${Ue}";"${Xe.name}";"${le}";"${Ze}";"${Xe.entity}";"${Ge}";"${Xe.value}"`);it=it.concat(Ae)}),I.value.getAvailableInfrastructureEntities().forEach(Ge=>{let Ze=G.getInfrastructureEntities.get(Ge).getName,Ae=[...I.value.getEvaluatedInfrastructureModel(Ge,Je.activeQualityAspects,Je.activeProductFactors).getCalculatedMeasures().entries()].map(([Ue,Xe])=>`"${Ue}";"${Xe.name}";"${le}";"${Ze}";"${Xe.entity}";"${Ge}";"${Xe.value}"`);it=it.concat(Ae)}),I.value.getAvailableRequestTraces().forEach(Ge=>{let Ze=G.getRequestTraceEntities.get(Ge).getName,Ae=[...I.value.getEvaluatedRequestTraceModel(Ge,Je.activeQualityAspects,Je.activeProductFactors).getCalculatedMeasures().entries()].map(([Ue,Xe])=>`"${Ue}";"${Xe.name}";"${le}";"${Ze}";"${Xe.entity}";"${Ge}";"${Xe.value}"`);it=it.concat(Ae)}),Ym(Ie.concat(`
`).concat(it.join(`
`)),"text/csv",`${le}-measures.csv`)}function $(J){return typeof J=="number"&&!isNaN(J)?J.toFixed(3):J}function W(){let J=n.systemsData.find(te=>te.id===s.value),G=(J.entityManager?Si(J.entityManager):de(J)).getSystemEntity(),le=J.name,Ie=Yh(Xa(a.value),Xa(o.value),r),it=["entity","hierarchy","type","key","name",le],Je=0;const Ge=new Map;I.value.getAvailableComponents().forEach(te=>{it.push(G.getComponentEntities.get(te).getName),Ge.set(te,Je),Je++}),I.value.getAvailableInfrastructureEntities().forEach(te=>{it.push(G.getInfrastructureEntities.get(te).getName),Ge.set(te,Je),Je++}),I.value.getAvailableRequestTraces().forEach(te=>{it.push(G.getRequestTraceEntities.get(te).getName),Ge.set(te,Je),Je++});let Ze=[];const Te=new Array(Ge.size).fill("n/a");I.value.getEvaluatedSystemModel(Ie.activeQualityAspects,Ie.activeProductFactors).getEvaluatedQualityAspects().forEach(te=>{let ce=`system;${te.id};${te.factorType};${te.id};${te.name};${te.result};${Te.join(";")}`;Ze.push(ce);let fe=te.backwardImpacts;for(;fe.length>0;){let we=fe.shift().impactingFactor,re=`system;${te.id};${we.factorType};${we.id};${we.name};${$(we.result)};${Te.join(";")}`;Ze.push(re),we.measuresForEvaluation.entries().forEach(([ve,We])=>{let tt=`system;${te.id};measure;${ve};${We.name};${$(We.value)};${Te.join(";")}`;Ze.push(tt)});let Ee=we.backwardImpacts;fe.unshift(...Ee)}});const Ue=new Map;I.value.getAvailableComponents().forEach(te=>{I.value.getEvaluatedComponentModel(te,Ie.activeQualityAspects,Ie.activeProductFactors).getEvaluatedQualityAspects().forEach(fe=>{Ue.has(fe.id)||Ue.set(fe.id,{commons:`component;${fe.id};${fe.factorType};${fe.id};${fe.name};n/a;`,otherColumns:[...Te]}),Ue.get(fe.id).otherColumns[Ge.get(te)]=fe.result;let Be=fe.backwardImpacts;for(;Be.length>0;){let re=Be.shift().impactingFactor;Ue.has(re.id)||Ue.set(re.id,{commons:`component;${fe.id};${re.factorType};${re.id};${re.name};n/a;`,otherColumns:[...Te]}),Ue.get(re.id).otherColumns[Ge.get(te)]=$(re.result),re.measuresForEvaluation.entries().forEach(([ve,We])=>{Ue.has(ve)||Ue.set(ve,{commons:`component;${fe.id};measure;${ve};${We.name};n/a;`,otherColumns:[...Te]}),Ue.get(ve).otherColumns[Ge.get(te)]=$(We.value)});let Ee=re.backwardImpacts;Be.unshift(...Ee)}})}),Ue.entries().forEach(([te,ce])=>{Ze.push(`${ce.commons}${ce.otherColumns.join(";")}`)});const Xe=new Map;I.value.getAvailableInfrastructureEntities().forEach(te=>{I.value.getEvaluatedInfrastructureModel(te,Ie.activeQualityAspects,Ie.activeProductFactors).getEvaluatedQualityAspects().forEach(fe=>{Xe.has(fe.id)||Xe.set(fe.id,{commons:`infrastructure;${fe.id};${fe.factorType};${fe.id};${fe.name};n/a;`,otherColumns:[...Te]}),Xe.get(fe.id).otherColumns[Ge.get(te)]=fe.result;let Be=fe.backwardImpacts;for(;Be.length>0;){let re=Be.shift().impactingFactor;Xe.has(re.id)||Xe.set(re.id,{commons:`infrastructure;${fe.id};${re.factorType};${re.id};${re.name};n/a;`,otherColumns:[...Te]}),Xe.get(re.id).otherColumns[Ge.get(te)]=$(re.result),re.measuresForEvaluation.entries().forEach(([ve,We])=>{Xe.has(ve)||Xe.set(ve,{commons:`infrastructure;${fe.id};measure;${ve};${We.name};n/a;`,otherColumns:[...Te]}),Xe.get(ve).otherColumns[Ge.get(te)]=$(We.value)});let Ee=re.backwardImpacts;Be.unshift(...Ee)}})}),Xe.entries().forEach(([te,ce])=>{Ze.push(`${ce.commons}${ce.otherColumns.join(";")}`)});const dt=new Map;I.value.getAvailableRequestTraces().forEach(te=>{I.value.getEvaluatedRequestTraceModel(te,Ie.activeQualityAspects,Ie.activeProductFactors).getEvaluatedQualityAspects().forEach(fe=>{dt.has(fe.id)||dt.set(fe.id,{commons:`requestTrace;${fe.id};${fe.factorType};${fe.id};${fe.name};n/a;`,otherColumns:[...Te]}),dt.get(fe.id).otherColumns[Ge.get(te)]=fe.result;let Be=fe.backwardImpacts;for(;Be.length>0;){let re=Be.shift().impactingFactor;dt.has(re.id)||dt.set(re.id,{commons:`requestTrace;${fe.id};${re.factorType};${re.id};${re.name};n/a;`,otherColumns:[...Te]}),dt.get(re.id).otherColumns[Ge.get(te)]=$(re.result),re.measuresForEvaluation.entries().forEach(([ve,We])=>{dt.has(ve)||dt.set(ve,{commons:`requestTrace;${fe.id};measure;${ve};${We.name};n/a;`,otherColumns:[...Te]}),dt.get(ve).otherColumns[Ge.get(te)]=$(We.value)});let Ee=re.backwardImpacts;Be.unshift(...Ee)}})}),dt.entries().forEach(([te,ce])=>{Ze.push(`${ce.commons}${ce.otherColumns.join(";")}`)}),Ym(it.join(";").concat(`
`).concat(Ze.join(`
`)),"text/csv",`${le}-evaluation.csv`)}return(J,G)=>(ze(),He("div",bwe,[X("div",Ewe,[X("h2",null,"Evaluation "+kt(K.value),1),_i(AD,{highLevelAspectFilter:a.value,factorCategoryFilter:o.value,"onUpdate:filters":G[0]||(G[0]=le=>{h(),A()})},null,8,["highLevelAspectFilter","factorCategoryFilter"]),X("div",xwe,[X("div",Swe,[G[11]||(G[11]=X("span",null,"Select the evaluation viewpoint: ",-1)),Rn(X("select",{"onUpdate:modelValue":G[1]||(G[1]=le=>l.value=le),onChange:h},G[10]||(G[10]=[X("option",{value:"perQualityAspect"},"per Quality Aspect",-1),X("option",{value:"perProductFactor"},"per Product Factor",-1)]),544),[[wu,l.value]])]),X("div",_we,[G[13]||(G[13]=X("span",null,"Select the modeled system to evaluate: ",-1)),Rn(X("select",{onChange:Q,"onUpdate:modelValue":G[2]||(G[2]=le=>s.value=le)},[G[12]||(G[12]=X("option",{value:"-1"},"Select a system...",-1)),(ze(!0),He(Jt,null,An(J.systemsData,le=>(ze(),He("option",{value:le.id},kt(le.name),9,Cwe))),256))],544),[[wu,s.value]])]),X("div",wwe,[G[14]||(G[14]=X("span",null,"Show inconclusive evaluations? ",-1)),Rn(X("input",{type:"checkbox","onUpdate:modelValue":G[3]||(G[3]=le=>c.value=le),onChange:h},null,544),[[Gd,c.value]])]),X("div",Twe,[X("button",{class:"btn btn-secondary selection-bar-button",disabled:s.value===-1,onClick:F},"Export measures as CSV",8,Awe)]),X("div",kwe,[X("button",{class:"btn btn-secondary selection-bar-button",disabled:s.value===-1,onClick:W},"Export evaluation as CSV",8,Iwe)])]),s.value>-1?(ze(),He("div",Owe,[X("div",Pwe,[G[15]||(G[15]=X("span",null,"Select a component to evaluate: ",-1)),Rn(X("select",{onChange:G[4]||(G[4]=le=>H("component")),"onUpdate:modelValue":G[5]||(G[5]=le=>y.value=le)},[(ze(!0),He(Jt,null,An(p.value.components,le=>(ze(),He("option",{value:le.id},kt(le.name),9,Mwe))),256))],544),[[wu,y.value]])]),X("div",Nwe,[G[16]||(G[16]=X("span",null,"Select an infrastructure to evaluate: ",-1)),Rn(X("select",{onChange:G[6]||(G[6]=le=>H("infrastructure")),"onUpdate:modelValue":G[7]||(G[7]=le=>S.value=le)},[(ze(!0),He(Jt,null,An(p.value.infrastructures,le=>(ze(),He("option",{value:le.id},kt(le.name),9,Rwe))),256))],544),[[wu,S.value]])]),X("div",Dwe,[G[17]||(G[17]=X("span",null,"Select a request trace to evaluate: ",-1)),Rn(X("select",{onChange:G[8]||(G[8]=le=>H("requestTrace")),"onUpdate:modelValue":G[9]||(G[9]=le=>_.value=le)},[(ze(!0),He(Jt,null,An(p.value.requestTraces,le=>(ze(),He("option",{value:le.id},kt(le.name),9,Bwe))),256))],544),[[wu,_.value]])])])):vn("",!0),s.value>-1?(ze(),He("div",Lwe,[l.value==="perProductFactor"?(ze(),He("div",Fwe,[_i(twe,{evaluatedProductFactors:B.value,showInconclusiveEvaluations:c.value},null,8,["evaluatedProductFactors","showInconclusiveEvaluations"])])):vn("",!0),l.value==="perQualityAspect"?(ze(),He("div",zwe,[_i(mwe,{evaluatedQualityAspects:U.value,showInconclusiveEvaluations:c.value},null,8,["evaluatedQualityAspects","showInconclusiveEvaluations"])])):vn("",!0)])):vn("",!0)])]))}}),qwe={class:"navbar navbar-expand-lg navbar-dark bg-dark text-white"},Uwe={class:"navbar-header"},Hwe={class:"navbar-brand text-muted no-line-space"},Vwe={class:"versionInfo"},Gwe={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Wwe={class:"navbar-nav mr-auto"},jwe={class:"nav-link d-flex flex-row"},Kwe=["onClick"],Ywe={class:"nav-item"},Xwe={class:"navbar-nav ml-auto"},Jwe={class:"nav-item"},Qwe={role:"main",ref:"mainSection",class:"flex-grow-1 mainElement"},Zwe={id:"init-overlay",class:"init-overlay"},eTe={class:"init-overlay-content"},tTe={id:"init-firstInformation"},nTe={class:"d-flex flex-row justify-content-around"},iTe={id:"startModelingForm"},rTe={class:"needs-validation",novalidate:""},aTe={class:"form-row"},oTe={class:"input-group has-validation"},sTe={id:"startModelingForm"},lTe={class:"pagesContainer"},Wp="Clounaq",cTe=wa({__name:"App",setup(e){const t="0.5.0",n=QP(),i=ln([{id:1,path:"/",active:!1,pageType:"home",iconClass:"fa fa-fw fa-home",name:"Home"},{id:2,path:"/quality-model",active:!1,pageType:"qualityModel",iconClass:"fa-solid fa-sitemap",name:"Quality Model"},{id:3,path:"/evaluation",active:!1,pageType:"evaluation",iconClass:"fa-solid fa-gauge-high",name:"Evaluation"}]),r=ln([]),a=Li(()=>r.value.filter(T=>T.id!==-1));function o(T,A,D,Z,ie){for(let se=0;se<r.value.length;se++)r.value[se].id===T&&(r.value[se]={id:T,name:r.value[se].name,toImport:A,entityManager:D,importDone:Z,appSettings:ie})}const s=ln(-1);function l(T){s.value=T}const c=ln("");function h(T){c.value=T}const d=ln({});function p(T){d.value=T}const y=ln({});function S(T){y.value=T}const _=ln("none"),I=ln(""),M=ln(null);function B(){let T=Ml("#init-overlay .needs-validation");for(const A of T)A.classList.add("was-validated");I.value&&(_.value="none",Q(I.value,{fileName:"",fileContent:""}),I.value="")}function U(){let T=new FileReader;T.onload=A=>{let D=M.value.files[0].name,Z=D.replace(/\..*$/g,""),ie=A.target.result.toString();Q(Z,{fileName:D,fileContent:ie}),_.value="none"},T.readAsText(M.value.files[0])}function K(T,A){for(let D=0;D<r.value.length;D++)if(r.value[D].id===T)if(r.value[D].importDone){A();return}else setTimeout(()=>{K(T,A)},2e3)}zc(()=>{console.log("onMounted");for(const se of i.value)se.pageType==="home"?n.addRoute({path:se.path,component:AW}):se.pageType==="qualityModel"?(n.addRoute({path:se.path,component:t7,props:ue=>({active:se.active,path:se.path,filterConfig:y.value})}),n.addRoute({path:`${se.path}/:factorKey`,component:t7,props:ue=>({active:se.active,path:se.path,filterConfig:y.value})})):se.pageType==="evaluation"&&n.addRoute({path:se.path,component:$we,props:ue=>({systemsData:a.value,evaluatedSystemId:s.value,evaluatedEntityId:c.value,evaluationConfig:d.value})});n.addRoute({path:"/imprint",component:PW}),n.beforeEach(async(se,ue)=>{se.path!=="/"&&!n.getRoutes().find(de=>de.path!=="/"&&se.path.startsWith(de.path))&&n.replace({path:"/"});for(const de of i.value){if(de.path==="/"&&se.path!=="/"){de.active=!1;continue}if(!se.path.startsWith(de.path)){de.active=!1;continue}switch(de.active=!0,de.pageType){case"home":document.title=Wp+": Home";break;case"qualityModel":document.title=Wp+": Quality Model";break;case"evaluation":document.title=Wp+": Evaluation";break;case"modeling":document.title=Wp+`: Modeling ${de.name}`;break;default:document.title=Wp+": Home"}}return!0});let T=Promise.resolve(),A=sessionStorage.getItem("lastRoute")?sessionStorage.getItem("lastRoute"):"",D=sessionStorage.getItem("selectedSystemToEvaluate")?parseInt(sessionStorage.getItem("selectedSystemToEvaluate")):-1,Z=isNaN(D)?-1:D;s.value=Z;let ie=sessionStorage.getItem("selectedEntityToEvaluate")?sessionStorage.getItem("selectedEntityToEvaluate"):"";if(c.value=ie,sessionStorage.getItem("modelingData")){let se=JSON.parse(sessionStorage.getItem("modelingData"));for(const ue of se)T=T.then(()=>new Promise((de,F)=>{ue.toImport.fileContent=JSON.stringify(ue.toImport.fileContent),r.value.push(ue),i.value.push({id:ue.id,path:`/modeling-${ue.id}`,active:!1,pageType:"modeling",iconClass:"fa-solid fa-pencil",name:ue.name}),n.addRoute({path:`/modeling-${ue.id}`,name:`modeling-${ue.id}`,component:d6,props:$=>({systemName:r.value.find(W=>W.id===ue.id)?r.value.find(W=>W.id===ue.id).name:"",systemId:ue.id.toString(),pageId:ue.id,modelingData:r.value.find(W=>W.id===ue.id)})}),A.startsWith("modeling")?(n.push(`/modeling-${ue.id}`),K(ue.id,de)):de()}))}T.then(()=>{n.isReady().then(()=>{n.push(n.currentRoute.value.path)})}),document.getElementById("applicationNameInputField").addEventListener("keydown",se=>{var ue;((ue=se.key)==null?void 0:ue.localeCompare("Enter"))===0&&(se.preventDefault(),B())}),window.onbeforeunload=function(){let se=r.value.map(ue=>ue.importDone?{id:ue.id,name:ue.name,toImport:{fileName:`${ue.name}.json`,fileContent:ue.entityManager.convertToJson()},entityManager:null,importDone:!1,appSettings:ue.appSettings}:{id:ue.id,name:ue.name,toImport:{fileName:`${ue.name}.json`,fileContent:JSON.parse(ue.toImport.fileContent)},entityManager:null,importDone:!1,appSettings:ue.appSettings});sessionStorage.setItem("modelingData",JSON.stringify(se)),sessionStorage.setItem("lastRoute",n.currentRoute.value.path),sessionStorage.setItem("selectedSystemToEvaluate",s.value.toString()),sessionStorage.setItem("selectedEntityToEvaluate",c.value)}});function Q(T,A){const D=Math.max(...i.value.map(Z=>Z.id))+1;r.value.push({id:D,name:T,toImport:A,entityManager:null,importDone:!0,appSettings:Sx()}),i.value.push({id:D,path:`/modeling-${D}`,active:!0,pageType:"modeling",iconClass:"fa-solid fa-pencil",name:T}),n.addRoute({path:`/modeling-${D}`,name:`modeling-${D}`,component:d6,props:Z=>({systemName:r.value.find(ie=>ie.id===D)?r.value.find(ie=>ie.id===D).name:"",systemId:D.toString(),pageId:D,modelingData:r.value.find(ie=>ie.id===D)})}),n.isReady().then(()=>{n.push(`/modeling-${D}`)})}function H(T,A){for(const D of i.value)D.id===A&&(D.name=T,document.title=Wp+`: Modeling ${T}`);for(const D of r.value)if(D.id===A){D.name=T;break}}function g(T){let A=-1;for(let D=0;D<i.value.length;D++){if(i.value[D].id===T){n.removeRoute(`modeling-${i.value[D].id}`),i.value.splice(D,1);break}A=i.value[D].id}for(let D=0;D<r.value.length;D++)if(r.value[D].id===T){r.value.splice(D,1);break}n.push(i.value.find(D=>D.id===A).path)}return(T,A)=>{const D=D3("router-link"),Z=D3("router-view");return ze(),He(Jt,null,[X("header",null,[X("nav",qwe,[X("div",Uwe,[X("a",Hwe,[A[11]||(A[11]=X("i",{class:"fa-solid fa-cube"},null,-1)),A[12]||(A[12]=yi(" Clounaq ")),A[13]||(A[13]=X("br",null,null,-1)),X("span",Vwe,"v"+kt(ci(t)),1)])]),A[17]||(A[17]=X("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[X("span",{class:"navbar-toggler-icon"})],-1)),X("div",Gwe,[X("ul",Wwe,[(ze(!0),He(Jt,null,An(i.value,ie=>(ze(),He("li",{class:Xn(["nav-item",{active:ie.active}])},[X("div",jwe,[_i(D,{class:"text-white",to:`${ie.path}`},{default:Mf(()=>[X("i",{class:Xn(ie.iconClass)},null,2),yi(" "+kt(ie.name),1)]),_:2},1032,["to"]),ie.pageType==="modeling"?(ze(),He("button",{key:0,class:"btn d-flex p-1 closeModelBtn",onClick:se=>g(ie.id)},A[14]||(A[14]=[X("i",{class:"fa fa-fw fa-x text-white"},null,-1)]),8,Kwe)):vn("",!0)])],2))),256)),X("li",Ywe,[X("a",{id:"newModelingApp",class:"nav-link text-white",onClick:A[0]||(A[0]=ie=>_.value="initial")},A[15]||(A[15]=[X("i",{class:"fa-solid fa-plus"},null,-1),yi(" New Application Model")]))])]),X("ul",Xwe,[X("li",Jwe,[_i(D,{class:"nav-link text-white",to:"/imprint"},{default:Mf(()=>A[16]||(A[16]=[X("i",{class:"fa-solid fa-scale-balanced"},null,-1),yi(" Imprint ")])),_:1})])])])])]),X("main",Qwe,[Rn(X("div",Zwe,[X("div",eTe,[X("button",{class:"btn d-flex ml-auto",onClick:A[1]||(A[1]=ie=>_.value="none")},A[18]||(A[18]=[X("i",{class:"fa fa-fw fa-x text-white"},null,-1)])),A[27]||(A[27]=X("h2",{class:"text-center"},"Start Modeling Software Architectures!",-1)),Rn(X("div",tTe,[A[21]||(A[21]=X("p",null,[yi("The modeling feature allows you to model cloud-native application (CNA) architectures using different entities. It is based on the "),X("a",{href:"https://r0light.github.io/cna-quality-model/",target:"_blank"},"Cloud-native Quality Model "),yi(". You can either start with a new architectural model or import a previously created and exported model.")],-1)),X("div",nTe,[X("button",{type:"button",class:"btn btn-outline-dark btn-light",onClick:A[2]||(A[2]=ie=>_.value="startNew")},A[19]||(A[19]=[X("i",{class:"fa-solid fa-pencil"},null,-1),yi(" Create new model ")])),X("button",{type:"button",class:"btn btn-outline-dark btn-light",onClick:A[3]||(A[3]=ie=>_.value="startImport")},A[20]||(A[20]=[X("i",{class:"fa-solid fa-pencil"},null,-1),yi(" Import existing model")]))])],512),[[La,_.value==="initial"]]),Rn(X("div",iTe,[A[25]||(A[25]=X("p",null,"Please type the application name of the System entity you want to model in the following form. Afterwards, you can start modeling your application's architecture.",-1)),X("form",rTe,[X("div",aTe,[X("div",oTe,[A[22]||(A[22]=X("div",{class:"input-group-prepend"},[X("span",{class:"input-group-text"},"Application Name")],-1)),Rn(X("input",{name:"systemName",type:"text",class:"form-control",id:"applicationNameInputField",placeholder:"Application name of your System","onUpdate:modelValue":A[4]||(A[4]=ie=>I.value=ie),required:""},null,512),[[Js,I.value]]),A[23]||(A[23]=X("div",{class:"validationError invalid-feedback"}," Please provide an application name. ",-1))]),X("div",{class:"startModelingBtnArea form-group row"},[X("div",{class:"col-auto"},[X("button",{id:"startModelingBtn",type:"button",class:"btn btn-outline-dark",onClick:B},A[24]||(A[24]=[X("i",{class:"fa-solid fa-pencil"},null,-1),yi(" Start modeling")]))])])])])],512),[[La,_.value==="startNew"]]),Rn(X("div",sTe,[A[26]||(A[26]=X("p",{class:"user-select-none"},"Please select a file to import a model from it (TOSCA or JSON format)",-1)),X("input",{type:"file",accept:".json,.yaml,.yml,.tosca",ref_key:"selectedFile",ref:M,onChange:U,tabindex:"-1"},null,544)],512),[[La,_.value==="startImport"]])])],512),[[La,_.value!=="none"]]),X("div",lTe,[(ze(),Bc(Z,{key:T.$route.path,"onStore:modelingData":A[5]||(A[5]=(ie,se,ue,de,F)=>o(ie,ue,se,de,F)),"onUpdate:systemName":A[6]||(A[6]=(ie,se)=>H(ie,se)),"onUpdate:evaluatedSystem":A[7]||(A[7]=ie=>l(ie)),"onUpdate:evaluatedEntity":A[8]||(A[8]=ie=>h(ie)),"onUpdate:evaluationConfig":A[9]||(A[9]=ie=>p(ie)),"onUpdate:filterConfig":A[10]||(A[10]=ie=>S(ie))}))])],512),A[28]||(A[28]=X("div",{id:"modalBackground"},null,-1)),A[29]||(A[29]=X("div",{id:"modals",class:"d-print-none"},null,-1))],64)}}});window.onerror=e=>e.toString().includes("TypeError: SVGPoint.y setter")?(console.log(e),!0):!1;const uTe=[],dTe=yW({history:WG(),routes:uTe}),QL=fG(cTe);QL.use(dTe);QL.mount("#vapp");export{O4 as $,Zm as A,ny as B,Rte as C,Mxe as D,Pxe as E,Txe as F,sme as G,GTe as H,Lxe as I,Gbe as J,Rge as K,I4 as L,qD as M,N1 as N,VD as O,RTe as P,ZP as Q,os as R,Ms as S,qfe as T,$xe as U,UTe as V,JB as W,Y4 as X,wbe as Y,bbe as Z,Fc as _,Oxe as a,L0 as a$,Pd as a0,g7 as a1,qge as a2,Oy as a3,iO as a4,WTe as a5,Ibe as a6,Hbe as a7,Jf as a8,b1e as a9,x7 as aA,qTe as aB,zTe as aC,DTe as aD,BTe as aE,VTe as aF,FTe as aG,HTe as aH,Pn as aI,Lc as aJ,B1 as aK,B0 as aL,qx as aM,r1e as aN,V1e as aO,D1 as aP,Hx as aQ,Qve as aR,_B as aS,nve as aT,ive as aU,Jh as aV,G7 as aW,rve as aX,q4 as aY,tve as aZ,sve as a_,h1e as aa,E1e as ab,x1e as ac,OB as ad,b_ as ae,__ as af,Vx as ag,Zye as ah,$4 as ai,MB as aj,IB as ak,Jve as al,jve as am,f1e as an,_1e as ao,L1 as ap,Cb as aq,QTe as ar,R1 as as,an as at,hn as au,Nxe as av,R4 as aw,LTe as ax,$Te as ay,S7 as az,kxe as b,mh as b0,$7 as b1,U4 as b2,wB as b3,y2 as b4,hve as b5,jw as b6,tEe as b7,Dfe as b8,Axe as c,Xs as d,EL as e,no as f,ek as g,Wx as h,Dy as i,Hfe as j,W4 as k,dn as l,Xbe as m,rme as n,Sxe as o,Ube as p,Dbe as q,qB as r,Ixe as s,fbe as t,JTe as u,$D as v,Kbe as w,Jfe as x,xve as y,z4 as z};
